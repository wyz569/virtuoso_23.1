
<html><head><title>LEF Syntax</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="leenap" />
<meta name="CreateDate" content="2022-08-09" />
<meta name="CreateTime" content="1660030292" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the syntax for Library Exchange Format (LEF) and Design Exchange Format (DEF) files." />
<meta name="DocTitle" content="LEF/DEF 5.8 Language Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="LEF Syntax" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.3.1" />
<meta name="Keyword" content="lefdefref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2022-08-09" />
<meta name="ModifiedTime" content="1660030292" />
<meta name="NextFile" content="Layer_Cut.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital Implementation,Cadence Shared Tools" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Innovus,Languages" />
<meta name="Product" content="Innovus,Languages" />
<meta name="ProductFamily" content="Innovus,Languages" />
<meta name="ProductVersion" content="5.8" />
<meta name="RightsManagement" content="Copyright 2022 Cadence Design Systems Inc." />
<meta name="Title" content="LEF/DEF 5.8 Language Reference -- LEF Syntax" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="5.8" />
<meta name="SpaceKey" content="lefdefref58" />
<meta name="webflare-version" content="2.2" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="lefdefrefTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="lefdefref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Layer_Cut.html" title="LEF Syntax - Layer (Cut)">LEF Syntax - Layer (Cut)</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>LEF/DEF 5.8 Language Reference<br />Product Version 5.8, September 2022</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>


<h1>1
<a id="pgfId-954671"></a>                                                                                                                                                                                                                                         </h1>

<h1>
<a id="pgfId-1087299"></a><hr />
<a id="37075"></a>LEF Syntax<hr />
</h1>

<p>
<a id="pgfId-1087300"></a>This chapter contains information about the following topics:</p>
<ul><li>
<a id="pgfId-1087304"></a><a href="LEFSyntax.html#59602">About Library Exchange Format Files</a><ul><li>
<a id="pgfId-980837"></a><a href="LEFSyntax.html#10956">General Rules</a></li><li>
<a id="pgfId-5052085"></a><a href="LEFSyntax.html#73254">Character Information</a><ul><li>
<a id="pgfId-1103629"></a><a href="LEFSyntax.html#77361">Name Escaping Semantics for LEF/DEF Files</a></li></ul></li><li>
<a id="pgfId-985762"></a><a href="LEFSyntax.html#83173">Managing LEF Files</a></li><li>
<a id="pgfId-980842"></a><a href="LEFSyntax.html#85851">Order of LEF Statements</a></li></ul></li><li>
<a id="pgfId-974116"></a><a href="LEFSyntax.html#96420">LEF Statement Definitions</a><ul><li>
<a id="pgfId-974129"></a><a href="LEFSyntax.html#12864">Bus Bit Characters</a></li><li>
<a id="pgfId-996854"></a><a href="LEFSyntax.html#53131">Clearance Measure</a></li><li>
<a id="pgfId-974143"></a><a href="LEFSyntax.html#91126">Divider Character</a></li><li>
<a id="pgfId-1758491"></a><a href="LEFSyntax.html#50748">Extensions</a></li><li>
<a id="pgfId-7967915"></a><a href="LEFSyntax.html#30465">FIXEDMASK</a></li><li>
<a id="pgfId-7967934"></a><a href="Layer_Cut.html#31183">Layer (Cut)</a></li><li>
<a id="pgfId-7968839"></a><a href="Layer_Implant.html#25764">Layer (Implant)</a></li><li>
<a id="pgfId-7968850"></a><a href="Layer_MastersliceOrOverlap.html#63475">Layer (Masterslice or Overlap)</a></li><li>
<a id="pgfId-7968886"></a><a href="Layer_Routing.html#55238">Layer (Routing)</a></li><li>
<a id="pgfId-5524193"></a><a href="LEFSyntax.html#95204">Library</a></li><li>
<a id="pgfId-1191159"></a><a href="LEFSyntax.html#20786">Macro</a></li><li>
<a id="pgfId-980282"></a><a href="LEFSyntax.html#23360">Layer Geometries</a></li><li>
<a id="pgfId-980291"></a><a href="LEFSyntax.html#35215">Macro Obstruction Statement</a></li><li>
<a id="pgfId-980292"></a><a href="LEFSyntax.html#48865">Macro Pin Statement</a></li><li>
<a id="pgfId-974183"></a><a href="LEFSyntax.html#53308">Manufacturing Grid</a></li><li>
<a id="pgfId-983167"></a><a href="LEFSyntax.html#18042">Maximum Via Stack</a></li><li>
<a id="pgfId-974198"></a><a href="LEFSyntax.html#21826">Nondefault Rule</a></li><li>
<a id="pgfId-974208"></a><a href="LEFSyntax.html#69546">Property Definitions</a></li><li>
<a id="pgfId-974218"></a><a href="LEFSyntax.html#88952">Site</a></li><li>
<a id="pgfId-974223"></a><a href="LEFSyntax.html#50817">Units</a></li><li>
<a id="pgfId-974228"></a><a href="LEFSyntax.html#62353">Use Min Spacing</a></li><li>
<a id="pgfId-974233"></a><a href="LEFSyntax.html#54192">Version</a></li><li>
<a id="pgfId-974238"></a><a href="LEFSyntax.html#65762">Via</a></li><li>
<a id="pgfId-974243"></a><a href="LEFSyntax.html#65994">Via Rule</a></li><li>
<a id="pgfId-974248"></a><a href="LEFSyntax.html#20590">Via Rule Generate</a></li></ul></li></ul>



































<h2>
<a id="pgfId-952855"></a><a id="59602"></a>About Library Exchange Format Files</h2>

<p>
<a id="pgfId-952857"></a>A Library Exchange Format (LEF) file<a id="marker-952856"></a> contains library information for a class of designs. Library data includes layer, via, placement site type, and macro cell definitions. The LEF file is an ASCII representation using the syntax conventions described in <a href="preface.html#26200">&#8220;Typographic and Syntax Conventions&#8221;</a>.</p>


<h3>
<a id="pgfId-980814"></a><a id="10956"></a>General Rules</h3>

<p>
<a id="pgfId-980815"></a>Note the following information about creating LEF files:</p>
<ul><li>
<a id="pgfId-967672"></a>Identifiers like net names and cell names are limited to 2,048 characters. </li><li>
<a id="pgfId-980819"></a>Distance is specified in microns. </li><li>
<a id="pgfId-980820"></a>Distance precision is controlled by the <code>UNITS</code> statement. <a id="marker-952859"></a></li><li>
<a id="pgfId-985680"></a>LEF statements end with a semicolon ( <code>;</code> ). You must leave a space between the last character in the statement and the semicolon.</li></ul>






<h3>
<a id="pgfId-1098095"></a><a id="73254"></a>Character Information</h3>

<p>
<a id="pgfId-5052060"></a>For information, see <a href="DEFSyntax.html#16046">Character Information</a> in the DEF Syntax chapter.</p>


<h4>
<a id="pgfId-5052053"></a><a id="77361"></a>Name Escaping Semantics for LEF/DEF Files</h4>

<p>
<a id="pgfId-1098096"></a>For information, see <a href="DEFSyntax.html#36747">Name Escaping Semantics for Identifiers</a> in the DEF Syntax chapter.</p>




<h3>
<a id="pgfId-1098099"></a><a id="83173"></a>Managing LEF File<a id="ManagingLEFFiles"></a>s</h3>

<p>
<a id="pgfId-985690"></a>You can define all of your library information in a single LEF file; however this creates a large file that can be complex and hard to manage. Instead, you can divide the information into two files, a &#8220;technology&#8221; LEF file and a &#8220;cell library&#8221; LEF file.</p>
<p>
<a id="pgfId-985697"></a>A technology LEF file contains all of the LEF technology information for a design, such as placement and routing design rules, and process information for layers. A technology LEF file can include any of the following LEF statements:</p>

<a id="pgfId-985733"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
     [VERSION <code><em>statement</em></code>] 
[BUSBITCHARS <code><em>statement</em></code>]  
[DIVIDERCHAR <code><em>statement</em></code>]   
[UNITS <code><em>statement</em></code>]
[MANUFACTURINGGRID <code><em>statement</em></code>]
[USEMINSPACING <code><em>statement</em></code>]
[CLEARANCEMEASURE <code><em>statement</em></code> ;]
[PROPERTYDEFINITIONS <code><em>statement</em></code>]
[FIXEDMASK ;]
[LAYER (Nonrouting) <code><em>statement
</em></code> | LAYER (Routing) <code><em>statement</em></code>] ...
[MAXVIASTACK <code><em>statement</em></code>]
[VIA <code><em>statement</em></code>] ... 
[VIARULE <code><em>statement</em></code>] ... 
[VIARULE GENERATE <code><em>statement</em></code>] ...
[NONDEFAULTRULE <code><em>statement</em></code>] ...
[SITE <code><em>statement</em></code>] ...
[BEGINEXT <code><em>statement</em></code>] ...
[END LIBRARY]</pre>

<p>
<a id="pgfId-985698"></a>A cell library LEF file contains the macro and standard cell information for a design. A library LEF file can include any of the following statements:</p>

<a id="pgfId-985734"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
     [VERSION <code><em>statement</em></code>]
[BUSBITCHARS <code><em>statement</em></code>]
[DIVIDERCHAR <code><em>statement</em></code>]
[VIA statement] ...
[SITE <code><em>statement</em></code>]
[MACRO <code><em>statement
</em></code>  [PIN <code><em>statement</em></code>] ...
  [OBS <code><em>statement </em></code>...] ] ...
[BEGINEXT <code><em>statement</em></code>] ...
[END LIBRARY]</pre>

<p>
<a id="pgfId-985726"></a>When reading in LEF files, always read in the technology LEF file first. </p>



<h3>
<a id="pgfId-985682"></a><a id="85851"></a>O<a id="LEFStatementOrder"></a>rder of LEF Statements</h3>

<p>
<a id="pgfId-985684"></a>LEF files can contain the following sta<a id="marker-985683"></a>tements. You can specify statements in any order; however, data must be defined before it is used. For example, the <code>UNITS</code> statement must be defined before any statements that use values that are dependent on <code>UNITS</code> values, <code>LAYER</code> statements must be defined before statements that use the layer names, and <code>VIA</code> statements must be defined before referencing them in other statements. If you specify statements in the following order, all data is defined before being used.</p>

<a id="pgfId-980451"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
     [VERSION <code><em>statement</em></code>]
[BUSBITCHARS <code><em>statement</em></code>]
[DIVIDERCHAR <code><em>statement</em></code>]
[UNITS <code><em>statement</em></code>]
[MANUFACTURINGGRID <code><em>statement</em></code>]
[USEMINSPACING <code><em>statement</em></code>]
[CLEARANCEMEASURE <code><em>statement</em></code> ;]
[PROPERTYDEFINITIONS <code><em>statement</em></code>]
[FIXEDMASK ;]
[  LAYER (Nonrouting) <code><em>statement
</em></code> | LAYER (Routing) <code><em>statement</em></code>] ...
[MAXVIASTACK <code><em>statement</em></code>]
[VIARULE GENERATE <code><em>statement</em></code>] ...
[VIA <code><em>statement</em></code>] ...    
[VIARULE <code><em>statement</em></code>] ...
[NONDEFAULTRULE <code><em>statement</em></code>] ...
[SITE <code><em>statement</em></code>] ...
[MACRO <code><em>statement
</em></code>  [PIN <code><em>statement</em></code>] ...
  [OBS <code><em>statement </em></code>...]] ...
[BEGINEXT <code><em>statement</em></code>] ...
[END LIBRARY]</pre>



<h2>
<a id="pgfId-972773"></a><a id="96420"></a>LEF Statement Definitions</h2>

<p>
<a id="pgfId-980827"></a>The following definitions describe the syntax arguments for the statements that make up a LEF file. Statements are listed in alphabetical order, <em>not</em> in the order they should appear in a LEF file. For the correct order, see <a href="LEFSyntax.html#85851">&#8220;Order of LEF Statements&#8221;</a>.</p>


<h3>
<a id="pgfId-973080"></a><a id="96325"></a><a id="12864"></a>Bus Bit Character<a id="BusBitCharacters"></a>s</h3>
<a id="pgfId-973081"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[BUSBITCHARS<code> &quot;</code><code><em>delimiterPair</em></code><code>&quot; ;]</code></pre>

<p>
<a id="pgfId-973082"></a>Specifies the pair of characters used to specify bus bits when LEF names are mapped to or from other databases. The characters must be enclosed in double quotation marks. For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-973083"></a>BUSBITCHARS &quot;[]&quot; ;</pre>
<p>
<a id="pgfId-973084"></a>If one of the bus bit characters appears in a LEF name as a regular character, you must use a backslash (<code>\</code>) before the character to prevent the LEF reader from interpreting the character as a bus bit delimiter.</p>
<p>
<a id="pgfId-989290"></a>If you do not specify the <code>BUSBITCHARS</code> statement in your LEF file, the default value is <code>&#8220;[]&#8221;</code>. </p>



<h3>
<a id="pgfId-996842"></a><a id="53131"></a>Clearance Measur<a id="ClearanceMeasure"></a>e</h3>
<a id="pgfId-996846"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[CLEARANCEMEASURE {MAXXY | EUCLIDEAN} ;]</pre>

<p>
<a id="pgfId-996847"></a>Defines the clearance spacing requirement that will be applied to all object spacing in the <code>SPACING</code> and <code>SPACINGTABLE</code> statements. If you do not specify a <code>CLEARANCEMEASURE</code> statement, euclidean distance is used by default.</p>


<p>
<a id="pgfId-7964098"></a></p>
<table class="webflareTable" id="#id1135712">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135736"></a><code>MAXXY</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135738"></a>Uses the largest x or y distances for spacing between objects.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135740"></a><code>EUCLIDEAN</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135742"></a>Uses the euclidean distance for spacing between objects. That is, the square root of x<sup>2</sup> + y<sup>2</sup>. </p>
</td>
</tr>
</tbody></table>



<h3>
<a id="pgfId-973104"></a><a id="95523"></a><a id="91126"></a>Divider Characte<a id="DividerCharacter"></a>r</h3>
<a id="pgfId-973106"></a><a id="marker-973105"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[DIVIDERCHAR &quot;<code><em>character</em></code>&quot; ;]</pre>

<p>
<a id="pgfId-973107"></a>Specifies the character used to express hierarchy when LEF names are mapped to or from other databases. The character must be enclosed in double quotation marks. For example:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-973108"></a>DIVIDERCHAR &quot;/&quot; ;</pre>
<p>
<a id="pgfId-973109"></a>If the divider character appears in a LEF name as a regular character, you must use a backslash (<code>\</code>) before the character to prevent the LEF reader from interpreting the character as a hierarchy delimiter.</p>
<p>
<a id="pgfId-989299"></a>If you do not specify the <code>DIVIDERCHAR</code> statement in your LEF file, the default value is <code>&#8220;/&#8221;</code>. </p>



<h3>
<a id="pgfId-973117"></a><a id="50748"></a>Extension<a id="Extensions"></a>s</h3>
<a id="pgfId-973118"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[BEGINEXT &#8220;<code><em>tag</em></code>&#8221;
<code><em>extension</em></code> </pre>
<a id="pgfId-974269"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
ENDEXT] </pre>

<p>
<a id="pgfId-4579553"></a>Adds customized syntax to the LEF file that can be ignored by tools that do not use that syntax. You can also use extensions to add new syntax not yet supported by your version of LEF/DEF, if you are using version 5.1 or later. </p>

<p><strong>
<a id="pgfId-4579567"></a><span class="webflare-courier-new" style="white-space:pre"><em>extension</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-4579558"></a>Specifies the contents of the extension. </p>

<p><strong>
<a id="pgfId-4579559"></a><span class="webflare-courier-new" style="white-space:pre"><em>tag</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-4579603"></a>Identifies the extension block. You must enclose <span class="webflare-courier-new" style="white-space:pre"><em>tag</em></span> in double quotation marks (<code>&#8220;&#8221;</code>). </p>


<p><strong>Example 1-1
<a id="pgfId-1107330"></a>Extension Statement</strong></p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1107331"></a><code>BEGINEXT &#8220;1VSI Signature 1.0&#8221; </code></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1107332"></a><code>CREATOR &#8220;company name&#8221;</code></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1107327"></a><code>DATE &#8220;timestamp&#8221;</code></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992166"></a><code>REVISION &#8220;revision number&#8221;</code></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-992167"></a><code>ENDEXT</code></pre>

<p>
<a id="pgfId-7969218"></a>Here, <span class="webflare-courier-new" style="white-space:pre"><em>tag</em></span> is <code>1VSI Signature 1.0</code> and <span class="webflare-courier-new" style="white-space:pre"><em>extension</em></span> is all the remaining text before <code>ENDEXT</code>, including any newline characters. In this example, the extension string is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-7969220"></a><code>CREATOR &#8220;company name&#8221;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7969221"></a><code>DATE &#8220;timestamp&#8221; </code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7969222"></a><code>REVISION &#8220;revision number&#8221;</code></pre>



<h3>
<a id="pgfId-1556430"></a><a id="30465"></a>FIXEDM<a id="fixedmask"></a>ASK</h3>
<a id="pgfId-1556473"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[FIXEDMASK ;]</pre>

<p>
<a id="pgfId-1577597"></a>Does not allow mask shifting. All the LEF macro pin mask assignments must be kept fixed and cannot be shifted to a different mask. The LEF macro pin shapes should all have <code>MASK</code> assignments, if <code>FIXEDMASK</code> is present. In addition, macro OBS should all have <code>MASK</code> assignments unless they have <code>SPACING</code> override. This statement should be included before the <code>LAYER</code> statements. </p>
<p>
<a id="pgfId-1560660"></a>For example,</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1560661"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1560662"></a>MANUFACTURINGGRID 0.001 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1560663"></a>FIXEDMASK ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1560664"></a>LAYER xxx</pre>
<p>
<a id="pgfId-973135"></a>Some technologies do not allow mask shifting for cells using multi-mask patterning. For example, the pin and routing shapes are all pre-colored and must not be shifted to other masks.</p>



<h3>
<a id="pgfId-7967635"></a><a id="12323"></a>Layer (Cut)</h3>

<p>
<a id="pgfId-7967657"></a>Defines cut layers in the design. Each cut layer is defined by assigning it a name and design rules. You must define cut layers separately, with their own layer statements. For details, see the following chapter:</p>
<ul><li>
<a id="pgfId-7967748"></a><a href="Layer_Cut.html#37075">LEF Syntax - Layer (Cut)</a></li></ul>



<h3>
<a id="pgfId-7968658"></a><a id="50866"></a>Layer (Implant)</h3>

<p>
<a id="pgfId-7968659"></a>Defines implant layers in the design. Each layer is defined by assigning it a name and simple spacing and width rules. For details, see the following chapter:</p>
<ul><li>
<a id="pgfId-7968667"></a><a href="Layer_Implant.html#37075">LEF Syntax - Layer (Implant)</a></li></ul>



<h3>
<a id="pgfId-7968717"></a><a id="88221"></a>Layer (Masterslice or Overlap)</h3>

<p>
<a id="pgfId-7968718"></a>Defines masterslice (non-routing) or overlap layers in the design. For details, see the following chapter:</p>
<ul><li>
<a id="pgfId-7968726"></a><a href="Layer_MastersliceOrOverlap.html#37075">LEF Syntax - Layer (Masterslice or Overlap)</a></li></ul>



<h3>
<a id="pgfId-7968742"></a><a id="89716"></a>Layer (Routing)</h3>

<p>
<a id="pgfId-7968743"></a>Defines routing layers in the design. Each layer is defined by assigning it a name and design rules. You must define routing layers separately, with their own layer statements. For details, see the following chapter:</p>
<ul><li>
<a id="pgfId-7968755"></a><a href="Layer_Routing.html#37075">LEF Syntax - Layer (Routing)</a></li></ul>

<h3>
<a id="pgfId-5524143"></a><a id="95204"></a>Library</h3>

<h4>
<a id="pgfId-3542929"></a>D<a id="DefineLibraryProps"></a>efining Library Properties to Create 32/28 nm and Smaller Nodes Rules</h4>

<p>
<a id="pgfId-3542930"></a>You can include library properties in your LEF file to create 32/28 nm and smaller nodes rules that currently are not supported by existing LEF syntax. The properties are specified inside the <code>PROPERTYDEFINITIONS</code> statements. </p>
<ul><li>
<a id="pgfId-3542932"></a>The property names used for these rules all start with <code>LEF58_</code>. </li></ul>
<p>
<a id="pgfId-3542933"></a>All properties use the following syntax within the LEF <code>PROPERTYDEFINITIONS</code> statement:</p>

<a id="pgfId-3542934"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTYDEFINITIONS
LAYER <code><em>propName</em></code> STRING [&quot;<code><em>stringValue</em></code>&quot;] ;</pre>
<a id="pgfId-3542935"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-3542936"></a>The property definitions for the library properties are as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-3542937"></a><code>PROPERTYDEFINITIONS</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130128"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropAntennaMaxCumArea">LIBRARY LEF58_ANTENNAMAXCUMAREA STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8137162"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropAntennaMaxGateArea">LIBRARY LEF58_ANTENNAMAXGATEAREA STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130130"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibAntennaModel">LIBRARY LEF58_ANTENNAMODELGROUP STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7888748"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibCellEdgeSpacing">LIBRARY LEF58_CELLEDGESPACINGTABLE STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130136"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibCellVariants">LIBRARY LEF58_CELLVARIANTS STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130138"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibConstraintLength">LIBRARY LEF58_CONSTRAINTLENGTH STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130139"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibCutMaskTrack">LIBRARY LEF58_CUTMASKTRACK STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130140"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibFinFet">LIBRARY LEF58_FINFET STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130142"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibImplantGroup">LIBRARY LEF58_IMPLANTGROUP STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7888751"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibLayerMaskShift">LIBRARY LEF58_LAYERMASKSHIFT STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130147"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibMaxFloatingArea">LIBRARY LEF58_MAXFLOATINGAREA STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130149"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibMaxViaStack">LIBRARY LEF58_MAXVIASTACK STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130150"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibMetalWidthTrack">LIBRARY LEF58_METALWIDTHTRACK STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130152"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#LibMetaWidthViaMap">LIBRARY LEF58_METALWIDTHVIAMAP STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-3542943"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibOALayerMao">LIBRARY LEF58_OALAYERMAP STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130157"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibPGViaTrack">LIBRARY LEF58_PGVIATRACK STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130158"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibStackViaLayer">LIBRARY LEF58_STACKVIALAYERRULE STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130159"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibStackViaRule">LIBRARY LEF58_STACKVIARULE STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130161"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibTapDistanceOnly">LIBRARY LEF58_TAPDISTANCE STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130163"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibTapDistanceRule">LIBRARY LEF58_TAPDISTANCERULE STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130165"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibTrimMetalTrack">LIBRARY LEF58_TRIMMETALTRACK STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130166"></a><code>&#160;&#160; </code><a href="LEFSyntax.html#PropLibVoltageMode">LIBRARY LEF58_VOLTAGEMODE STRING ;</a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-3542944"></a><code>END PROPERTYDEFINITIONS</code></pre>


<h4><em>
<a id="pgfId-8130171"></a>Antenna Maximum Cumulative Area Rule</em></h4>

<p>
<a id="pgfId-8130172"></a>You can create an antenna maximum cumulative area rule to specify the maximum cumulative area of all layers to gate, which is not connected to the diffusion diode.</p>
<p>
<a id="pgfId-8130173"></a>You can define an antenna maximum cumulative rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130174"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_ANTENNAMAXCUMAREA STRING<br />   &quot;ANTENNAMAXCUMAREA <code><em>value</em></code><a id="PropAntennaMaxCumArea"></a> [RANGE <code><em>bottomLayer topLayer</em></code>]<br />      [CUTLAYERONLY]<br />      ;&quot; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8130176"></a>Where:</p>


<p>
<a id="pgfId-8130195"></a></p>
<table class="webflareTable" id="#id8130177">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130179"></a><code>ANTENNAMAXCUMAREA </code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130183"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130185"></a>Specifies the maximum possible cumulative area of all layers, which is not connected to the diffusion diode, to be less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span>. This would include floating metal that does not necessarily connect to a gate yet. The gate connection is done through a metal layer above the floating metal.</p>
<p>
<a id="pgfId-8130186"></a><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8136664"></a><code>CUTLAYERONLY</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8136666"></a>Specifies a maximum possible cumulative area only on cut layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130188"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>bottomLayer topLayer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130192"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130194"></a>Specifies the maximum possible cumulative area between the given <span class="webflare-courier-new" style="white-space:pre"><em>bottomLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>topLayer</em></span>. <br /><em>Type</em>: Float, specified in microns squared</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8136721"></a><strong>Antenna Maximum Cumulative Area Rule Example</strong></p>
<ul><li>
<a id="pgfId-8136722"></a>The following rule means that the antenna is only measured on the cut layers, <code>VIA5 - VIA7</code>, on the given layer range.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8136754">
<a id="pgfId-8136754"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8136755">
<a id="pgfId-8136755"></a>LIBRARY LEF58_ANTENNAMAXCUMAREA STRING</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8136756">
<a id="pgfId-8136756"></a>    ANTENNAMAXCUMAREA 100.00 RANGE M5 M8 CUTLAYERONLY ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8136726">
<a id="pgfId-8136726"></a>END PROPERTYDEFINITIONS</pre></li></ul>








<h4><em>
<a id="pgfId-8137181"></a>Antenna Maximum Gate Area Rule</em></h4>

<p>
<a id="pgfId-8137182"></a>You can create an antenna maximum gate area rule to specify the maximum total area of all the antenna gate areas connected on any routing layer on the given antenna model.</p>
<p>
<a id="pgfId-8137183"></a>You can define an antenna maximum gate area rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8137258"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_ANTENNAMAXGATEAREA STRING<br />   &quot;ANTENNAMAXGATEAREA {OXIDE1 | OXIDE2 | OXIDE3 | OXIDE4 | OXIDE5 <br />      | ... | OXIDE32} <code><em>max_area</em></code><a id="PropAntennaMaxGateArea"></a> <br />      ; &quot; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8137186"></a>Where:</p>


<p>
<a id="pgfId-8137209"></a></p>
<table class="webflareTable" id="#id8137187">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8137325"></a><code>ANTENNAMAXGATEAREA {OXIDE1 | OXIDE2 | OXIDE3 | OXIDE4 | OXIDE5<br />   | ... | OXIDE32} </code><span class="webflare-courier-new" style="white-space:pre"><em>max_area<br /></em></span><code>   ;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137193"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137307"></a>Specifies that the sum of all the antenna gate areas connected on any routing layer must be less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>max_area</em></span> on the given antenna model. </p>
<p>
<a id="pgfId-8137196"></a><em>Type</em>: Float, specified in microns squared</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8130196"></a>Antenna Model Group Rule</em></h4>

<p>
<a id="pgfId-8130197"></a>You can define an antenna model group rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130198"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_ANTENNAMMODELGROUP STRING<br />   &quot;ANTENNAMODELGROUP OXIDEx MODEL {OXIDEy}...[GATEONLY]<br />      ;&quot; ;<br />END PROPERTYDEFINITIONS<a id="PropLibAntennaModel"></a></pre>

<p>
<a id="pgfId-8130200"></a>Where:</p>


<p>
<a id="pgfId-8130215"></a></p>
<table class="webflareTable" id="#id8130201">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130203"></a><code>ANTENNAMODELGROUP OXIDEx MODEL {OXIDEy}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130207"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130209"></a>Specifies an antenna model group, which would be applied to all cut and routing layers, to combine all of the given <code>OXIDEy</code> in antenna consideration. <code>OXIDEx</code> would be considered when pins of all the <code>OXIDEy</code> models are connected and the individual <code>OXIDEy</code> models would be ignored. When some but not all of the <code>OXIDEy</code> models are connected, each of the individual <code>OXIDEy</code> models are checked separately and the <code>OXIDEx</code> model is ignored.</p>
<p>
<a id="pgfId-8130210"></a><em>Type</em>: String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130212"></a><code>GATEONLY</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130214"></a>Specifies that the antenna model group applies only to the pattern that metal is connected to a gate, and <code>ANTENNAAREARATIO</code>, <code>ANTENNACUMAREARATIO</code>, <code>ANTENNASIDEAREARATIO</code>, and <code>ANTENNACUMSIDEAREARATO</code> rules should be checked.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8130216"></a><strong>Antenna Model Group Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8130217"></a>The following rule means that if two pins are electrically connected with pin1 having model <code>OXIDE1</code> and pin2 having model <code>OXIDE2</code>, <code>OXIDE3</code> by combining <code>OXIDE1</code> and <code>OXIDE2</code> would be checked while the individual <code>OXIDE1</code> and <code>OXIDE2</code>models would be ignored.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130218">
<a id="pgfId-8130218"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130219">
<a id="pgfId-8130219"></a>LIBRARY LEF58_ANTENNAMODELGROUP STRING &#8220;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130220">
<a id="pgfId-8130220"></a>     ANTENNAMODELGROUP OXIDE3 MODEL OXIDE1 OXIDE2 ; &#8221; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130221">
<a id="pgfId-8130221"></a>END PROPERTYDEFINITIONS</pre></li><li>
<a id="pgfId-8130222"></a>The following rule indicates that if two pins are electrically connected with pin1 having model <code>OXIDE1</code> and pin2 having model <code>OXIDE2</code>, <code>OXIDE1</code> and <code>OXIDE2</code> would be checked separately while <code>OXIDE4</code> would be ignored because not all of the models in the model group are connected.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130223">
<a id="pgfId-8130223"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130224">
<a id="pgfId-8130224"></a>LIBRARY LEF58_ANTENNAMODELGROUP STRING &#8220;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130225">
<a id="pgfId-8130225"></a>     ANTENNAMODELGROUP OXIDE4 MODEL OXIDE1 OXIDE2 OXIDE3 ; &#8221; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130226">
<a id="pgfId-8130226"></a>END PROPERTYDEFINITIONS</pre></li><li>
<a id="pgfId-8130227"></a>The following rule indicates that if three pins are electrically connected with pin1 having model <code>OXIDE1</code>, pin2 having model <code>OXIDE2</code> and pin3 having model <code>OXIDE3</code>, <code>OXIDE4</code> by combining <code>OXIDE1</code> and <code>OXIDE2</code> is checked along with <code>OXIDE3</code>, which does not belong to any model group. The individual <code>OXIDE1</code> and <code>OXIDE2</code>models are ignored.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130228">
<a id="pgfId-8130228"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130229">
<a id="pgfId-8130229"></a>LIBRARY LEF58_ANTENNAMODELGROUP STRING &#8220;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130230">
<a id="pgfId-8130230"></a>     ANTENNAMODELGROUP OXIDE4 MODEL OXIDE1 OXIDE2 ; &#8221; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130231">
<a id="pgfId-8130231"></a>END PROPERTYDEFINITIONS</pre></li><li>
<a id="pgfId-8130232"></a>The following rule indicates that if two pins are electrically connected with pin1 having model <code>OXIDE1</code> and <code>OXIDE3</code> and pin2 having model <code>OXIDE2</code> and <code>OXIDE4</code>, <code>OXIDE5</code> by combining <code>OXIDE1</code> and <code>OXIDE2</code> and <code>OXIDE6</code> by combining <code>OXIDE3</code> and <code>OXIDE4</code> would only be checked separately.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130233">
<a id="pgfId-8130233"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130234">
<a id="pgfId-8130234"></a>LIBRARY LEF58_ANTENNAMODELGROUP STRING &#8220;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130235">
<a id="pgfId-8130235"></a>     ANTENNAMODELGROUP OXIDE5 MODEL OXIDE1 OXIDE2 ; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130236">
<a id="pgfId-8130236"></a>     ANTENNAMODELGROUP OXIDE6 MODEL OXIDE3 OXIDE4 ; &#8221; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8102118">
<a id="pgfId-8102118"></a>END PROPERTYDEFINITIONS</pre></li><li>
<a id="pgfId-8130242"></a>The following illustration is an example of the rule below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130243">
<a id="pgfId-8130243"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130244">
<a id="pgfId-8130244"></a>LIBRARY LEF58_ANTENNAMODELGROUP STRING &#8220;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130245">
<a id="pgfId-8130245"></a>     ANTENNAMODELGROUP OXIDE3 MODEL OXIDE1 OXIDE2 ; &#8221; ; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130246">
<a id="pgfId-8130246"></a>END PROPERTYDEFINITIONS</pre><br /><strong class="webflare-fig-line-height">Figure 1-1
<a id="pgfId-8130247"></a>Illustration of the Antenna Model Group Rule</strong>
<a id="pgfId-8130257"></a><div class="webflare-div-image">
<img width="668" height="628" src="images/LEFSyntax-2.gif" /></div></li></ul>




































<h4><em>
<a id="pgfId-8130258"></a>Constraint Length Rule</em></h4>

<p>
<a id="pgfId-8130259"></a>You can create a constraint length rule to define the horizontal and vertical length of the concatenated constraint area. You can define a constraint length rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<a id="pgfId-8130260"></a><a id="PropLibConstraintLength"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTYDEFINITIONS
LIBRARY LEF58_CONSTRAINTLENGTH STRING
&quot;CONSTRAINTLENGTH <code><em>length</em></code> {MAX|MIN} [HORIZONTAL|VERTICAL] 
      [EXCEPTABUTTED] [WIDTH <code><em>minWidth</em></code>]
      CONSTRAINTAREATYPE {<code><em>typeName</em></code> | VERTICALCELLEDGESTACK
            | HORIZONTALCELLEDGESTACK}
      ;&quot; ;</pre>
<a id="pgfId-8130262"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8130263"></a>Where:</p>


<p>
<a id="pgfId-8130302"></a></p>
<table class="webflareTable" id="#id8130264">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130266"></a><code>CONSTRAINTLENGTH </code><span class="webflare-courier-new" style="white-space:pre"><em>length</em></span><code> {MAX|MIN} <br />     CONSTRAINTAREATYPE </code><span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130270"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130272"></a>Specifies the horizontal and vertical length of the concatenated constraint area with type <span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span> defined in <code>CONSTRAINTAREATYPE</code> in <code>MACRO</code> must be less than <span class="webflare-courier-new" style="white-space:pre"><em>length</em></span> in <code>MAX</code> or greater than <span class="webflare-courier-new" style="white-space:pre"><em>length</em></span> in <code>MIN</code>. </p>
<p>
<a id="pgfId-8130273"></a>Type: Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130275"></a><code>EXCEPTABUTTED</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130277"></a>Specifies that the rule does not apply if there is an abutted shape from another cell in the orthogonal direction of the length constraint being checked.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130279"></a><code>HORIZONTAL|VERTICAL</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130281"></a>Specifies that the constraint length rule applies only on the given direction of either <code>HORIZONTAL</code> or <code>VERTICAL</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130283"></a><code>HORIZONTALCELLEDGESTACK</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130287"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130289"></a>Specifies that aligning any horizontal (top or bottom) cell edges would be subjected to this length constraint. <code>MAX</code> and <code>HORIZONTAL</code> must be defined for this predefined constraint type, which does not require <code>CONSTRAINTAREATYPE</code> to be defined in any <code>MACRO</code>. <br /><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130291"></a><code>VERTICALCELLEDGESTACK</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130295"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130297"></a>Specifies that aligning any vertical (right or left) cell edges would be subjected to this length constraint. <code>MAX</code> and <code>VERTICAL</code> must be defined for this predefined constraint type, which does not require <code>CONSTRAINTAREATYPE</code> to be defined in any <code>MACRO</code>.<br /><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130299"></a><code>WIDTH </code><span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130301"></a>Specifies that the rule applies only to the portion of a shape with width greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span>.</p>
</td>
</tr>
</tbody></table>



<p><strong>Figure 1-2
<a id="pgfId-8130303"></a>Illustration of Constraint Length Rule</strong></p>

<p>
<a id="pgfId-8130335"></a></p>
<div class="webflare-div-image">
<img width="668" height="454" src="images/LEFSyntax-3.gif" /></div>



<p><strong>Figure 1-3
<a id="pgfId-8130336"></a>Illustration of Constraint Length Rule with WIDTH</strong></p>

<p>
<a id="pgfId-8130384"></a></p>
<div class="webflare-div-image">
<img width="668" height="454" src="images/LEFSyntax-4.gif" /></div>



<h4><em>
<a id="pgfId-7888806"></a>Cell Edge Spacing Table Rule </em></h4>

<p>
<a id="pgfId-7888807"></a>You can create a cell edge spacing table rule to define a spacing table between two macro edges having different edge types.</p>
<p>
<a id="pgfId-7888808"></a>This cell edge spacing table must be defined before reading in the <code>MACRO</code> definition with defined <code>EDGETYPE</code> in cell LEF files.</p>
<p>
<a id="pgfId-7888809"></a>You can define a cell edge spacing table rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-7888810"></a><code>PROPERTYDEFINITIONS<br />LIBRARY LEF58_CELLEDGESPACINGTABLE STRING <br />    &quot;CELLEDGESPACINGTABLE [NODEFAULT]<br />      {EDGETYPE {edgeType1 | DEFAULT} <br />      {edgeType2 | DEFAULT} [EXCEPTABUTTED] <br />            [EXCEPTNONFILLERINBETWEEN]<br />            [OPTIONAL | SOFT | EXACT] spacing} ...<br />      ;...&#8221; ;<br />END PROPERTYDEFINITIONS</code><a id="PropLibCellEdgeSpacing"></a></pre>

<p>
<a id="pgfId-7888811"></a>Where:</p>


<p>
<a id="pgfId-7888841"></a></p>
<table class="webflareTable" id="#id7888812">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7888814"></a><code>CELLEDGESPACINGTABLE <br />{EDGETYPE {</code><span class="webflare-courier-new" style="white-space:pre"><em>edgeType1</em></span><code> | DEFAULT} <br />{</code><span class="webflare-courier-new" style="white-space:pre"><em>edgeType2</em></span><code> | DEFAULT} </code><span class="webflare-courier-new" style="white-space:pre"><em>spacing</em></span><code>}</code>&#8230;</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888818"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888820"></a>Defines a spacing table between a macro edge with type <span class="webflare-courier-new" style="white-space:pre"><em>edgeType1</em></span> and another macro edge with type <span class="webflare-courier-new" style="white-space:pre"><em>edgeType2</em></span>. The spacing is measured perpendicular from the edges. The <code>DEFAULT</code> keyword represents a macro edge without a type. If there is no spacing defined between the two types, it indicates that there is no spacing constraint (or 0.0 μm) between them.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888822"></a><code>EXACT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888824"></a>Specifies that it is a violation only when the spacing is exactly equal to <span class="webflare-courier-new" style="white-space:pre"><em>spacing</em></span>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888826"></a><code>EXCEPTABUTTED</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888828"></a>Specifies that two abutted macros of the given edge types are also allowed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8104269"></a><code>EXCEPTNONFILLERINBETWEEN</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8104289"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8104291"></a>Specifies that the rule does not apply if there is, at least, one non-filler logic cell between the two constrained edges.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888830"></a><code>NODEFAULT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888832"></a>Specifies that <code>DEFAULT</code> should not be defined in the spacing table, and all the edges of any standard cell macros (with a <code>SITE</code> that is <code>CLASS CORE</code>) must have <code>EDGETYPE</code> property defined on both sides.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888834"></a><code>OPTIONAL</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888836"></a>Specifies that the corresponding spacing constraints are optional. Users can use certain placement option to indicate whether those constraints should be observed or not.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888838"></a><code>SOFT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888840"></a>Specifies that the corresponding spacing constraints are soft. This means that the tool has the freedom to honor the constraint with certain efforts. If the constraint will disturb the placement quality too much, the tool can choose to ignore the constraint.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-7888842"></a><strong>Cell Edge Spacing Table Rule Examples</strong></p>
<ul><li>
<a id="pgfId-7888843"></a>The following rule indicates that:<ul><li>
<a id="pgfId-7888844"></a>0.1 µm is the spacing between a macro edge with type <code>GROUP1</code> and a macro edge with type <code>GROUP2</code>. Abutting the two macros is also allowed.</li><li>
<a id="pgfId-7888845"></a>0.2 µm is the optional spacing between two macro edges with type <code>GROUP1</code>; a certain placement option controls whether or not it is honored.</li><li>
<a id="pgfId-7888846"></a>0.3 µm is the spacing between a macro edge with type <code>GROUP2</code> and a macro edge without a type.</li><li>
<a id="pgfId-7888847"></a>0.4 µm is the soft spacing between two macro edges with type <code>GROUP2</code>, which would be ignored if placement quality is impacted too much.</li><li>
<a id="pgfId-7888848"></a>0.5 µm spacing is not allowed between a macro edge with type <code>GROUP1</code> and a macro edge without a type. </li><li>
<a id="pgfId-7888849"></a>The rest of the combination of edges, <code>DEFAULT</code> to <code>DEFAULT</code>, do not have any spacing constraint, or 0.0 µm.</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id7888850">
<a id="pgfId-7888850"></a>PROPERTYDEFINITIONS
  LIBRARY LEF58_CELLEDGESPACINGTABLE STRING
    &quot;CELLEDGESPACINGTABLE 
        EDGETYPE GROUP1 GROUP2 EXCEPTABUTTED 0.1
        EDGETYPE GROUP1 GROUP1 OPTIONAL 0.2
        EDGETYPE GROUP2 DEFAULT 0.3 
        EDGETYPE GROUP2 GROUP2 SOFT 0.4; &quot;;
        EDGETYPE GROUP1 DEFAULT EXACT 0.5; &quot;;
END PROPERTYDEFINITIONS</pre></li><li>
<a id="pgfId-7895774"></a>The following rule illustrates the cell edge spacing rule for the given macro definition:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id7895932">
<a id="pgfId-7895932"></a>PROPERTYDEFINITIONS
  LIBRARY LEF58_CELLEDGESPACINGTABLE STRING
    &quot;CELLEDGESPACINGTABLE
        EDGETYPE GROUP1 GROUP1 0.001 ; &#8220; ;
END PROPERTYDEFINITIONS</pre><br /><strong class="webflare-fig-line-height">Figure 1-4
<a id="pgfId-7895893"></a>Illustration of Cell Edge Spacing Rule</strong>
<a id="pgfId-7895909"></a><div class="webflare-div-image">
<img width="668" height="616" src="images/LEFSyntax-5.gif" /></div></li><li>
<a id="pgfId-8104312"></a>The following rule illustrates a cell edge spacing rule with <code>EXCEPTNONFILLERINBETWEEN</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8104313">
<a id="pgfId-8104313"></a>PROPERTYDEFINITIONS
  LIBRARY LEF58_CELLEDGESPACINGTABLE STRING
    &quot;CELLEDGESPACINGTABLE EDGETYPE E1 E1
        EXCEPTNONFILLERINBETWEEN 1.5; &quot; ;
END PROPERTYDEFINITIONS</pre><br /><strong class="webflare-fig-line-height">Figure 1-5
<a id="pgfId-8104314"></a>Illustration of Cell Edge Spacing Rule with <code>EXCEPTNONFILLERINBETWEEN</code></strong>
<a id="pgfId-8104382"></a><div class="webflare-div-image">
<img width="668" height="618" src="images/LEFSyntax-6.gif" /></div></li></ul>































<h4><em>
<a id="pgfId-8130389"></a>Cell Variants Rule</em></h4>

<p>
<a id="pgfId-8130390"></a>You can create a cell variants rule to specify the placement locations of electrically equivalent (EEQ) cells.</p>
<p>
<a id="pgfId-8130391"></a>You can define a cell variants rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130392"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_CELLVARIANTS STRING<br />&quot;CELLVARIANTS <code><em>variantTotalNum</em></code><a id="PropLibCellVariants"></a> <br />     [STARTVARIANT <code><em>startVariant</em></code> [XFLIPSTARTVARIANT <code><em>startVariant</em></code>]]<br />     YFLIPMAP {<code><em>flippedVariantNum</em></code> <code><em>siteVariantNum</em></code>}...<br />     [XFLIPMAP {<code><em>cellVariantNum siteVariantNum</em></code>}... ]<br />     ;&quot; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8130394"></a>Where:</p>


<p>
<a id="pgfId-8130424"></a></p>
<table class="webflareTable" id="#id8130395">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130397"></a><code>CELLVARIANTS </code><span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span><code> [STARTVARIANT </code><span class="webflare-courier-new" style="white-space:pre"><em>startVariant</em></span><code>]<br />    YFLIPMAP {</code><span class="webflare-courier-new" style="white-space:pre"><em>flippedVariantNum siteVariantNum</em></span><code>}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130401"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130403"></a>Specifies the total number of variants of electrically equivalent (EEQ) cells as <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span>. The original cell master <code>MACRO</code> without the EEQ construct will always have an implicit variant number of <code>1</code>. For each cell with EEQ, there should always be <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span> <code>- 1</code> number of <code>MACRO</code> with <code>EEQ VARIANT</code>, where EEQ refers back to the original cell master and the <code>VARIANT</code> number should be between <code>2</code> and <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span>. The leftmost placement site of core area is labeled as variant <code>1</code> or <span class="webflare-courier-new" style="white-space:pre"><em>startVariant</em></span> if <code>STARTVARIANT</code> is defined. The subsequent sites range from <code>2</code> to <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span> or <span class="webflare-courier-new" style="white-space:pre"><em>startVariant</em></span><code> %</code> <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span><code> + 1</code> to <code>(</code><span class="webflare-courier-new" style="white-space:pre"><em>startVariant</em></span> <code>+ </code><span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span><code> - 2) % </code><span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span><code> + 1</code> and repeat back to <code>1</code> or <span class="webflare-courier-new" style="white-space:pre"><em>startVariant</em></span>. The non-Y-flipped instances should be placed such that the cell variant number matches the site variant number. Cells without any EEQ can be placed on any site.</p>
<p>
<a id="pgfId-8130404"></a><code>YFLIPMAP</code> defines which Y-flipped variant number, <span class="webflare-courier-new" style="white-space:pre"><em>flippedVariantNum</em></span>, should be placed on the site variant, <span class="webflare-courier-new" style="white-space:pre"><em>siteVariantNum</em></span>, when an instance is Y-flipped. There should be <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span> pairs of variant values defined. The variant pair values should be symmetrical. That is, if <span class="webflare-courier-new" style="white-space:pre"><em>flippedVariantNum</em></span> of <code>V1</code> is placed on <span class="webflare-courier-new" style="white-space:pre"><em>siteVariantNum</em></span> of <code>V2</code>, <span class="webflare-courier-new" style="white-space:pre"><em>flippedVariantNum</em></span> of <code>V2</code> is placed on <span class="webflare-courier-new" style="white-space:pre"><em>siteVariantNum</em></span> of <code>V1</code>.<br /><em>Type</em>: Integer</p>
<p>
<a id="pgfId-8130405"></a>Typically, this cell variant rule may vary for different cell libraries/heights, and this library property would likely be defined in a cell LEF or side LEF file, instead of a tech LEF file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130407"></a><code>XFLIPMAP {</code><span class="webflare-courier-new" style="white-space:pre"><em>cellVariantNum siteVariantNum</em></span><code>}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130411"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130413"></a>Specifies that the number of site variants, <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span>, would be divided by two on each row. This means that <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span> should be even and site variants would alternate between <code>1</code> and <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span><code>/2</code> on each row. Only cell variants defined in <span class="webflare-courier-new" style="white-space:pre"><em>cellVariantNum</em></span> with a non-zero value in <span class="webflare-courier-new" style="white-space:pre"><em>siteVariantNum</em></span> could be placed on the <code>MX</code> rows, and they would be placed on the corresponding <span class="webflare-courier-new" style="white-space:pre"><em>siteVariantNum</em></span>. Only cell variants defined in <span class="webflare-courier-new" style="white-space:pre"><em>cellVariantNum</em></span> with a zero value in <span class="webflare-courier-new" style="white-space:pre"><em>siteVariantNum</em></span> could be placed on the <code>R0</code> rows. There should be <span class="webflare-courier-new" style="white-space:pre"><em>variantTotalNum</em></span> pairs of variant values defined.</p>
<p>
<a id="pgfId-8130414"></a><em>Type</em>: Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130416"></a><code>XFLIPSTARTVARIANT </code><span class="webflare-courier-new" style="white-space:pre"><em>startVariant</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130420"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130422"></a>Specifies the leftmost placement site of the core area on the <code>MX</code> rows to be <span class="webflare-courier-new" style="white-space:pre"><em>startVariant</em></span>. <code>STARTVARIANT</code> would define the starting variant on the <code>R0</code> rows. <code>XFLIPSTARTVARIANT</code> should only be defined along with <code>XFLIPMAP</code>.</p>
<p>
<a id="pgfId-8130423"></a><em>Type</em>: Integer</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8130425"></a><strong>Cell Variants Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8130426"></a>The following example illustrates the cell variant rule:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130427">
<a id="pgfId-8130427"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130428">
<a id="pgfId-8130428"></a>LIBRARY LEF58_CELLVARIANTS STRING &quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130429">
<a id="pgfId-8130429"></a>CELLVARIANTS 3 YFLIPMAP 1 1 2 3 3 2 ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130430">
<a id="pgfId-8130430"></a>END PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130431">
<a id="pgfId-8130431"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130432">
<a id="pgfId-8130432"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130433">
<a id="pgfId-8130433"></a>MACRO A</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130434">
<a id="pgfId-8130434"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130435">
<a id="pgfId-8130435"></a>END A </pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130436">
<a id="pgfId-8130436"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130437">
<a id="pgfId-8130437"></a>MACRO A2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130438">
<a id="pgfId-8130438"></a>PROPERTY LEF58_EEQ &quot; EEQ A VARIANT 2 ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130439">
<a id="pgfId-8130439"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130440">
<a id="pgfId-8130440"></a>END A2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130441">
<a id="pgfId-8130441"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130442">
<a id="pgfId-8130442"></a>MACRO A3</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130443">
<a id="pgfId-8130443"></a>PROPERTY LEF58_EEQ &quot; EEQ A VARIANT 3 ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130444">
<a id="pgfId-8130444"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130445">
<a id="pgfId-8130445"></a>END A3</pre><br /><strong class="webflare-fig-line-height">Figure 1-6
<a id="pgfId-8130446"></a>Illustration of the Cell Variants Rule </strong>
<a id="pgfId-8130456"></a><div class="webflare-div-image">
<img width="668" height="333" src="images/LEFSyntax-7.gif" /></div></li><li>
<a id="pgfId-8130457"></a>The following example illustrates a cell variant rule with <code>XFLIPMAP</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130458">
<a id="pgfId-8130458"></a>LIBRARY LEF58_CELLVARIANTS STRING &quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130459">
<a id="pgfId-8130459"></a>     CELLVARIANTS 4 STARTVARIANT 1 XFLIPSTARTVARIANT 2 </pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130460">
<a id="pgfId-8130460"></a>     YFLIPMAP { 1 2 2 1 3 2 4 1 } XFLIPMAP { 1 0 2 0 3 1 4 2 } ; &#8220; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130461">
<a id="pgfId-8130461"></a>END PROPERTYDEFINITIONS</pre><br /><strong class="webflare-fig-line-height">Figure 1-7
<a id="pgfId-8130467"></a>Illustration of the Cell Variants Rule with XFLIPMAP</strong>
<a id="pgfId-8130481"></a><div class="webflare-div-image">
<img width="668" height="370" src="images/LEFSyntax-8.gif" /></div></li></ul>




























<ul><li>
<a id="pgfId-8130457"></a>The following example illustrates a cell variant rule with <code>XFLIPMAP</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130458">
<a id="pgfId-8130458"></a>LIBRARY LEF58_CELLVARIANTS STRING &quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130459">
<a id="pgfId-8130459"></a>     CELLVARIANTS 4 STARTVARIANT 1 XFLIPSTARTVARIANT 2 </pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130460">
<a id="pgfId-8130460"></a>     YFLIPMAP { 1 2 2 1 3 2 4 1 } XFLIPMAP { 1 0 2 0 3 1 4 2 } ; &#8220; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8130461">
<a id="pgfId-8130461"></a>END PROPERTYDEFINITIONS</pre><br /><strong class="webflare-fig-line-height">Figure 1-8
<a id="pgfId-8130467"></a>Illustration of the Cell Variants Rule with XFLIPMAP</strong>
<a id="pgfId-8130481"></a><div class="webflare-div-image">
<img width="333" height="185" src="images/LEFSyntax-8.gif" /></div></li></ul>















<h4><em>
<a id="pgfId-8130482"></a>Cut Mask Track Rule<a id="PropLibCutMaskTrack"></a></em></h4>

<p>
<a id="pgfId-8130483"></a>You can create a cut mask track rule to specify a preferred cut mask vertical track for the mask of the cell master cuts.</p>
<p>
<a id="pgfId-8130484"></a>You can define a cut mask rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130485"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_CUTMASKTRACK STRING</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130486"></a>&#8220;CUTMASKTRACK <code><em>cutLayer</em></code> MASK <code><em>maskNum</em></code> OFFSET <code><em>offset</em></code> PITCH <code><em>pitch<br /></em></code>     ;&#8221; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8130487"></a>Where:</p>


<p>
<a id="pgfId-8130497"></a></p>
<table class="webflareTable" id="#id8130488">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130490"></a><code>CUTMASKTRACK </code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayer</em></span><code> MASK </code><span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span><code> OFFSET </code><span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span><code> PITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130494"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130496"></a>Specifies a preferred cut mask vertical track that the mask of the cell master cuts should follow. This construct is applied to all macros with <code>CLASS CORE</code>. <span class="webflare-courier-new" style="white-space:pre"><em>cutLayer</em></span> should be a cut layer with multiple masks using the <code>MASK</code> construct. <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> defines the mask of the first track with <span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span> from the cell origin of a cell master. Then, the subsequent track mask would be alternated with <span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span> being the track pitch. Cuts that are less than same-mask spacing apart should be clustered as a group, and the cut masks within a group are dependent on each other. However, the mask of an anchor cut in a group could be any mask. Once the anchor cut mask is picked, the mask of the rest of the cuts is determined. The cell architecture should have all of the center of cuts on the given tracks. The mask of the anchor cut should be picked to follow the track color. <br /><em>Type</em>: Floats, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8130498"></a><strong>Cut Mask Track Rule Example</strong></p>
<p>
<a id="pgfId-8130499"></a>The following example indicates that the preferred cut mask vertical track for the mask of the cell master cuts is mask <code>1</code>:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8130500"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_CUTMASKTRACK STRING &quot;<br />CUTMASKTRACK VIA1 MASK 1 OFFSET 0.15 PITCH 0.2<br />      ; &quot;;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8130501"></a>END PROPERTYDEFINITIONS</pre>




<p><strong>Figure 1-9
<a id="pgfId-8130502"></a>Illustration of the Cut Mask Track Rule </strong></p>

<p>
<a id="pgfId-8130543"></a></p>
<div class="webflare-div-image">
<img width="668" height="330" src="images/LEFSyntax-9.gif" /></div>



<h4><em>
<a id="pgfId-8130544"></a>FinFET Rule<a id="PropLibFinFet"></a></em></h4>

<p>
<a id="pgfId-8130545"></a>You can create a FinFET rule to specify the FinFET pitch to be pitch.</p>
<p>
<a id="pgfId-8130546"></a>You can define a FinFET rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130547"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_FINFET STRING<br />&quot;FINFET <br />     PITCH <code><em>pitch</em></code> [OFFSET <code><em>offset</em></code>] {HORIZONTAL|VERTICAL} <br />         [NOCORECELL]<br />     ;&quot; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8130548"></a>Where:</p>


<p>
<a id="pgfId-8130562"></a></p>
<table class="webflareTable" id="#id8130549">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130551"></a><code>FINFET<br />    PITCH </code><code><em>pitch</em></code><code> [OFFSET </code><code><em>offset</em></code><code>] {HORIZONTAL | VERTICAL}</code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130555"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130557"></a>Specifies the FinFET pitch to be pitch, which starts at the offset, if specified, or zero from the origin of the design. The <code>HORIZONTAL</code>/<code>VERTICAL</code> keywords mean that the FinFET pitch is used to define the legal Y/X values of the placement grid that all cells, blocks, and IOs must align to (specifically, the origin of every cell must be aligned to the legal Y/X values), in order to guarantee all the FinFETs inside are aligned properly. The X/Y value of the placement grid is derived from the standard cell site width and only applies to standard cells. The cell row height should typically be multiple of the FinFET pitch.<br /><em>Type</em>: Floats, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130559"></a><code>NOCORECELL</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130561"></a>Specifies that the FinFET grid does not apply to standard cells with <code>MACRO</code> with <code>CLASS CORE</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8130563"></a><strong>FinFET Rule Example</strong></p>
<p>
<a id="pgfId-8130564"></a>The following example indicates that the FinFET y pitch is 0.108 µm:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8130565"></a>PROPERTYDEFINITIONS</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8130566"></a>LIBRARY LEF58_FINFET STRING &quot;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8130567"></a>    FINFET</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8130568"></a>      PITCH 0.108 HORIZONTAL ; &quot;;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8130569"></a>END PROPERTYDEFINITIONS</pre>




<h4><em>
<a id="pgfId-8130570"></a>Implant Group Rule</em></h4>

<p>
<a id="pgfId-8130571"></a>You can create an implant group rule to specify rules that apply for all the shapes on an implant layer.</p>
<p>
<a id="pgfId-8130572"></a>You can define an implant group rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130574"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_IMPLANTGROUP STRING<br />   &quot;IMPLANTGROUP <code><em>groupName</em></code><a id="PropLibImplantGroup"></a> <br />       LAYER {<code><em>layerName</em></code>}... BASEDLAYER <code><em>basedLayerName<br /></em></code>      ;&quot; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8130575"></a>Where:</p>


<p>
<a id="pgfId-8130585"></a></p>
<table class="webflareTable" id="#id8130576">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130578"></a><code>IMPLANTGROUP </code><code><em>groupName</em></code><code> <br />     LAYER {</code><code><em>layerName</em></code><code>}... BASEDLAYER </code><code><em>basedLayerName</em></code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130582"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130584"></a>Specifies that the combined shapes on all of the given layers in <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, which must be an implant layer, must follow all of the rules on <span class="webflare-courier-new" style="white-space:pre"><em>basedLayerName</em></span>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8130586"></a><strong>Implant Group Rule Example</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130587"></a><code>PROPERTYDEFINITIONS<br />LIBRARY LEF58_IMPLANTGROUP STRING &#8220;<br />       IMPLANTGROUP GROUP1 LAYER VT1 VT2 BASEDLAYER VT1 ;<br />       IMPLANTGROUP GROUP2 LAYER VT1 VT3 BASEDLAYER VT1 ; &#8220; ;<br />END PROPERTYDEFINITIONS</code></pre>

<p>
<a id="pgfId-8130588"></a>In this example, the combined shapes on <code>VT1</code> and <code>VT2</code> and the combined shapes on <code>VT1</code> and <code>VT3</code> must follow the rules on <code>VT1</code>. </p>




<h4><em>
<a id="pgfId-7888895"></a>Layer Ma<a id="PropLibLayerMaskShift"></a>sk Shift Rule</em></h4>

<p>
<a id="pgfId-7888896"></a>You can create a layer mask shift rule to specify that mask could be shifted on the given layers.</p>
<p>
<a id="pgfId-7888897"></a>You can define a layer mask shift rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<a id="pgfId-7888898"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTYDEFINITIONS
LIBRARY LEF58_LAYERMASKSHIFT STRING
&quot;LAYERMASKSHIFT <code><em>layer1</em></code> [<code><em>layer2</em></code> ...]
     [MACROCLASS { RING | BLOCK | PAD | CORE | ENDCAP }...]
     ;&quot; ;</pre>
<a id="pgfId-7971164"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-7888900"></a>Where:</p>


<p>
<a id="pgfId-7888910"></a></p>
<table class="webflareTable" id="#id7888901">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7888903"></a><code>LAYERMASKSHIFT </code><code><em>layer1</em></code><code> [</code><code><em>layer2</em></code><code> ...]<br />    [MACROCLASS { RING | BLOCK | PAD | CORE | ENDCAP }...]</code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7888907"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7971197"></a>Specifies that a mask could be shifted only on the given layers. If <code>MACROCLASS</code> is also specified, only the given layers on the <code>MACRO</code> with the given classes allow color shifting. If this <code>LAYERMASKSHIFT</code> construct is defined, none of the macros should define <code>LAYERMASKSHIFT</code>. In addition, <code>LAYERMASKSHIFT</code> is treated as an exemption to <code>FIXEDMASK</code>, which should be defined as a library property or on individual macros.</p>
<p>
<a id="pgfId-7888909"></a><em>Type</em>: String</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-7888911"></a><strong>Layer Mask Shift Rule Examples</strong></p>
<ul><li>
<a id="pgfId-7888912"></a>The following example indicates that mask-shifting is allowed on LEF layer <code>M1</code> and <code>VIA1</code> but not on other layers:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id7888913">
<a id="pgfId-7888913"></a><code>PROPERTYDEFINITIONS</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7888914">
<a id="pgfId-7888914"></a><code>LIBRARY LEF58_LAYERMASKSHIFT STRING &quot;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7888915">
<a id="pgfId-7888915"></a><code>   LAYERMASKSHIFT M1 VIA1 ; &quot; ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7888916">
<a id="pgfId-7888916"></a><code>END PROPERTYDEFINITIONS</code></pre></li><li>
<a id="pgfId-7897158"></a>The following example indicates that mask-shifting is allowed on the LEF layer <code>M1</code> and <code>VIA1</code> on <code>MACRO</code> with class <code>CORE</code> or <code>ENDCAP</code> but not on other layers and macros with other classes. In addition, <code>FIXEDMASK</code> on <code>MACRO A</code> means that mask-shifting on <code>MACRO A</code> is not allowed on all layers:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id7897159">
<a id="pgfId-7897159"></a><code>PROPERTYDEFINITIONS</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897160">
<a id="pgfId-7897160"></a><code>LIBRARY LEF58_LAYERMASKSHIFT STRING &quot;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897161">
<a id="pgfId-7897161"></a><code>   LAYERMASKSHIFT M1 VIA1 MACROCLASS CORE ENDCAP ; &#8220; ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897162">
<a id="pgfId-7897162"></a><code>END PROPERTYDEFINITIONS</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897226">
<a id="pgfId-7897226"></a><code></code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897230">
<a id="pgfId-7897230"></a><code>MACRO A</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897231">
<a id="pgfId-7897231"></a><code>   CLASS CORE ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897232">
<a id="pgfId-7897232"></a><code>   FIXEDMASK ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897233">
<a id="pgfId-7897233"></a><code>...</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7897224">
<a id="pgfId-7897224"></a><code>END A</code></pre></li></ul>



















<h4><em>
<a id="pgfId-8130595"></a>Maximum Floating Area Rule<a id="56249"></a><a id="PropLibMaxFloatingArea"></a></em></h4>

<p>
<a id="pgfId-8130596"></a>Maximum area rules exist for floating metal shapes that are not connected to a diffusion or polysilicon gate. Similar to process antenna rules, maximum floating area rules apply only to the current layer and any lower layers (that is, all layers that have been fabricated up to the layer of interest). Maximum floating area rules can be used to avoid shorts between floating and non-floating metal wires that are caused by arcing due to charge buildup during processing steps.</p>
<p>
<a id="pgfId-8130597"></a>You can create a global maximum floating area rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8130598"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_MAXFLOATINGAREA STRING<br /> &quot;MAXFLOATINGAREA <code><em>maxArea</em></code> <br />  {SINGLELAYER | CONNECTED | ALLCONNECTED} <code><em>minRoutingLayer</em></code> <code><em>maxRoutingLayer</em></code> <br />   [[LAYERS <code><em>minRoutingLayer</em></code> <code><em>maxRoutingLayer</em></code>]<br />     SPACING <code><em>minSpacing</em></code> [PARSPACING <code><em>minParSpacing</em></code> <code><em>minParallelLength</em></code> ...]] ... ;&quot; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8130599"></a>Where:</p>


<p>
<a id="pgfId-8130658"></a></p>
<table class="webflareTable" id="#id8130600">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130602"></a><code>ALLCONNECTED </code><span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130606"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130608"></a>Indicates that the rule applies to the connected area of floating metal shapes connected together on each layer between <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> inclusive. The total connected area on the current and lower layers must be less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxArea</em></span>, or meet the minimum spacing to other grounded shapes on this layer and all lower-connected layer shapes. The names you specify for <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> must be two previously defined LEF routing layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130610"></a><code>CONNECTED </code><span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130614"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130616"></a>Indicates that the rule applies to the area of floating metal shapes connected together on each layer between <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> inclusive. The connected area on a current layer must be less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxArea</em></span>, or meet the minimum spacing to other grounded shapes on this layer and all lower connected layer shapes. The names you specify for <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> must be two previously defined LEF routing layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130618"></a><code>LAYERS </code><span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130622"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130624"></a>Indicates that layers between <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> inclusive must meet the specified <code>SPACING</code> rules. The names you specify for <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> must be previously defined LEF routing layers, and can be the same layer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130626"></a><code>MAXFLOATINGAREA </code><span class="webflare-courier-new" style="white-space:pre"><em>maxArea</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130630"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130632"></a>Indicates that floating metal shapes must have a total area that is less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxArea</em></span>. <br /><em>Type:</em> Float, specified in units of microns squared</p>
<p>
<a id="pgfId-8130633"></a>Floating metal is defined as metal on the current layer that cannot trace a path to a diffusion connection or polysilicon gate, using only same-layer or lower-layer metal connections. Grounded metal is defined as metal that can connect to a diffusion connection or polysilicon gate using only same-layer or lower-layer connections. </p>
<p>
<a id="pgfId-8130634"></a><strong>Note:</strong> The <code>MAXFLOATINGAREA</code> rule depends on the existing LEF <code>MACRO</code> <code>PIN</code> <code>ANTENNADIFFAREA</code> and <code>ANTENNAGATEAREA</code> statements to indicate which pins are connected to diffusion or polysilicon gates. </p>
<p>
<a id="pgfId-8130635"></a>You can have two <code>MAXFLOATINGAREA</code> statements: one for <code>SINGLELAYER</code>, and one for <code>CONNECTED</code> or <code>ALLCONNECTED</code>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130637"></a><code>PARSPACING </code><span class="webflare-courier-new" style="white-space:pre"><em>minParSpacing</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>minParallelLength</em></span><code> ...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130641"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130643"></a>Indicates that floating metal that is greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>minParSpacing</em></span> from grounded metal must have greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>minParallelLength</em></span> at the minimum spacing distance. If more than one pair of values is given, the smallest spacing value that matches is used. (See Example 2.)<br /><em>Type:</em> Float, specified in microns (for both values)</p>
<p>
<a id="pgfId-8130644"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>minParSpacing</em></span> values must be defined in decreasing value, and be smaller than <code>SPACING</code> <span class="webflare-courier-new" style="white-space:pre"><em>minSpacing</em></span>. The intent of the <code>PARSPACING</code> rule is to spread out the charge build up on floating shapes to reduce the chance of spark; therefore, smaller spacing values require larger parallel lengths in order to be legal. </p>
<p>
<a id="pgfId-8130645"></a>If you define <code>PARSPACING</code> for the same layer more than once (due to overlapping <code>LAYERS</code> layer ranges) the last <code>PARSPACING</code> values overwrite the previous values. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130647"></a><code>SINGLELAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130651"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130653"></a>Indicates the rule applies to each individual floating metal shape on any routing layer between <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> inclusive. Each shape must have an area that is less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxArea</em></span>, or meet the minimum spacing to other grounded shapes. The names you specify for <span class="webflare-courier-new" style="white-space:pre"><em>minRoutingLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRoutingLayer</em></span> must be two previously defined LEF routing layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130655"></a><code>SPACING </code><span class="webflare-courier-new" style="white-space:pre"><em>minSpacing</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130657"></a>Indicates that if the current layer floating metal has an area that is greater than <span class="webflare-courier-new" style="white-space:pre"><em>maxArea</em></span>, the floating metal on the current layer (and all connected lower layers with <code>CONNECTED</code> or <code>ALLCONNECTED</code>) must be greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>minSpacing</em></span> distance from grounded metal for all layers that have <code>MAXFLOATINGAREA</code> rules. If you define <code>SPACING</code> for the same layer more than once (due to overlapping <code>LAYERS</code> layer ranges) the last <code>SPACING</code> value overwrites the previous values. <br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
</tbody></table>


<p>
<a id="pgfId-8130683"></a></p>
<div class="webflare-div-image">
<img width="668" height="195" src="images/LEFSyntax-10.gif" /></div>

<p>
<a id="pgfId-8130684"></a><strong>Maximum Floating Area Rule Examples </strong></p>
<ul><li>
<a id="pgfId-8130685"></a><strong>Example 1</strong> <br />
<a id="pgfId-8130686"></a>Assume the following rule exists:<pre class="webflare-pre-block webflare-courier-new" id="#id8130687">
<a id="pgfId-8130687"></a>PROPERTYDEFINITIONS
  LIBRARY LEF58_MAXFLOATINGAREA STRING 
    &#8220;MAXFLOATINGAREA 1000 SINGLELAYER m1 m6 SPACING 1.0 ;&#8221; ;
END PROPERTYDEFINITIONS </pre>
<a id="pgfId-8130688"></a>Every shape on layers <em>m1</em> to <em>m6</em> with maximum floating area greater than 1000 μm<sup>2</sup> must have spacing of greater than or equal to 1.0 μm to any grounded metal.</li><li>
<a id="pgfId-8130689"></a><strong>Example 2</strong> <br />
<a id="pgfId-8130690"></a>Assume the following rule exists:<pre class="webflare-pre-block webflare-courier-new" id="#id8130691">
<a id="pgfId-8130691"></a>PROPERTYDEFINITIONS
  LIBRARY LEF58_MAXFLOATINGAREA STRING 
    &#8220;MAXFLOATINGAREA 1000 CONNECTED m1 m6 
      LAYERS m1 m1 SPACING 1.0 PARSPACING 0.5 0.8 0.2 2.0
      LAYERS m2 m6 SPACING 0.6 PARSPACING 0.3 0.9 ;&#8221; ;
END PROPERTYDEFINITIONS </pre>
<a id="pgfId-8130692"></a>For layer <em>m1</em>, any floating metal must be either greater than or equal to 1.0 μm distance from grounded metal, or:<ul><li>
<a id="pgfId-8130693"></a>If it is greater than or equal to 0.5 μm distance away, there must be at least 0.8 μm of parallel length at the minimum spacing. </li><li>
<a id="pgfId-8130694"></a>If it is greater than or equal to 0.2 μm distance away, there must be at least 2.0 μm of parallel length at the minimum spacing. </li></ul><br />
<a id="pgfId-8130695"></a>Spacing that is less than 0.2 μm is not allowed.<br />
<a id="pgfId-8130696"></a>Any floating <em>m2</em> through <em>m6</em> shapes with area that is greater than 1000 μm<sup>2</sup>, must either be greater than or equal to 0.6 μm distance from grounded metal, or they must be greater than or equal to 0.3 μm distance away with greater than or equal to 0.9 μm of parallel length. <br />
<a id="pgfId-8130700"></a>See <a href="LEFSyntax.html#80636">Figure&#160;1-9</a> for different layout examples using this rule.<br /><strong class="webflare-fig-line-height">Figure 1-10
<a id="pgfId-8130701"></a>Maximum Floating Area Rule</strong>
<a id="pgfId-8130893"></a><a id="80636"></a><div class="webflare-div-image">
<img width="668" height="774" src="images/LEFSyntax-11.gif" /></div></li></ul>























<h4><em>
<a id="pgfId-8130895"></a>Maximum Via Stack Rule<a id="69058"></a></em></h4>

<p>
<a id="pgfId-8130896"></a>You can create a maximum via stack rule to require a series of stacked vias to all be multi-cut vias. A via is considered to be in a stack with other vias if the cuts of all the vias partially overlap (the boolean <code>AND</code> of the cut layer shapes from every via in the stack is not empty). A multi-cut via interrupts the stack, unless the <code>NOSINGLE</code> keyword is specified. </p>
<p>
<a id="pgfId-8130897"></a>If multiple <code>MAXVIASTACK</code> statements are defined, all of them must be fulfilled individually.</p>
<p>
<a id="pgfId-8130898"></a>You can define a maximum via stack rule using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<a id="pgfId-8130899"></a><a id="PropLibMaxViaStack"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code>PROPERTYDEFINITIONS
LIBRARY LEF58_MAXVIASTACK STRING 
 &quot;MAXVIASTACK </code><code><em>maxStack</em></code><code> [SAMENET] [NOSINGLE] 
      [IGNOREONESAMEMETAL </code><code><em>cutWithin</em></code><code>]
      [MINMULTICUT </code><code><em>numCut</em></code><code>] 
      [WITHIN {LOWCUTSIZE | {</code><code><em>cutLayerName within
</em></code><code>             [CENTERTOCENTER]}...}
      | CENTERCUTWITHIN </code><code><em>cutLayerName
            belowCutWithin aboveCutWithin</em></code><code>]
      [EXCEPTPGNET]
      [EXCEPTAREA </code><code><em>individualArea sumArea</em></code><code>] 
      [RANGE </code><code><em>bottomLayer topLayer</em></code><code>]
      [EXCEPTCUTCLASSLIST {</code><code><em>cutLayer cutClassName</em></code><code>}...]
      [[NOVIALIST {</code><code><em>viaName</em></code><code>}...]...
      |[NOCUTCLASSLIST {</code><code><em>cutLayer cutClassName</em></code><code>}...]...]
  ;&quot; ;</code></pre>
<a id="pgfId-8130901"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code>END PROPERTYDEFINITIONS</code></pre>

<p>
<a id="pgfId-8130902"></a>Where:</p>


<p>
<a id="pgfId-8130983"></a></p>
<table class="webflareTable" id="#id8130903">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130905"></a><code>CENTERCUTWITHIN </code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>belowCutWithin aboveCutWithin</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130909"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130911"></a>Specifies that the maximum via stack rule applies only when all of the cuts below a cut on <span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span> must be within <span class="webflare-courier-new" style="white-space:pre"><em>belowCutWithin</em></span> of that cut and all of the cuts above a cut on <span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span> must be within <span class="webflare-courier-new" style="white-space:pre"><em>aboveCutWithin</em></span> of that cut. The maximum via stack rule must be defined such that having a cut on cutLayerName is the only way to violate the rule. For example, if a maximum via stack number of <code>2</code> is given between six metal layers (and a maximum of five stacked vias in between), <code>CENTERCUTWITHIN</code> cannot be defined on the second cut layer since the upper three vias could violate the rule without a second layer cut. <code>CENTERCUTWITHIN</code> can be defined on the third (middle) cut layer since three or more stacked vias would always have a cut on that layer. See <a href="LEFSyntax.html#37307">Figure&#160;1-16</a>.<br /><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137028"></a><code>CENTERTOCENTER</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137030"></a>Specifies that the within distance between two cuts on adjacent cut layers is measured in the center-to-center style.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130916"></a><code>EXCEPTAREA</code> <span class="webflare-courier-new" style="white-space:pre"><em>individualArea</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>sumArea</em></span> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130920"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130922"></a>Specifies that the rule does not apply if the metal shape containing the stacked vias has an area greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>individualArea</em></span> on any layer except the bottommost and topmost metal layers of the stacked vias or the union sum of those metal areas is greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>sumArea</em></span>.</p>
<p>
<a id="pgfId-8130923"></a>If any stacked via larger than the specified maximum number in the rule does not qualify for the exemptions in <code>EXCEPTAREA</code>, it is a violation even if there are additional stacked vias fulfilling the exemption in <code>EXCEPTAREA</code>.</p>
<p>
<a id="pgfId-8130924"></a><em>Type</em>: Float, specified in microns squared</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130926"></a><code>EXCEPTCUTCLASSLIST {</code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayer cutClassName</em></span><code>}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130930"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130932"></a>Specifies that the rule is exempted for any vias belonging to the given cut class <span class="webflare-courier-new" style="white-space:pre"><em>cutClassName</em></span> on the given layer <span class="webflare-courier-new" style="white-space:pre"><em>cutLayer</em></span>. This means that those vias would interrupt a stack as if the vias did not exist for this max via stack rule.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130934"></a><code>EXCEPTPGNET</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130936"></a>Specifies that the rule is exempted for power or ground net.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8137059"></a><code>IGNOREONESAMEMETAL </code><span class="webflare-courier-new" style="white-space:pre"><em>cutWithin</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137063"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137087"></a>Specifies that if the cuts within <span class="webflare-courier-new" style="white-space:pre"><em>cutWithin</em></span> have the same metal on at least one metal layer, they are considered multi-cuts, which interrupt the via stack. However, the bottommost stacked via can consider a same-metal cut only on the routing layer above, and the topmost stacked via can consider a same-metal cut only on the routing layer below.</p>
<p>
<a id="pgfId-8137065"></a><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130938"></a><code>MAXVIASTACK </code><span class="webflare-courier-new" style="white-space:pre"><em>maxStack</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130940"></a>Specifies the maximum number of single-cut vias that are allowed on top of each other (that is, in one continuous stack).</p>
<p>
<a id="pgfId-8137105"></a><em>Type:</em> Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130942"></a><code>MINMULTICUT </code><span class="webflare-courier-new" style="white-space:pre"><em>numCut</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130944"></a>Specifies the minimum multi-cut number to be greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>numCut</em></span> in order to be a multi-cut exemption to a stacked via violation with number of vias greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxStack</em></span>. If <code>NOSINGLE</code> is specified, all of the vias must have a cut number greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>numCut</em></span> to pass the rule. By default, without <code>MINMULTICUT</code>, the multi-cut number is <code>2</code>. Therefore, <span class="webflare-courier-new" style="white-space:pre"><em>numCut</em></span> must be greater than <code>2</code>. </p>
<p>
<a id="pgfId-8130945"></a>Type: Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130947"></a><code>[NOCUTCLASSLIST {</code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayer cutClassName</em></span><code>}...]...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130951"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130953"></a>Specifies that the given cut classes, which belong to the given <span class="webflare-courier-new" style="white-space:pre"><em>cutClassName</em></span> on the given cut layer <span class="webflare-courier-new" style="white-space:pre"><em>cutLayer</em></span>, are not allowed for stacking although the number of cut classes specified in <code>NOCUTCLASSLIST</code> is less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxStack</em></span>.</p>
<p>
<a id="pgfId-8130954"></a>Type: String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137113"></a><code>NOSINGLE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137115"></a>Indicates that any single-cut via in a stack that is larger than <span class="webflare-courier-new" style="white-space:pre"><em>maxStack</em></span> is a violation, and multi-cut vias do not interrupt a stack. Therefore, any stack larger than <span class="webflare-courier-new" style="white-space:pre"><em>maxStack</em></span> must consist of all multi-cut vias.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130956"></a>[<code>NOVIALIST</code> {<span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span>}...]...</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130960"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130962"></a>Specifies that the given list of vias in <code>{</code><span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span><code>}...</code> is not allowed for stacking although the number of cut vias specified in <code>NOVIALIST</code> is less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxStack</em></span>. The via list should always start from a lowest cut layer and consecutively move up the cut layers, and they should be inside the metal layers in <span class="webflare-courier-new" style="white-space:pre"><em>RANGE</em></span> if defined. Wild card asterisk (*) is supported, which would map to all of the LEF predefined vias that match the wild card. If it is used alone to represent all of the vias on a certain cut layer, the via name on previous or following cut layers would have enough information to indicate what layer the asterisk is referring to. <br /><em>Type:</em> String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130964"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>bottomLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>topLayer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130968"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130970"></a>Specifies a range of routing layers for which the maximum stacked via rule applies. If you do not specify a range, the <span class="webflare-courier-new" style="white-space:pre"><em>maxStack</em></span> value applies for all routing layers. The <span class="webflare-courier-new" style="white-space:pre"><em>bottomLayer</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>topLayer</em></span> values are routing layer names. The specified <span class="webflare-courier-new" style="white-space:pre"><em>topLayer</em></span> layer must be above the layer specified for <span class="webflare-courier-new" style="white-space:pre"><em>bottomLayer</em></span>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130972"></a><code>SAMENET</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130974"></a>Specifies that the rule applies only to same-net vias.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8130976"></a><code>WITHIN</code> {<code>LOWCUTSIZE | {</code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName within</em></span><code>}...}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130980"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8130982"></a>Specifies that an object is considered as a stacked via if the upper adjacent layer cut is within the minimum cut size of multiple <code>CUTCLASS</code> definitions or <span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span> value in <code>WIDTH</code> on the lower cut layer in <code>LOWCUTSIZE</code> or within <span class="webflare-courier-new" style="white-space:pre"><em>within</em></span> distance of a cut on the lower layer in <span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span>. Touching the within search window is considered as stacked. <br /><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8130984"></a><strong>Maximum Via Stack Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8130985"></a>If the following rule exists:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8130986">
<a id="pgfId-8130986"></a><code>PROPERTYDEFINITIONS
  LIBRARY LEF58_MAXVIASTACK STRING 
    &#8220;MAXVIASTACK 3 RANGE m1 m6  ;&#8221; ;
END PROPERTYDEFINITIONS </code></pre>
<a id="pgfId-8130987"></a>Only three single-cut vias can be stacked between layers <em>m1</em> and <em>m6</em>. See <a href="LEFSyntax.html#75570">Figure&#160;1-10</a>  for different layout examples using this rule.<br /><strong class="webflare-fig-line-height">Figure 1-11
<a id="pgfId-8130992"></a>Max Via Stack Rule Examples<a id="75570"></a></strong>
<a id="pgfId-8131210"></a><div class="webflare-div-image">
<img width="668" height="553" src="images/LEFSyntax-12.gif" /></div></li><li>
<a id="pgfId-8131211"></a>The following rule applies if metal shapes containing the stacked vias have an area less than the individual area of 0.1 on any layer:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131212">
<a id="pgfId-8131212"></a><code>PROPERTYDEFINITIONS
  LIBRARY LEF58_MAXVIASTACK STRING
    &#8220;MAXVIASTACK 2 EXCEPTAREA 0.1 0.15
        RANGE M2 M6 ; &#8221; ;
END PROPERTYDEFINITIONS</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-12
<a id="pgfId-8131213"></a>Illustration of Max Via Stack Rule with EXCEPTAREA</strong>
<a id="pgfId-8131267"></a><div class="webflare-div-image">
<img width="668" height="441" src="images/LEFSyntax-13.gif" /></div></li><li>
<a id="pgfId-8131268"></a>The following property rule illustrates <code>WITHIN</code> <code>LOWCUTSIZE</code> with <code>V1</code> layer:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131269">
<a id="pgfId-8131269"></a><code>PROERPTY LEF58_CUTCLASS 
    &#8220;CUTCLASS ...  WIDTH 0.06 ... ;
     CUTCLASS ...  WIDTH 0.12 ... ; &#8221; ;</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-13
<a id="pgfId-8131270"></a>Illustration of Max Via Stack Rule with WITHIN LOWCUTSIZE </strong>
<a id="pgfId-8131392"></a><div class="webflare-div-image">
<img width="668" height="805" src="images/LEFSyntax-14.gif" /></div><strong>Figure 1-14
<a id="pgfId-8131393"></a>Illustration of Max Via Stack Rule with WITHIN </strong>
<a id="pgfId-8131444"></a><div class="webflare-div-image">
<img width="668" height="572" src="images/LEFSyntax-15.gif" /></div></li><li>
<a id="pgfId-8131445"></a>The following property rule illustrates the max via stack rule with <code>NOVIALIST</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131446">
<a id="pgfId-8131446"></a><code>PROPERTYDEFINITIONS
      LIBRARY LEF58_MAXVIASTACK STRING &#8220;
                MAXVIASTACK 3 NOVIALIST V1B V2C ; &#8220; ;
END PROPERTYDEFINITIONS</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-15
<a id="pgfId-8131447"></a>Illustration of Max Via Stack Rule with NOVIALIST </strong>
<a id="pgfId-8131469"></a><div class="webflare-div-image">
<img width="668" height="114" src="images/LEFSyntax-16.gif" /></div></li><li>
<a id="pgfId-8131470"></a>The following property rule illustrates multiple max via stack rules:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131471">
<a id="pgfId-8131471"></a><code>PROPERTYDEFINITIONS
     LIBRARY LEF58_MAXVIASTACK STRING &#8220;
          MAXVIASTACK 2 RANGE M1 M5 ;
          MAXVIASTACK 3 RANGE M3 M7 ; &#8220; ;
END PROPERTYDEFINITIONS</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-16
<a id="pgfId-8131472"></a>Illustration of Multiple Max Via Stack Rules </strong>
<a id="pgfId-8131501"></a><div class="webflare-div-image">
<img width="668" height="158" src="images/LEFSyntax-17.gif" /></div></li><li>
<a id="pgfId-8131502"></a>The following example illustrates the max via stack rule with <code>CENTERCUTWITHIN</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131503">
<a id="pgfId-8131503"></a><code>PROPERTYDEFINITIONS
LIBRARY LEF58_MAXVIASTACK STRING &#8220;
      MAXVIASTACK 3 
            CENTERCUTWITHIN V3 0.000 0.020
            RANGE M1 M5 ; &#8221; ;
END PROPERTYDEFINITIONS</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-17
<a id="pgfId-8131505"></a>Illustration of Max Via Stack Rule with CENTERCUTWITHIN <a id="37307"></a></strong>
<a id="pgfId-8131541"></a><div class="webflare-div-image">
<img width="668" height="211" src="images/LEFSyntax-18.gif" /></div></li><li>
<a id="pgfId-8131542"></a>The following property rule illustrates a max via stack rule with <code>EXCEPTCUTCLASSLIST</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131543">
<a id="pgfId-8131543"></a><code>PROPERTYDEFINITIONS
     LIBRARY LEF58_MAXVIASTACK STRING &#8220;
          MAXVIASTACK 2
          EXCEPTCUTCLASSLIST V2 V2C; &#8221; ;
END PROPERTYDEFINITIONS</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-18
<a id="pgfId-8131544"></a>Illustration of Max Via Stack Rule with EXCEPTCUTCLASSLIST</strong>
<a id="pgfId-8131574"></a><div class="webflare-div-image">
<img width="668" height="178" src="images/LEFSyntax-19.gif" /></div></li></ul>






















































































<h4><em>
<a id="pgfId-8131575"></a>Metal Width Track Rule <a id="PropLibMetalWidthTrack"></a></em></h4>

<p>
<a id="pgfId-8131576"></a>You can create a metal width track rule to define the preferred routing direction for tracks on a specified layer. </p>
<p>
<a id="pgfId-8131577"></a>You can define a metal width track rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131578"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_METALWIDTHTRACK STRING<br />&#8220;METALWIDTHTRACK <code><em>routingLayer</em></code> COREOFFSET <code><em>offset<br /></em></code>    {WIDTH <code><em>width</em></code> PITCH <code><em>pitch</em></code> [REPEAT <code><em>repeat</em></code>]}...<br />    ;&#8221; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8131579"></a>Where:</p>


<p>
<a id="pgfId-8131595"></a></p>
<table class="webflareTable" id="#id8131580">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131582"></a><code>METALWIDTHTRACK </code><span class="webflare-courier-new" style="white-space:pre"><em>routingLayer</em></span><code> COREOFFSET </code><span class="webflare-courier-new" style="white-space:pre"><em>offset<br /></em></span><code>{WIDTH </code><span class="webflare-courier-new" style="white-space:pre"><em>width</em></span><code> PITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span><code> [REPEAT </code><span class="webflare-courier-new" style="white-space:pre"><em>repeat</em></span><code>]}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131586"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131588"></a>Specifies the preferred routing direction tracks on the layer <span class="webflare-courier-new" style="white-space:pre"><em>routingLayer</em></span>. <span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span> specifies the starting coordinate of the track with respect to the origin of the core. The <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span> set of values define the width and pitch of the subsequent tracks. <span class="webflare-courier-new" style="white-space:pre"><em>repeat</em></span> specifies how many times the given width and pitch should be repeated. Then, the entire sets of width and pitch would be repeated. Multiple <code>METALWIDTHTRACK</code> statements can be defined for different routing layers. For example:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131589"></a>METALWIDTHTRACK M1 ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131590"></a>METALWIDTHTRACK M2 ...</pre>
<p>
<a id="pgfId-8131591"></a>However, one routing layer can have only one such statement. So, it would be illegal to have the following:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131592"></a>METALWIDTHTRACK M1 ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131593"></a>METALWIDTHTRACK M1 ...</pre>
<p>
<a id="pgfId-8131594"></a>The <code>METALWIDTHTRACK</code> property is typically used to define a non-uniform track on a certain layer, which depend on the cell objects on the corresponding layer. In advanced nodes, all of the cell objects are typically required on the track on lower layers. Horizontal, non-uniform tracks may be created such that instances could be placed on any row such that the cell objects are still ensured on the track. Therefore, this library property is likely to be defined in a cell LEF or side LEF file, instead of in a tech LEF file.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8131596"></a><strong> Metal Width Track Rule Example</strong></p>
<ul><li>
<a id="pgfId-8131597"></a>The following example is an illustration of the metal track width rule:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131598">
<a id="pgfId-8131598"></a><code>LAYER M1</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131599">
<a id="pgfId-8131599"></a><code> TYPE ROUTING ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131600">
<a id="pgfId-8131600"></a><code> DIRECTION HORIZONTAL ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131601">
<a id="pgfId-8131601"></a><code> ...</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131602">
<a id="pgfId-8131602"></a><code>END M1</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131603">
<a id="pgfId-8131603"></a><code>...</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131604">
<a id="pgfId-8131604"></a><code>LIBRARY LEF58_METALWIDTHTRACK STRING</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131605">
<a id="pgfId-8131605"></a><code>          &#8220;METALWIDTHTRACK M1 COREOFFSET 0.15</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131606">
<a id="pgfId-8131606"></a><code>                WIDTH 0.2 PITCH 0.4</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131607">
<a id="pgfId-8131607"></a><code>                WIDTH 0.1 PITCH 0.2 REPEAT 4</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131608">
<a id="pgfId-8131608"></a><code>                WIDTH 0.1 PITCH 0.4 ; &#8220; ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131609">
<a id="pgfId-8131609"></a><code>END PROPERTYDEFINITIONS</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-19
<a id="pgfId-8131610"></a>Illustration of Metal Track Width Rule </strong>
<a id="pgfId-8131707"></a><div class="webflare-div-image">
<img width="668" height="484" src="images/LEFSyntax-20.gif" /></div></li></ul>























<h4><em>
<a id="pgfId-8131709"></a>Metal Width Via Map Rule <a id="LibMetaWidthViaMap"></a></em></h4>

<p>
<a id="pgfId-8131710"></a>You can create a metal width via map rule to specify the vias to be used based on the given width values of the below and above metal layers.</p>
<p>
<a id="pgfId-8131711"></a>You can define a metal width via map rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<a id="pgfId-8131712"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTYDEFINITIONS
LIBRARY LEF58_METALWIDTHVIAMAP STRING
   &quot;METALWIDTHVIAMAP
       [USEVIACUTCLASS]
       {VIA <code><em>viaLayer</em></code> 
          {<code><em>belowLayerWidth</em></code> <code><em>aboveLayerWidth</em></code> 
          |<code><em>belowLayerLowWidth belowLayerHighWidth</em></code> 
             <code><em>aboveLayerLowWidth aboveLayerHighWidth</em></code>} 
          <code><em>viaName</em></code> [PGVIA]}...
       ;...&quot; ;</pre>
<a id="pgfId-8131713"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8131714"></a>Where:</p>


<p>
<a id="pgfId-8131748"></a></p>
<table class="webflareTable" id="#id8131715">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131717"></a><code>METALWIDTHVIAMAP</code> 
<code>   {VIA</code> <span class="webflare-courier-new" style="white-space:pre"><em>viaLayer</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>belowLayerWidth</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>aboveLayerWidth</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span><code>}</code><span class="webflare-courier-new" style="white-space:pre"><em>...</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131721"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131723"></a>Specifies the vias to be used based on the given width values of the below and above metal layers. <span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span> is used on cut layer <span class="webflare-courier-new" style="white-space:pre"><em>viaLayer</em></span> for below and above metal widths of <span class="webflare-courier-new" style="white-space:pre"><em>belowLayerWidth</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>aboveLayerWidth</em></span>. When multiple vias are defined for the same below and above metal width combination, the first defined via is preferred. When a DRC violation occurs, other defined vias are attempted.</p>
<p>
<a id="pgfId-8131724"></a><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131726"></a><code>PGVIA</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131728"></a>Specifies that the given via is for PG net usage only. For a given below and above metal width combination, you can do one of the following:</p>

<ul><li>
<a id="pgfId-8131729"></a>Define only one via to be used for both signal and PG nets. This via should be defined without <code>PGVIA</code>. </li><li>
<a id="pgfId-8131730"></a>Define multiple vias of which one is without <code>PGVIA</code>. In this case, the via without <code>PGVIA</code> would be used for signal nets, and the rest of the vias with <code>PGVIA</code> would be used for PG nets.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131732"></a><code>USEVIACUTCLASS</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131734"></a>Indicates that <span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span> is actually a cut class name on the given layer, <span class="webflare-courier-new" style="white-space:pre"><em>viaLayer</em></span>. Any cuts belonging to the given cut class could be used on the given width combination.</p>
<p>
<a id="pgfId-8131735"></a>For example,</p>
<a id="pgfId-8131736"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
LIBRARY LEF58_ METALWIDTHVIAMAP STRING &quot;
METALWIDTHVIAMAP USEVIACUTCLASS
VIA V1 0.05 0.08 V1_CUTCLASSA ; &quot; ;</pre>
<a id="pgfId-8131737"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS</pre>
<p>
<a id="pgfId-8131738"></a>means that any <code>V1</code> cuts belonging to cut class <code>V1_CUTCLASSA</code> could be used for nets on below metal width of <code>0.05</code> and above metal width of <code>0.08</code> wires.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131740"></a><code>VIA </code><code><em>viaLayer belowLayerLowWidth belowLayerHighWidth <br /></em></code><code>&#160;&#160;         </code><code><em>aboveLayerLowWidth aboveLayerHighWidth viaName...</em></code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131744"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131746"></a>Specifies the vias to be used based on the given width range values of the below and above metal layers. That is the below and above metal width should be greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>belowLayerLowWidth</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>aboveLayerLowWidth</em></span>, respectively, and less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>belowLayerHighWidth</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>aboveLayerHighWidth</em></span>, respectively, to use <span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span>.</p>
<p>
<a id="pgfId-8131747"></a>Type: Float, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8131749"></a><strong>Metal Width Via Map Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8131750"></a>The following example indicates that <code>V1_SMALL</code> should be used on cut layer <code>V1</code> for below metal width of 0.05 and above metal width of 0.08 wires while <code>V1_LARGE </code>should be used for below metal width of 0.07 and above metal width of 0.08 wires:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131751">
<a id="pgfId-8131751"></a><code>PROPERTYDEFINITIONS
LIBRARY LEF58_METALWIDTHVIAMAP STRING &#8220;
       METALWIDTHVIAMAP VIA V1 0.05 0.08 V1_SMALL 
         VIA V1 0.07 0.08 V1_LARGE; &#8221; ;
END PROPERTYDEFINITIONS</code></pre></li></ul>





<h4><em>
<a id="pgfId-3543910"></a>OpenAccess <a id="PropLibOALayerMao"></a>Layer Map Rule </em></h4>

<p>
<a id="pgfId-3543911"></a>You can create an OpenAccess layer map rule to define equivalence between LEF and OpenAccess layers and also between the geometries and shapes placed on the layers. </p>
<p>
<a id="pgfId-3543912"></a>You can define an OpenAccess layer map rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-3543913"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_OALAYERMAP STRING<br />   &#8220;OALAYERMAP <code><em>oaLayer<br /></em></code>{ [PURPOSE <code><em>oaPurpose</em></code>] BLOCKAGE <code><em>layer<br /></em></code>      | LAYER <code><em>layer</em></code> [MASK <code><em>maskNum</em></code>] }<br />      ;...&#8221; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-7771508"></a>Here, <code>LEF58_OALAYERMAP</code> can contain multiple mapping statements, separated by &#8216;<code>;</code>&#8217;. The property syntax allows two variants of the statement:</p>


<p>
<a id="pgfId-3543924"></a></p>
<table class="webflareTable" id="#id3543915">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-3543917"></a><code>OALAYERMAP </code><span class="webflare-courier-new" style="white-space:pre"><em>oaLayer</em></span><code> LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span><code> [MASK </code><span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span><code>]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-3543921"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-3543923"></a>Specifies the equivalent OpenAccess layer name <span class="webflare-courier-new" style="white-space:pre"><em>oaLayer</em></span> for the LEF layer <span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span> and also specifies the mapping between the shapes placed on the layers. If the <code>MASK</code> keyword is specified (allowed only for LEF multi-patterning layers with a <code>MASK</code> statement), the mapping will be mask-based; that is, the color mask <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> of the LEF layer <span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span> is mapped to the OpenAccess layer <span class="webflare-courier-new" style="white-space:pre"><em>oaLayer</em></span> and the LEF layer shapes with the color mask are converted into the OpenAccess layer shapes.</p>
<p>
<a id="pgfId-7418966"></a>Note: Typically, mask-based mapping requires multiple <code>OALAYERMAP</code> statements per LEF layer, with one statement for each possible color mask.</p>
<p>
<a id="pgfId-7419220"></a>Type: String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7418090"></a><code>OALAYERMAP </code><span class="webflare-courier-new" style="white-space:pre"><em>oaLayer</em></span><code> [PURPOSE </code><span class="webflare-courier-new" style="white-space:pre"><em>oaPurpose</em></span><code>] BLOCKAGE </code><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7417998"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7419205"></a>Maps the LEF/DEF blockage-type geometries on the LEF layer <span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span> to regular shapes on the OpenAccess layer <span class="webflare-courier-new" style="white-space:pre"><em>oaLayer</em></span>. These blockage-type geometries are represented as <code>LEF OBS</code> statement geometries in the LEF file and <code>DEF BLOCKAGES</code> statement geometries in the DEF file. </p>
<p>
<a id="pgfId-7419552"></a>If the <code>PURPOSE</code> keyword is specified in the statement, the OpenAccess shapes are set to the <span class="webflare-courier-new" style="white-space:pre"><em>oaPurpose</em></span> purpose in the conversion. Otherwise, they are set to the default <code>drawing</code> purpose. </p>
<p>
<a id="pgfId-7419288"></a>Note: This variant of the <code>OALAYERMAP</code> statement does not specify the mapping between LEF and OpenAccess layers.</p>
<p>
<a id="pgfId-7418085"></a>Type: String</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-5523475"></a><strong>OpenAccess Layer Map Rule Examples</strong></p>
<ul><li>
<a id="pgfId-3543926"></a>The following example indicates that the LEF layer <code>M1</code> is mapped to OpenAccess layer <code>Metal1</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id3854950">
<a id="pgfId-3854950"></a>PROPERTYDEFINITIONS
LIBRARY LEF58_OALAYERMAP STRING &#8220;
     OALAYERMAP Metal1 LAYER M1 ; &#8220; ;
END PROPERTYDEFINITIONS</pre></li><li>
<a id="pgfId-3854951"></a>The following example indicates that the LEF <code>MASK 1</code> shapes on <code>M1</code> would go to OpenAccess layer <code>Metal1A</code> while <code>MASK</code> 2 shapes on <code>M1</code> would go to OpenAccess layer <code>Metal1B</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id3543933">
<a id="pgfId-3543933"></a>PROPERTYDEFINITIONS</pre><pre class="webflare-pre-block webflare-courier-new" id="#id3854968">
<a id="pgfId-3854968"></a>LIBRARY LEF58_OALAYERMAP STRING &#8220;
     OALAYERMAP Metal1A LAYER M1 MASK 1 ; 
     OALAYERMAP Metal1B LAYER M1 MASK 2 ; &#8220; ;
END PROPERTYDEFINITIONS</pre></li></ul>








<h4><em>
<a id="pgfId-8131781"></a>PG Via Track Rule<a id="PropLibPGViaTrack"></a></em></h4>

<p>
<a id="pgfId-8131782"></a>You can use a PG via track rule to define vertical tracks for aligning all of the power and ground cell vias on a specified layer of a cell macro with the <code>ALIGNPGVIATOTRACK</code> property.</p>
<p>
<a id="pgfId-8131783"></a>You can define a PG via track rule by using the the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131784"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_PGVIATRACK STRING<br />   &#8220;PGVIATRACK <code><em>cutLayer</em></code> COREOFFSET <code><em>offset</em></code> PITCH <code><em>pitch</em></code>; &#8220; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8131785"></a>Where:</p>


<p>
<a id="pgfId-8131795"></a></p>
<table class="webflareTable" id="#id8131786">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131788"></a><code>PGVIATRACK </code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayer</em></span><code> COREOFFSET </code><span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span><code> PITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131792"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131794"></a>Defines vertical tracks for aligning all the power and ground cell vias on the layer <span class="webflare-courier-new" style="white-space:pre"><em>cutLayer</em></span>  of a cell macro with the <code>ALIGNPGVIATOTRACK</code> property. <span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span> specifies the starting coordinate of the track with respect to the origin of the core. <span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span> specifies the pitch of the tracks. All the power and ground cell vias should be in multiples of <span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span> such that aligning any one of them to the track is sufficient.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8131796"></a><strong>PG Via Track Rule Example</strong></p>
<p>
<a id="pgfId-8131797"></a>The following example is an illustration of the PG via track rule:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8131798"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_PGVIATRACK STRING &#8220;<br />          PGVIATRACK VIA1 COREOFFSET 0.15 <br />               PITCH 0.2 ; &#8220; ;<br />END PROPERTYDEFINITIONS</pre>




<p><strong>Figure 1-20
<a id="pgfId-8131799"></a>Illustration of the PG Via Track Rule </strong></p>

<p>
<a id="pgfId-8131845"></a></p>
<div class="webflare-div-image">
<img width="511" height="428" src="images/LEFSyntax-21.gif" /></div>



<h4><em>
<a id="pgfId-8131846"></a>Stack Via Layer Rule <a id="PropLibStackViaLayer"></a></em></h4>

<p>
<a id="pgfId-8131847"></a>You can use a stack via layer rule to define stack via rules on individual layers. These rules are combined to form a stack via rule. </p>
<p>
<a id="pgfId-8131848"></a>You can define a stack via layer rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131849"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_STACKVIALAYERRULE STRING<br />   &#8220;STACKVIALAYERRULE <code><em>ruleName<br /></em></code>      LAYER <code><em>cutLayerName</em></code> [CUTCLASS <code><em>className</em></code>]<br />         ROWCOL <code><em>numCutRows numCutCols<br /></em></code>            [XPITCH <code><em>xPitch</em></code> [MAXXPITCH <code><em>maxXPitch</em></code>]] <br />            [YPITCH <code><em>yPitch</em></code> [MAXYPITCH <code><em>maxYPitch</em></code>]] <br />            [BELOWMINLENGTH <code><em>belowMinLength</em></code>]<br />            [ABOVEMINLENGTH <code><em>aboveMinLength</em></code>]<br />            [MAXCELLEXTENSION <code><em>extensionPitch</em></code>]<br />            [OFFGRIDCUT]<br />            [MAXXLINEEND <code><em>maxLeftExtensiion maxRightExtension</em></code>]<br />            [MAXYLINEEND <code><em>maxBottomExtensiion maxTopExtension</em></code>]<br />            ; &#8220; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8131850"></a>Where:</p>


<p>
<a id="pgfId-8131930"></a></p>
<table class="webflareTable" id="#id8131851">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131853"></a><code>ABOVEMINLENGTH </code><span class="webflare-courier-new" style="white-space:pre"><em>aboveMinLength</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131857"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131859"></a>Specifies the minimum length of the default width wires on the above metal layer. This construct must be specified with <code>XPITCH</code> and/or <code>YPITCH</code>.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131861"></a><code>BELOWMINLENGTH </code><span class="webflare-courier-new" style="white-space:pre"><em>belowMinLength</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131865"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131867"></a>Specifies the minimum length of the default width wires on the below metal layer. This construct must be specified with <code>XPITCH</code> and/or <code>YPITCH</code>.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131869"></a><code>MAXCELLEXTENSION </code><span class="webflare-courier-new" style="white-space:pre"><em>extensionPitch</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131873"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131875"></a>Specifies the maximum number of pitch <span class="webflare-courier-new" style="white-space:pre"><em>extensionPitch</em></span> extended from the cell boundary of the pin along both directions from which the stacked vias must be enclosed. By default, the stacked vias must be inside the cell boundary if this construct is not specified.<br /><em>Type:</em> Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131877"></a><code>MAXXLINEEND </code><span class="webflare-courier-new" style="white-space:pre"><em>maxLeftExtensiion maxRightExtension</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131881"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131883"></a>Forms a boundary box of the pin shapes to which the stacked vias connect and expands to the left and right horizontally by <span class="webflare-courier-new" style="white-space:pre"><em>maxLeftExtension</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRightExtension</em></span>, respectively. All of the via cuts on this layer must be enclosed by this expanded boundary box. If negative values are given, it would shrink the boundary box in the given direction. This construct should be mutually exclusive to <code>MAXCELLEXTENSION</code>. </p>
<p>
<a id="pgfId-8131884"></a><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131886"></a><code>MAXXPITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>maxXPitch</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131890"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131892"></a>Specifies the maximum number of pitch by which all the vertical minimum-default-width metal wires of the stacked vias could be apart. The pitch must be smaller than or equal to the given value.<br /><em>Type:</em> Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131894"></a><code>MAXYLINEEND </code><span class="webflare-courier-new" style="white-space:pre"><em>maxBottomExtensiion maxTopExtension</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131898"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131900"></a>Forms a boundary box of the pin shapes to which the stacked vias connect and expands to the bottom and top vertically by <span class="webflare-courier-new" style="white-space:pre"><em>maxBottomExtension</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxTopExtension</em></span>, respectively. All of the via cuts on this layer must be enclosed by this expanded boundary box. If negative values are given, it would shrink the boundary box in the given direction. This construct should be mutually exclusive to <code>MAXCELLEXTENSION</code>. </p>
<p>
<a id="pgfId-8131901"></a><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8131903"></a><code>MAXYPITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>maxYPitch</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131907"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131909"></a>Specifies the maximum number of pitch by which all the horizontal minimum-default-width metal wires of the stacked vias could be apart. The pitch must be smaller than or equal to the given value.<br /><em>Type:</em> Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131911"></a><code>OFFGRIDCUT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131913"></a>Specifies that the cuts could be placed off grid to block fewer routing and the below metal shape would become an L shape. It is typically applied on a transition cut layer in which the cut size is larger than the default wire width on the below metal.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8131915"></a><code>STACKVIALAYERRULE </code><code><em>ruleName<br /></em></code><code>   LAYER </code><code><em>cutLayerName</em></code><code> [CUTCLASS </code><code><em>className</em></code>]<br /><code>      ROWCOL </code><code><em>numCutRows numCutCols</em></code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131919"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131921"></a>Specifies a stacked via rule on cut layer <span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span> with <span class="webflare-courier-new" style="white-space:pre"><em>className</em></span> cuts. If <code>CUTCLASS</code> is not specified, the cut class with the smallest cut size would be used or the table lookup cut class would be applied based on the wire width if <code>METALWIDTHVIAMAP</code> is defined. These stacked via rules would be combined in <code>STACKVIARULE</code> to build stacked vias on top of some special instance pins. <code>ROWCOL</code> specifies the number of cut rows and columns of a multiple-cuts via of cut class <span class="webflare-courier-new" style="white-space:pre"><em>className</em></span> to use on the pin. <br /><em>Type:</em> String and Integer<br />
Note that this rule is only for via creation. It is difficult to re-determine the cut dimension of a generated via, and the checker does not check for the correctness of the generated vias.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131923"></a><code>XPITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>xPitch</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131925"></a>Specifies that all the individual cuts must be on the grid on both the top and bottom metal layers. The cuts are <span class="webflare-courier-new" style="white-space:pre"><em>xPitch</em></span> horizontally. There would be multiple vertical minimum-default-width metal wires, and each one of them would connect separately to a cut. In the case of a transition cut layer, the cut size would be larger than the default wire width on the below metal layer. It is typical to apply the <code>OFFGRIDCUT</code> construct such that the below metal shape becomes an L shape to block fewer tracks. If the common metal between two adjacent cut layers is vertical, <span class="webflare-courier-new" style="white-space:pre"><em>xPitch</em></span> on these two cut layers must be identical if they are defined. If neither <code>XPITCH</code> nor <code>YPITCH</code> is specified, the tool would automatically determine the proper pitch values. If zero is given in both of the pitches, a typical via with one large metal shape each on both the top and bottom layers would be created.<br /><em>Type:</em> Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131927"></a><code>YPITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>yPitch</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8131929"></a>Specifies that all the individual cuts must be on the grid on both the top and bottom metal layers. The cuts are <span class="webflare-courier-new" style="white-space:pre"><em>yPitch</em></span> vertically. There would be multiple horizontal minimum-default-width metal wires, and each one of them would connect separately to a cut. In the case of a transition cut layer, the cut size would be larger than the default wire width on the below metal layer. It is typical to apply the <code>OFFGRIDCUT</code> construct such that the below metal shape becomes an L shape to block fewer tracks. If the common metal between two adjacent cut layers is horizontal, <span class="webflare-courier-new" style="white-space:pre"><em>yPitch</em></span> on these two cut layers must be identical if they are defined. If neither <code>XPITCH</code> nor <code>YPITCH</code> is specified, the tool would automatically determine the proper pitch values. If zero is given in both of the pitches, a typical via with one large metal shape each on both the top and bottom layers would be created.<br /><em>Type:</em> Integer</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8131931"></a><strong>Stack Via Layer Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8131932"></a>The following example is an illustration of the stack via layer rule:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8131933">
<a id="pgfId-8131933"></a><code>PROPERTY LEF58_STACKVIALAYERRULE &#8220;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131934">
<a id="pgfId-8131934"></a><code>   STACKVIALAYERRULE SVLR1 LAYER VIA1 CUTCLASS VA1 </code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131935">
<a id="pgfId-8131935"></a><code>      ROWCOL 2 3 XPITCH 2 YPITCH 3  ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131936">
<a id="pgfId-8131936"></a><code>   STACKVIALAYERRULE SVLR2 LAYER VIA2 CUTCLASS VA2 </code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131937">
<a id="pgfId-8131937"></a><code>      ROWCOL 2 2 XPITCH 3 YPITCH 3 </code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131938">
<a id="pgfId-8131938"></a><code>      BELOWMINLENGTH 0.3 ; &#8220; ; </code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131939">
<a id="pgfId-8131939"></a><code>PROPERTY LEF58_STACKVIARULE &#8220;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8131940">
<a id="pgfId-8131940"></a><code>   STACKVIARULE SVR1 SVLR1 SVLR2 ; &#8220; ;</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-21
<a id="pgfId-8131941"></a>Illustration of Stack Via Layer Rules</strong>
<a id="pgfId-8132035"></a><div class="webflare-div-image">
<img width="668" height="409" src="images/LEFSyntax-22.gif" /></div><strong>Figure 1-22
<a id="pgfId-8132036"></a>Illustration of MAXCELLEXTENSION <span class="webflare-courier-new" style="white-space:pre"><em>extensionPitch</em></span> </strong>
<a id="pgfId-8132061"></a><div class="webflare-div-image">
<img width="668" height="274" src="images/LEFSyntax-23.gif" /></div><strong>Figure 1-23
<a id="pgfId-8132062"></a>Illustration of OFFGRIDCUT</strong>
<a id="pgfId-8132145"></a><div class="webflare-div-image">
<img width="668" height="435" src="images/LEFSyntax-24.gif" /></div><strong>Figure 1-24
<a id="pgfId-8132146"></a>Illustration of MAXXLINEEND with Negative Values for <span class="webflare-courier-new" style="white-space:pre"><em>maxLeftExtension</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>maxRightExtension</em></span></strong>
<a id="pgfId-8132193"></a><div class="webflare-div-image">
<img width="668" height="250" src="images/LEFSyntax-25.gif" /></div></li></ul>








































<h4><em>
<a id="pgfId-8132194"></a>Stack Via Rule <a id="PropLibStackViaRule"></a></em></h4>

<p>
<a id="pgfId-8132195"></a>You can create a stack via rule to specify a list of stack via rules for individual layers.</p>
<p>
<a id="pgfId-8132196"></a>You can define a stack via rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132197"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_STACKVIARULE STRING<br />&#8220;STACKVIARULE <code><em>ruleName</em></code> {<code><em>stackLayerRuleName</em></code>}...[EMFACTOR <code><em>emFactor</em></code>]<br />     ; &#8220; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8132198"></a>Where:</p>


<p>
<a id="pgfId-8132213"></a></p>
<table class="webflareTable" id="#id8132199">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132201"></a><code>EMFACTOR </code><span class="webflare-courier-new" style="white-space:pre"><em>emFactor</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132203"></a>Specifies an EM-effective factor to indicate how well this stack via rule could prevent EM violations. The higher the specified number, the more effective is the rule in preventing EM violations.</p>
<p>
<a id="pgfId-8132204"></a>Type: Float</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132206"></a><code>STACKVIARULE</code> <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span> {<span class="webflare-courier-new" style="white-space:pre"><em>stackLayerRuleName</em></span>}...</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132210"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132212"></a>Specifies a stacked via rule, which consists of a list of stack via rules on individual layers in the given <span class="webflare-courier-new" style="white-space:pre"><em>stackLayerRuleName</em></span>. This list of stack via rules are the rule names specified with <code>STACKVIALAYERRULE</code>. <span class="webflare-courier-new" style="white-space:pre"><em>stackLayerRuleName</em></span> should correspond to individual layer rules on consecutive layers. It is illegal to define multiple <code>stackLayerRuleName</code> on the same layer. <code>STACKVIALAYERRULE</code> statements should be defined prior to <code>STACKVIARULE</code> in the tech LEF file.<br /><em>Type:</em> String</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8132214"></a>Tap Distance Rule </em></h4>

<p>
<a id="pgfId-8132215"></a>You can create a tap distance rule to specify distance between well tap cells.</p>
<p>
<a id="pgfId-8132216"></a>You can define a tap distance rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132218"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_TAPDISTANCE STRING<br />&#8220;TAPDISTANCE {<code><em>distance</em></code><a id="PropLibTapDistanceOnly"></a> | TAPDISTANCERULE <code><em>ruleName<br /></em></code>     |{HALFROW <code><em>rowNum</em></code> [LEFT|RIGHT] <br /><code><em>&#160;&#160;       </em></code>{<code><em>distance </em></code>| TAPDISTANCERULE <code><em>ruleName</em></code>}}...}<br />     TAPTYPE <code><em>typeName<br /></em></code>     ; &#8220; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8132219"></a>Where:</p>


<p>
<a id="pgfId-8132232"></a></p>
<table class="webflareTable" id="#id8132220">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132222"></a><code>TAPDISTANCE {</code><span class="webflare-courier-new" style="white-space:pre"><em>distance</em></span> | TAPDISTANCERULE <span class="webflare-courier-new" style="white-space:pre"><em>ruleName<br /></em></span><code>     |{HALFROW </code><span class="webflare-courier-new" style="white-space:pre"><em>rowNum</em></span><code> [LEFT|RIGHT] <br /></code>          {<span class="webflare-courier-new" style="white-space:pre"><em>distance</em></span> | TAPDISTANCERULE <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span><code>}}...}<br /></code><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;   </em></span><code>TAPTYPE </code><span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132226"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132228"></a>Specifies that the effective distance of a well tap cell with type <span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span> should be <span class="webflare-courier-new" style="white-space:pre"><em>distance</em></span> on both the left and right sides of the cell, which the cell could cover. If <code>TAPDISTANCERULE</code> is specified, the distance is obtained from the tap distance rule <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span>. The distance is measured from the center of the cell. For example, the center-to-center distance between two well tap cells of the same type must be less than or equal to <code>2 * </code><span class="webflare-courier-new" style="white-space:pre"><em>distance</em></span>. </p>
<p>
<a id="pgfId-8132229"></a><em>Type</em>: Float, specified in microns</p>
<p>
<a id="pgfId-8132230"></a><code>HALFROW</code> specifies that different distances could be defined on a half row basis, either in <span class="webflare-courier-new" style="white-space:pre"><em>distance</em></span> or in the distance defined in the tap distance rule <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span>. <span class="webflare-courier-new" style="white-space:pre"><em>rowNum</em></span> specifies the half row, with respect to the cell origin, on which the distance is defined.</p>
<p>
<a id="pgfId-8132231"></a><code>LEFT|RIGHT</code> specifies that different distances could be defined on the left or right sides on a half cell row basis. Left and right is referred with respect to the cell origin.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8132233"></a><strong>Tap Distance Rule Example</strong></p>
<ul><li>
<a id="pgfId-8132234"></a>The following example is an illustration of the tap distance rule:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8132235">
<a id="pgfId-8132235"></a><code>PROPERTYDEFINITIONS</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132236">
<a id="pgfId-8132236"></a><code>LIBRARY LEF58_TAPDISTANCE STRING &#8220;
     TAPDISTANCE HALFROW 1 2.4 
          HALFROW 2 2.0 TAPTYPE TAP1
     TAPDISTANCE HALFROW 1 1.2 HALFROW 2 1.2
          HALFROW 3 LEFT 0 HALFROW 3 RIGHT 0.8
          HALFROW 4 LEFT 0 HALFROW 4 RIGHT 0.8
          TAPTYPE TAP2 ; &#8220; ;
END PROPERTYDEFINITIONS</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-25
<a id="pgfId-8132237"></a>Illustration of Tap Distance Rule </strong>
<a id="pgfId-8132249"></a><div class="webflare-div-image">
<img width="668" height="228" src="images/LEFSyntax-26.gif" /></div></li></ul>













<h4><em>
<a id="pgfId-8132250"></a>Tap Distance Rule Property</em></h4>

<p>
<a id="pgfId-8132251"></a>You can create a tap distance rule property to specify effective tap distance.</p>
<p>
<a id="pgfId-8132252"></a>You can define a tap distance rule property by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132254"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_TAPDISTANCERULE STRING<br />&#8220;TAPDISTANCERULE <code><em>ruleName</em></code><a id="PropLibTapDistanceRule"></a> DEFAULT <code><em>distance<br /></em></code>     [LAYER <code><em>layerName layerDistance</em></code>]...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132255"></a>     ; &#8221;;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8132256"></a>Where:</p>


<p>
<a id="pgfId-8132267"></a></p>
<table class="webflareTable" id="#id8132257">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132259"></a><code>TAPDISTANCERULE </code><span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span><code> DEFAULT </code><span class="webflare-courier-new" style="white-space:pre"><em>distance<br /></em></span><code>     [LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layerName layerDistance</em></span><code>]...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132263"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132265"></a>Specifies that a rule with the name <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span> has an effective tap distance of <span class="webflare-courier-new" style="white-space:pre"><em>distance</em></span> by default and <span class="webflare-courier-new" style="white-space:pre"><em>layerDistance</em></span> when a tap cell overlaps with the areas on the layer <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, which should be a <code>WELLDISTANCE</code> masterslice layer. The <code>TAPDISTANCE</code> library property could refer to this tap distance rule to determine the effective tap distance. </p>
<p>
<a id="pgfId-8132266"></a><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8132268"></a>Trim Metal Track Rule</em></h4>

<p>
<a id="pgfId-8132269"></a>You can create a trim metal track rule to define the trim metal tracks on a trim layer. </p>
<p>
<a id="pgfId-8132270"></a>You can define a trim metal track rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<a id="pgfId-8132272"></a><a id="PropLibTrimMetalTrack"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPE<code></code>RTYDEFINITIONS
LIBRARY LEF58_TRIMMETALTRACK STRING
&#8220;TRIMMETALTRACK <code><em>trimLayer</em></code> [GROUP <code><em>groupName</em></code>]
     [ONTRACK [HALFINFILLER | HALFNONMERGED]
         [INCLUDELINEEND [TRIMCENTER]]]
     [MASK <code><em>maskNum
</em></code>     |METALTRACKOFFSET <code><em>trackNumber</em></code> METALTRACKPITCH <code><em>trackPitch</em></code>] 
     COREOFFSET <code><em>offset </em></code>PITCH <code><em>pitch
</em></code>     ;&#8221; ;</pre>
<a id="pgfId-8132273"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8132274"></a>Where:</p>


<p>
<a id="pgfId-8132311"></a></p>
<table class="webflareTable" id="#id8132275">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132277"></a><code>GROUP </code><span class="webflare-courier-new" style="white-space:pre"><em>groupName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132279"></a>Assigns a group name to the track definition. If any one of the <code>TRIMMETALTRACK</code> statements has <code>GROUP</code>, <code>GROUP</code> must be specified on all of the <code>TRIMMETALTRACK</code> statements. A separate command is used to define which group of <code>TRIMMETALTRACK</code> statements would be applied on a design.</p>
<p>
<a id="pgfId-8132280"></a><em>Type</em>: String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132282"></a><code>HALFNONMERGED</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132284"></a>Specifies that any non-merged trims could be on the half track as an exemption.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8136818"></a><code>INCLUDELINEEND</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8136820"></a>Specifies that the line-end edges with default wire width or width lesser than or equal to the <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> value in <code>EXCEPTWIDTH</code> in the corresponding TRIMSHAPE definition if specified without a trim should also snap to the given hard trim grid. In other words, if a trim were to be added on that line-end edge, that imaginary trim should be on-grid.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132286"></a><code>METALTRACKOFFSET </code><span class="webflare-courier-new" style="white-space:pre"><em>trackNumber</em></span><code> METALTRACKPITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>trackPitch</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132290"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132292"></a>Specifies that the trim metal track is applied on the <span class="webflare-courier-new" style="white-space:pre"><em>trackNumber</em></span> metal track with respect to the core and all the tracks that are apart by a multiple of <span class="webflare-courier-new" style="white-space:pre"><em>trackPitch</em></span> track. If <code>METALTRACKPITCH</code> is defined on a certain given layer, all the other trim metal track statements on that layer must have <code>METALTRACKPITCH</code> with the same value. In addition, there should be at least <span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span> number of those statements. They should have different <span class="webflare-courier-new" style="white-space:pre"><em>trackNumber</em></span> statements and together they cover the track number of <code>1</code> to <span class="webflare-courier-new" style="white-space:pre"><em>trackPitch</em></span>. Then, multiple statements with the same <span class="webflare-courier-new" style="white-space:pre"><em>trackNumber</em></span> but with different <span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span> could be defined. </p>
<p>
<a id="pgfId-8132293"></a><em>Type</em>: Integer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132295"></a><code>ONTRACK [HALFINFILLER]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132299"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132301"></a>Specifies the trim metal tracks are a hard constraint. It means that all of the inserted trims must be on a track and having an off-grid trim would be a violation by itself. <code>HALFINFILLER</code> means that trims on some special 1CPP filler cells could be on the half track as an exemption. The tool has a separate option to identify those special cells. This hard constraint does not apply to pre-defined trims in <code>MACRO</code> in the cell <code>LEF</code>. In addition, if one <code>TRIMMETALTRACK</code> statement defines <code>ONTRACK</code> on a <span class="webflare-courier-new" style="white-space:pre"><em>trimLayer</em></span>, all of the statements on that trim layer must also have <code>ONTRACK</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8136852"></a><code>TRIMCENTER</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8139975"></a>Specifies that line-end edges with default wire width or width lesser than or equal to the <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> value in <code>EXCEPTWIDTH</code> in the corresponding TRIMSHAPE definition if specified without a trim should snap to the center of the trim grid.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132303"></a><code>TRIMMETALTRACK </code><span class="webflare-courier-new" style="white-space:pre"><em>trimLayer</em></span><code> [MASK </code><span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span><code>] COREOFFSET </code><span class="webflare-courier-new" style="white-space:pre"><em>offset<br /></em></span><code>PITCH </code><span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132307"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132309"></a>Specifies the trim metal tracks on layer <span class="webflare-courier-new" style="white-space:pre"><em>trimLayer</em></span>. The direction of the tracks should always be the orthogonal direction of the preferred routing direction of the metal layer defined in <code>TRIMMEDMETAL</code> on the layer <span class="webflare-courier-new" style="white-space:pre"><em>trimLayer</em></span> that the trim metal trims.<br /><span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> defines the metal track mask on which the trim grids are applied. <br /><span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span> specifies the starting coordinate of the track with respect to the origin of the core with repeatable tracks that are <span class="webflare-courier-new" style="white-space:pre"><em>pitch</em></span> apart. Multiple statements could be defined on the same mask and/or different masks for different sets of tracks. Typically, the trim metal tracks depend on the cell objects, and this library property is likely to be defined in a cell LEF or side LEF file, instead of in a tech LEF file.</p>
<p>
<a id="pgfId-8132310"></a><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8132312"></a><strong>Trim Metal Track Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8132313"></a>Consider the following example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8132314">
<a id="pgfId-8132314"></a><code>LAYER TM1
     TYPE MASTERSLICE ;
     MASK 2 ;
     PROPERTY LEF58_TYPE &#8220;TYPE TRIMMETAL ; &#8221; ;
     PROPERTY LEF58_TYPE &#8220;TYPE TRIMMEDMETAL M1 ; &#8221; ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132315">
<a id="pgfId-8132315"></a><code>     ...
END TM1</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132316">
<a id="pgfId-8132316"></a><code>...</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132317">
<a id="pgfId-8132317"></a><code>LAYER M1
     TYPE ROUTING ;
     DIRECTION VERTICAL ;
     ...
END M1</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132318">
<a id="pgfId-8132318"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132319">
<a id="pgfId-8132319"></a>PROPERTYDEFINITIONS
LIBRARY LEF58_TRIMMETALTRACK STRING &#8220;
<code>           </code>TRIMMETALTRACK TM1 MASK 1 COREOFFSET 0.01 PITCH 0.2 ;
<code>           </code>TRIMMETALTRACK TM1 MASK 1 COREOFFSET 0.12 PITCH 0.2 ;
<code>           </code>TRIMMETALTRACK TM1 MASK 2 COREOFFSET 0.08 PITCH 0.2 ;
<code>           </code>TRIMMETALTRACK TM1 MASK 2 COREOFFSET 0.19 PITCH 0.2 ;
END PROPERTYDEFINITIONS</pre>
<a id="pgfId-8132320"></a>The above example means that the trim metal layer of <code>TM1</code> has two sets of horizontal tracks on <code>MASK 1</code> with starting <span class="webflare-courier-new" style="white-space:pre"><em>y</em></span> locations of <code>0.01</code> and <code>0.12</code> with respect to the origin of the core with repeatable pitch of <code>0.2</code>, and it has another two sets of horizontal tracks on <code>MASK 2</code> with starting <span class="webflare-courier-new" style="white-space:pre"><em>y</em></span> locations of <code>0.08</code> and <code>0.19</code> with respect to the origin of the core with repeatable pitch of <code>0.2</code>.</li><li>
<a id="pgfId-8132321"></a>The following example is an illustration of the trim metal track rule with <code>METALTRACKOFFSET</code> and <code>METALTRACKPITCH</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8132322">
<a id="pgfId-8132322"></a><code>TRIMMETALTRACK TM1 METALTRACKOFFSET 1 METALTRACKPITCH 3
    COREOFFSET O1 PITCH P ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132323">
<a id="pgfId-8132323"></a><code>TRIMMETALTRACK TM1 METALTRACKOFFSET 2 METALTRACKPITCH 3
    COREOFFSET O2 PITCH P ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132324">
<a id="pgfId-8132324"></a><code>TRIMMETALTRACK TM1 METALTRACKOFFSET 3 METALTRACKPITCH 3
    COREOFFSET O3 PITCH P ;</code></pre><br /><strong class="webflare-fig-line-height">Figure 1-26
<a id="pgfId-8132325"></a>Illustration of Trim Metal Track Rule </strong>
<a id="pgfId-8132329"></a><div class="webflare-div-image">
<img width="668" height="386" src="images/LEFSyntax-27.gif" /></div></li></ul>






















<h4><em>
<a id="pgfId-8132330"></a>Voltage Mode Rule <a id="PropLibVoltageMode"></a></em></h4>

<p>
<a id="pgfId-8132331"></a>You can create a voltage mode rule to define how voltage should be computed in <code>VOLTAGESPACING</code> spacing.</p>
<p>
<a id="pgfId-8132332"></a>You can define a voltage mode rule by using the following <code>PROPERTYDEFINITIONS</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132333"></a>PROPERTYDEFINITIONS<br />LIBRARY LEF58_VOLTAGEMODE STRING<br />&#8220;VOLTAGEMODE ABSOLUTE<br />     ; &#8220; ;<br />END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-8132334"></a>Where:</p>


<p>
<a id="pgfId-8132344"></a></p>
<table class="webflareTable" id="#id8132335">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132337"></a><code>VOLTAGEMODE ABSOLUTE</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132341"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132343"></a>Specifies that the absolute maximum voltage of a net is used to define which <code>VOLTAGESPACING</code> spacing value should be applied on that net. The voltage of neighboring nets is irrelevant.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-5528374"></a><a id="35400"></a><a id="20786"></a>Macr<a id="Macro"></a>o</h3>
<a id="pgfId-8132372"></a><a id="marker-8138592"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
MACRO <code><em>macroName
</em></code>[<a href="LEFSyntax.html#MacroClass">CLASS</a> 
  { COVER [BUMP]
  | RING 
  | BLOCK [BLACKBOX | SOFT]
  | PAD [INPUT | OUTPUT |INOUT | POWER | SPACER | AREAIO]
  | CORE [FEEDTHRU | TIEHIGH | TIELOW | SPACER | ANTENNACELL | WELLTAP]
  | ENDCAP {PRE | POST | TOPLEFT | TOPRIGHT | BOTTOMLEFT | BOTTOMRIGHT} 
  } 
;]
[<a href="LEFSyntax.html#MacroFixedmask">FIXEDMASK</a> ;]
[FOREIGN <code><em>foreignCellName</em></code> [<code><em>pt</em></code> [<code><em>orient</em></code>]] ;] ... 
[ORIGIN <code><em>pt</em></code> ;]
[EEQ <code><em>macroName</em></code> ;]
[SIZE <code><em>width</em></code> BY <code><em>height</em></code> ;]
[SYMMETRY {X | Y | R90} ... ;]
[SITE <code><em>siteName</em></code> [<code><em>sitePattern</em></code>] ;] ...
[<a href="LEFSyntax.html#MacroPinStatement">PIN</a><code><em> statement</em></code>] ...
[<a href="LEFSyntax.html#MacroObstructionStatement">OBS</a><code><em> statement</em></code>] ...
[<a href="LEFSyntax.html#MacroDensity">DENSITY</a> <code><em>statement</em></code>] ...
[PROPERTY <code><em>propName</em></code> <code><em>propVal</em></code> ;] ...
[<a href="LEFSyntax.html#PropAccessArea">PROPERTY LEF58_ACCESSAREA
</a>   &quot;ACCESSAREA {LAYER <code><em>layerName</em></code> RECT <code><em>pt pt</em></code> [CUTCLASS <code><em>className</em></code>]
   [EXCEPTEXTRACUT]}...
   ; &quot; ;]
[<a href="LEFSyntax.html#PropAlignPGViaToTrackType">PROPERTY LEF58_ALIGNPGVIATOTRACK
</a>   &quot;ALIGNPGVIATOTRACK
   ; &quot; ;]
[<a href="LEFSyntax.html#PropAllpinsconnected">PROPERTY LEF58_ALLPINSCONNECTED
</a>   &quot;ALLPINSCONNECTED
   ; &quot; ;]
[<a href="LEFSyntax.html#PropMacroClass">PROPERTY LEF58_CLASS
</a>  &quot;CLASS 
    {COVER [BUMP | FILL]
    | RING
    | BLOCK [BLACKBOX | SOFT]
    | PAD [INPUT | OUTPUT | INOUT | POWER | SPACER | AREAIO]
    | CORE [FEEDTHRU | TIEHIGH | TIELOW | SPACER 
          | ANTENNACELL | WELLTAP [TAPWALL] [TAPTYPE <code><em>typeName</em></code>]]
    | ENDCAP {PRE | POST | TOPLEFT | TOPRIGHT | BOTTOMLEFT
              | BOTTOMRIGHT
              | TOPEDGE | BOTTOMEDGE | LEFTEDGE | RIGHTEDGE  
              | LEFTEVENSITEEDGE | LEFTODDSITEEDGE
              | RIGHTEVENSITEEDGE | RIGHTODDSITEEDGE
              | LEFTTOPEDGE | RIGHTTOPEDGE 
              | LEFTBOTTOMEDGE | RIGHTBOTTOMEDGE
              | LEFTTOPEVENSITEEDGE | LEFTTOPODDSITEEDGE
              | RIGHTTOPEVENSITEEDGE | RIGHTTOPODDSITEEDGE
              | LEFTBOTTOMEVENSITEEDGE 
              | LEFTBOTTOMODDSITEEDGE
              | RIGHTBOTTOMEVENSITEEDGE 
              | RIGHTBOTTOMODDSITEEDGE
              | LEFTTOPCORNER | RIGHTTOPCORNER 
              | LEFTBOTTOMCORNER | RIGHTBOTTOMCORNER
              | LEFTTOPEVENSITECORNER | LEFTTOPODDSITECORNER
              | RIGHTTOPEVENSITECORNER 
              | RIGHTTOPODDSITECORNER
              | LEFTBOTTOMEVENSITECORNER
              | LEFTBOTTOMODDSITECORNER
              | RIGHTBOTTOMEVENSITECORNER 
              | RIGHTBOTTOMODDSITECORNER
              | LEFTEDGETOPBORDER
              | LEFTEDGEBOTTOMBORDER
              | RIGHTEDGETOPBORDER
              | RIGHTEDGEBOTTOMBORDER
              | LEFTTOPEDGENEIGHBOR
              | RIGHTTOPEDGENEIGHBOR
              | LEFTBOTTOMEDGENEIGHBOR
              | RIGHTBOTTOMEDGENEIGHBOR
              | LEFTTOPCORNERNEIGHBOR 
              | RIGHTTOPCORNERNEIGHBOR 
              | LEFTBOTTOMCORNERNEIGHBOR 
              | RIGHTBOTTOMCORNERNEIGHBOR 
              | LEFTCORNERTOPBORDER
              | RIGHTCORNERTOPBORDER
              | LEFTCORNERBOTTOMBORDER
              | RIGHTCORNERBOTTOMBORDER
              | TOPCORNEREDGENEIGHBOR
              | BOTTOMCORNEREDGENEIGHBOR
              | TSVTOPEDGE | TSVBOTTOMEDGE
              | TSVLEFTEDGE | TSVRIGHTEDGE
              | TSVLEFTTOPCORNER | TSVLEFTBOTTOMCORNER
              | TSVRIGHTTOPCORNER | TSVRIGHTBOTTOMCORNER
              | TSVLEFTTOPEDGE | TSVLEFTBOTTOMEDGE
              | TSVRIGHTTOPEDGE | TSVRIGHTBOTTOMEDGE
              | TSVLEFTTOPEDGENEIGHBOR
              | TSVRIGHTTOPEDGENEIGHBOR
              | TSVLEFTBOTTOMEDGENEIGHBOR
              | TSVRIGHTBOTTOMEDGENEIGHBOR
              | TSVLEFTTOPCORNERNEIGHBOR
              | TSVRIGHTTOPCORNERNEIGHBOR
              | TSVLEFTBOTTOMCORNERNEIGHBOR
              | TSVRIGHTBOTTOMCORNERNEIGHBOR}
              [TAPWALL] [TAPTYPE <code><em>typeName</em></code>]
}
    }
  ; &quot; ;]
[<a href="LEFSyntax.html#PropMacroConstraintAreaType">PROPERTY LEF58_CONSTRAINTAREATYPE
</a>   &quot;CONSTRAINTAREATYPE <code><em>typeName</em></code> {RECT <code><em>pt pt</em></code>}...
    ;...&quot; ;]
[<a href="LEFSyntax.html#PropEdgeType">PROPERTY LEF58_EDGETYPE
</a>   &quot;EDGETYPE {RIGHT | LEFT | TOP | BOTTOM}
    <code><em>edgeType</em></code> | BOTHSOURCE | SOURCEDRAIN | DRAINSOURCE | BOTHDRAIN 
    | BOTHFLOATING
    [CELLROW <code><em>cellRow</em></code>  | HALFROW <code><em>halfRow</em></code> | RANGE <code><em>xLow</em></code> <code><em>xHigh</em></code>]
    ;...&quot; ;]
[<a href="LEFSyntax.html#PropMacroEEQ">PROPERTY LEF58_EEQ
</a>   &quot;EEQ <code><em>macroName</em></code> [VARIANT <code><em>num</em></code>]
    ;... &quot; ;]
[<a href="LEFSyntax.html#PropForeign">PROPERTY LEF58_FOREIGN
</a>   &quot;FOREIGN <code><em>foreignCellName</em></code> [<code><em>pt</em></code> [<code><em>orient</em></code>]] 
         [COMPORIENT <code><em>foreignOrientName</em></code> {<code><em>compOrient</em></code>}...]...
    ;... &quot; ;]
[<a href="LEFSyntax.html#PropMacroLayermaskshift">PROPERTY LEF58_LAYERMASKSHIFT
</a>   &quot;LAYERMASKSHIFT <code><em>layer1</em></code> [<code><em>layer2</em></code> ...] 
    ;... &quot; ;]
[<a href="LEFSyntax.html#PropObspartial">PROPERTY LEF58_OBSPARTIAL
</a>  &quot;OBSPARTIAL {LAYER layerName 
    WIDTH <code><em>width</em></code> SPACING <code><em>spacing</em></code> RECT <code><em>pt</em></code> <code><em>pt</em></code>}...
  ; &quot; ;]
[<a href="LEFSyntax.html#PropObsspacing">PROPERTY LEF58_OBSSPACING
</a>  &quot;OBSSPACING {FULLDRC | MIN | <code><em>spacing</em></code>} [LAYER <code><em>layerName</em></code>]...
  ; &quot; ;]
[<a href="LEFSyntax.html#PropPlaceWithin">PROPERTY LEF58_PLACEWITHIN
</a>  &quot;PLACEWITHIN <code><em>within</em></code> PRL <code><em>prl</em></code> {WITH|WITHOUT} LAYER {<code><em>layerName</em></code>}...
  ; &quot; ;]
[<a href="LEFSyntax.html#PropMacroReq">PROPERTY LEF58_REQ
</a>   &quot;REQ <code><em>macroName</em></code> 
    ; &quot; ;]
[<a href="LEFSyntax.html#PropTapCenterOffset">PROPERTY LEF58_TAPCENTEROFFSET
</a>  &quot;TAPCENTEROFFSET
    {<code><em>offset</em></code> | {HALFROW <code><em>rowNum</em></code> [LEFT|RIGHT] <code><em>offset</em></code>}...}
  ; &quot; ;]</pre>
<a id="pgfId-975588"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END <code><em>macroName</em></code> </pre>

<p>
<a id="pgfId-973407"></a>Defines macros in the design.</p>
<p>
<a id="pgfId-6034361"></a>Note: The keywords must be specified in the given order. For example if <code>ORIGIN</code> and <code>SITE</code> are both defined, <code>ORIGIN</code> must be specified first.</p>

<p><strong>
<a id="pgfId-6034364"></a><code>CLASS</code><a id="MacroClass"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125201"></a>Specifies the macro type. If you do not specify <code>CLASS</code>, the macro is considered a <code>CORE</code> macro, and a warning prints when the LEF file is read in. You can specify macros of the following types: </p>
<table class="webflareTable webflareTableIndent" id="#id975598">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969885"></a><code>COVER</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969887"></a>Macro with data that is fixed to the floorplan and cannot change, such as power routing (ring pins) around the core.<a id="marker-7969888"></a> The placers understand that <code>CLASS</code> <code>COVER</code> cells have no active devices (such as diffusion or polysilicon), so the <code>MACRO</code> <code>SIZE</code> statement does not affect the placers, and you do not need an artificial <code>OVERLAP</code> layer. However, any pin or obstruction geometry in the <code>COVER</code> cells can affect the pin access checks done by the placers.</p>
<p>
<a id="pgfId-7969889"></a>A cover macro can be of the following sub-class:</p>
<p>
<a id="pgfId-7969890"></a><code>BUMP</code>&#8212;A physical-only cell that has bump geometries and pins. Typically a bump cell has geometries only on the top-most &#8220;bump&#8221; metal layer, although it might contain a via and pin to the metal layer below. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969892"></a><code>RING</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969894"></a>Large macro that has an internal power mesh, and only exposes power-pin shapes that form a ring along the macro boundary. When power stripes are added across the macro, they connect to each side of the ring-pin but do not go inside the ring. The <code>CLASS RING</code> macro can also be used for power-switch cells that are abutted together to form a power-ring around a power-domain. In that case, their power-pins have the same effect of interrupting power stripes as the ring-pins in a single block <code>RING</code> macro.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969896"></a><code>BLOCK</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969898"></a>Predefined macro used in hierarchical design.</p>
<p>
<a id="pgfId-7969899"></a>A block macro can have one of the following sub-classes:</p>
<p>
<a id="pgfId-7969900"></a><code>BLACKBOX</code>&#8212;A block that sometimes only contains a <code>SIZE</code> statement that estimates its total area. A blackbox can optionally contain pins, but in many cases, the pin names are taken from a Verilog description and do not need to match the LEF <code>MACRO</code> pin names.</p>
<p>
<a id="pgfId-7969901"></a><code>SOFT</code>&#8212;A cell that also contains a version of the sub-block that is not fully implemented. Normally, a soft block LEF can still have certain parts of it modified (for example, the aspect ratio, or pin locations) because the sub-block is not yet fully implemented. Any changes should be passed to the sub-block implementation. In contrast, a <code>BLACKBOX</code> has no sub-block implementation available. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969903"></a><code>PAD</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969905"></a>I/O pad. A pad can be one of the following types: <code>INPUT</code>, <code>OUTPUT</code>, <code>INOUT</code>, <code>POWER</code>, or <code>SPACER</code>, for I/O rows; <code>INPUT</code>, <code>OUTPUT</code>, <code>INOUT</code>, or <code>POWER</code>, for I/O corner pads; <code>AREAIO</code> for area I/O driver cells that do not have the bump built in as part of the macro (and therefore require routing to a <code>CLASS</code> <code>COVER</code> <code>BUMP</code> macro for a connection to the IC package). <br /><strong>Note</strong>: Unlike <code>CORE SPACER</code>, <code>PAD SPACER</code> can contain logic pins.</p>
<p>
<a id="pgfId-7969909"></a>For an example of a macro pad cell, see <a href="LEFSyntax.html#52553">Example&#160;1-2</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969911"></a><code>CORE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969913"></a>A standard cell used in the core area. <code>CORE</code> macros should always contain a <code>SITE</code> definition so that standard cell placers can correctly align the <code>CORE</code> macro to the standard cell rows. </p>
<p>
<a id="pgfId-7969914"></a>A core macro can be one of the following types:</p>
<p>
<a id="pgfId-7969915"></a><code>FEEDTHRU</code>&#8212;Used for connecting to another cell.</p>
<p>
<a id="pgfId-7969916"></a><code>TIEHIGH</code>,<code>TIELOW</code>&#8212;Used for connecting unused I/O terminals to the power or ground bus. The software does not rely on this sub-class.&#160;&#160;A tie-cell has to be <code>CLASS CORE</code>, but the software does not consider the sub-class to determine its type. The dotlib representation of the cell&#39;s output pin is considered, and based on the function on that pin, it is determined whether it is a tiehigh, or tielow.</p>
<p>
<a id="pgfId-7969917"></a><code>SPACER</code>&#8212;Sometimes called a filler cell, this cell is used to fill in space between regular core cells. The <code>SPACER</code> sub-class needs to be cells with no logic-pins. Thus even with the sub-class defined, a cell will not be considered <code>SPACER</code> (also called <code>FILLER</code>) unless it has no logic/signal pins. A filler can only have Power and Ground pins. The instances of these cells will be marked by the insertion command to be of type &#39;Physical&#39;.</p>
<p>
<a id="pgfId-7969918"></a><code>ANTENNACELL</code>&#8212;Used for solving process antenna violations. This cell has a single input to a diode to bleed off charge that builds up during manufacturing.</p>
<p>
<a id="pgfId-7969919"></a><code>WELLTAP</code>&#8212;Standard cell that connects N and P diffusion wells to the correct power or ground wire. The <code>WELLTAP</code> cells provide a tap for the N and P wells to the power/ground wires.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969922"></a><code>ENDCA</code><code>P</code><a id="marker-7969921"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969924"></a>A macro placed at the ends of core rows (to connect with power wiring).</p>
<p>
<a id="pgfId-7969925"></a>If the library includes only one corner I/O macro, then appropriate <code>SYMMETRY</code> must be included in its macro description. An <code>ENDCAP</code> macro can be one of the following types: <br /><code>PRE</code>&#8212;A left-end macro<br /><code>POST</code>&#8212;A right-end macro <br /><code>TOPLEFT</code>&#8212;A top left I/O corner cell<br /><code>TOPRIGHT</code>&#8212;A top right I/O corner cell<br /><code>BOTTOMLEFT</code> &#8212;A bottom left I/O corner cell<br /><code>BOTTOMRIGHT</code>&#8212;A bottom right I/O corner cell</p>
<p>
<a id="pgfId-7969926"></a>The <code>ENDCAP</code> sub-class is required. The <code>PRE</code> and <code>POST</code> are <code>CORE</code> area cells, whereas the other four are <code>PAD CLASS</code>.&#160;&#160;</p>
</td>
</tr>
</tbody></table>




<p><strong>Example 1-2
<a id="pgfId-975836"></a><a id="52553"></a>Macro Pad Cell</strong></p>

<p>
<a id="pgfId-988820"></a>The following example defines a power pad cell that illustrates when to use the CLASS CORE keywords on power ports. For the VDD pin, there are two ports: one to connect to the interior core power ring, and one to complete the I/O power ring. <a href="LEFSyntax.html#33652">Figure&#160;1-26</a> illustrates this pad cell.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-988822"></a>MACRO PAD_0</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988823"></a>CLASS PAD ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988824"></a>FOREIGN PAD_0 0.000 0.000 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988825"></a>ORIGIN 0.000 0.000 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988826"></a>SIZE 100.000 BY 300.000 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988827"></a>SYMMETRY X Y R90 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988828"></a>SITE PAD_SITE ; </pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-988829"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-988830"></a># Define pin VDD with SHAPE ABUTMENT because there are no obstructions<br /># to block a straight connection to the pad rings. The port without <br /># CLASS CORE is used for completing the I/O power ring.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-988831"></a></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988832"></a>PIN VDD</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988833"></a>DIRECTION INOUT ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988834"></a>USE POWER ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988835"></a>SHAPE ABUTMENT ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988836"></a>PORT </pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988837"></a>   LAYER metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988838"></a>     RECT 0.000 250.000 100.000 260.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988839"></a>   LAYER metal3 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988840"></a>     RECT 0.000 250.000 100.000 260.000 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988841"></a>END</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-988842"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-988843"></a># Define VDD port with PORT CLASS CORE to indicate that the port connects <br /># to the core area instead of to the pad ring.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-988844"></a></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988845"></a>  PORT </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988846"></a>   CLASS CORE ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988847"></a>   LAYER metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988848"></a>     RECT 0.000 290.000 100.000 300.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988849"></a>   LAYER metal3 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988850"></a>     RECT 0.000 290.000 100.000 300.000 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988851"></a>  END</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992604"></a>END VDD</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-988853"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-988854"></a># Define pins VCC and GND with SHAPE FEEDTHRU because these pins <br /># cannot make a straight connection to the pad rings due to obstructions. </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988855"></a>PIN VCC </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992613"></a>  DIRECTION INOUT ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992614"></a>  USE POWER ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992615"></a>  SHAPE FEEDTHRU ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988859"></a>  PORT</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988860"></a>    LAYER metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988861"></a>      RECT 0.000 150.000 20.000 160.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988862"></a>      RECT 20.000 145.000 80.000 155.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988863"></a>      RECT 80.000 150.000 100.000 160.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988864"></a>    LAYER metal3 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988865"></a>      RECT 0.000 150.000 20.000 160.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988866"></a>      RECT 20.000 145.000 80.000 155.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988867"></a>      RECT 80.000 150.000 100.000 160.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988868"></a>  END</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988869"></a>END VCC</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988870"></a>PIN GND</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988871"></a>DIRECTION INOUT ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988872"></a>USE GROUND ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988873"></a>SHAPE FEEDTHRU ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988874"></a>PORT</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988875"></a>   LAYER metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988876"></a>     RECT 0.000 50.000 20.000 60.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988877"></a>     RECT 80.000 50.000 100.000 60.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988878"></a>END</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988879"></a>END GND</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988880"></a>OBS </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988881"></a>LAYER metal1 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988882"></a>    RECT 0.000 0.000 100.000 300.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988883"></a>LAYER metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988884"></a>    RECT 25.000 50.000 75.000 60.000 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-988885"></a>    RECT 30.500 157.000 70.500167.000 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-988886"></a>END</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-988887"></a>END PAD_0</pre>


<p><strong>Figure 1-27
<a id="pgfId-988901"></a><a id="33652"></a>Power Pad Cell</strong></p>

<p>
<a id="pgfId-989068"></a></p>
<div class="webflare-div-image">
<img width="668" height="541" src="images/LEFSyntax-28.gif" /></div>
<p><strong>
<a id="pgfId-988898"></a><code>DENSITY </code><a id="MacroDensity"></a><span class="webflare-courier-new" style="white-space:pre"><em>statement</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125214"></a>Specifies the metal density for large macros. </p>
<p class="webflare-indent1">
<a id="pgfId-990849"></a>The <code>DENSITY</code> rectangles on a layer should not overlap, and should cover the entire area of the macro. You can choose the size of the rectangles based on the uniformity of the density of the block. If the density is uniform, a single rectangle can be used. If the density is not very uniform, the size of the rectangles can be specified to be 10 to 20 percent of the density window size, so that any error due to non-uniform density inside each rectangle area is small.</p>
<p class="webflare-indent1">
<a id="pgfId-990853"></a>For example, if the metal density rule is for a 100 μm x 100 μm window, the density rectangles can be 10x10 μm squares. Any non-uniformity will have little impact on the density calculation accuracy.</p>
<p class="webflare-indent1">
<a id="pgfId-990854"></a>If two adjacent rectangles have the same or similar density, they can be merged into one larger rectangle, with one average density value. The choice between accuracy and abstraction is left to the abstract generator.</p>
<p class="webflare-indent1">
<a id="pgfId-990802"></a>The <code>DENSITY</code> syntax is defined as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-990678"></a><code>[DENSITY</code> 
<code>   {LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code> ;</code> 
<code>      {RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>x1</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>y1</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>x2</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>y2</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>densityValue</em></span><code> ;} ...</code> 
<code>   } ...</code> 
<code>END] ... </code></p>
<table class="webflareTable webflareTableIndent" id="#id990683">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969970"></a> <span class="webflare-courier-new" style="white-space:pre"><em>densityValue</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969972"></a>Specifies the density for the rectangle, as a percentage. For example, <code>50.0</code> indicates that the rectangle has a density of 50 percent on <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>. <br /><em>Type:</em> Float <br /><em>Value:</em> <code>0</code> to <code>100</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969974"></a><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969976"></a>Specifies the layer on which to create the rectangle.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969978"></a><span class="webflare-courier-new" style="white-space:pre"><em>x1</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>y1</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>x2</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>y2</em></span>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7969980"></a>Specifies the coordinates of a rectangle.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
</tbody></table>




<p><strong>Example 1-3
<a id="pgfId-990803"></a>Macro Density </strong></p>

<p>
<a id="pgfId-990807"></a>The following statement specifies the density for macro <code>testMacro</code>: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-990808"></a>MACRO testMacro </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990809"></a>CLASS ...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990813"></a>PIN ...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990821"></a>OBS ...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990822"></a>DENSITY</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-990823"></a>LAYER metal1 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-990830"></a>RECT 0 0 100 100 45.5 ; #rect from (0,0) to (100,100), density of 45.5%</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-990831"></a>RECT 100 0 200 100 42.2 ; #rect from (100,0) to (200, 100), density of 42.2%</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990832"></a>END</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1132629"></a>...</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1132630"></a>END testMacro</pre>
<p><strong>
<a id="pgfId-8009234"></a><code>EEQ</code> <span class="webflare-courier-new" style="white-space:pre"><em>macroName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009291"></a>Specifies that the macro being defined should be electrically equivalent to the previously defined <span class="webflare-courier-new" style="white-space:pre"><em>macroName</em></span>. EEQ macros include devices such as OR-gates or inverters that have several implementations with different shapes, geometries, and orientations. <br />
Electrically equivalent macros have the following requirements:<a id="marker-8009340"></a></p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-8009352"></a>Corresponding pins must have corresponding functionality.</li><li>
<a id="pgfId-8009359"></a>Pins must be defined in the same order.</li><li>
<a id="pgfId-8009365"></a>For each group of corresponding pins (one from each macro), pin function and electrical characteristics must be the same.</li><li>
<a id="pgfId-8009370"></a>The EEQ <span class="webflare-courier-new" style="white-space:pre"><em>macroName</em></span> specified must refer to a previously defined macro. If the EEQ <span class="webflare-courier-new" style="white-space:pre"><em>macroName</em></span> referenced is already electrically equivalent to other model macros, all referenced macros are considered electrically equivalent.</li></ul></li></ul>




<p><strong>
<a id="pgfId-8009229"></a><code>FIXEDMASK</code><a id="MacroFixedmask"></a></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009396"></a>Indicates that the specified macro does not allow mask-shifting. All the LEF PIN MASK assignments must be kept fixed and cannot be shifted to a different mask to optimize routing density.&#160;&#160;All the LEF PIN shapes should have <code>MASK</code> assignments, if <code>FIXEDMASK</code> statement is present.</p>
<p class="webflare-indent1">
<a id="pgfId-8009397"></a>For example,</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-8009398"></a>MACRO my_block</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-8009399"></a>CLASS BLOCK ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-8009400"></a>FIXEDMASK ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-8009401"></a>...</pre>
<p><strong>
<a id="pgfId-1133498"></a><a id="marker-8009439"></a><code>FOREIGN</code> <span class="webflare-courier-new" style="white-space:pre"><em>foreignCellName</em></span> <code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> [</code><span class="webflare-courier-new" style="white-space:pre"><em>orient</em></span><code>]]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1133526"></a>Spe<a id="marker-8009460"></a>cifies the foreign (GDSII) structure name to use when placing an instance of the macro. The optional <span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span> coordinate specifies the macro origin (lower left corner when the macro is in north orientation) offset from the foreign origin. The <code>FOREIGN</code> statement has a default offset value of <code>0</code> <code>0</code>, if <span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span> is not specified.</p>
<p class="webflare-indent1">
<a id="pgfId-1133504"></a>The optional <span class="webflare-courier-new" style="white-space:pre"><em>orient</em></span> value specifies the orientation of the foreign cell when the macro is in north orientation. The default <span class="webflare-courier-new" style="white-space:pre"><em>orient</em></span> value is N (North). </p>



<p><strong>Example 1-4
<a id="pgfId-987087"></a>Foreign Statements</strong></p>

<p>
<a id="pgfId-987088"></a>The following examples show two variations of the <code>FOREIGN</code> statement. The negative offset specifies that the GDSII structure should be above and to the right of the macro lower left corner.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-987089"></a>MACRO ABC ...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992663"></a>FOREIGN ABC -2 -3 ; </pre>
<p>
<a id="pgfId-987090"></a>The positive offset specifies that the GDSII structure should be below and to the left of the macro lower left corner.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-987091"></a>MACRO EFG ...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992667"></a>FOREIGN EFG 2 3 ;</pre>

<p><strong>
<a id="pgfId-8009488"></a><code>MACRO</code> <span class="webflare-courier-new" style="white-space:pre"><em>macroName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009510"></a>Specifies the name of the library macro.</p>

<p><strong>
<a id="pgfId-8009525"></a><code>OBS</code> <span class="webflare-courier-new" style="white-space:pre"><em>statement</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009542"></a>Defines obstructions on the macro. Obstruction geometries are specified using layer geometries syntax. See <a href="LEFSyntax.html#35215">&#8220;Macro Obstruction Statement&#8221;</a> for syntax information.</p>

<p><strong>
<a id="pgfId-8009562"></a><code>ORIGIN</code> <span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009579"></a>Specifies how to find the origin of the macro to align with a DEF <code>COMPONENT</code> placement point. If there is no <code>ORIGIN</code> statement, the DEF placement point for a North-oriented macro is aligned with 0, 0 in the macro. If <code>ORIGIN</code> is given in the macro, the macro is shifted by the <code>ORIGIN</code> x, y values first, before aligning with the DEF placement point. For example, if the <code>ORIGIN</code> is 0, -1, then macro geometry at 0, 1 are shifted to 0, 0, and then aligned to the DEF placement point.</p>

<p><strong>
<a id="pgfId-8009596"></a><code>PIN </code><span class="webflare-courier-new" style="white-space:pre"><em>statement</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009613"></a>Defines pins for the macro. See <a href="LEFSyntax.html#48865">&#8220;Macro Pin Statement&#8221;</a> for syntax information.</p>

<p><strong>
<a id="pgfId-8009633"></a><code>PROPERTY</code> <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>propVal</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009650"></a>Specifies a numerical or string value for a macro property defined in the <code>PROPERTYDEFINITIONS</code> statement. The <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> you specify must match the <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> listed in the <code>PROPERTYDEFINITIONS</code> statement.</p>

<p><strong>
<a id="pgfId-8009667"></a><code>SITE </code><span class="webflare-courier-new" style="white-space:pre"><em>siteName</em></span><code> [</code><span class="webflare-courier-new" style="white-space:pre"><em>sitePattern</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009684"></a>Specifies the site associated with the macro. Normal row-based standard cells only have a single <code>SITE</code> <span class="webflare-courier-new" style="white-space:pre"><em>siteName</em></span> statement, without a <span class="webflare-courier-new" style="white-space:pre"><em>sitePattern</em></span>. The <span class="webflare-courier-new" style="white-space:pre"><em>sitePattern</em></span> syntax indicates that the cell is a gate-array cell, rather than a row-based standard cell. Gate-array standard cells can have multiple <code>SITE</code> statements, each with a <span class="webflare-courier-new" style="white-space:pre"><em>sitePattern</em></span>.</p>
<p class="webflare-indent1">
<a id="pgfId-1133477"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>sitePattern</em></span> syntax is defined as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1133470"></a><code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>xOrigin</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yOrigin</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>siteOrient</em></span> <code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>stepPattern</em></span><code>]]</code></p>
<p class="webflare-indent1">
<a id="pgfId-8009754"></a>Where:</p>


<p>
<a id="pgfId-8009900"></a></p>
<table class="webflareTable webflareTableIndent" id="#id8009881">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009825"></a><span class="webflare-courier-new" style="white-space:pre"><em>xOrigin</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yOrigin</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009827"></a>Specifies the origin of the site inside the macro.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009829"></a><span class="webflare-courier-new" style="white-space:pre"><em>siteOrient</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009831"></a>Specifies the orientation of the site at that location. <br /><em>Value:</em> <code>N</code>, <code>S</code>, <code>E</code>, <code>W</code>, <code>FN</code>, <code>FS</code>, <code>FE</code>, or <code>FW</code> </p>
</td>
</tr>
</tbody></table>

<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-991734"></a>Legal placement locations for macros with site patterns must match the site pattern inside the macro to the site pattern in the design rows. 
</div>
<p class="webflare-indent1">
<a id="pgfId-991783"></a>If the site is repeated, you can specify a <span class="webflare-courier-new" style="white-space:pre"><em>stepPattern</em></span> that defines the repeating pattern. The <span class="webflare-courier-new" style="white-space:pre"><em>stepPattern</em></span> syntax is defined as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-991896"></a><code>[DO </code><span class="webflare-courier-new" style="white-space:pre"><em>xCount</em></span><code> BY </code><span class="webflare-courier-new" style="white-space:pre"><em>yCount</em></span><code> STEP </code><span class="webflare-courier-new" style="white-space:pre"><em>xStep</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yStep</em></span><code>] </code></p>
<table class="webflareTable webflareTableIndent" id="#id991930">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009920"></a><span class="webflare-courier-new" style="white-space:pre"><em>xCount</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yCount</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009922"></a>Specifies the number of sites to add in the x and y directions. You must specify values that are greater than or equal to <code>0</code> (zero).<br /><em>Type:</em> Integer </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009924"></a><span class="webflare-courier-new" style="white-space:pre"><em>xStep</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yStep</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8009926"></a>Specifies the spacing between sites in the x and y directions. <br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
</tbody></table>




<p><strong>Example 1-5
<a id="pgfId-992003"></a>Macro Site </strong></p>

<p>
<a id="pgfId-992009"></a>The following statement defines a macro that uses the sites created in <a href="LEFSyntax.html#15488">Example&#160;1-17</a>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-992010"></a>MACRO myTest </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992017"></a>CLASS CORE ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992021"></a>SIZE 10.0 BY 14.0 ;&#160;&#160; #Uses 2 F and 1 L site, is F + L wide, and double height</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992022"></a>SYMMETRY X ;&#160;&#160;        #Can flip about the X axis</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992023"></a>SITE Fsite 0 0 N ;&#160;&#160;  #The lower left Fsite at 0,0</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992030"></a>SITE Fsite 0 7.0 FS ; #The flipped south Fsite above the first Fsite at 0,7</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992031"></a>SITE Lsite 4.0 0 N ;&#160;&#160;#The Lsite to the right of the first Fsite at 4,0</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992032"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-996198"></a>PIN ... ;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-992033"></a>END myTest </pre>

<p>
<a id="pgfId-992037"></a><a href="LEFSyntax.html#53313">Figure&#160;1-27</a> illustrates the placement results of this definition.</p>



<p><strong>Figure 1-28
<a id="pgfId-992054"></a><a id="53313"></a></strong></p>

<p>
<a id="pgfId-992043"></a></p>
<div class="webflare-div-image">
<img width="668" height="275" src="images/LEFSyntax-29.gif" /></div>

<p>
<a id="pgfId-992062"></a>The following statement includes the gate-array site pattern syntax. It uses two F sites in a row with N (North) orientation. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-992063"></a>MACRO myTest</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992067"></a>CLASS CORE ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992071"></a>SIZE 8.0 BY 7.0 ; #Width = 2 * Fsite width, height = Fsite height</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992072"></a>SITE Fsite 0 0 N DO 2 BY 1 STEP 4.0 0 ; #Xstep = 4.0 = Fsite width</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992073"></a>...</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-992074"></a>END myTest</pre>

<p>
<a id="pgfId-992086"></a>This definition produces a cell with the sites shown in <a href="LEFSyntax.html#50891">Figure&#160;1-28</a>.</p>




<p><strong>Figure 1-29
<a id="pgfId-992090"></a><a id="50891"></a></strong></p>

<p>
<a id="pgfId-8009929"></a></p>
<div class="webflare-div-image">
<img width="668" height="56" src="images/LEFSyntax-30.gif" /></div>
<p><strong>
<a id="pgfId-992091"></a><code>SIZE</code> <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> <code>BY</code> <span class="webflare-courier-new" style="white-space:pre"><em>height</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8009955"></a>Specifies a placement bounding rectangle, in microns, for the macro. The bounding rectangle always stretches from (0, 0) to the point defined by <code>SIZE</code>. For example, given <code>SIZE</code> 10 <code>BY</code> 40, the bounding rectangle reaches from (0, 0) after adjustment due to the <code>ORIGIN</code> statement, to (100, 400).</p>
<p class="webflare-indent1">
<a id="pgfId-8009979"></a>Placers assume the placement bounding rectangle cannot overlap placement bounding rectangles of other macros, unless <code>OBS</code> <code>OVERLAP</code> shapes are used to create a non-rectangular area.</p>
<p class="webflare-indent1">
<a id="pgfId-8009980"></a>After placement, a DEF <code>COMPONENTS</code> placement <span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span> indicates where the lower-left corner of the placement bounding rectangle is placed after any possible rotations or flips. The bounding rectangle width and height should be a multiple of the placement grid to allow for abutting cells.</p>
<p class="webflare-indent1">
<a id="pgfId-8009970"></a>For blocks, the placement bounding rectangle typically contains all pin and blockage geometries, but this is not required. For example, typical standard cells have pins that lie outside the bounding rectangle, such as power pins that are shared with cells in the next row above them.</p>

<p><strong>
<a id="pgfId-8009995"></a><code>SYMMETRY {X | Y | R90}</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010012"></a>Specifie<a id="marker-8010018"></a>s which m<a id="marker-8010019"></a>acro orientations should be attempted by the placer before matching to the site of the underlying rows. In general, most standard cell macros should have symmetry <code>X</code> <code>Y</code>. N (North) is always a legal candidate. For each type of symmetry defined, additional orientations become legal candidates. For more information on defining symmetry, see <a href="LEFSyntax.html#98569">&#8220;Defining Symmetry&#8221;</a>.</p>
<p class="webflare-indent1">
<a id="pgfId-8010034"></a>Possible orientations include:</p>
<table class="webflareTable webflareTableIndent" id="#id1133554">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010053"></a><code>X</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010055"></a>N and FS orientations should be tried.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010057"></a><code>Y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010059"></a>N and FN orientations should be tried. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010061"></a><code>X</code> <code>Y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010063"></a>N, FN, FS, and S orientations should all be tried.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010065"></a><code>R90</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010067"></a>Specify this value only for non-standard cells.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-8010069"></a>If you do not specify a <code>SYMMETRY</code> statement, only N orientation is tried.</div>

</td>
</tr>
</tbody></table>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-980218"></a>If you do not specify a <code>SYMMETRY</code> statement, only N orientation is tried.
</div>
<p class="webflare-indent1">
<a id="pgfId-1173467"></a>For corner I/O pads, if the library includes <code>BOTTOMLEFT</code>, <code>BOTTOMRIGHT</code>, <code>TOPLEFT</code>, and <code>TOPRIGHT</code> I/O corner cells, then they are placed in North orientation (no flipping). However, if the library includes only one type of corner I/O, then <code>SYMMETRY</code> in x and y are required to create the rows for all four of them.</p>

<h4>
<a id="pgfId-7890483"></a>Defining Macro Properties to Create 32/28 nm and Smaller Nodes Rules</h4>

<p>
<a id="pgfId-7890484"></a>You can include macro layer properties in your LEF file to create 32/28 nm and smaller nodes rules that currently are not supported by existing LEF syntax. The properties are specified inside the Macro statements where they can be seen with other rules.</p>
<p>
<a id="pgfId-7890485"></a>Before you can reference them, properties must be defined at the beginning of the LEF file in the <code>PROPERTYDEFINITIONS</code> statement, immediately before the first <code>Macro</code> statement.</p>
<ul><li>
<a id="pgfId-7890486"></a>Properties belong to the <code>MACRO</code>/<code>PIN</code> object and have a type of <code>STRING</code>.</li><li>
<a id="pgfId-7890487"></a>The property names used for these rules all start with <code>LEF58_</code>.</li></ul>

<p>
<a id="pgfId-7890488"></a>All properties use the following syntax within the LEF <code>PROPERTYDEFINITIONS</code> statement:</p>

<a id="pgfId-7890489"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTYDEFINITIONS
MACRO propName STRING [&quot;stringValue&quot;] ;
PIN propName STRING [&quot;stringValue&quot;] ;</pre>
<a id="pgfId-7890490"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS</pre>

<p>
<a id="pgfId-7890491"></a>The property definitions for the macro properties are as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-7890492"></a><code>PROPERTYDEFINITIONS</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132377"></a><code>     MACRO LEF58_ACCESSAREA STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132378"></a><code>     MACRO LEF58_ALIGNPGVIATOTRACK STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132379"></a><code>     MACRO LEF58_ALLPINSCONNECTED STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132380"></a><code>     MACRO LEF58_CLASS STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132381"></a><code>     MACRO LEF58_CONSTRAINTAREATYPE STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8006935"></a><code>     MACRO LEF58_EDGETYPE STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132387"></a><code>     MACRO LEF58_EEQ STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132388"></a><code>     MACRO LEF58_FOREIGN STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7972424"></a><code>     MACRO LEF58_LAYERMASKSHIFT STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132393"></a><code>     MACRO LEF58_OBSPARTIAL STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132394"></a><code>     MACRO LEF58_OBSSPACING STRING ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7890501"></a><code>END PROPERTYDEFINITIONS</code></pre>



<h4><em>
<a id="pgfId-8132399"></a>Access Area Rule</em></h4>

<p>
<a id="pgfId-8132400"></a>The access area rule can be used on the macro to specify a via access area on the specified layer.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8132401"></a>You can specify the access area rule by using the following property definition:</pre>
<a id="pgfId-8132403"></a><a id="PropAccessArea"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code>PROPERTY LEF58_ACCESSAREA
</code>   &quot;ACCESSAREA {LAYER <code><em>layerName</em></code> RECT <code><em>pt pt</em></code> [CUTCLASS <code><em>className</em></code>]
   [EXCEPTEXTRACUT]}...
   ; &quot; ;</pre>

<p>
<a id="pgfId-8132404"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8132432"></a></p>
<table class="webflareTable" id="#id8132405">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132407"></a><code>ACCESSAREA {LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code> RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>pt pt</em></span><code> }...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132413"></a><code></code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132415"></a>Specifies a via access area on <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, which must be a cut layer. All the cuts of a via connected to any pin shape on the bottom metal layer that overlaps the given area in <code>RECT</code> must be inside the given area. If there are multiple via access areas overlapping a pin shape, the entire size of the cuts of a via connected to the pin need to be inside one of the areas. Different via access areas should not overlap or be abutted. For a <code>MUSTJOINALLPORTS</code> pin, the given area must overlap with all of the pin shapes on the bottom metal layer. Then, the cuts on each of the individual pin shapes must be inside the given area and must be connected by a same-metal wire on the above metal layer as well. This construct can only be defined on standard cells with <code>MACRO CLASS</code> of <code>CORE</code>. </p>
<p>
<a id="pgfId-8132416"></a>Type: Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132420"></a><code>CUTCLASS </code><span class="webflare-courier-new" style="white-space:pre"><em>className</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132422"></a>Specifies the via access area for the given <span class="webflare-courier-new" style="white-space:pre"><em>className</em></span>, which is connected to the pin shapes. Without <code>CUTCLASS</code>, the via access area would be applied to vias of any cut class. Multiple via access areas could be defined for different cut classes. If a cut class does not have a corresponding via access area defined, the vias of that cut class could be connected to the pins without any restriction. </p>
<p>
<a id="pgfId-8132423"></a>Type: String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132427"></a><code>EXCEPTEXTRACUT</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132429"></a>Specifies that the via access area is not applied to vias with multiple cuts connected to a single pin shape. If a via pillar with multiple wires on the above metal layer of the pin shape layer is used, this via access area does not need to be honored. For example, if a via pillar with 2x2 cuts is connected to a <code>MUSTJOINALLPORTS</code> with two pin shapes, this via access area could be ignored.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8132433"></a><strong>Area Access Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8132434"></a>The following example means that the cuts of <code>VIA1</code> of <code>VA</code> must be inside <code>1.0 1.0 2.0 2.0</code> and the cuts of <code>VIA1</code> of the other cut class must be inside <code>1.5 1.5 2.2 2.2</code> when connecting to a <code>M1</code> (below metal layer) pin shape that overlaps with the given area.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8132435">
<a id="pgfId-8132435"></a>PROPERTY LEF58_ACCESSAREA &quot;
     ACCESSAREA LAYER VIA1 RECT 1.0 1.0 2.0 2.0 CUTCLASS VA 
          LAYER VIA1 RECT 1.5 1.5 2.2 2.2 ; &quot; ;</pre></li><li>
<a id="pgfId-8132436"></a>The following example means that the cuts of <code>VIA1</code> of <code>VA</code> must be inside <code>1.0 1.0 2.0 2.0</code> when connect to a <code>M1</code> (below metal layer) pin shape that overlaps with the given area and the cuts of <code>VIA1</code> of the other cut class does not have any restriction.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8132437">
<a id="pgfId-8132437"></a>PROPERTY LEF58_ACCESSAREA &quot;
     ACCESSAREA LAYER VIA1 RECT 1.0 1.0 2.0 2.0 CUTCLASS VA ; &quot; ;</pre></li><li>
<a id="pgfId-8132438"></a>The diagram below illustrates the following access area rule:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8132439">
<a id="pgfId-8132439"></a>PROPERTY LEF58_ACCESSAREA &#8220;
     ACCESSAREA LAYER VIA1 RECT 1.0 1.0 3.5 1.8 
          EXCEPTEXTRACUT 
          LAYER VIA1 RECT 6.0 0.5 7.0 1.0 
          LAYER VIA1 RECT 6.0 1.8 7.0 2.5 ; &#8220; ;</pre><br /><strong class="webflare-fig-line-height">Figure 1-30
<a id="pgfId-8132440"></a>Illustration of the Access Area Rule </strong>
<a id="pgfId-8132515"></a><div class="webflare-div-image">
<img width="668" height="447" src="images/LEFSyntax-31.gif" /></div></li></ul>
















<h4><em>
<a id="pgfId-8132516"></a>Align PG Via to Track Rule</em></h4>

<p>
<a id="pgfId-8132517"></a>The align PG via to track attribute can be used on the macro to align the power or ground cell vias to the given tracks defined in the PG via track rule in <code>PGTRACKVIA</code>.</p>
<p>
<a id="pgfId-8132518"></a>You can specify the align PG via to track attribute by using the following property definition:</p>

<a id="pgfId-8132520"></a><a id="PropAlignPGViaToTrackType"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_ALIGNPGVIATOTRACK 
&quot;ALIGNPGVIATOTRACK
   ;...&quot; ;</pre>

<p>
<a id="pgfId-8132521"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8132529"></a></p>
<table class="webflareTable" id="#id8132522">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132524"></a><code>ALIGNPGVIATOTRACK</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132526"></a>Specifies that all the power or ground cell vias of this macro should be aligned to the tracks defined in <code>PGVIATRACK</code> in the library property in a tech LEF file.</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8132530"></a>All Pins Connected Rule</em></h4>

<p>
<a id="pgfId-8132531"></a>The all pins connected rule can be used to specify that all of the pins in the macro are strongly connected internally.</p>
<p>
<a id="pgfId-8132532"></a>You can specify the all pins connected rule by using the following property definition:</p>

<a id="pgfId-8132534"></a><a id="PropAllpinsconnected"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_ALLPINSCONNECTED
   &quot;ALLPINSCONNECTED
   ; &quot; ;</pre>

<p>
<a id="pgfId-8132535"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8132543"></a></p>
<table class="webflareTable" id="#id8132536">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132538"></a><code>ALLPINSCONNECTED</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132540"></a>Specifies that all of the pins in this macro are strongly connected internally. All of the pins should only have one port. This construct could be defined only in a <code>MACRO</code> with <code>CLASS COVER</code>.</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8132544"></a>Class Rule</em></h4>

<p>
<a id="pgfId-8132545"></a>You can use the class rule to define a macro as a special cover macro for metal filling purpose.</p>
<p>
<a id="pgfId-8132546"></a>You can create class rule by using the following property definition:</p>

<a id="pgfId-8132548"></a><a id="PropMacroClass"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_CLASS 
&quot;CLASS 
     {COVER [BUMP | FILL]
     | RING
     | BLOCK [BLACKBOX | SOFT]
     | PAD [INPUT | OUTPUT | INOUT | POWER | SPACER | AREAIO]
     | CORE [FEEDTHRU | TIEHIGH | TIELOW | SPACER | ANTENNACELL
         | WELLTAP [TAPWALL] [TAPTYPE <code><em>typeName</em></code>]]
     | ENDCAP {PRE | POST | TOPLEFT | TOPRIGHT | BOTTOMLEFT
         | BOTTOMRIGHT
         | TOPEDGE | BOTTOMEDGE | LEFTEDGE | RIGHTEDGE 
         | LEFTEVENSITEEDGE | LEFTODDSITEEDGE
         | RIGHTEVENSITEEDGE | RIGHTODDSITEEDGE
         | LEFTTOPEDGE | RIGHTTOPEDGE 
         | LEFTBOTTOMEDGE | RIGHTBOTTOMEDGE
         | LEFTTOPEVENSITEEDGE | LEFTTOPODDSITEEDGE
         | RIGHTTOPEVENSITEEDGE | RIGHTTOPODDSITEEDGE
         | LEFTBOTTOMEVENSITEEDGE | LEFTBOTTOMODDSITEEDGE
         | RIGHTBOTTOMEVENSITEEDGE | RIGHTBOTTOMODDSITEEDGE
         | LEFTTOPCORNER | RIGHTTOPCORNER 
         | LEFTBOTTOMCORNER | RIGHTBOTTOMCORNER
         | LEFTTOPEVENSITECORNER | LEFTTOPODDSITECORNER
         | RIGHTTOPEVENSITECORNER | RIGHTTOPODDSITECORNER
         | LEFTBOTTOMEVENSITECORNER
         | LEFTBOTTOMODDSITECORNER
         | RIGHTBOTTOMEVENSITECORNER 
         | RIGHTBOTTOMODDSITECORNER
         | LEFTEDGETOPBORDER
         | LEFTEDGEBOTTOMBORDER
         | RIGHTEDGETOPBORDER
         | RIGHTEDGEBOTTOMBORDER
         | LEFTTOPEDGENEIGHBOR
         | RIGHTTOPEDGENEIGHBOR
         | LEFTBOTTOMEDGENEIGHBOR
         | RIGHTBOTTOMEDGENEIGHBOR}
         | LEFTTOPCORNERNEIGHBOR 
         | RIGHTTOPCORNERNEIGHBOR 
         | LEFTBOTTOMCORNERNEIGHBOR 
         | RIGHTBOTTOMCORNERNEIGHBOR 
         | LEFTCORNERTOPBORDER
         | RIGHTCORNERTOPBORDER
         | LEFTCORNERBOTTOMBORDER
         | RIGHTCORNERBOTTOMBORDER
         | TOPCORNEREDGENEIGHBOR
         | BOTTOMCORNEREDGENEIGHBOR
         | TSVTOPEDGE | TSVBOTTOMEDGE
         | TSVLEFTEDGE | TSVRIGHTEDGE
         | TSVLEFTTOPCORNER | TSVLEFTBOTTOMCORNER
         | TSVRIGHTTOPCORNER | TSVRIGHTBOTTOMCORNER
         | TSVLEFTTOPEDGE | TSVLEFTBOTTOMEDGE
         | TSVRIGHTTOPEDGE | TSVRIGHTBOTTOMEDGE
         | TSVLEFTTOPEDGENEIGHBOR
         | TSVRIGHTTOPEDGENEIGHBOR
         | TSVLEFTBOTTOMEDGENEIGHBOR
         | TSVRIGHTBOTTOMEDGENEIGHBOR
         | TSVLEFTTOPCORNERNEIGHBOR
         | TSVRIGHTTOPCORNERNEIGHBOR
         | TSVLEFTBOTTOMCORNERNEIGHBOR
         | TSVRIGHTBOTTOMCORNERNEIGHBOR}
         [TAPWALL] [TAPTYPE <code><em>typeName</em></code>]
     }
  ; &quot; ;</pre>

<p>
<a id="pgfId-8132549"></a>Where<code>:</code></p>
<p>
<a id="pgfId-8132550"></a>All other keywords are same as the existing macro <code>CLASS</code> syntax.</p>


<p>
<a id="pgfId-8132654"></a></p>
<table class="webflareTable" id="#id8132551">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132553"></a><code>FILL</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132555"></a>Specifies that the macro is a special cover macro for metal filling purpose.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132559"></a><code>LEFTCORNERTOPBORDER | RIGHTCORNERTOPBORDER<br />     | LEFTCORNERBOTTOMBORDER | RIGHTCORNERBOTTOMBORDER</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132565"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132567"></a>Specifies a left or right edge endcap cell, which is on top or bottom a corner cell. For example, <code>LEFTCORNERTOPBORDER</code> would be placed on the left edge and on top of a corner cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132571"></a><code>LEFTEDGETOPBORDER | LEFTEDGEBOTTOMBORDER | RIGHTEDGETOPBORDER | RIGHTEDGEBOTTOMBORDER</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132577"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132579"></a>Specifies a left or right edge endcap cell, which is right next to the <code>LEFTTOPEDGE</code>/<code>LEFTBOTTOMEDGE</code> or <code>RIGHTTOPEDGE</code>/<code>RIGHTBOTTOMEDGE</code> cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132583"></a><code>LEFTEVENSITEEDGE | LEFTODDSITEEDGE<br />     | RIGHTEVENSITEEDGE | RIGHTODDSITEEDGE<br />     | LEFTTOPEVENSITEEDGE | LEFTTOPODDSITEEDGE<br />     | RIGHTTOPEVENSITEEDGE | RIGHTTOPODDSITEEDGE<br />     | LEFTBOTTOMEVENSITEEDGE | LEFTBOTTOMODDSITEEDGE<br />     | RIGHTBOTTOMEVENSITEEDGE | RIGHTBOTTOMODDSITEEDGE<br />     | LEFTTOPEVENSITECORNER | LEFTTOPODDSITECORNER<br />     | RIGHTTOPEVENSITECORNER | RIGHTTOPODDSITECORNER<br />     | LEFTBOTTOMEVENSITECORNER <br />     | LEFTBOTTOMODDSITECORNER<br />     | RIGHTBOTTOMEVENSITECORNER <br />     | RIGHTBOTTOMODDSITECORNER</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132589"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132591"></a>Specifies that the macro with *<code>EVENSITE</code>* or *<code>ODDSITE</code>* endcap type has even or odd site. These are used to always form even number of sites horizontally, including the endcap cells.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132595"></a><code>LEFTTOPCORNERNEIGHBOR | RIGHTTOPCORNERNEIGHBOR<br />     | LEFTBOTTOMCORNERNEIGHBOR | RIGHTBOTTOMCORNERNEIGHBOR</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132601"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132603"></a>Specifies a top or bottom edge endcap cell, which is right next to the <code>LEFTTOPCORNER</code>/<code>RIGHTTOPCORNER</code> or <code>LEFTBOTTOMCORNER</code>/<code>RIGHTBOTTOMCORNER</code> cell. When all four cells are specified, they are placed in <code>R0</code> (or <code>MX</code>) orient, abutting the <code>CORNER</code> cells on the same row. If only one of the four cells, for example <code>RIGHTTOPCORNERNEIGHBOR</code>, is specified, it will be flipped and rotated to be used in all four locations, provided the row of the location needing the bottom edge is flipped (<code>MX</code>). If both top and bottom rows are in <code>R0</code> orient, the same cell cannot be used in place of <code>LEFT</code>/<code>RIGHTBOTTOMCORNERNEIGHBOR</code>, as that would result in shorting power to ground. If two cells, <code>TOP</code> and <code>BOTTOM</code>, are provided, they can be flipped around the <code>Y</code> axis to be used in both the <code>LEFT</code> and <code>RIGHT</code> locations.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132607"></a><code>LEFTTOPEDGENEIGHBOR | RIGHTTOPEDGENEIGHBOR | LEFTBOTTOMEDGENEIGHBOR | LEFTBOTTOMEDGENEIGHBOR</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132613"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132615"></a>Specifies a top or bottom edge endcap cell, which is right next to the <code>LEFTTOPEDGE</code>/<code>LEFTBOTTOMEDGE</code> or <code>RIGHTTOPEDGE</code>/<code>RIGHTBOTTOMEDGE</code> cell. When all four types of <span class="webflare-courier-new" style="white-space:pre"><em>*</em></span><code>NEIGHBOR</code> are defined, they are placed in the <code>R0</code> or MX orientation. If only <code>LEFTTOPEDGENEIGHBOR</code> and <code>LEFTBOTTOMEDGENEIGHBOR</code> are defined, they can be used by y-flipping for <code>RIGHTTOPEDGENEIGHBOR</code> and <code>RIGHTBOTTOMEDGENEIGHBOR</code>. However, <code>LEFTTOPEDGENEIGHBOR</code> and <code>RIGHTTOPEDGENEIGHBOR</code> cannot be x-flipped to replace <code>LEFTBOTTOMEDGENEIGHBOR</code> and <code>LEFTBOTTOMEDGENEIGHBOR</code> because the power/ground pins cannot be matched.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132619"></a><code>TAPTYPE </code><span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132621"></a>Identifies different well tap cells with <code>CLASS WELLTAP</code> or end cap cells with <code>CLASS ENDCAP</code>, which would also serve tap cell purpose, by tagging them with the name, <span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span>. Other LEF constructs or properties can refer to certain well tap cells by <span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span>, and define well tap specific information on them.<br /><em>Type</em>: String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132625"></a><code>TAPWALL</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132627"></a>Specifies a special well tap cell or a special <code>ENDCAP</code> cell that is also serving tap wall purpose, which could be used to break OD diffusion and aligned vertically to form a tap wall.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132631"></a><code>TOPCORNEREDGENEIGHBOR | BOTTOMCORNEREDGENEIGHBOR</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132637"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132639"></a>Specifies a top or bottom edge endcap cell as <code>TOPCORNEREDGENEIGHBOR</code> or <code>BOTTOMCORNEREDGENEIGHBOR</code>, which is between a corner cell and an edge cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8132643"></a><code>TOPEDGE | BOTTOMEDGE | LEFTEDGE | RIGHTEDGE<br />      | LEFTTOPEDGE | RIGHTTOPEDGE <br />      | LEFTBOTTOMEDGE | RIGHTBOTTOMEDGE<br />      | LEFTTOPCORNER | RIGHTTOPCORNER <br />      | LEFTBOTTOMCORNER | RIGHTBOTTOMCORNER</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8132649"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8132651"></a>Specifies that the macro has nwell resided on certain edge or corner of the endcap cells. For example, the <code>TOPEDGE</code> keyword indicates that the endcap cell has n-well on the top edge, while <code>LEFTTOPEDGE</code> indicates that nwell exists on both top and left edges. The <code>LEFTTOPCORNER</code> keyword indicates that nwell only exists on the top left corner.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8139038"></a><code>TSVTOPEDGE | TSVBOTTOMEDGE | TSVLEFTEDGE | TSVRIGHTEDGE<br />      | TSVLEFTTOPCORNER | TSVLEFTBOTTOMCORNER<br />      | TSVRIGHTTOPCORNER | TSVRIGHTBOTTOMCORNER<br />      | TSVLEFTTOPEDGE | TSVLEFTBOTTOMEDGE<br />      | TSVRIGHTTOPEDGE | TSVRIGHTBOTTOMEDGE</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8139006"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8139008"></a>Specifies special endcap cells around TSV with a keepout zone. <code>TSVTOPEDGE</code>, <code>TSVBOTTOMEDGE</code>, <code>TSVLEFTEDGE</code> and <code>TSVRIGHTEDGE</code> are added on the corresponding edges around TSV. The rest of TSV*EDGE are added on the corners. TSV*CORNER are special end-corner cells when they are next to a regular blockage or block.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8139180"></a><code>TSVLEFTTOPEDGENEIGHBOR | TSVRIGHTTOPEDGENEIGHBOR<br />      | TSVLEFTBOTTOMEDGENEIGHBOR | TSVRIGHTBOTTOMEDGENEIGHBOR</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8139018"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8139020"></a>Specifies a top- or bottom-edge endcap cell, which is right next to the <code>TSVLEFTTOPEDGE</code>/<code>TSVLEFTBOTTOMEDGE</code> or <code>TSVRIGHTTOPEDGE</code>/<code>TSVRIGHTBOTTOMEDGE</code> cell. When all four types of TSV*EDGENEIGHBOR cells are defined, they are placed in the R0 or MX orientation. If only <code>TSVLEFTTOPEDGENEIGHBOR</code> and <code>TSVLEFTBOTTOMEDGENEIGHBOR</code> are defined, they can be y-flipped for <code>TSVRIGHTTOPEDGENEIGHBOR</code> and <code>TSVRIGHTBOTTOMEDGENEIGHBOR</code>. However, <code>TSVLEFTTOPEDGENEIGHBOR</code> and <code>TSVRIGHTTOPEDGENEIGHBOR</code> cannot be x-flipped to replace <code>TSVLEFTBOTTOMEDGENEIGHBOR</code> and <code>TSVRIGHTBOTTOMEDGENEIGHBOR</code> because the power/ground pins cannot be matched.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8139275"></a><code>TSVLEFTTOPCORNERNEIGHBOR | TSVRIGHTTOPCORNERNEIGHBOR<br />      | TSVLEFTBOTTOMCORNERNEIGHBOR | TSVRIGHTBOTTOMCORNERNEIGHBOR</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8139030"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8139032"></a>Specifies a top- or bottom-edge endcap cell, which is right next to the <code>TSVLEFTTOPCORNER</code>/<code>TSVRIGHTTOPCORNER</code> or <code>TSVLEFTBOTTOMCORNER</code>/<code>TSVRIGHTBOTTOMCORNER</code> cell. When all four types of TSV*CORNERNEIGHBOR cells are defined, they are placed in the R0 or MX orientation. If only one of the four cells, such as <code>TSVRIGHTTOPCORNERNEIGHBOR</code>, is specified, it will be flipped and rotated to be used in all four locations, provided the row of the location needing the bottom edge is flipped (MX). If both the top and bottom rows are in R0 orient, the same cell cannot be used in place of <code>TSVLEFTBOTTOMCORNERNEIGHBOR</code>/<code>TSVRIGHTBOTTOMCORNERNEIGHBOR</code>, as that would result in shorting power to ground. If only <code>TSVLEFTTOPCORNERNEIGHBOR</code> and <code>TSVLEFTBOTTOMCORNERNEIGHBOR</code> are provided, they can be y-flipped for <code>TSVRIGHTTOPCORNERNEIGHBOR</code> and <code>TSVRIGHTBOTTOMCORNERNEIGHBOR</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8132655"></a><strong>Class Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8132656"></a>The following example indicates that macro <code>A</code> is a cover macro for metal filling purpose:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8132657">
<a id="pgfId-8132657"></a><code>MACRO A</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132658">
<a id="pgfId-8132658"></a><code>    PROPERTY LEF58_CLASS &#8220;CLASS COVER FILL ; &#8221; ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132659">
<a id="pgfId-8132659"></a><code>...</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132660">
<a id="pgfId-8132660"></a><code>END A</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8132661">
<a id="pgfId-8132661"></a></pre></li><li>
<a id="pgfId-8132662"></a>The following example shows four different set of configurations for class rule:<br /><strong class="webflare-fig-line-height">Figure 1-31
<a id="pgfId-8132663"></a>Illustration of Class Rule</strong>
<a id="pgfId-8132750"></a><div class="webflare-div-image">
<img width="668" height="594" src="images/LEFSyntax-32.gif" /></div></li><li>
<a id="pgfId-8132751"></a>The following example shows the use of <code>RIGHTEDGE</code> <code>(RE)</code>, <code>TOPEDGE</code> <code>(TE)</code>, <code>LEFTOPEDGE</code> <code>(LTE)</code> and <code>LEFTTOPCORNER</code> <code>(LTC) </code>endcap cells:<ul><li>
<a id="pgfId-8132752"></a><code>RIGHTEDGE</code> in N and FS orientation is used in start of rows</li><li>
<a id="pgfId-8132753"></a><code>RIGHTEDGE</code> in FN and S orientation is used in end of rows</li><li>
<a id="pgfId-8132754"></a><code>TOPEDGE</code> in N orientation is used in bottom row of the core or top row right above a block macro (the first row should have N orientation; otherwise, the bottom FS row would be wasted)</li><li>
<a id="pgfId-8132755"></a><code>TOPEDGE</code> in FS orientation is used in top row of the core or bottom row right below a block macro</li><li>
<a id="pgfId-8132756"></a><code>LEFTTOPEDGE</code> is used at the 4 outer corners in N (left-bottom corner), FN (right-bottom), S (right-top) and FS (left-top) orientation</li><li>
<a id="pgfId-8132757"></a><code>LEFTTOPCORNER</code> is used at the 4 inner corners similarly. Hence, all the cells must have <code>SYMMETRY X Y</code>.<br /><strong class="webflare-fig-line-height">Figure 1-32
<a id="pgfId-8132758"></a>Illustration of Class Rule</strong>
<a id="pgfId-8132905"></a><div class="webflare-div-image">
<img width="668" height="597" src="images/LEFSyntax-33.gif" /></div><strong>Figure 1-33
<a id="pgfId-8132906"></a>Illustration of Class Rule</strong>
<a id="pgfId-8132944"></a><div class="webflare-div-image">
<img width="668" height="393" src="images/LEFSyntax-34.gif" /></div><strong>Figure 1-34
<a id="pgfId-8132945"></a>Illustration of <code>LEFTEDGETOPBORDER</code>, <code>LEFTEDGEBOTTOMBORDER</code>, <code>RIGHTEDGETOPBORDER</code> and <code>RIGHTEDGEBOTTOMBORDER</code> </strong>
<a id="pgfId-8132992"></a><div class="webflare-div-image">
<img width="668" height="461" src="images/LEFSyntax-35.gif" /></div><strong>Figure 1-35
<a id="pgfId-8132993"></a>Illustration of <code>LEFTTOPEDGENEIGHBOR</code>,<code>RIGHTTOPEDGENEIGHBOR</code>, <code>LEFTBOTTOMEDGENEIGHBOR</code>, <code>RIGHTBOTTOMEDGENEIGHBOR, LEFTTOPCORNERNEIGHBOR, RIGHTTOPCORNERNEIGHBOR, LEFTBOTTOMCORNERNEIGHBOR </code>and<code> RIGHTBOTTOMCORNERNEIGHBOR</code></strong>
<a id="pgfId-8133021"></a><div class="webflare-div-image">
<img width="668" height="450" src="images/LEFSyntax-36.gif" /></div><strong>Figure 1-36
<a id="pgfId-8133022"></a>Illustration of <code>LEFTCORNERTOPBORDER</code>, <code>RIGHTCORNERTOPBORDER</code>, <code>LEFTCORNERBOTTOMBORDER</code>, <code>RIGHTCORNERBOTTOMBORDER</code>, <code>TOPCORNEREDGENEIGHBOR</code>, and <code>BOTTOMCORNEREDGENEIGHBOR</code></strong>
<a id="pgfId-8133044"></a><div class="webflare-div-image">
<img width="668" height="456" src="images/LEFSyntax-37.gif" /></div><strong>Figure 1-37
<a id="pgfId-8139394"></a>Illustration of TSV* End Cap Cells</strong>
<a id="pgfId-8139416"></a><div class="webflare-div-image">
<img width="668" height="286" src="images/LEFSyntax-38.gif" /></div></li></ul></li></ul>




































































<h4><em>
<a id="pgfId-8133045"></a>Constraint Area Type Rule</em></h4>

<p>
<a id="pgfId-8133046"></a>The constraint area type rule can be used to define a list of constraint rectangular areas.</p>
<p>
<a id="pgfId-8133047"></a>You can create a constraint area type rule by using the following property definition:</p>

<a id="pgfId-8133049"></a><a id="PropMacroConstraintAreaType"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code>PROPERTY LEF58_CONSTRAINTAREATYPE
</code>   &quot;&#8220;CONSTRAINTAREATYPE <code><em>typeName</em></code> {RECT <code><em>pt pt</em></code>}...
    ;...&#8221; ;</pre>

<p>
<a id="pgfId-8133050"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8133065"></a></p>
<table class="webflareTable" id="#id8133051">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133053"></a><code>CONSTRAINTAREATYPE </code><span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span><code> {RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>pt pt</em></span><code>}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133059"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">

<p>
<a id="pgfId-8133061"></a>Defines a list of constraint rectangular areas in <code>RECT</code> with respect to the cell origin with type name, <span class="webflare-courier-new" style="white-space:pre"><em>typeName</em></span>. Then, rules such as length limit, could be defined on those areas in separate LEF constructs, such as <code>CONSTRAINTLENGTH</code>. </p>
<p>
<a id="pgfId-8133062"></a><em>Type</em>: Float, specified in microns</p>

</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-7891109"></a>Edge Type Rule</em></h4>

<p>
<a id="pgfId-7891110"></a>The edge type rule can be used to define edge types for right and left edges.</p>
<p>
<a id="pgfId-7891111"></a>You can create an edge type rule by using the following property definition:</p>

<a id="pgfId-7891113"></a><a id="PropEdgeType"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_EDGETYPE 
&quot;EDGETYPE {RIGHT | LEFT | TOP | BOTTOM}
    <code><em>edgeType </em></code>| BOTHSOURCE | SOURCEDRAIN | DRAINSOURCE | BOTHDRAIN 
    | BOTHFLOATING 
    [CELLROW <code><em>cellRow</em></code>  | HALFROW <code><em>halfRow </em></code>| RANGE <code><em>xLow</em></code> <code><em>xHigh</em></code>]
    ;...&quot; ;</pre>

<p>
<a id="pgfId-7891114"></a>Where<code>:</code></p>


<p>
<a id="pgfId-7891159"></a></p>
<table class="webflareTable" id="#id7891115">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7891117"></a><code>CELLROW</code> <span class="webflare-courier-new" style="white-space:pre"><em>cellRow</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7891119"></a>Defines which cell row, <span class="webflare-courier-new" style="white-space:pre"><em>cellRow</em></span>, the <span class="webflare-courier-new" style="white-space:pre"><em>edgeType</em></span> is defined on for multiple height cells, which can only be defined on <code>LEFT</code> or <code>RIGHT</code> edges. The legal value of <span class="webflare-courier-new" style="white-space:pre"><em>cellRow</em></span> is from 1 to n, where n is number of cell height of the cell. By default, the <span class="webflare-courier-new" style="white-space:pre"><em>edgeType</em></span> is applied to the entire edge covering all cell rows. For example, 1 will apply <span class="webflare-courier-new" style="white-space:pre"><em>edgeType</em></span> to the bottom most cell row only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-7891123"></a><code>EDGETYPE { RIGHT | LEFT | TOP | BOTTOM } </code><span class="webflare-courier-new" style="white-space:pre"><em>edgeType<br /></em></span>|<code>BOTHSOURCE</code> <code>| SOURCEDRAIN | DRAINSOURCE | BOTHDRAIN | BOTHFLOATING </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7891129"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">

<p>
<a id="pgfId-7891131"></a>Defines an edge type, <span class="webflare-courier-new" style="white-space:pre"><em>edgeType</em></span>, on the specified edge (<code>RIGHT</code>, <code>LEFT</code>, <code>TOP</code>, or <code>BOTTOM</code>) such that a spacing can be defined in <code>CELLEDGESPACINGTABLE</code> by referring to the types. For a macro, you can specify multiple statements on one edge. </p>
<p>
<a id="pgfId-7891132"></a><code>BOTHSOURCE</code>, <code>SOURCEDRAIN</code>, <code>DRAINSOURCE</code>, <code>BOTHDRAIN</code>, and <code>BOTHFLOATING</code> are special keywords that can be defined only on the <code>LEFT</code> or <code>RIGHT</code> edges:</p>
<ul><li>
<a id="pgfId-7891133"></a><code>BOTHSOURCE</code> indicates that the entire portion of that edge is a source.</li><li>
<a id="pgfId-7891134"></a><code>BOTHDRAIN</code> indicates that the entire portion of that edge is a drain.</li><li>
<a id="pgfId-7891135"></a><code>BOTHFLOATING</code> indicates that the entire portion of that edge is floating.</li><li>
<a id="pgfId-7891136"></a><code>SOURCEDRAIN</code> indicates that the top portion is a source and the bottom portion is a drain.</li><li>
<a id="pgfId-7891137"></a><code>DRAINSOURCE</code> indicates that the top portion is a drain and the bottom portion is a source.</li></ul>




<p>
<a id="pgfId-7891138"></a>Edges of those special types may or may not have corresponding spacing defined in <code>CELLEDGESPACINGTABLE</code>. They are used for ensuring a common edge type be defined in different cell libraries such that spacing can be defined in some combinations on those edge types in <code>CELLEDGESPACINGTABLE</code>. </p>
<p>
<a id="pgfId-7891142"></a>See <a href="LEFSyntax.html#89058">Figure&#160;1-39</a>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7891146"></a><code>HALFROW </code><span class="webflare-courier-new" style="white-space:pre"><em>halfRow</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">

<p>
<a id="pgfId-7891148"></a>Defines the edge type per half row, which can be defined only on the <code>LEFT</code> or <code>RIGHT</code> edges. For a single-height cell, the <span class="webflare-courier-new" style="white-space:pre"><em>halfRow</em></span> value of <code>1</code> would apply the given edge type on the bottom half of the cell while a value of <code>2</code> would apply the given edge type on the top half of the cell. </p>
<p>
<a id="pgfId-8099311"></a>Multiple height cells would have the same meaning and values of <code>3</code> or above would be used to represent the second and higher rows. For example, a double-height cell can have <span class="webflare-courier-new" style="white-space:pre"><em>halfRow</em></span> values from <code>1</code> to <code>4</code>, where the <span class="webflare-courier-new" style="white-space:pre"><em>halfRow</em></span> value of <code>1</code> would apply the given edge type on the bottom half of the first row while a value of <code>4</code> would apply the given edge type on the top half of the second row. See <a href="LEFSyntax.html#43631">Figure&#160;1-38</a>.</p>
<p>
<a id="pgfId-7891149"></a>Type: Integer</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7891153"></a><code>RANGE</code> <span class="webflare-courier-new" style="white-space:pre"><em>xLow</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>xHigh</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">

<p>
<a id="pgfId-7891155"></a>Defines a partial range of an edge that the type should be labeled. This can only be defined on <code>TOP</code> or <code>BOTTOM</code> edges.</p>
<p>
<a id="pgfId-7891156"></a><em>Type</em>: Float, specified in microns</p>

</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-7891160"></a>You can define multiple <code>EDGETYPE</code> statements on an edge, including single height cells, such that different type of constraints can be defined on an edge.</p>
<p>
<a id="pgfId-7891161"></a><strong>Edge Type Rule Examples</strong></p>
<ul><li>
<a id="pgfId-7891162"></a>The following statement indicates that edge type <code>GROUP1</code> contains the right edge of <code>MACRO1</code> and <code>GROUP2</code> contains the left edge of <code>MACRO1</code> and right edge of <code>MACRO2</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id7891163">
<a id="pgfId-7891163"></a>MACRO MACRO1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891164">
<a id="pgfId-7891164"></a>&#8230;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891165">
<a id="pgfId-7891165"></a>PROPERTY LEF58_EDGETYPE &quot;</pre><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id7891166">
<a id="pgfId-7891166"></a>EDGETYPE RIGHT GROUP1 ;</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id7891167">
<a id="pgfId-7891167"></a>EDGETYPE LEFT GROUP2 ; &quot; ;</pre></span><pre class="webflare-pre-block webflare-courier-new" id="#id7891168">
<a id="pgfId-7891168"></a>END MACRO1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891169">
<a id="pgfId-7891169"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891170">
<a id="pgfId-7891170"></a>MACRO MACRO2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891171">
<a id="pgfId-7891171"></a>&#8230;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891172">
<a id="pgfId-7891172"></a>PROPERTY LEF58_EDGETYPE &quot;</pre><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id7891173">
<a id="pgfId-7891173"></a>EDGETYPE RIGHT GROUP2 ; &quot; ;</pre></span><pre class="webflare-pre-block webflare-courier-new" id="#id7891174">
<a id="pgfId-7891174"></a>END MACRO2</pre></li></ul>
















<p>
<a id="pgfId-8099388"></a></p>
<ul><li>
<a id="pgfId-7891175"></a>The following example indicates that <code>GROUP1</code> and <code>GROUP2</code> are defined on the first and last (third) row, respectively, on the left edge for the triple-height cell:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id7891176">
<a id="pgfId-7891176"></a>PROPERTY LEF58_EDGETYPE &quot;</pre><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id7891177">
<a id="pgfId-7891177"></a>EDGETYPE LEFT GROUP1 CELLROW 1 ;</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id7891178">
<a id="pgfId-7891178"></a>EDGETYPE LEFT GROUP2 CELLROW 3 ; &quot; ;</pre></span><br /><strong class="webflare-fig-line-height">Figure 1-38
<a id="pgfId-7891179"></a>Illustration of Macro with Cell Row</strong>
<a id="pgfId-7891195"></a><div class="webflare-div-image">
<img width="668" height="254" src="images/LEFSyntax-39.gif" /></div></li></ul>












<p>
<a id="pgfId-8099402"></a></p>
<ul><li>
<a id="pgfId-8098973"></a>The following example indicates that <code>GROUP1</code> and <code>GROUP2</code> are defined on the first and last (fourth) half row, respectively, on the right edge of the double-height cell:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8098974">
<a id="pgfId-8098974"></a>PROPERTY LEF58_EDGETYPE &quot;</pre><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id8098975">
<a id="pgfId-8098975"></a>EDGETYPE RIGHT GROUP1 HALFROW 1 ;</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id8098976">
<a id="pgfId-8098976"></a>EDGETYPE RIGHT GROUP2 HALFROW 4 ; &quot; ;</pre></span><br /><strong class="webflare-fig-line-height">Figure 1-39
<a id="pgfId-8098977"></a><a id="43631"></a>Illustration of Macro with Half Row</strong>
<a id="pgfId-8098993"></a><div class="webflare-div-image">
<img width="668" height="331" src="images/LEFSyntax-40.gif" /></div></li></ul>












<p>
<a id="pgfId-8099394"></a></p>
<ul><li>
<a id="pgfId-7891196"></a>The following example illustrates the edge type rule with special edge type keywords:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id7891197">
<a id="pgfId-7891197"></a>MACRO A</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891198">
<a id="pgfId-7891198"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891199">
<a id="pgfId-7891199"></a>   PROPERTY LEF58_EDGETYPE</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891200">
<a id="pgfId-7891200"></a>      &quot;EDGETYPE LEFT DRAINSOURCE ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891201">
<a id="pgfId-7891201"></a>       EDGETYPE RIGHT SOURCEDRAIN ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891202">
<a id="pgfId-7891202"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891203">
<a id="pgfId-7891203"></a>END A</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891204">
<a id="pgfId-7891204"></a>MACRO B</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891205">
<a id="pgfId-7891205"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891206">
<a id="pgfId-7891206"></a>   PROPERTY LEF58_EDGETYPE &quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891207">
<a id="pgfId-7891207"></a>      EDGETYPE LEFT BOTHDRAIN ; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891208">
<a id="pgfId-7891208"></a>      EDGETYPE RIGHT BOTHSOURCE ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891209">
<a id="pgfId-7891209"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id7891210">
<a id="pgfId-7891210"></a>END B</pre><br /><strong class="webflare-fig-line-height">Figure 1-40
<a id="pgfId-7891212"></a><a id="89058"></a>Illustration of Macro with special edge type keywords</strong>
<a id="pgfId-7891252"></a><div class="webflare-div-image">
<img width="668" height="226" src="images/LEFSyntax-41.gif" /></div><strong>Figure 1-41
<a id="pgfId-7891253"></a>Illustration of Macro with Range</strong>
<a id="pgfId-7891297"></a><div class="webflare-div-image">
<img width="668" height="475" src="images/LEFSyntax-42.gif" /></div></li></ul>
































<h4><em>
<a id="pgfId-8133070"></a>EEQ Rule</em></h4>

<p>
<a id="pgfId-8133071"></a>You can use the EEQ rule to specify the electrically equivalent (EEQ) variant for macros with class <code>CORE </code>standard cells.</p>
<p>
<a id="pgfId-8133072"></a>You can create an EEQ rule by using the following property definition:</p>

<a id="pgfId-8133074"></a><a id="PropMacroEEQ"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_EEQ 
     &quot;EEQ <code><em>macroName</em></code> [VARIANT <code><em>num</em></code>]
     ;... &quot; ;</pre>

<p>
<a id="pgfId-8133075"></a>Where:</p>
<p>
<a id="pgfId-8133076"></a>All other keywords are same as the existing macro <code>EEQ</code> syntax.</p>


<p>
<a id="pgfId-8133090"></a></p>
<table class="webflareTable" id="#id8133077">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133079"></a><code>VARIANT </code><span class="webflare-courier-new" style="white-space:pre"><em>num</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133085"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133087"></a>Specifies the EEQ variant number as <span class="webflare-courier-new" style="white-space:pre"><em>num</em></span>. This should be defined consistently with <code>CELLVARIANTS</code>, which indicates the usage. This construct should be applied only on <code>MACRO</code> with <code>CLASS CORE</code> standard cells.<br /><em>Type</em>: Integer</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8133091"></a>Foreign Rule</em></h4>

<p>
<a id="pgfId-8133092"></a>You can use the foreign rule to indicate that the foreign structure of the specified foreign orient should be used if a component of the macro matches one of the given component orientations.</p>
<p>
<a id="pgfId-8133093"></a>You can create foreign rule by using the following property definition:</p>

<a id="pgfId-8133095"></a><a id="PropForeign"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_FOREIGN 
     &quot;FOREIGN <code><em>foreignCellName</em></code> [<code><em>pt</em></code> [<code><em>orient</em></code>]] 
          [COMPORIENT <code><em>foreignOrientName</em></code> {<code><em>compOrient</em></code>}...]...
     ;... &quot; ;</pre>

<p>
<a id="pgfId-8133096"></a>Where<code>:</code></p>
<p>
<a id="pgfId-8133097"></a>All other keywords are same as the existing macro <code>FOREIGN</code> syntax.</p>


<p>
<a id="pgfId-8133111"></a></p>
<table class="webflareTable" id="#id8133098">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133100"></a><code>COMPORIENT</code> <span class="webflare-courier-new" style="white-space:pre"><em>foreignOrientName</em></span> <code>{</code><span class="webflare-courier-new" style="white-space:pre"><em>compOrient</em></span><code>}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133106"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133108"></a>Specifies that the foreign structure of <span class="webflare-courier-new" style="white-space:pre"><em>foreignOrientName</em></span> should be used if a component of the macro matches one of the given component orientations specified using <span class="webflare-courier-new" style="white-space:pre"><em>compOrient</em></span>. Otherwise, all the other components will use <span class="webflare-courier-new" style="white-space:pre"><em>foreignCellName</em></span>.<br /><em>Values:</em> N, S, E, W, FN, FS, FE, or FN</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8133112"></a><strong>FOREIGN Rule Examples</strong></p>
<p>
<a id="pgfId-8133113"></a>The following example indicates that the foreign structure of foreign orient <code>EFG</code> should be applied if the instance is placed with orientation of <code>S</code> or <code>FS</code>, and all the other instances use the foreign orient <code>ABC</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133114"></a>PROPERTY LEF58_FOREIGN</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133115"></a>     &quot;FOREIGN ABC COMPORIENT EFG S FS ; &quot; ;</pre>



<h4><em>
<a id="pgfId-7972382"></a>Layer Mask Shift Rule</em></h4>

<p>
<a id="pgfId-7972383"></a>You can create a layer mask shift rule to specify that the mask could be shifted on the given layers.</p>
<p>
<a id="pgfId-7972384"></a>You can define a layer mask shift rule by using the following property definition:</p>

<a id="pgfId-7972385"></a><a id="PropMacroLayermaskshift"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_LAYERMASKSHIFT
&quot;LAYERMASKSHIFT <code><em>layer1</em></code> [<code><em>layer2</em></code> ...]
     ;&quot; ;</pre>

<p>
<a id="pgfId-7972387"></a>Where:</p>


<p>
<a id="pgfId-7972398"></a></p>
<table class="webflareTable" id="#id7972388">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-7972390"></a><code>LAYERMASKSHIFT </code><code><em>layer1</em></code><code> [</code><code><em>layer2</em></code><code> ...]</code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7972394"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7972550"></a>Specifies that mask could be shifted on the given layers only on the given <code>MACRO</code>. <code>LAYERMASKSHIFT</code> should not be specified as a library property if any macro has this <code>LAYERMASKSHIFT</code> construct. In addition, if <code>FIXEDMASK</code> is defined as a library property, this <code>LAYERMASKSHIFT</code> construct would override it and allow mask shifting on the given layers on this macro.</p>
<p>
<a id="pgfId-7972397"></a><em>Type</em>: String</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8133120"></a>OBS Partial Rule</em></h4>

<p>
<a id="pgfId-8133121"></a>You can use the OBS partial rule to indicate a partially routing blockage.</p>
<p>
<a id="pgfId-8133122"></a>You can create a OBS partial rule by using the following property definition:</p>

<a id="pgfId-8133124"></a><a id="PropObspartial"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_OBSPARTIAL
&quot;OBSPARTIAL {LAYER <code><em>layerName</em></code> 
WIDTH <code><em>width</em></code> SPACING <code><em>spacing</em></code> RECT <code><em>pt</em></code> <code><em>pt</em></code>}...
; &quot; ;</pre>

<p>
<a id="pgfId-8133125"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8133139"></a></p>
<table class="webflareTable" id="#id8133126">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133128"></a><code>OBSPARTIAL {LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code> <br />WIDTH </code><span class="webflare-courier-new" style="white-space:pre"><em>width</em></span><code> SPACING </code><span class="webflare-courier-new" style="white-space:pre"><em>spacing</em></span><code> RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> }...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133134"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133136"></a>Specifies a partially routing blockage. Any wires in the given RECT area on <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span> must have minimum width of <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> and spacing of <span class="webflare-courier-new" style="white-space:pre"><em>spacing</em></span>. In addition, wires cannot change layer within that area. <br /><em>Type</em>:&#160;&#160;Float, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8133140"></a><strong>OBS Partial Rule Example</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133141"></a>MACRO A</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133142"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133143"></a>PROPERTY LEF58_OBSPARTIAL&#160;&#160;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133144"></a>   &quot;OBSPARTIAL LAYER M2 WIDTH 0.2 SPACING 0.2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133145"></a>       RECT -1.0 -1.0 10.0 8.0 ; &quot; ;</pre>



<p><strong>Figure 1-42
<a id="pgfId-8133146"></a>Illustration of OBS Partial Rule</strong></p>

<p>
<a id="pgfId-8133199"></a></p>
<div class="webflare-div-image">
<img width="668" height="595" src="images/LEFSyntax-43.gif" /></div>



<h4><em>
<a id="pgfId-8133200"></a>OBS Spacing Rule</em></h4>

<p>
<a id="pgfId-8133201"></a>You can use the OBS spacing rule to specify spacing for the OBS of the macro.</p>
<p>
<a id="pgfId-8133202"></a>You can create a OBS spacing rule by using the following property definition:</p>

<a id="pgfId-8133204"></a><a id="PropObsspacing"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_OBSSPACING
  &quot;OBSSPACING {FULLDRC | MIN | <code><em>spacing</em></code>} [LAYER <code><em>layer</em></code>]...
  ; &quot; ;</pre>

<p>
<a id="pgfId-8133205"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8133231"></a></p>
<table class="webflareTable" id="#id8133206">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133208"></a><code>FULLDRC</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133210"></a>Specifies that any OBS shapes without <code>SPACING</code> or <code>DESIGNRULEWIDTH</code> should be treated as a real geometry so all design rule check (DRC) rules will be checked for these shapes. By default, blocks and pad cells (MACROs with a <code>CLASS</code> of <code>BLOCK</code>, <code>RING</code> or <code>PAD</code>) treat OBS shapes as &#8220;abstract&#8221; blockages to prevent routing over the block, and only simple DRC spacing checks are done to the OBS shapes. Note that standard cells (<code>CLASS CORE</code> or <code>ENDCAP</code>) always treat OBS shapes as real geometry with full DRC checks. Therefore, <code>FULLDRC</code> should normally only be used on one or two top routing layers of a block that has very sparse routing to make room for the top-level to route across the block. Note that this may cause extra cross-coupling between the block and top-level routing, so <code>FULLDRC</code> should be used carefully.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133214"></a><code>LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133216"></a>Specifies that the given spacing would be applied on OBS of this macro only on the given <span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133220"></a><code>OBSSPACING {MIN | </code><span class="webflare-courier-new" style="white-space:pre"><em>spacing</em></span><code>}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133226"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133228"></a>Specifies that OBS of this macro would either use min spacing if <code>MIN</code> is given or the given <span class="webflare-courier-new" style="white-space:pre"><em>spacing</em></span> value. This is equivalent to using <code>OBS SPACING</code> value for all the OBS shapes in this LEF MACRO. If <code>LAYER</code> is specified, the given spacing is applied on OBS of this macro only on the given <span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span>. If <code>LAYER</code> is not specified, the spacing value applies to all the OBS shapes. Note that this construct must be used with caution because the defined spacing would always be used even on a neighbor wide wire, which may require a larger spacing.<br /><em>Type</em>:&#160;&#160;Float, specified in microns</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8133232"></a><strong>OBS Spacing Rule Examples</strong></p>
<ul><li>
<a id="pgfId-8133233"></a>The following example indicates that all of the OBS on M3 would use 0.2 um while the rest of OBS uses min spacing.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8133234">
<a id="pgfId-8133234"></a><code>PROPERTY LEF58_OBSSPACING &#8220;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133235">
<a id="pgfId-8133235"></a><code>      OBSSPACING MIN ; </code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133236">
<a id="pgfId-8133236"></a><code>      OBSSPACING 0.2 LAYER M3 ; &#8221; ;</code></pre></li><li>
<a id="pgfId-8133237"></a>The following example indicates that all of the OBS on M1 and M2 of this macro would use min spacing while M3 OBS would use 0.2um.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8133238">
<a id="pgfId-8133238"></a><code>PROPERTY LEF58_OBSSPACING &#8220;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133239">
<a id="pgfId-8133239"></a><code>      OBSSPACING MIN LAYER M1 LAYER M2 ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133240">
<a id="pgfId-8133240"></a><code>      OBSSPACING 0.2 LAYER M3 ;&#8221; ;</code></pre></li><li>
<a id="pgfId-8133241"></a>The following example indicates that all of the OBS on M7 and M8 are real geometries that get full DRC checks, while the OBS on other layers are &#8220;abstract&#8221; blockages that only need min spacing checked.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8133242">
<a id="pgfId-8133242"></a><code>PROPERTY LEF58_OBSSPACING &#8220;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133243">
<a id="pgfId-8133243"></a><code>      OBSSPACING MIN ;</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133244">
<a id="pgfId-8133244"></a><code>      OBSSPACING FULLDRC LAYER M7 LAYER M8 ;&#8221; ;</code></pre></li></ul>















<h4><em>
<a id="pgfId-8137524"></a>Place Within Rule</em></h4>

<p>
<a id="pgfId-8137525"></a>You can use the OBS spacing rule to specify place within conditions for a filler cell.</p>
<p>
<a id="pgfId-8137526"></a>You can create a place within rule by using the following property definition:</p>

<a id="pgfId-8137528"></a><a id="PropPlaceWithin"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_PLACEWITHIN
  &quot;PLACEWITHIN <code><em>within</em></code> PRL <code><em>prl</em></code> {WITH|WITHOUT} LAYER {<code><em>layerName</em></code>}...
  ; &quot; ;</pre>

<p>
<a id="pgfId-8137529"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8137555"></a></p>
<table class="webflareTable" id="#id8137530">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8137532"></a><code>PLACEWITHIN </code><span class="webflare-courier-new" style="white-space:pre"><em>within</em></span><code> PRL </code><span class="webflare-courier-new" style="white-space:pre"><em>prl</em></span><code> {WITH|WITHOUT} LAYER {</code><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code>}...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8137538"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8137665"></a>Specifies that this filler cell must be placed under certain within conditions, and these conditions should be fulfilled horizontally on the same row. </p>
<p>
<a id="pgfId-8137666"></a><code>WITH</code> means that this cell must be placed horizontally within <span class="webflare-courier-new" style="white-space:pre"><em>within</em></span> on both sides of another cell with shapes on any given layer in <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span> and should have a PRL with that cell greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>prl</em></span>. Abutment with such a neighboring cell would fulfill the condition on that side.</p>
<p>
<a id="pgfId-8137667"></a><code>WITHOUT</code> means that this cell must be placed horizontally in a location without a neighboring cell with shapes on any given layer in <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span> within <span class="webflare-courier-new" style="white-space:pre"><em>within</em></span> and having a PRL with that cell greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>prl</em></span>. This means that either the spacing to such a neighboring cell should be greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>within</em></span> or the PRL to that cell should be less than <span class="webflare-courier-new" style="white-space:pre"><em>prl</em></span>. Abutment with such a neighboring cell is allowed on only one side, and the other side needs to fulfill the within and PRL conditions. In other words, abutment on both sides would be a violation.</p>
<p>
<a id="pgfId-8137668"></a>This cell should contain shapes on a layer with type <code>ABUTFILLER</code>. <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span> should be a layer with type <code>ABUTLOGIC</code>.</p>
<p>
<a id="pgfId-8137540"></a><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
</tbody></table>



<p><strong>Figure 1-43
<a id="pgfId-8137807"></a>Illustration of the Place Within Rule Using WITH</strong></p>

<p>
<a id="pgfId-8137842"></a></p>
<div class="webflare-div-image">
<img width="668" height="757" src="images/LEFSyntax-44.gif" /></div>



<p><strong>Figure 1-44
<a id="pgfId-8138227"></a>Illustration of the Place Within Rule Using WITHOUT</strong></p>

<p>
<a id="pgfId-8138312"></a></p>
<div class="webflare-div-image">
<img width="668" height="717" src="images/LEFSyntax-45.gif" /></div>



<h4><em>
<a id="pgfId-8105495"></a>REQ Rule</em></h4>

<p>
<a id="pgfId-8105497"></a>You can define a REQ rule by using the following property definition:</p>

<a id="pgfId-8105553"></a><a id="PropMacroReq"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_REQ
   &quot;REQ <code><em>macroName</em></code> 
    ; &quot; ;</pre>

<p>
<a id="pgfId-8105500"></a>Where:</p>


<p>
<a id="pgfId-8105511"></a></p>
<table class="webflareTable" id="#id8105501">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8105503"></a><code>REQ </code><code><em>macroName</em></code><code></code></pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8105593"></a>Specifies that the macro being defined should be a router-preferred equivalent (REQ) to the previously defined <span class="webflare-courier-new" style="white-space:pre"><em>macroName</em></span>. REQ cells can be placed at the same site to achieve a different routing pattern depending on the design context. This is different from EEQ cells, which provide cell placement flexibility at different sites. In addition, timing variation of REQ cells can be different from EEQ cells. This construct can only be defined on macros with the class CORE standard cells and should be mutually exclusive with EEQ. </p>
<p>
<a id="pgfId-8105510"></a><em>Type</em>: String</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-8133249"></a>Tap Center Offset Rule</em></h4>

<p>
<a id="pgfId-8133250"></a>You can use the tap center offset rule to specify an offset value from the cell center from which the tap distance should be measured.</p>
<p>
<a id="pgfId-8133251"></a>You can create a tap center offset rule by using the following property definition:</p>

<a id="pgfId-8133253"></a><a id="PropTapCenterOffset"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_TAPCENTEROFFSET
  &quot;TAPCENTEROFFSET
    {<code><em>offset</em></code> | {HALFROW <code><em>rowNum</em></code> [LEFT|RIGHT] <code><em>offset</em></code>}...}
  ; &quot; ;</pre>

<p>
<a id="pgfId-8133254"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8133270"></a></p>
<table class="webflareTable" id="#id8133255">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133257"></a><code>TAPCENTEROFFSET<br />    {offset | {HALFROW </code><span class="webflare-courier-new" style="white-space:pre"><em>rowNum</em></span><code> [LEFT|RIGHT] </code><span class="webflare-courier-new" style="white-space:pre"><em>offset</em></span><code>}...}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133263"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133265"></a>Specifies an offset value from the cell center from which the tap distance should be measured. A positive value moves the starting point away from the center by the given amount. A negative value moves the starting point behind the center or away from the center in the other direction. <br /><em>Type</em>: Float, specified in microns</p>
<p>
<a id="pgfId-8133266"></a><code>HALFROW</code> specifies that the offset could be defined on a half row basis. <span class="webflare-courier-new" style="white-space:pre"><em>rowNum</em></span> specifies the half row, with respect to the cell origin, on which the offset is defined.</p>
<p>
<a id="pgfId-8133267"></a><code>LEFT|RIGHT</code> specifies that the offset could be defined on the left or right sides on a half cell row basis. Left and right is referred with respect to the cell origin.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8133271"></a><strong>Tap Center Offset Rule Example</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133272"></a><code>MACRO A</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133273"></a><code>PROPERTY LEF58_TAPCENTEROFFSET &#8220;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133274"></a><code>     TAPCENTEROFFSET HALFROW 1 2.4 </code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133275"></a><code>          HALFROW 2 LEFT -1.2 HALFROW 2 RIGHT 3.6 ; &#8220; ;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133276"></a><code>...</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133277"></a><code>END A</code></pre>



<p><strong>Figure 1-45
<a id="pgfId-8133278"></a>Illustration of Tap Center Offset Rule</strong></p>

<p>
<a id="pgfId-8133313"></a></p>
<div class="webflare-div-image">
<img width="668" height="396" src="images/LEFSyntax-46.gif" /></div>



<h4><em>
<a id="pgfId-975812"></a>Defining Cover Macros</em></h4>

<p>
<a id="pgfId-975817"></a>If you define a cover macro with its actual size, some place-and-route tools cannot place the rest of the cells in your design because it uses the cell boundary to check for overlaps. You can resolve this in two ways:</p>
<ul><li>
<a id="pgfId-976064"></a>The easiest way to support a cover macro is to define the cover macro with a small size, for example, 1 by 1. </li><li>
<a id="pgfId-976072"></a>If you want to define the cover macro with its actual size, create an overlap layer with the non-routing <code>LAYER</code> <code>TYPE</code> <code>OVERLAP</code> statement. You define this overlap layer (cover macro) with the macro obstruction (<code>OBS</code>) statement. </li></ul>




<h4><em>
<a id="pgfId-988419"></a><a id="98569"></a>Defining Symmetry</em></h4>

<p>
<a id="pgfId-988425"></a>Symmetry statements specify legal orientations for sites and macros. <a href="LEFSyntax.html#33543">Figure&#160;1-45</a> illustrates the normal orientations for single-height, flipped and abutted rows with standard cells and sites.</p>



<p><strong>Figure 1-46
<a id="pgfId-988427"></a><a id="33543"></a>Normal Orientations for Single-Height Rows</strong></p>

<p>
<a id="pgfId-988453"></a></p>
<div class="webflare-div-image">
<img width="668" height="121" src="images/LEFSyntax-47.gif" /></div>

<p>
<a id="pgfId-988454"></a>The following examples describe typical combinations of orientations for standard cells. Applications typically create only N (or FS for flipped) row orientations for horizontal standard cell rows; therefore, the examples describe these two rows.</p>




<p><strong>Example 1-6
<a id="pgfId-988795"></a>Single-Height Cells</strong></p>

<p>
<a id="pgfId-988462"></a>Single-height cells for flipped and abutted rows should have <code>SITE</code> symmetry <code>Y</code> and <code>MACRO</code> symmetry <code>X</code> <code>Y</code>. These specifications allow N and FN macros in N rows, and FS and S macros in FS rows, see <a href="LEFSyntax.html#91281">Figure&#160;1-46</a>. These symmetries work with flipped and abutted rows, as well as rows that are not flipped and abutted, so if the rows are all N orientation, the cells all have N or FN orientation. The extra <code>MACRO</code> symmetry of <code>X</code> is not required in this case, but causes no problems. </p>



<p><strong>Figure 1-47
<a id="pgfId-988467"></a><a id="91281"></a>Legal Placements for Row Sites with Symmetry Y</strong></p>

<p>
<a id="pgfId-988553"></a></p>
<div class="webflare-div-image">
<img width="668" height="317" src="images/LEFSyntax-48.gif" /></div>



<p><strong>Example 1-7
<a id="pgfId-988554"></a>Double-Height Cells</strong></p>

<p>
<a id="pgfId-988555"></a>Double-height cells that are intended to align with flipped and abutted single-height rows should have <code>SITE</code> symmetry <code>X</code> <code>Y</code> and <code>MACRO</code> symmetry <code>X</code> <code>Y</code>. These symmetries allow all four cell orientations (N, FN, FS, and S) to fit inside the double-height row (see <a href="LEFSyntax.html#78301">Figure&#160;1-47</a>). Usually, double-height rows are just N orientation rows that are abutted and aligned with a pair of single-height flipped and abutted rows.</p>



<p><strong>Figure 1-48
<a id="pgfId-988560"></a><a id="78301"></a>Legal Placements for Single-Height Row Sites with Symmetry Y and Double-Height Row Sites with Symmetry X Y</strong></p>

<p>
<a id="pgfId-988666"></a></p>
<div class="webflare-div-image">
<img width="668" height="356" src="images/LEFSyntax-49.gif" /></div>



<p><strong>Example 1-8
<a id="pgfId-988667"></a>Special Orientations</strong></p>

<p>
<a id="pgfId-988668"></a>Some single-height cells have special orientation needs. For example, the design requires flipped and abutted rows, but only N and FS orientations are allowed because of the special layout of well taps on the right side of a group of cells that borrow from the left side of the next cell. That is, you cannot place an N and FN cell against each other in one row because only N cells are allowed in an N row. In this case, the <code>SITE</code> symmetry should not be defined, and the <code>MACRO</code> symmetry should be <code>X</code>. A <code>MACRO</code> symmetry of <code>X</code> <code>Y</code> can also be defined because the Y-flipped macros (FN and S orientations) do not match the N or FS rows. See <a href="LEFSyntax.html#23439">Figure&#160;1-48</a> for the different combinations when the SITE has no symmetry.</p>



<p><strong>Figure 1-49
<a id="pgfId-4787923"></a><a id="23439"></a>Legal Placements for Row Sites with No Symmetry</strong></p>

<p>
<a id="pgfId-4788007"></a></p>
<div class="webflare-div-image">
<img width="668" height="318" src="images/LEFSyntax-50.gif" /></div>



<p><strong>Example 1-9
<a id="pgfId-988669"></a>Vertical Rows</strong></p>

<p>
<a id="pgfId-988670"></a>Vertical rows use N or FN row and site orientations. The flipped, abutted vertical row orientation is N and FN, rather than the horizontal row orientation of N and FS. Otherwise, the meaning of the site symmetries and macro symmetries is the same as those for horizontal rows.</p>
<p>
<a id="pgfId-988671"></a>Single-height sites are normally given symmetry <code>X</code>, and single-height cells are normally given symmetry <code>X</code> <code>Y</code>. Example d in <a href="LEFSyntax.html#74092">Figure&#160;1-49</a> shows the legal placement for a site with symmetry <code>X</code>, and the typical standard cell <code>MACRO</code> symmetry <code>X</code> <code>Y</code>. </p>



<p><strong>Figure 1-50
<a id="pgfId-988676"></a><a id="74092"></a>Legal Placements for Vertical Row Sites With Symmetry X</strong></p>

<p>
<a id="pgfId-988774"></a></p>
<div class="webflare-div-image">
<img width="668" height="333" src="images/LEFSyntax-51.gif" /></div>



<h4>
<a id="pgfId-978032"></a><a id="23360"></a>Layer Geo<a id="LayerGeometries"></a>metries</h4>
<a id="pgfId-978805"></a><a id="marker-978804"></a><a id="marker-978806"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
     { LAYER <code><em>layerName</em></code> 
    [EXCEPTPGNET]
    [SPACING <code><em>minSpacing</em></code> | DESIGNRULEWIDTH <code><em>value</em></code>] ;
  [WIDTH <code><em>width</em></code> ;]
  { PATH [MASK <code><em>maskNum</em></code>] <code><em>pt</em></code> ... ; 
  | PATH [MASK <code><em>maskNum</em></code>] ITERATE <code><em>pt</em></code> ... <code><em>stepPattern</em></code> ;
  | RECT [MASK <code><em>maskNum</em></code>] <code><em>pt</em></code> <code><em>pt</em></code> ; 
  | RECT [MASK <code><em>maskNum</em></code>] ITERATE <code><em>pt</em></code> <code><em>pt</em></code> <code><em>stepPattern</em></code> ;
  | POLYGON [MASK <code><em>maskNum</em></code>] <code><em>pt</em></code> <code><em>pt</em></code> <code><em>pt</em></code> <code><em>pt</em></code> ... ; 
  | POLYGON [MASK <code><em>maskNum</em></code>] ITERATE <code><em>pt</em></code> <code><em>pt</em></code> <code><em>pt</em></code> <code><em>pt</em></code> ... <code><em>stepPattern</em></code> ;
  } ...
| VIA [MASK <code><em>viaMaskNum</em></code>] <code><em>pt</em></code> <code><em>viaName</em></code> ; 
| VIA ITERATE [MASK <code><em>viaMaskNum</em></code>] <code><em>pt</em></code> <code><em>viaName</em></code> <code><em>stepPattern</em></code> ;
} ...</pre>

<p>
<a id="pgfId-978781"></a>Used in the macro obstruction (<code>OBS</code>) and pin port (<code>PIN</code>) statements to define layer geometries in the design. </p>


<p>
<a id="pgfId-1133823"></a></p>
<table class="webflareTable" id="#id1133831">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1133833"></a><code>DESIGNRULEWIDTH</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133839"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133841"></a>Specifies the effective design rule width. If specified, the obstruction or pin is treated as a shape of this width for all spacing checks. If you specify <code>DESIGNRULEWIDTH</code>, you cannot specify the <code>SPACING</code> argument. As a lot of spacing rules in advanced nodes no longer just rely on wire width, <code>DESIGNRULEWIDTH</code> is not allowed for 20nm and below nodes.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133863"></a><code>EXCEPTPGNET</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133865"></a>Indicates that the obstruction shapes block signal routing, but do <em>not</em> block power or ground routing. This can be used to block signal routes that might cause noise, but allow connections to power and ground pins. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133869"></a><code>ITERATE</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133941"></a>Creates an array of the <code>PATH</code>, <code>RECT</code>, <code>POLYGON</code>, or <code>VIA</code> geometry, as specified by the given step pattern. <code>ITERATE</code> specifications simplify the definitions of cover macros. The syntax for <span class="webflare-courier-new" style="white-space:pre"><em>stepPattern</em></span> is defined as follows:</p>
<p>
<a id="pgfId-1133871"></a><code>DO</code> <span class="webflare-courier-new" style="white-space:pre"><em>numX</em></span><code> BY</code> <span class="webflare-courier-new" style="white-space:pre"><em>numY</em></span><code> STEP</code> <span class="webflare-courier-new" style="white-space:pre"><em>spaceX spaceY</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133955"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133973"></a><span class="webflare-courier-new" style="white-space:pre"><em>numX</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133975"></a>Specifies the number of columns of points.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133961"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133977"></a><span class="webflare-courier-new" style="white-space:pre"><em>numY</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133979"></a>Specifies the number of rows of points.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133967"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133981"></a><span class="webflare-courier-new" style="white-space:pre"><em>spaceX spaceY</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133983"></a>Specifies the spacing, in distance units, between the columns and rows of points.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133987"></a><code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134031"></a>Specifies the layer on which to place the geometry.</p>
<p>
<a id="pgfId-1133989"></a> <strong>Note:</strong> For macro obstructions, you can specify cut, implant, or overlap layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1559326"></a><code>MASK</code> <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1559328"></a>Specifies which mask from double- or triple-patterning to use for this shape. The <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> variable must be a positive integer. Most applications only support values of 1, 2, or 3. </p>
<p>
<a id="pgfId-1577810"></a>Shapes without any defined mask have no mask set (they are considered uncolored). The uncolored PIN shapes can be assigned to an arbitrary mask as long as they do not have a spacing conflict with neighbor objects. The meaning of uncolored OBS shapes depends on the cell. For standard cell MACROs (with a <code>SITE</code> that is <code>CLASS CORE</code>), the uncolored OBS shapes are considered to be real metal shapes that can be assigned to any mask as long as no mask spacing conflicts occur. For other MACRO types, uncolored OBS shapes are assumed to be abstractions that may be any mask, so other shapes must be spaced far enough away to avoid a violation to any mask shape at that location.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1559377"></a><code>MASK</code> <span class="webflare-courier-new" style="white-space:pre"><em>viaMaskNum</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1559414"></a>Specifies which mask for double- or triple-patterning lithography to be applied to via shapes on each layer. </p>
<p>
<a id="pgfId-1559416"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>viaMaskNum</em></span> is a hex-encoded 3 digit value of the form: &#160;&#160;&#160;&#160;</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1559537"></a>&lt;<code><em>topMaskNum</em></code>&gt;&lt;<code><em>cutMaskNum</em></code>&gt;&lt;<code><em>bottomMaskNum</em></code>&gt;</pre>
<p>
<a id="pgfId-1559418"></a>For example, MASK 113 means the top metal and cut layer <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> is <code>1</code>, and the bottom metal layer <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> is <code>3</code>. A value of 0 means the shape on that layer has no mask assignment (is uncolored), so 013 means the top layer is uncolored. If either the first or second digit is missing, they are assumed to be 0, so 013 and 13 means the same thing. Most applications only support <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> values of 0, 1, 2, or 3 for double or triple patterning.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1612906"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1612914"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>topMaskNum</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>bottomMaskNum</em></span> variables specify which mask the corresponding metal shape belongs to. The via-master metal mask values have no effect. For the cut-layer, the <span class="webflare-courier-new" style="white-space:pre"><em>cutMaskNum</em></span> defines the mask for the bottommost, and then the leftmost cut. For multi-cut vias, the via-instance cut masks are derived from the via-master cut mask values. The via-master must have a mask defined for all of the cut shapes and every via-master cut mask is &quot;shifted&quot; (1 to 2, 2 to 1 for two mask layers, and 1 to 2, 2 to 3, 3 to 1 for three mask layers) so the lower-left cut matches the <span class="webflare-courier-new" style="white-space:pre"><em>cutMaskNum</em></span> value. See <a href="LEFSyntax.html#20637">Example&#160;1-11</a> .</p>
<p>
<a id="pgfId-1612929"></a>Similarly, for the metal layer, the <span class="webflare-courier-new" style="white-space:pre"><em>topMaskNum</em></span>/<span class="webflare-courier-new" style="white-space:pre"><em>bottomMaskNum</em></span> would define the mask for the bottom-most, then leftmost metal shape. For multiple disjoint metal shapes, the via-instance metal masks are derived from the via-master metal mask values. The via-master must have a mask defined for all of the metal shapes, and every via-master metal mask is &#8220;shifted&#8221; (1-&gt;2, 2-&gt;1 for two mask layers, 1-&gt;2, 2-&gt;3, 3-&gt;1 for three mask layers) so the lower-left cut matches the <span class="webflare-courier-new" style="white-space:pre"><em>topMaskNum</em></span>/<span class="webflare-courier-new" style="white-space:pre"><em>bottomMaskNum</em></span> value. </p>
<p>
<a id="pgfId-2993649"></a>Shapes without any defined mask that need to be assigned, can be assigned to an arbitrary choice of mask by applications.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133993"></a><code>PATH </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1561321"></a>Creates a path between the specified points, such as <span class="webflare-courier-new" style="white-space:pre"><em>pt1</em></span><em> </em><span class="webflare-courier-new" style="white-space:pre"><em>pt2</em></span><em> </em><span class="webflare-courier-new" style="white-space:pre"><em>pt3</em></span>. The path automatically extends the length by half of the current <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> on both endpoints to form a rectangle. (A previous <code>WIDTH</code> statement is required.) The line between each pair of points must be parallel to the x or y axis (45-degree angles are not allowed). </p>
<p>
<a id="pgfId-1133995"></a>You can also specify a path with a single coordinate, in which case a square whose side is equal to the current <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> is placed with its center at <span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133999"></a><code>POLYGON </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134003"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134005"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8106471"></a>Specifies a sequence of at least three points to generate a polygon geometry. Most fab DRC rules require each polygon edge to be parallel to the x or y axis, or at a 45-degree angle. However, odd-angles are allowed sometimes on a few layers, such as bump layers. Each <code>POLYGON</code> statement defines a polygon generated by connecting each successive point, and then by connecting the first and last points.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134011"></a><code>RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134013"></a>Specifies a rectangle, where the two points specified are opposite corners of the rectangle. There is no functional difference between a geometry specified using <code>PATH</code> and a geometry specified using <code>RECT</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134111"></a><code>SPACING</code><span class="webflare-courier-new" style="white-space:pre"><em> minSpacing</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1174371"></a>Specifies the minimum spacing allowed between this particular <code>OBS</code> and any other shape. While the syntax is shared for both <code>OBS</code> and <code>PIN</code>, it is only intended to be used with OBS shapes. The <span class="webflare-courier-new" style="white-space:pre"><em>minSpacing</em></span> value overrides all other normal LAYER-based spacing rules, including wide-wire spacing rules, end-of-line rules, parallel run-length rules, etc. An <code>OBS</code> with <code>SPACING</code> is not &#8220;seen&#8221; by any other DRC check, except the simple check for <span class="webflare-courier-new" style="white-space:pre"><em>minSpacing</em></span> to any other routing shape on the same layer.&#160;&#160;</p>
<p>
<a id="pgfId-1174375"></a>One common application is to put an <code>OBS SPACING 0</code> shape on top of some <code>PIN</code> shapes to restrict the access of a router to other parts of the <code>PIN</code> without the <code>OBS</code> shape. This is sometimes needed for cells with large drive strengths to avoid electromigration problems by restricting the router to connect only to the middle of the output pin.</p>
<p>
<a id="pgfId-3849002"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>minSpacing</em></span> value cannot be larger than the maximum spacing defined in the <code>SPACING</code> or <code>SPACINGTABLE</code> for that layer. Tools may change larger values to the maximum spacing value with a warning.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134117"></a><code>VIA </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134119"></a>Specifies the via to place, and the placement location.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134188"></a><code>WIDTH</code> <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134190"></a>Specifies the width that the <code>PATH</code> statements use. If you do not specify <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span>, the default width for that layer is used. When you specify a width, that width remains in effect until the next <code>WIDTH</code> or <code>LAYER</code> statement. When another <code>LAYER</code> statement is given, the <code>WIDTH</code> is automatically reset to the default width for that layer.</p>
</td>
</tr>
</tbody></table>



<p><strong>Example 1-10
<a id="pgfId-996400"></a>Layer Geometries </strong></p>

<p>
<a id="pgfId-996401"></a>The following example shows how to define a set of geometries, first by using <code>ITERATE</code> statements, then by using individual <code>PATH</code>, <code>VIA</code> and <code>RECT</code> statements. </p>
<p>
<a id="pgfId-1120762"></a>The following two sets of statements are equivalent:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1120763"></a>PATH ITERATE 532.0 534 1999.2 534 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1120764"></a>DO 1 BY 2 STEP 0 1446 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992692"></a>VIA ITERATE 470.4 475 VIABIGPOWER12</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992693"></a>DO 2 BY 2 STEP 1590.4 1565 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992694"></a>RECT ITERATE 24.1 1.5 43.5 16.5 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992695"></a>DO 2 BY 1 STEP 20.0 0 ; </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-978851"></a>PATH 532.0 534 1999.2 534 ; </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992711"></a>PATH 532.0 1980 1999.2 1980 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992712"></a>VIA 470.4 475 VIABIGPOWER12 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992713"></a>VIA 2060.8 475 VIABIGPOWER12; </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992714"></a>VIA 470.4 2040 VIABIGPOWER12;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992715"></a>VIA 2060.8 2040 VIABIGPOWER12;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992716"></a>RECT 24.1 1.5 43.5 16.5 ; </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992717"></a>RECT 44.1 1.5 63.5 16.5 ; </pre>



<p><strong>Example 1-11
<a id="pgfId-1559626"></a><a id="20637"></a>Layer Geometries - multi-mask patterns</strong></p>

<p>
<a id="pgfId-1559664"></a>The following example shows how to use multi-mask patterns:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1578481"></a>LAYER M1 ;</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1578482"></a>RECT MASK&#160;&#160;2 10 10 11 11 ; </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1578483"></a>LAYER M2 ;&#160;&#160;&#160;&#160;</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1578484"></a>RECT 10 10 11 11 ; </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1578485"></a>VIA 5 5 VIA1_1 ; </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1578486"></a>VIA MASK 031 15 15 VIA1_2 ; </pre>
<p>
<a id="pgfId-1578517"></a>This indicates that the:</p>
<ul><li>
<a id="pgfId-1559698"></a><code>M1</code> rect shape belongs to <code>MASK 2</code></li><li>
<a id="pgfId-1559666"></a><code>M2</code> rect shape has no mask set</li><li>
<a id="pgfId-1559667"></a><code>VIA1_1</code> via has no mask set (all the metal and cut shapes have no mask)</li><li>
<a id="pgfId-1559668"></a><code>VIA1_2</code> via will have: <ul><li>
<a id="pgfId-1559669"></a>No mask set for the top metal shape (<span class="webflare-courier-new" style="white-space:pre"><em>topMaskNum</em></span> is 0 in the 031 value)</li><li>
<a id="pgfId-1559670"></a><code>MASK 1</code> for the bottom metal shape (<span class="webflare-courier-new" style="white-space:pre"><em>botMaskNum</em></span> is 1 in the 031 value)</li><li>
<a id="pgfId-1560588"></a>The bottommost, and then the leftmost cut of the via-instance is <code>MASK 3</code>. The mask for the other cuts of the via-instance are derived from the via-master by &quot;shifting&quot; the via-master cut masks to match. So if the via-master&#39;s bottom-left cut is <code>MASK 1</code>, then the via-master cuts on <code>MASK 1</code> become <code>MASK 3</code> for the via-instance, and similarly cuts on 2 to 1, and cuts on 3 to 2. See <a href="LEFSyntax.html#28496">Figure&#160;1-50</a>.</li></ul></li></ul>







<pre class="webflare-courier-new codeContent">
<a id="pgfId-1560589"></a></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1559719"></a>LAYER M1 ;</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1559720"></a>RECT MASK&#160;&#160;2 10 10 11 11 ; </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1559771"></a>LAYER M2 ;&#160;&#160;&#160;&#160;</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1559772"></a>RECT 10 10 11 11 ; </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1559773"></a>VIA 5 5 VIA1_1 ; </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1559724"></a>VIA MASK 031 15 15 VIA1_2 ; </pre>



<p><strong>Figure 1-51
<a id="pgfId-1559854"></a><a id="28496"></a>Via-master multi-mask patterns</strong></p>

<p>
<a id="pgfId-1560019"></a></p>
<div class="webflare-div-image">
<img width="668" height="538" src="images/LEFSyntax-52.gif" /></div>



<h4>
<a id="pgfId-973494"></a><a id="35215"></a>Macro Obst<a id="MacroObstructionStatement"></a>ruction Statement</h4>
<a id="pgfId-973496"></a><a id="marker-8136422"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[OBS
{<a href="LEFSyntax.html#LayerGeometries">layerGeometries</a>}...</pre>
<a id="pgfId-978782"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END]</pre>

<p>
<a id="pgfId-986408"></a>Defines a set of obstructions (also called blockages) on the macro. You specify obstruction geometries using the layer geometry syntax. See <a href="LEFSyntax.html#23360">&#8220;Layer Geometries&#8221;</a> for syntax information.</p>
<p>
<a id="pgfId-986412"></a>Normally, obstructions block routing, except for when a pin port overlaps an obstruction (a port geometry overrules an obstruction). For example, you can define a large rectangle for a <em>metal1</em> obstruction and have <em>metal1</em> port in the middle of the obstruction. The port can still be accessed by a via, if the via is entirely inside the port. </p>
<p>
<a id="pgfId-986416"></a>In <a href="LEFSyntax.html#82021">Figure&#160;1-51</a>, the router can only access the <em>metal1</em> port from the right. If the <em>metal2</em> obstruction did not exist, the router could connect to the port with a <em>metal12</em> via, as long as the <em>metal1</em> part of the via fit entirely inside the <em>metal1</em> port.</p>



<p><strong>Figure 1-52
<a id="pgfId-986418"></a><a id="82021"></a></strong></p>

<p>
<a id="pgfId-986448"></a></p>
<div class="webflare-div-image">
<img width="668" height="254" src="images/LEFSyntax-53.gif" /></div>

<p>
<a id="pgfId-986449"></a>Routing can also connect to such a port on the same layer if the routing does not cross any obstruction by more than a distance of the total of minimum width plus minimum spacing before reaching the pin. This is because the port geometry is known to be &#8220;real,&#8221; and any obstruction less than a distance of minimum width plus minimum spacing away from the port is not a real obstruction. If the pin is more than minimum width plus minimum spacing away from the obstruction edge, the router can only route to the pin from the layer above or below using a via (see <a href="LEFSyntax.html#73024">Figure&#160;1-52</a>). </p>




<p><strong>Figure 1-53
<a id="pgfId-986454"></a><a id="73024"></a></strong></p>

<p>
<a id="pgfId-986492"></a></p>
<div class="webflare-div-image">
<img width="668" height="264" src="images/LEFSyntax-54.gif" /></div>

<p>
<a id="pgfId-986493"></a>If a port is on the edge of the obstruction, a wire can be routed to the port without violations. Pins that are partially covered with obstructions or in apparent violation with nearby obstructions can limit routing options. Even though the violations are not real, the router assumes they are. In these cases, extend each obstruction to cover the pin. The router then accesses the pin as described above.</p>




<h4><em>
<a id="pgfId-973509"></a><a id="marker-973508"></a>Benefits of Combining Obstructions</em></h4>

<p>
<a id="pgfId-973512"></a>Significant routing time can be saved if <a id="marker-973510"></a>obstructions are <a id="marker-973511"></a>simplified. Especially in <em>metal1</em>, construct obstructions so that free tracks on the layer are accessible to the router. If most of the routing resource is obstructed, simplify the obstruction modeling by combining small obstructions into a single large obstruction. For example, use the bounding box of all <em>metal1</em> objects in the cell, rather than many small obstructions, as the bounding box of the obstruction.</p>
<p>
<a id="pgfId-973513"></a>You must be sure to model via obstructions over the rest of the cell properly. A single, large <em>cut12</em> obstruction over the rest of the cell can do this in some cases, as when <em>metal1</em> resource exists within the cell outside the power buses.</p>



<h4><em>
<a id="pgfId-973514"></a>Rectilinear Blocks</em></h4>

<p>
<a id="pgfId-973515"></a>Normally, footprint descriptions in LEF are rectangular. However, it is possible to describe rectilinear footprints using an overlap layer. The overlap layer is defined specifically for this purpose and does not contain any routing. </p>
<p>
<a id="pgfId-973516"></a>Describe a rectilinear footprint by setting the <code>SIZE</code> of the macro as a whole to a rectangular bounding box, then defining obstructions within the bounding box on the overlap layer. The obstructions on the overlap layer indicate areas within the bounding box which no other macro should overlap. The obstructions should completely cover the rectilinear shape of the macro, but not the portion of the bounding box that might overlap with other macros during placement. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-973518"></a>Specify the <a id="marker-973517"></a>overlaps for the macro using the <code>OBS</code> statement. To do this, specify a layer of type <code>OVERLAP</code> and then give the overlap geometries, as shown in <a href="LEFSyntax.html#75599">Figure&#160;1-53</a>.</div>



<p><strong>Figure 1-54
<a id="pgfId-987345"></a><a id="75599"></a></strong></p>

<p>
<a id="pgfId-1247623"></a> </p>
<div class="webflare-div-image">
<img width="631" height="254" src="images/LEFSyntax-55.gif" /></div>



<h4>
<a id="pgfId-1247626"></a><a id="48865"></a>Macro Pin Stateme<a id="MacroPinStatement"></a>nt</h4>
<a id="pgfId-8103063"></a><a id="marker-3907486"></a><a id="marker-3907487"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[PIN pinName
[TAPERRULE <code><em>ruleName</em></code> ;]
[DIRECTION {INPUT | OUTPUT [TRISTATE] | INOUT | FEEDTHRU} ;]
[USE { SIGNAL | ANALOG | POWER | GROUND | CLOCK } ;] 
[NETEXPR &quot;<code><em>netExprPropName</em></code> <code><em>defaultNetName</em></code>&quot; ;]
[SUPPLYSENSITIVITY <code><em>powerPinName</em></code> ;]
[GROUNDSENSITIVITY <code><em>groundPinName</em></code> ;]
[SHAPE {ABUTMENT | RING | FEEDTHRU} ;]
[MUSTJOIN <code><em>pinName</em></code> ;]
{PORT <code> 
</code>  [CLASS {NONE | CORE | BUMP} ;] 
  {<a href="LEFSyntax.html#LayerGeometries">layerGeometries</a>} ... 
 END} ... 
[PROPERTY <code><em>propName propVal</em></code> ;] ...
[<a href="LEFSyntax.html#PropPinAccessArea">PROPERTY LEF58_ACCESSAREA
</a>   &quot;ACCESSAREA {LAYER <code><em>layerName</em></code> RECT <code><em>pt pt</em></code> [CUTCLASS <code><em>className</em></code>]
   [EXCEPTEXTRACUT]}...
   ; &quot; ;]
[<a href="LEFSyntax.html#PropPinAntennaDiffArea">PROPERTY LEF58_ANTENNADIFFAREA
</a>   &quot;ANTENNADIFFAREA [BACKSIDE][PROTECTOR] <code><em>value</em></code> [LAYER <code><em>layerName</em></code>]
   ; ...&quot; ;]
[<a href="LEFSyntax.html#PropMustJoinAllPorts">PROPERTY LEF58_MUSTJOINALLPORTS
</a>   &quot;MUSTJOINALLPORTS
   ; &quot; ;]
[<a href="LEFSyntax.html#PropViaInMustJoin">PROPERTY LEF58_VIAINMUSTJOIN
</a>   &quot;VIAINMUSTJOIN
   ; &quot; ;]
<a href="LEFSyntax.html#PropViaInPinOnly">[PROPERTY LEF58_VIAINPINONLY
</a>   &quot;VIAINPINONLY
   ; &quot; ;]
[ANTENNAPARTIALMETALAREA <code><em>value</em></code> [LAYER <code><em>layerName</em></code>] ;] ...
[ANTENNAPARTIALMETALSIDEAREA <code><em>value</em></code> [LAYER <code><em>layerName</em></code>] ;] ...
[ANTENNAPARTIALCUTAREA <code><em>value</em></code> [LAYER <code><em>layerName</em></code>] ;] ...
[ANTENNADIFFAREA <code><em>value</em></code> [LAYER <code><em>layerName</em></code>] ;] ...
[ANTENNAMODEL {OXIDE1 | OXIDE2 | OXIDE3 | OXIDE4} ;] ...
[ANTENNAGATEAREA <code><em>value</em></code> [LAYER <code><em>layerName</em></code>] ;] ...
[ANTENNAMAXAREACAR <code><em>value</em></code> LAYER <code><em>layerName</em></code> ;] ...
[ANTENNAMAXSIDEAREACAR <code><em>value</em></code> LAYER <code><em>layerName</em></code> ;] ...
[ANTENNAMAXCUTCAR <code><em>value</em></code> LAYER <code><em>layerName</em></code> ;] ...</pre>
<a id="pgfId-978056"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END <code><em>pinName</em></code>] </pre>

<p>
<a id="pgfId-978335"></a>Defines pins for the macro. <code>PIN</code> statements must be included in the LEF specification for each macro. All pins, including VDD and VSS, must be specified. The first pin listed becomes the first pin in the database. List the pins in the following order:<a id="marker-973563"></a></p>
<ul><li>
<a id="pgfId-978535"></a><a id="marker-978533"></a>Netlist <a id="marker-978534"></a>pins, including inout <a id="marker-978536"></a>pins, output <a id="marker-978538"></a>pins, and input <a id="marker-973571"></a>pins</li><li>
<a id="pgfId-973573"></a>Power and ground pins</li><li>
<a id="pgfId-973574"></a>Mustjoin pins</li></ul>



<p><strong>
<a id="pgfId-987112"></a><code>ANTENNADIFFAREA</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>[LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125518"></a>Specifies the diffusion (diode) area, in micron-squared units, to which the pin is connected on a layer. If you do not specify a layer name, the value applies to all layers. For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a> </p>

<p><strong>
<a id="pgfId-987114"></a><code>ANTENNAGATEAREA</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>[LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125525"></a>Specifies the gate area, in micron-squared units, to which the pin is connected on a layer. If you do not specify a layer name, the value applies to all layers. For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a></p>

<p><strong>
<a id="pgfId-978305"></a><code>ANTENNAMAXAREACAR</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125532"></a>For hierarchical process antenna effect calculation, specifies the maximum cumulative area ratio value on the specified <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, using the metal area at or below the current pin layer, excluding the pin area itself. This is used to calculate the actual cumulative antenna ratio on the pin layer, or the layer above it. </p>
<p class="webflare-indent1">
<a id="pgfId-987137"></a>For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a></p>

<p><strong>
<a id="pgfId-978311"></a><code>ANTENNAMAXCUTCAR</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125539"></a>For hierarchical process antenna effect calculation, specifies the maximum cumulative antenna ratio value on the specified <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, using the cut area at or below the current pin layer, excluding the pin area itself. This is used to calculate the actual cumulative antenna ratio for the cuts above the pin layer. </p>
<p class="webflare-indent1">
<a id="pgfId-987183"></a>For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a></p>

<p><strong>
<a id="pgfId-978317"></a><code>ANTENNAMAXSIDEAREACAR</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125546"></a>For hierarchical process antenna effect calculation, specifies the maximum cumulative antenna ratio value on the specified <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, using the metal side wall area at or below the current pin layer, excluding the pin area itself. This is used to calculate the actual cumulative antenna ratio on the pin layer or the layer above it.</p>
<p class="webflare-indent1">
<a id="pgfId-987152"></a>For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a></p>

<p><strong>
<a id="pgfId-984226"></a><code>ANTENNAMODEL {OXIDE1 | OXIDE2 | OXIDE3 | OXIDE4}</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125553"></a>Specifies the oxide model for the pin. If you specify an <code>ANTENNAMODEL</code> statement, the value affects all <code>ANTENNAGATEAREA</code> and <code>ANTENNA*CAR</code> statements for the pin that follow it until you specify another <code>ANTENNAMODEL</code> statement. The <code>ANTENNAMODEL</code> statement does not affect <code>ANTENNAPARTIAL*AREA</code> and <code>ANTENNADIFFAREA</code> statements because they refer to the total metal, cut, or diffusion area connected to the pin, and do not vary with each oxide model.<br /><em>Default:</em> <code>OXIDE1</code>, for a new <code>PIN</code> statement </p>
<p class="webflare-indent1">
<a id="pgfId-984234"></a>Because LEF is often used incrementally, if an <code>ANTENNA</code> statement occurs twice for the same oxide model, the last value specified is used. </p>
<p class="webflare-indent1">
<a id="pgfId-984223"></a>For most standard cells, there is only one value for the <code>ANTENNAPARTIAL*AREA</code> and <code>ANTENNADIFFAREA</code> values per pin; however, for a block with six routing layers, it is possible to have six different <code>ANTENNAPARTIAL*AREA</code> values and six different <code>ANTENNAPINDIFFAREA</code> values per pin. It is also possible to have six different <code>ANTENNAPINGATEAREA</code> and <code>ANTENNAPINMAX*CAR</code> values for each oxide model on each pin.<br /></p>



<p><strong>Example 1-12
<a id="pgfId-987195"></a><a id="18702"></a>Pin Antenna Model </strong></p>

<p>
<a id="pgfId-987196"></a>The following example describes oxide model information for pins <code>IN1</code> and <code>IN2</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-987197"></a>MACRO GATE1 </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992718"></a>PIN IN1 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992728"></a>ANTENNADIFFAREA 1.0 ;&#160;&#160;           #not affected by ANTENNAMODEL</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992732"></a>...</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992739"></a>ANTENNAMODEL OXIDE1 ;&#160;&#160;      #OXIDE1 not required, but is good</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992743"></a>                             #practice</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992742"></a>ANTENNAGATEAREA 1.0 ;&#160;&#160;           #OXIDE1 gate area</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992744"></a>ANTENNAMAXAREACAR 50.0 LAYER m1 ; #metal1 CAR value </pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992745"></a>...</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992746"></a>ANTENNAMODEL OXIDE2 ;&#160;&#160;           #OXIDE2 starts here</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992747"></a>ANTENNAGATEAREA 3.0 ;&#160;&#160;           #OXIDE2 gate area</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992748"></a>...</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992755"></a>PIN IN2</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992750"></a>ANTENNADIFFAREA 2.0 ;&#160;&#160;           #not affected by ANTENNAMODEL</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992751"></a>ANTENNAPARTIALMETALAREA 2.0 LAYER m1 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992752"></a>...</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992759"></a>#no OXIDE1 specified for this pin</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992761"></a>ANTENNAMODEL OXIDE2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992762"></a>ANTENNAGATEAREA 1.0 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992763"></a>...</pre>
<p><strong>
<a id="pgfId-980170"></a><code>ANTENNAPARTIALCUTAREA</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>[LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125604"></a>Specifies the partial cut area above the current pin layer and inside the macro cell on the layer. For a hierarchical design, only the cut layer above the I/O pin layer is needed for partial antenna ratio calculation. If you do not specify a layer name, the value applies to all layers. </p>
<p class="webflare-indent1">
<a id="pgfId-987176"></a>For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a></p>

<p><strong>
<a id="pgfId-980164"></a><code>ANTENNAPARTIALMETALAREA</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>[LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125611"></a>Specifies the partial metal area connected directly to the I/O pin and the inside of the macro cell on the layer. For a hierarchical design, only the same metal layer as the I/O pin, or the layer above it, is needed for partial antenna ratio calculation. If you do not specify a layer name, the value applies to all layers. </p>
<p class="webflare-indent1">
<a id="pgfId-987175"></a>For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a></p>
<p class="webflare-indent1">
<a id="pgfId-982017"></a><strong>Note: </strong>Metal area is calculated by adding the pin&#8217;s geometric metal area and the <code>ANTENNAPARTIALMETALAREA</code> value.</p>

<p><strong>
<a id="pgfId-978375"></a><code>ANTENNAPARTIALMETALSIDEAREA</code> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <code>[LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125618"></a>Specifies the partial metal side wall area connected directly to the I/O pin and the inside of the macro cell on the layer. For a hierarchical design, only the same metal layer as the I/O pin or the layer above is needed for partial antenna ratio calculation. If you do not specify a layer name, the value applies to all layers. </p>
<p class="webflare-indent1">
<a id="pgfId-987174"></a>For more information on process antenna calculation, see <a href="PAE.html#96643">Appendix C, &#8220;Calculating and Fixing Process Antenna Violations.&#8221;</a></p>
<p class="webflare-indent1">
<a id="pgfId-978381"></a><code>DIRECTION {INPUT | OUTPUT [TRISTATE] | INOUT | FEEDTHRU}<br /></code>Specifies the pin type. Most current tools do not usually use this keyword. Typically, pin directions are defined by timing library data, and not from LEF.<br /><em>Default:</em><a id="marker-978380"></a> <code>INPUT</code> 
<em>Value:</em> Specify one of the following:&#160;&#160;</p>
<table class="webflareTable webflareTableIndent" id="#id978382">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010155"></a><code>INPUT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010157"></a>Pin that accepts signals coming into the cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010159"></a><code>OUTPUT [TRISTATE]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010161"></a>Pin that drives signals out of the cell. The optional <code>TRISTATE</code> argument indicates tristate output pins for ECL designs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010163"></a><code>INOUT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010165"></a>Pin that can accept signals going either in or out of the cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010167"></a><code>FEEDTHRU</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010169"></a>Pin that goes completely across the cell. </p>
</td>
</tr>
</tbody></table>

<p><strong>
<a id="pgfId-990936"></a><code>GROUNDSENSITIVITY </code><span class="webflare-courier-new" style="white-space:pre"><em>groundPinName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125646"></a>Specifies that if this pin is connected to a tie-low connection (such as <code>1&#8217;b0</code> in Verilog), it should connect to the same net to which <span class="webflare-courier-new" style="white-space:pre"><em>groundPinName</em></span> is connected.</p>
<p class="webflare-indent1">
<a id="pgfId-990951"></a><span class="webflare-courier-new" style="white-space:pre"><em>groundPinName</em></span> must match a pin on this macro that has a <code>USE GROUND</code> attribute. The ground pin definition can follow later in this <code>MACRO</code> statement; it does not have to be defined before this pin definition. For an example, see <a href="LEFSyntax.html#89531">Example&#160;1-13</a>.</p>
<p class="webflare-indent1">
<a id="pgfId-990988"></a><strong>Note:</strong> <code>GROUNDSENSITIVITY</code> is useful only when there is more than one ground pin in the macro. By default, if there is only one <code>USE GROUND</code> pin, then the tie-low connections are already implicitly defined (that is, tie-low connections are connected to the same net as the one ground pin). </p>

<p><strong>
<a id="pgfId-978443"></a><code>MUSTJOIN</code><a id="mustjoin"></a> <span class="webflare-courier-new" style="white-space:pre"><em>pinName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125653"></a>Specifies the name of <a id="marker-978442"></a>another pin in the cell that must be connected with the pin being defined. <code>MUSTJOIN</code> pins provide connectivity that must be made by the router. In the LEF file, each pin referred to must be defined before the referring pin. The remaining <code>MUSTJOIN</code> pins in the set do not need to be defined contiguously. </p>
<p class="webflare-indent1">
<a id="pgfId-989263"></a> <strong>Note:</strong> <code>MUSTJOIN</code> pin names are never written to the DEF file; they are only used by routers to add extra connection points during routing. </p>
<p class="webflare-indent1">
<a id="pgfId-8010182"></a><code>MUSTJOIN</code> pins have the following restrictions:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-8010242"></a>A set of <code>MUSTJOIN</code> pins cannot have more than one schematic pin.</li><li>
<a id="pgfId-8010263"></a>Nonschematic <code>MUSTJOIN</code> pins must be defined after all other pins.</li></ul></li></ul>

<p class="webflare-indent1">
<a id="pgfId-978453"></a>Schematic and nonschematic <code>MUSTJOIN</code> pins are handled in slightly different ways. For schematic <code>MUSTJOIN</code> pins, the pins are added to the pin set for the (unique) net associated with the ring for each component instance of the macro. The net is routed in the usual manner, and routing data for the <code>MUSTJOIN</code> pins are included in routing data for the net. </p>
<p class="webflare-indent1">
<a id="pgfId-978454"></a>The mustjoin routing is not necessarily performed before the rest of the net. Timing relations should not be given for <code>MUSTJOIN</code> pins, and internal mustjoin routing is modeled as lumped capacitance at the schematic pin.</p>
<p class="webflare-indent1">
<a id="pgfId-978455"></a>Nonschematic <code>MUSTJOIN</code> pin sets get routed in the usual manner. However, when the DEF file is outputted, routing data is reported in the <code>NETS</code> section of the file as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-978456"></a>        MUSTJOIN <code><em>compName</em></code> <code><em>pinName</em></code> + <code><em>regularWiring</em></code> ;</pre>

<p class="webflare-indent1">
<a id="pgfId-2992625"></a>Here, <span class="webflare-courier-new" style="white-space:pre"><em>compName</em></span> is the component and <span class="webflare-courier-new" style="white-space:pre"><em>pinName</em></span> is an arbitrary pin in the set. You can also use the preceding to input prewiring for the <code>MUSTJOIN</code> pin, using <code>FIXED</code> or <code>COVER</code>.</p>

<p><strong>
<a id="pgfId-2992644"></a><code>NETEXPR &quot;</code><span class="webflare-courier-new" style="white-space:pre"><em>netExprPropName</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>defaultNetName</em></span><code>&quot;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1111174"></a>Specifies a net expression property name (such as <code>power1</code> or <code>power2</code>) and a default net name. If <span class="webflare-courier-new" style="white-space:pre"><em>netExprPropName</em></span> matches a net expression property in the netlist (such as in Verilog, VHDL, or OpenAccess), then the property is evaluated, and the software identifies a net to which to connect this pin. If this property does not exist, <span class="webflare-courier-new" style="white-space:pre"><em>defaultNetName</em></span> is used for the net name.</p>
<p class="webflare-indent1">
<a id="pgfId-994005"></a><span class="webflare-courier-new" style="white-space:pre"><em>netExprPropName</em></span> must be a simple identifier in order to be compatible with other languages, such as Verilog and CDL. Therefore, it can only contain alphanumeric characters, and the first character cannot be a number. For example, <code>power2</code> is a legal name, but <code>2power</code> is not. You cannot use characters such as <code>$</code> and <code>!</code>. The <span class="webflare-courier-new" style="white-space:pre"><em>defaultName</em></span> can be any legal DEF net name.</p>



<p><strong>Example 1-13
<a id="pgfId-991004"></a><a id="89531"></a> Net Expression and Supply Sensitivity </strong></p>

<p>
<a id="pgfId-991008"></a>The following statement defines sensitivity and net expression values for four pins on the macro <code>myMac</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-991009"></a>MACRO myMac </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991024"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991131"></a>PIN in1</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991132"></a>...</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991133"></a>SUPPLYSENSITIVITY vddpin1 ; #If in1 is 1&#8217;b1, use net connected to vddpin1.<br />                           #Note that no GROUNDSENSITIVITY is needed <br />                           #because only one ground pin exists. <br />                           #Therefore, 1&#8217;b0 implicitly means net from <br />                           #pin gndpin.</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991134"></a>...</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991135"></a>END in1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991128"></a></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991028"></a>PIN vddpin1</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991029"></a>...</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991033"></a>NETEXPR &quot;power1 VDD1&quot; ; #If power1 net expression is defined in the <br />                        #netlist, use it to find the net connection. If   <br />                        #not, use net VDD1.</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991036"></a>...</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991037"></a>END vddpin1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991041"></a>PIN vddpin2 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-997294"></a>...</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-997295"></a>NETEXPR &quot;power2 VDD2&quot; ; #If power2 net expression is defined in the <br />                        #netlist, use it to find the net connection.If <br />                        #not, use net VDD2.</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991047"></a>...</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991048"></a>END vddpin2</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991052"></a>PIN gndpin </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991060"></a>...</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991064"></a>NETEXPR &quot;gnd1 GND&quot; ; #If gnd1 net expression is defined in the<br />                     #netlist, use  it to find the net connection. If<br />                     #not, use net GND.</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-991065"></a>...</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991066"></a>END gndpin</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991070"></a>...</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-991071"></a>END myMac</pre>
<p><strong>
<a id="pgfId-978272"></a><code>PIN</code> <span class="webflare-courier-new" style="white-space:pre"><em>pinName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125684"></a>Specifies the name for the library pin.</p>

<p><strong>
<a id="pgfId-1053677"></a><code>PORT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125691"></a>St<a id="marker-1053676"></a>arts a pin port statement that defines a collection of geometries that are electrically equivalent points (strongly connected). A pin can have multiple <a id="marker-1053678"></a>ports. Each <code>PORT</code> of the same <code>PIN</code> is considered weakly connected to the other <code>PORT</code>s, and should already be connected inside the <code>MACRO</code> (often through a resistive path). </p>
<p class="webflare-indent1">
<a id="pgfId-1053679"></a>Strongly connected shapes (that is, multiple shapes of one <code>PORT</code>) indicate that a signal router is allowed to connect to one shape of the <code>PORT</code>, and continue routing from another shape of the same <code>PORT</code>. </p>
<p class="webflare-indent1">
<a id="pgfId-1053680"></a>Weakly connected shapes (that is, separate <code>PORT</code>s of the same <code>PIN</code>) are assumed to be connected through resistive paths inside the <code>MACRO</code> that should not be used by routers. The signal router should connect to one or the other <code>PORT</code>, but not both. </p>
<p class="webflare-indent1">
<a id="pgfId-1053681"></a>Power routers should connect to every <code>PORT</code> statement, if there is more than one for a given <code>PIN</code>. For example, if a block has several <code>PORT</code>s on the boundary for the <code>VSS</code> <code>PIN</code>, each <code>PORT</code> should be connected by the power router. </p>
<p class="webflare-indent1">
<a id="pgfId-1064017"></a>The syntax for describing pin port statements is defined as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-1064018"></a><code>{PORT</code> 
<code>  [CLASS {NONE | CORE | BUMP} ;]</code> 
<code>  {</code><span class="webflare-courier-new" style="white-space:pre"><em>layerGeometries</em></span><code>} ...</code> 
<code>END} ...</code> </p>
<table class="webflareTable webflareTableIndent" id="#id1064027">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8010436"></a><code>CLASS {NONE | CORE | BUMP}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010440"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010442"></a>Specifies the port type. <br /><em>Default:</em> <code>NONE</code> </p>
<p>
<a id="pgfId-8010443"></a>A port can be one of the following:</p>
<p>
<a id="pgfId-8010444"></a><code>BUMP</code>&#8212;Specifies the port is a bump connection point. A bump port should only be connected by routing to a bump (normally a <code>MACRO</code> <code>CLASS</code> <code>COVER</code> <code>BUMP</code> cell). </p>
<p>
<a id="pgfId-8010445"></a><code>CORE</code>&#8212;Specifies the port is a core ring connection point. A core port is used only on power and ground I/O drivers used around the periphery. The core port indicates which power or ground port to connect to a core ring for the chip (inside the I/O pads).</p>
<p>
<a id="pgfId-8010446"></a><code>NONE</code>&#8212;Specifies the port is a default port that is connected by normal &#8220;default&#8221; routing. <code>NONE</code> is the default value if no <code>PORT</code> <code>CLASS</code> statement is specified. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8010448"></a><span class="webflare-courier-new" style="white-space:pre"><em>layerGeometries</em></span> <code> </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010452"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010454"></a>Defines port geometries for the pin. You specify port geometries using layer geometries syntax. See <a href="LEFSyntax.html#23360">&#8220;Layer Geometries&#8221;</a> for syntax information.</p>
</td>
</tr>
</tbody></table>

<p><strong>
<a id="pgfId-978468"></a><code>PROPERTY </code><span class="webflare-courier-new" style="white-space:pre"><em>propName propVal</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106561"></a>Specifies a numerical or string value for a pin property defined in the <code>PROPERTYDEFINITIONS</code> statement. The <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> you specify must match the <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> listed in the <code>PROPERTYDEFINITIONS</code> statement. </p>

<p><strong>
<a id="pgfId-978474"></a><code>SHAPE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125713"></a>Specifies a pin with special connection requirements because of its shape.<br /><em>Value:</em> Specify one of the following:&#160;&#160;</p>
<table class="webflareTable webflareTableIndent" id="#id978475">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010461"></a><code>ABUTMENT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010464"></a>Pin <a id="marker-8010463"></a>that goes straight through cells with a regular shape and connects to pins on adjoining cells without routing.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010466"></a><code>RING</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010469"></a>Pin on a large block that forms a <a id="marker-8010468"></a>ring around the block to allow connection to any point on the ring. Cover macro special pins also typically have shape <code>RING</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010471"></a><code>FEEDTHRU</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010475"></a>Pin <a id="marker-8010473"></a>with an irregular shape with a jog or neck within the cell<a id="marker-8010474"></a>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8010480"></a><a href="LEFSyntax.html#86667">Figure&#160;1-54</a> shows an example of an abutment and a feedthrough pin.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-8010481"></a>When you define feedthrough and abutment pins for use with power routing, you must do the following:</div>
<ul><li>
<a id="pgfId-8010482"></a>Feedthrough pin widths must be the same on both edges and consistent with the routing width used with the power route commands.</li><li>
<a id="pgfId-8010483"></a>Feedthrough pin centers on both edges must align for successful routing. </li><li>
<a id="pgfId-8010485"></a>Power pins in fork <a id="marker-8010484"></a>shapes must be represented in two ports and be defined as a feedthrough shape. In most other cases, power pin geometries do not represent more than one port.</li><li>
<a id="pgfId-8010486"></a>An abutment pin must have at least one geometric rectangle with layer and width consistent with the values specified in the power route commands.</li></ul>




</td>
</tr>
</tbody></table>



<p><strong>Figure 1-55
<a id="pgfId-993011"></a><a id="86667"></a></strong></p>

<p>
<a id="pgfId-993024"></a>   </p>
<div class="webflare-div-image">
<img width="668" height="153" src="images/LEFSyntax-56.gif" /></div>
<p><strong>
<a id="pgfId-990965"></a><code>SUPPLYSENSITIVITY </code><span class="webflare-courier-new" style="white-space:pre"><em>powerPinName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106580"></a>Specifies that if this pin is connected to a tie-high connection (such as <code>1&#8217;b1</code> in Verilog), it should connect to the same net to which <span class="webflare-courier-new" style="white-space:pre"><em>powerPinName</em></span> is connected. </p>
<p class="webflare-indent1">
<a id="pgfId-990972"></a><span class="webflare-courier-new" style="white-space:pre"><em>powerPinName</em></span> must match a pin on this macro that has a <code>USE POWER</code> attribute. The power pin definition can follow later in this <code>MACRO</code> statement; it does not have to be defined before this pin definition. For an example, see <a href="LEFSyntax.html#89531">Example&#160;1-13</a>.</p>
<p class="webflare-indent1">
<a id="pgfId-991082"></a> <strong>Note:</strong> <code>SUPPLYSENSITIVITY</code> is useful only when there is more than one power pin in the macro. By default, if there is only one <code>USE POWER</code> pin, then the tie-high connections are already implicitly defined (that is, tie-high connections are connected to the same net as the one power pin). </p>

<p><strong>
<a id="pgfId-982200"></a><code>TAPERRULE</code> <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125744"></a>Specifies the nondefault rule to use when tapering wires to the pin.</p>

<p><strong>
<a id="pgfId-973585"></a><code>USE {ANALOG | CLOCK | GROUND | POWER | SIGNAL}</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-3907523"></a>Specifies how the pin is used. Pin use is required for timing analysis.<a id="marker-6343810"></a> 
<em>Default:</em> <code>SIGNAL</code> 
<em>Value:</em> Specify one of the following: </p>
<table class="webflareTable webflareTableIndent" id="#id6343812">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010492"></a><code>ANALOG</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010494"></a>Pin is used for analog connectivity.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010496"></a><code>CLOCK</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010498"></a>Pin is used for clock net connectivity.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010500"></a><code>GROUND</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010502"></a>Pin is used for connectivity to the chip-level ground distribution network.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010504"></a><code>POWER</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010506"></a>Pin is used for connectivity to the chip-level power distribution network.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010508"></a><code>SIGNAL</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010510"></a>Pin is used for regular net connectivity.</p>
</td>
</tr>
</tbody></table>




<h4><em>
<a id="pgfId-8133331"></a>Access Area Rule</em></h4>

<p>
<a id="pgfId-8133332"></a>The access area rule can be used to specify a via access area on the specified cut layer.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133333"></a>You can specify the access area rule by using the following property definition:</pre>
<a id="pgfId-8133335"></a><a id="PropPinAccessArea"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code>PROPERTY LEF58_ACCESSAREA
</code>   &quot;ACCESSAREA {LAYER <code><em>layerName</em></code> RECT <code><em>pt pt</em></code> [CUTCLASS <code><em>className</em></code>]
   [EXCEPTEXTRACUT]}...
   ; &quot; ;</pre>

<p>
<a id="pgfId-8133336"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8133362"></a></p>
<table class="webflareTable" id="#id8133337">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133339"></a><code>ACCESSAREA {LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code> RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>pt pt</em></span><code> }...</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133345"></a><code></code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133347"></a>Specifies a via access area on <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, which must be a cut layer. All the cuts of a via connected to any pin shape on the bottom metal layer that overlaps the given area in <code>RECT</code> must be inside the given area. If there are multiple via access areas overlapping a pin shape, all the cuts of a via connected to the pin need to be inside one of the areas. Different via access areas should not overlap or be abutted. For a <code>MUSTJOINALLPORTS</code> pin, the given area must overlap with all of the pin shapes on the bottom metal layer. Then, the cuts on each of the individual pin shapes must be inside the given area and must be connected by a same-metal wire on the above metal layer as well. This construct can only be defined on standard cells with <code>MACRO CLASS</code> of <code>CORE</code>. <br />If a pin has <code>ACCESSAREA</code>, the <code>ACCESSAREA</code> defined in <code>MACRO</code> has no meaning on that pin. In other words, the <code>ACCESSAREA</code> defined in <code>MACRO</code> is applied only on pins without their own <code>ACCESSAREA</code>. Actually, tools are not likely to support overlap of pin-based and macro/cell-based access areas.<br /><em>Type</em>: Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133351"></a><code>CUTCLASS </code><span class="webflare-courier-new" style="white-space:pre"><em>className</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133353"></a>Specifies the via access area for the given <span class="webflare-courier-new" style="white-space:pre"><em>className</em></span>, which is connected to the pin shapes. Without <code>CUTCLASS</code>, the via access area would be applied to vias of any cut class. Multiple via access areas could be defined for different cut classes. If a cut class does not have a corresponding via access area defined, the vias of that cut class could be connected to the pins without any restriction. <br /><em>Type</em>: String</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133357"></a><code>EXCEPTEXTRACUT</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133359"></a>Specifies that the via access area is not applied to vias with multiple cuts connected to a single pin shape. If a via pillar with multiple wires on the above metal layer of the pin shape layer is used, this via access area does not need to be honored. For example, if a via pillar with 2x2 cuts is connected to a <code>MUSTJOINALLPORTS</code> with two pin shapes, this via access area could be ignored.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-8133363"></a><strong>Access Area Rule Example</strong></p>
<ul><li>
<a id="pgfId-8133364"></a>The diagram below illustrates a case where the access area rule is defined for the pin as well as macro:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id8133365">
<a id="pgfId-8133365"></a>MACRO Z</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133366">
<a id="pgfId-8133366"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133367">
<a id="pgfId-8133367"></a>PROPERTY LEF58_ACCESSAREA &quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133368">
<a id="pgfId-8133368"></a>ACCESSAREA LAYER VIA1 RECT 3.0 2.2 5.5 3.0 ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133369">
<a id="pgfId-8133369"></a>PIN A</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133370">
<a id="pgfId-8133370"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133371">
<a id="pgfId-8133371"></a>PROPERTY LEF58_ACCESSAREA &quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133372">
<a id="pgfId-8133372"></a>ACCESSAREA LAYER VIA1 RECT 1.0 1.0 3.5 1.8 ; &quot; ;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133373">
<a id="pgfId-8133373"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133374">
<a id="pgfId-8133374"></a>END A</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133375">
<a id="pgfId-8133375"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id8133376">
<a id="pgfId-8133376"></a>END Z</pre><br /><strong class="webflare-fig-line-height">Figure 1-56
<a id="pgfId-8133377"></a>Illustration of the Access Area Rule on a Pin</strong>
<a id="pgfId-8133436"></a><div class="webflare-div-image">
<img width="668" height="490" src="images/LEFSyntax-57.gif" /></div></li></ul>























<h4><em>
<a id="pgfId-8133437"></a>Antenna Diff Area Rule</em></h4>

<p>
<a id="pgfId-8133438"></a>The antenna diff area rule can be used to specify the diffusion area to which the pin is connected on a layer.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-8133439"></a>You can specify the antenna diff area rule by using the following property definition:</pre>
<a id="pgfId-8133441"></a><a id="PropPinAntennaDiffArea"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code>PROPERTY LEF58_ANTENNADIFFAREA
</code>   &quot;ANTENNADIFFAREA [BACKSIDE][PROTECTOR] <code><em>value</em></code> [LAYER <code><em>layerName</em></code>]
   ; ...&quot; ;</pre>

<p>
<a id="pgfId-8133442"></a>Where<code>:</code></p>


<p>
<a id="pgfId-8133468"></a></p>
<table class="webflareTable" id="#id8133443">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-8133445"></a><code>ANTENNADIFFAREA value [LAYER </code><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span><code>]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133451"></a><code></code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133453"></a>Specifies the diffusion (diode) area, in micron-squared units, to which the pin is connected on a layer. If you do not specify a layer name, the value applies to all layers. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133457"></a><code>BACKSIDE</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133459"></a>Specifies that the diffusion area applies only for the metal on layers with <code>BACKSIDE</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8133463"></a><code>PROTECTOR</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8133465"></a>Specifies the diffusion area for protected devices. If the metal is electrically connected to a pin defined with protector diffusion, <code>ANTENNADIFFPROTECTORAREARATIO</code> would only be checked. Both gate and non-protector diffusion would be ignored for other <code>ANTENNA*</code> rules.</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-7416736"></a>Must Join All Ports Rule</em></h4>

<p>
<a id="pgfId-7416737"></a>You can use the must join all ports rule to specify that all ports must be connected individually.</p>
<p>
<a id="pgfId-7416738"></a>You can create a must join all ports rule by using the following property definition:</p>

<a id="pgfId-7416740"></a><a id="PropMustJoinAllPorts"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_MUSTJOINALLPORTS</pre>
<a id="pgfId-7416741"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
       &#8220;MUSTJOINALLPORTS</pre>
<a id="pgfId-7416742"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
       ; &#8220; ;</pre>

<p>
<a id="pgfId-7416743"></a>Where:</p>

<p><strong>
<a id="pgfId-7416744"></a><code>MUSTJOINALLPORTS</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-7416745"></a>Specifies that all of the ports must be connected individually. If there are multiple shapes per ports, at least one of the shapes of the port needs to be connected. However, tools typically would connect to only one of the shapes.</p>
<p class="webflare-indent1">
<a id="pgfId-7416746"></a>For example: <br /><code>PIN A</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416747"></a><code>...</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416748"></a><code>     PROPERTY LEF58_MUSTJOINALLPORTS &#8220;</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416749"></a><code> &#160;&#160;        MUSTJOINALLPORTS ; &#8220; ;</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416750"></a><code>     PORT</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416751"></a><code>          LAYER M1 ;</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416752"></a><code>              RECT 1 1 2 2 ;</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416753"></a><code>              RECT 4 4 5 5 ;</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416754"></a><code> &#160;&#160;   END</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416755"></a><code>     PORT</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416756"></a><code>          LAYER M2 ;</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416757"></a><code>              RECT 2 2 3 3 ;</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416758"></a><code>     &#160;&#160;&#160;&#160;END</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416759"></a><code>...</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416760"></a><code>END A</code></p>
<p class="webflare-indent1">
<a id="pgfId-7416761"></a>means that the router must connect to at least one of the two M1 shapes and to the M2 shape individually. However, tools typically would connect to exactly one of the two M1 shapes and to the M2 shape individually.</p>



<h4><em>
<a id="pgfId-8133473"></a>Via In Must Join Rule</em></h4>

<p>
<a id="pgfId-8133474"></a>You can create a via in must join rule by using the following property definition:</p>

<a id="pgfId-8133476"></a><a id="PropViaInMustJoin"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_VIAINMUSTJOIN</pre>
<a id="pgfId-8133477"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
       &#8220;VIAINMUSTJOIN</pre>
<a id="pgfId-8133478"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
       ; &#8220; ;</pre>

<p>
<a id="pgfId-8133479"></a>Where:</p>

<p><strong>
<a id="pgfId-8133480"></a><code>VIAINMUSTJOIN</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8133481"></a>Specifies that two stacked vias must be used to connect to the must-join pins and all of the cuts of these two stacked vias must be within the boundary box of the must-join pins. For example, if the must-join pins have multiple <code>M1</code> shapes, the cuts of the stacked vias to <code>M3</code> must be within the boundary box formed by the <code>M1</code> pin shapes.</p>



<h4><em>
<a id="pgfId-5519638"></a>Via In Pin Only Rule</em></h4>

<p>
<a id="pgfId-5519639"></a>You can use the via in pin only rule to specify that vias must be dropped inside the original pin shapes to connect to the pin.</p>
<p>
<a id="pgfId-5519640"></a>You can create a via in pin only rule by using the following property definition:</p>

<a id="pgfId-5519642"></a><a id="PropViaInPinOnly"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_VIAINPINONLY
&#8220;VIAINPINONLY
; &#8221; ;</pre>

<p>
<a id="pgfId-5519645"></a>Where:</p>

<p><strong>
<a id="pgfId-5519646"></a><code>VIAINPINONLY</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-5519647"></a>Specifies that at least one cut of a via must be dropped inside the original pin shapes to connect to the pin, and a planar connection to the pin is not allowed. In some advanced nodes, the pin shapes can be extended for metal alignment purpose. For a single-cut via, it means that the cut would be in the original pin shapes. For a multiple-cut via, particularly with the via pillar having multiple fingers, only one cut needs to be in the original pin shapes and the rest of the via pillar structure can be outside the original pin shapes.<br />To support negative enclosure, for a square cut with size <em>CS</em> greater than the minimum width <em>W</em> on the below or above metal layer of a pin shape, the following method is used to determine whether the cut is inside the pin shape. From the cut center, extend <em>CS</em>/2 on any two opposite sides and <em>W</em>/2 on the other two opposite sides, if one of the two expanded sizes (one for extending <em>CS</em>/2 horizontally and another for extending <em>CS</em>/2 vertically) is completely covered by the pin metal shape, the cut is considered to be inside the pin shape.</p>




<h3>
<a id="pgfId-3907593"></a><a id="53308"></a>Manufacturing Gri<a id="ManufacturingGrid"></a>d</h3>
<a id="pgfId-973680"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[MANUFACTURINGGRID <code><em>value</em></code> ;]</pre>

<p>
<a id="pgfId-973681"></a>Defines the manufacturing grid for the design. The manufacturing grid is used for geometry alignment. When specified, shapes and cells are placed in locations that snap to the manufacturing grid.</p>

<p><strong>
<a id="pgfId-973682"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125763"></a>Specifies the value for the manufacturing grid, in microns. <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> must be a positive number.<br /><em>Type:</em> Float</p>



<h3>
<a id="pgfId-983165"></a><a id="18042"></a>Maxi<a id="MaximumViaStack"></a>mum Via Stack</h3>
<a id="pgfId-983166"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[MAXVIASTACK <code><em>value</em></code> [RANGE <code><em>bottomLayer</em></code> <code><em>topLayer</em></code>] ;]</pre>

<p>
<a id="pgfId-983173"></a>Specifies the maximum number of single-cut stacked vias that are allowed on top of each other (that is, in one continuous stack). A via is considered to be in a stack with another via if the cut of the first via overlaps any part of the cut of the second via. A double-cut or larger via interrupts the stack. For example, a via stack consisting of single <em>via12</em>, single <em>via23</em>, double-cut <em>via34</em>, and single <em>via45</em> has a single-cut stack of height 2 for <em>via12</em> and <em>via23</em>, and a single-cut stack of height 1 for <em>via45</em> because the full stack is broken up by double-cut <em>via34</em>.</p>
<p>
<a id="pgfId-1013730"></a>The <code>MAXVIASTACK</code> statement should follow the <code>LAYER</code> statements in the LEF file; however, it is not attached to any particular layer. You can specify only one <code>MAXVIASTACK</code> statement in a LEF file. </p>

<p><strong>
<a id="pgfId-983176"></a><code>RANGE </code><span class="webflare-courier-new" style="white-space:pre"><em>bottomLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>topLayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106618"></a>Specifies a range of layers for which the maximum stacked via rule applies. If you do not specify a range, the value applies for all layers.</p>

<p><strong>
<a id="pgfId-983177"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125779"></a>Specifies the maximum allowed number of single-cut stacked vias.<br /><em>Type:</em> Integer </p>


<p><strong>Example 1-14
<a id="pgfId-983180"></a><a id="63504"></a>Maximum Via Stack Statement</strong></p>

<p>
<a id="pgfId-983181"></a>The following <code>MAXVIASTACK</code> statement specifies that only four stacked vias are allowed on top of each other. This rule applies to all layers.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983182"></a>LAYER metal9 </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992770"></a>...</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-992774"></a>END LAYER</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-992775"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-992776"></a>MAXVIASTACK 4 ;</pre>

<p>
<a id="pgfId-983186"></a>If you specify the following statement instead, the stacked via limit applies only to layers <em>metal1</em> through <em>metal7</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983187"></a>MAXVIASTACK 4 RANGE m1 m7 ;</pre>



<h3>
<a id="pgfId-973885"></a><a id="21826"></a>Nondefault <a id="NondefaultRule"></a>Rule</h3>
<a id="pgfId-3907812"></a><a id="marker-3907810"></a><a id="marker-3907811"></a><a id="marker-3907813"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[NONDEFAULTRULE <code><em>ruleName 
</em></code>[HARDSPACING ;]
<code>{</code>LAYER<code><em> layerName
</em></code><code>   </code>WIDTH <code><em>width </em></code>;
   [DIAGWIDTH <code><em>diagWidth</em></code> ;]
<code>   [</code>SPACING<code><em> minSpacing</em></code> ;] 
   [WIREEXTENSION <code><em>value</em></code> ;]
END <code><em>layerName</em></code>} ...
[VIA <code><em>viaStatement</em></code>] ...
[USEVIA <code><em>viaName</em></code> ;] ...
[USEVIARULE <code><em>viaRuleName</em></code> ;] ...
[MINCUTS <code><em>cutLayerName</em></code> <code><em>numCuts</em></code> ;] ...
[PROPERTY <code><em>propName</em></code> <code><em>propValue</em></code> ;] ...
[<a href="LEFSyntax.html#PropUseViaCutClass">PROPERTY LEF58_USEVIACUTCLASS</a> 
&#8220;USEVIACUTCLASS <code><em>cutLayerName className
</em></code>   [ROWCOL <code><em>numCutRows numCutCols</em></code>]
   ;... &#8220; ;]</pre>
<a id="pgfId-3907814"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END <code><em>ruleName</em></code>] </pre>

<p>
<a id="pgfId-980511"></a>Defines the wiring width, design rule spacing, and via size for regular (signal) nets. You do not need to define cut layers for the non-default rule. </p>
<p>
<a id="pgfId-993732"></a>Some tools have limits on the total number of non-default rules they can store. This limit can be as low as 30; however most tools that support 90 nanometer rules (that is, LEF 5.5 and newer) can handle at least 255. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-974944"></a>Use the <code>VIA</code> statement to define vias for non-default wiring.</div>

<p><strong>
<a id="pgfId-975046"></a><code>DIAGWIDTH </code><span class="webflare-courier-new" style="white-space:pre"><em>diagWidth</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125795"></a>Specifies the diagonal width for <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>, when 45-degree routing is used. <br /><em>Default:</em> The minimum width value (<code>WIDTH</code> <span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span>) <br /><em>Type:</em> Float, specified in microns</p>

<p><strong>
<a id="pgfId-989751"></a><code>HARDSPACING</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125802"></a>Specifies that any spacing values that exceed the LEF <code>LAYER</code> spacing requirements are &#8220;hard&#8221; rules instead of &#8220;soft&#8221; rules. By default, routers treat extra spacing requirements as soft rules that are high cost to violate, but not real spacing violations. However, in certain situations, the extra spacing should be treated as a hard, or real, spacing violation, such as when the route will be modified with a post-process that replaces some of the extra space with metal.</p>

<p><strong>
<a id="pgfId-989719"></a><code>LAYER</code><em> </em><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span> <code>...</code> <code>END </code><span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106637"></a>Specifies the layer for the various width and spacing values. This layer must be a routing layer. Every routing layer must have a <code>WIDTH</code> keyword and value specified. All other keywords are optional. </p>

<p><strong>
<a id="pgfId-996867"></a><code>MINCUTS </code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>numCuts</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106656"></a>Specifies the minimum number of cuts allowed for any via using the specified cut layer. Routers should only use vias (generated or predefined fixed vias) that have at least <span class="webflare-courier-new" style="white-space:pre"><em>numCuts</em></span> cuts in the via.<br /><em>Type:</em> (<span class="webflare-courier-new" style="white-space:pre"><em>numCuts</em></span>) Positive integer</p>

<p><strong>
<a id="pgfId-996868"></a><code>NONDEFAULTRULE</code> <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106675"></a>Specifies a name for the new routing rule. The name <code>DEFAULT</code> is reserved for the default routing rule used by most nets. The default routing rule is constructed automatically from the LEF <code>LAYER</code> statement <code>WIDTH</code>, <code>DIAGWIDTH</code>, <code>SPACING</code>, and <code>WIREEXTENSION</code> values, from the LEF <code>VIA</code> statement (any vias with the <code>DEFAULT</code> keyword), and from the LEF <code>VIARULE</code> statement (any via rules with the <code>DEFAULT</code> keyword). If you specify <code>DEFAULT</code> for <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span>, the automatic creation is overridden, and the default routing rule is defined directly from this rule definition.</p>

<p><strong>
<a id="pgfId-977896"></a><code>PROPERTY </code><span class="webflare-courier-new" style="white-space:pre"><em>propName propValue</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106694"></a>Specifies a numerical or string value for a non-default rule property defined in the <code>PROPERTYDEFINITIONS</code> statement. The <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> you specify must match the <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> listed in the <code>PROPERTYDEFINITIONS</code> statement. </p>

<p><strong>
<a id="pgfId-975077"></a><code>SPACING </code><span class="webflare-courier-new" style="white-space:pre"><em>minSpacing</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125837"></a>Specifies the recommended minimum spacing for <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span> of routes using this <code>NONDEFAULTRULE</code> to other geometries. If the spacing is given, it must be at least as large as the foundry minimum spacing rules defined in the <code>LAYER</code> definitions. Routers should attempt to meet this recommended spacing rule; however, the spacing rule can be relaxed to the foundry spacing rules along some parts of the wire if the routing is very congested, or if it is difficult to reach a pin. </p>
<p class="webflare-indent1">
<a id="pgfId-996605"></a>Adding extra space to a non-default rule allows a designer to reduce cross-coupling capacitance and noise, but a clean route with no actual foundry spacing violations will still be allowed, unless the <code>HARDSPACING</code> statement is specified.<br /><em>Type:</em> Float, specified in microns </p>

<p><strong>
<a id="pgfId-989762"></a><code>USEVIA </code><span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-3856700"></a>Specifies a previously defined via from the LEF <code>VIA</code> statement, or a previously defined <code>NONDEFAULTRULE</code> via to use with this routing rule. <br />Applications may treat <code>USEVIA</code> as a soft constraint by putting the given vias on the list of target vias to be used, and they may have a separate option to specify a hard constraint for vias.</p>

<p><strong>
<a id="pgfId-3856701"></a><code>USEVIARULE </code><span class="webflare-courier-new" style="white-space:pre"><em>viaRuleName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-3856836"></a>Specifies a previously defined <code>VIARULE GENERATE</code> rule to use with this routing rule. You cannot specify a rule from a <code>VIARULE</code> without a <code>GENERATE</code> keyword.</p>

<p><strong>
<a id="pgfId-3856837"></a><code>VIA </code><span class="webflare-courier-new" style="white-space:pre"><em>viaStatement</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125851"></a>Defines a new via. You define non-default vias using the same syntax as default vias. For syntax information, see <a href="LEFSyntax.html#65762">&#8220;Via&#8221;</a>. All vias, default and non-default, must have unique via names. If you define more than one via for a rule, the router chooses which via to use.</p>
<p class="webflare-indent1">
<a id="pgfId-993032"></a><strong>Note: </strong>Defining a new via is no longer recommended, and is likely to become obsolete. Instead, vias should be predefined in a LEF <code>VIA</code> statement, then added to the non-default rule using the <code>USEVIA</code> keyword. </p>

<p><strong>
<a id="pgfId-973730"></a><code>WIDTH </code><span class="webflare-courier-new" style="white-space:pre"><em>width</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125858"></a>Specifies the required minimum width for <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span>. <br /><em>Type:</em> Float, specified in microns </p>

<p><strong>
<a id="pgfId-973737"></a><code>WIREEXTENSION </code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125865"></a>Specifies the distance by which wires are extended at vias. Enter <code>0</code> (zero) to specify no extension. Values other than <code>0</code> must be greater than or equal to half of the routing width for the layer, as defined in the non-default rule. <br /><em>Default:</em> Wires are extended half of the routing width <br /><em>Type:</em> Float, specified in microns </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1196369"></a>The <code>WIREEXTENSION</code> statement only extends wires and not vias. For 65nm and below, <code>WIREEXTENSION</code> is no longer recommended because it may generate some advance rule violations if wires and vias have different widths. See <a href="Layer_Routing.html#10475">Illustration of WIREEXTENSION</a>.</div>


<p><strong>Example 1-15
<a id="pgfId-974953"></a>Nondefault Rule Statement</strong></p>

<p>
<a id="pgfId-989812"></a>Assume two default via rules were defined:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989813"></a>VIARULE via12rule GENERATE DEFAULT</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989821"></a>LAYER metal1 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989822"></a>...</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989814"></a>END via12rule</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-989829"></a>VIARULE via23rule GENERATE DEFAULT</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989830"></a>LAYER metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989835"></a>...</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989831"></a>END via23rule</pre>

<ul><li>
<a id="pgfId-989836"></a>Assuming the minimum width is 1.0 μm, the following non-default rule creates a 1.5x minimum width wire using default spacing:</li></ul>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989837"></a>NONDEFAULTRULE wide1_5x</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989848"></a>LAYER metal1</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989852"></a>WIDTH 1.5 ; #metal1 has a 1.5 um width</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989856"></a>END metal1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989860"></a>LAYER metal2 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989861"></a>WIDTH 1.5 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989865"></a>END metal2</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989869"></a>LAYER metal3 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989870"></a>WIDTH 1.5 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989874"></a>END metal3</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989878"></a>END wide1_5x</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-989882"></a>If there were no default via rules, then a <code>VIA</code>, <code>USEVIA</code>, or <code>USEVIARULE</code> keyword would be required. Because there are none defined, the default via rules are implicitly inherited for this non-default rule; therefore, <code>via12rule</code> and <code>via23rule</code> would be used for this routing rule. </div>
<ul><li>
<a id="pgfId-989902"></a>The following non-default rule creates a 3x minimum width wire using default spacing with at least two-cut vias:</li></ul>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989905"></a>NONDEFAULTRULE wide3x</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989909"></a>LAYER metal1</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989913"></a>WIDTH 3.0 ; #metal1 has 3.0 um width</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989914"></a>END metal1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989915"></a>LAYER metal2 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989916"></a>WIDTH 3.0 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989917"></a>END metal2 </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989918"></a>LAYER metal3 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989919"></a>WIDTH 3.0 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989920"></a>END metal3</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989921"></a>#viarule12 and viarule23 are used implicitly</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989922"></a>MINCUTS cut12 2 ; #at least two-cut vias are required for cut12</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989923"></a>MINCUTS cut23 2 ;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989924"></a>END wide3x</pre>

<ul><li>
<a id="pgfId-973780"></a>The following non-default rule creates an &#8220;analog&#8221; rule with its own special vias, and with hard extra spacing:</li></ul>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989945"></a>NONDEFAULTRULE analog_rule</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989954"></a>HARDSPACING ;&#160;&#160;   #do not let any other signal close to this one</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989958"></a>LAYER metal1</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989959"></a>WIDTH 1.5 ;&#160;&#160; #metal1 has 1.5 um width</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989960"></a>SPACING 3.0 ; #extra spacing of 3.0 um</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989968"></a>END metal1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989969"></a>LAYER metal2 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989970"></a>WIDTH 1.5</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989971"></a>SPACING 3.0</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989972"></a>END metal2</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989973"></a>LAYER metal3 </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989974"></a>WIDTH 1.5</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-989975"></a>SPACING 3.0</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989976"></a>END metal3</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989977"></a>#Use predefined &quot;analog vias&quot;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989978"></a>#The <code>DEFAULT</code> <code>VIARULES</code> will not be inherited. </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989979"></a>USEVIA via12_fixed_analog_via ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989980"></a>USEVIA via_23_fixed_analog_via ;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989981"></a>END analog_rule</pre>

<p>
<a id="pgfId-8133492"></a><strong>Use Via Cut Class Rule</strong></p>
<p>
<a id="pgfId-8133493"></a>You can use the use via cut class only rule to specify the cut class to be used with the routing rule.</p>
<p>
<a id="pgfId-8133494"></a>You can create a use via cut class rule by using the following property definition:</p>

<a id="pgfId-8133496"></a><a id="PropUseViaCutClass"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
PROPERTY LEF58_USEVIACUTCLASS
USEVIACUTCLASS <code><em>cutLayerName className
</em></code>   [ROWCOL <code><em>numCutRows numCutCols</em></code>]
   ;... &#8220; ;</pre>

<p>
<a id="pgfId-8133497"></a>Where:</p>

<p><strong>
<a id="pgfId-8133498"></a><code>USEVIACUTCLASS </code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>className
</em></span><code>   [ROWCOL </code><span class="webflare-courier-new" style="white-space:pre"><em>numCutRows numCutCols</em></span><code>]</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8133499"></a>Specifies <span class="webflare-courier-new" style="white-space:pre"><em>className</em></span> cuts on <span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span>, which must be a cut layer, to be used with this routing rule. <code>ROWCOL</code> specifies the number of cut rows and columns of a multiple-cut via of the cut class <span class="webflare-courier-new" style="white-space:pre"><em>className</em></span> to be used with this routing rule. By default, a single cut via or the given cut number defined in <code>MINCUTS</code> is used. <br />Applications may treat <code>USEVIACUTCLASS</code> as a hard constraint and apply the given cut class vias on the non-default rule.</p>




<h3>
<a id="pgfId-973817"></a><a id="23037"></a><a id="69546"></a>Property Definitio<a id="PropertyDefinitions"></a>ns</h3>
<a id="pgfId-973820"></a><a id="marker-973818"></a><a id="marker-973819"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[PROPERTYDEFINITIONS 
[<code><em>objectType propName propType</em></code> [RANGE <code><em>min max</em></code>] 
   [<code><em>value</em></code> |<code><em> </em></code>&quot;<code><em>stringValue</em></code>&quot;] 
;] ...</pre>
<a id="pgfId-974513"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END PROPERTYDEFINITIONS]</pre>

<p>
<a id="pgfId-973821"></a>Lists all properties used in the LEF file. You must define properties in the <code>PROPERTYDEFINITIONS</code> statement before you can refer to them in other sections of the LEF file. </p>

<p><strong>
<a id="pgfId-973822"></a><span class="webflare-courier-new" style="white-space:pre"><em>objectType</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125952"></a>Specifies the object type being defined. You can define properties for the following object types:</p>
<table class="webflareTable webflareTableIndent" id="#id973823">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010514"></a><code>LAYER</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010516"></a><code>LIBRARY</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010518"></a><code>MACRO</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010520"></a><code>NONDEFAULTRULE</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010522"></a><code>PIN</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010524"></a><code>VIA</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010526"></a><code>VIARULE</code></p>
</td>
</tr>
</tbody></table>

<p><strong>
<a id="pgfId-973852"></a><span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125959"></a>Specifies a unique property name for the object type.</p>

<p><strong>
<a id="pgfId-973853"></a><span class="webflare-courier-new" style="white-space:pre"><em>propType</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125966"></a>Specifies the property type for the object type. You can specify one of the following property types:</p>
<table class="webflareTable webflareTableIndent" id="#id973854">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010528"></a><code>INTEGER</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010530"></a><code>REAL</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010532"></a><code>STRING</code></p>
</td>
</tr>
</tbody></table>

<p><strong>
<a id="pgfId-973867"></a><code>RANGE</code><span class="webflare-courier-new" style="white-space:pre"><em> min max</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1125973"></a>Limits real number and integer property values to a specified range. That is, the value must be greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>min</em></span> and less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>max</em></span>.</p>

<p><strong>
<a id="pgfId-973868"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span><code> | &quot;</code><span class="webflare-courier-new" style="white-space:pre"><em>stringValue</em></span><code>&quot;</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106732"></a>Assigns a numeric value or a name to a <code>LIBRARY</code> object type.</p>
<p class="webflare-indent1">
<a id="pgfId-996450"></a> <strong>Note:</strong> Assign values to other properties in the section of the LEF file that describes the object to which the property applies. </p>


<p><strong>Example 1-16
<a id="pgfId-973874"></a>Property Definitions Statement</strong></p>

<p>
<a id="pgfId-1120692"></a>The following example shows library, via, and macro property definitions.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1120693"></a>PROPERTYDEFINITIONS</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1120722"></a>LIBRARY versionNum INTEGER 12;<br />LIBRARY title STRING &quot;Cadence96&quot;;<br />VIA count INTEGER RANGE 1 100;<br />MACRO weight REAL RANGE 1.0 100.0;<br />MACRO type STRING;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-978927"></a>END PROPERTYDEFINITIONS</pre>



<h3>
<a id="pgfId-973919"></a><a id="88952"></a>Sit<a id="Site"></a>e</h3>
<a id="pgfId-973921"></a><a id="marker-973920"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
SITE <code><em>siteName
</em></code>CLASS {PAD | CORE} ;
[SYMMETRY {X | Y | R90} ... ;]
[ROWPATTERN {<code><em>previousSiteName</em></code> <code><em>siteOrient</em></code>} ... ;]
SIZE <code><em>width</em></code> BY <code><em>height</em></code> ;</pre>
<a id="pgfId-980458"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END <code><em>siteName</em></code> </pre>

<p>
<a id="pgfId-975239"></a>Defines a placement site in the design. A placement site gives the placement grid for a family of macros, such as I/O, core, block, analog, digital, short, tall, and so forth.<a id="marker-975261"></a> <code>SITE</code> definitions can be used in DEF <code>ROW</code> statements.</p>


<p>
<a id="pgfId-1106751"></a> </p>
<table class="webflareTable" id="#id8069112">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134257"></a><code>CLASS {PAD | CORE}</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134259"></a>Specifies whether the site is an I/O pad site or a core site. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134263"></a><code>ROWPATTERN {</code><span class="webflare-courier-new" style="white-space:pre"><em>previousSiteName</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>siteOrient</em></span><code>}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134269"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134271"></a>Specifies a set of previously defined sites and their orientations that together form <span class="webflare-courier-new" style="white-space:pre"><em>siteName</em></span>. The height of each previously defined site must be the same as the height specified for <span class="webflare-courier-new" style="white-space:pre"><em>siteName</em></span>, and the sum of the widths of the previously defined sites is equal to the width specified for <span class="webflare-courier-new" style="white-space:pre"><em>siteName</em></span>. </p>
<p>
<a id="pgfId-8068222"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994112"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-994150"></a> <span class="webflare-courier-new" style="white-space:pre"><em>previousSiteName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994118"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994120"></a>   </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994159"></a>Specifies the name of a previously defined site. The sites in <span class="webflare-courier-new" style="white-space:pre"><em>previousSiteName</em></span> have to be basic sites with no pattern.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994165"></a>   </p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-994167"></a><span class="webflare-courier-new" style="white-space:pre"><em>siteOrient</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994124"></a>   </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994180"></a>    </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994128"></a>Specifies the orientation for the previously defined site. This value must be one of <code>N</code>, <code>S</code>, <code>E</code>, <code>W</code>, <code>FN</code>, <code>FS</code>, <code>FE</code>, and <code>FW</code>. For more information on orientations, see <h-hot><a actuate="user" class="URL" href="../lefdefref/DEFSyntax.html#SpecifyingOrientation" show="replace" xml:link="simple">&#8220;Specifying Orientation&#8221;</a></h-hot> in the DEF <code>COMPONENT</code> section.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973371"></a><code>SITE</code> <span class="webflare-courier-new" style="white-space:pre"><em>siteName</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7973373"></a>Specifies the name for the placement site.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7973365"></a><code>SIZE</code> <span class="webflare-courier-new" style="white-space:pre"><em>width</em></span> <code>BY</code> <span class="webflare-courier-new" style="white-space:pre"><em>height</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973369"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973359"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7973361"></a>Specifies the dimensions of the site in normal (or north) orientation, in microns.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7973353"></a><code>SYMMETRY {X | Y | R90}</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973357"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973342"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-7973345"></a> I<a id="marker-8069185"></a>ndicates which site orientations are equivalent. The sites in a given row all have the same orientation as the row. Generally, site symmetry should be used to control the flipping allowed inside the rows. For more information on defining symmetry, see <a href="LEFSyntax.html#98569">&#8220;Defining Symmetry&#8221;</a>. </p>
<p>
<a id="pgfId-7973349"></a>Possible orientations include:</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973336"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973338"></a><code>X</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973340"></a>Site is symmetric about the x axis. This means that N and FS sites are equivalent, and FN and S sites are equivalent. A macro with an orientation of N matches N or FS rows.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973330"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973332"></a><code>Y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973334"></a>Site is symmetric about the y axis. This means that N and FN sites are equivalent, and FS and S sites are equivalent. A macro with an orientation of N matches N or FN rows.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973324"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973326"></a><code>X</code> <code>Y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973328"></a>Site is symmetric about the x and y axis. This means that N, FN, FS, and S sites are equivalent. A macro with orientation N matches N, FN, FS, or S rows.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973318"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973320"></a><code>R90</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973322"></a>Site is symmetric when rotated 90 degrees. Typically, this value is not used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-7973312"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-7973314"></a>Typically, a site for single-height standard cells uses symmetry <code>Y</code>, and a site for double-height standard cells uses symmetry <code>X</code> <code>Y</code>.</div>

</td>
</tr>
</tbody></table>


<p><strong>Example 1-17
<a id="pgfId-7983164"></a><a id="15488"></a>Site Row Pattern</strong></p>

<p>
<a id="pgfId-7973952"></a>The following example defines three sites: <code>Fsite</code>; <code>Lsite</code>; and <code>mySite</code>, which consists of a pattern of <code>Fsite</code> and <code>Lsite</code> sites:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-991561"></a><code>SITE Fsite</code></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991562"></a><code>CLASS CORE ;</code></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991566"></a><code>SIZE 4.0 BY 7.0 ; #4.0 um width, 7.0 um height</code></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-991567"></a><code>END Fsite</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-991571"></a><code>SITE Lsite</code></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991572"></a><code>CLASS CORE ;</code></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991577"></a><code>SIZE 6.0 BY 7.0 ; #6.0 um width, 7.0 um height</code></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-991573"></a><code>END Lsite</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-991585"></a><code>SITE mySite</code></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991586"></a><code>ROWPATTERN Fsite N Lsite N Lsite FN ; #Pattern of F + L + flipped L</code></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-991591"></a><code>SIZE 16.0 BY 7.0 ;&#160;&#160;                  #Width = width(F + L + L)</code></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-991587"></a><code>END mySite</code></pre>

<p>
<a id="pgfId-991592"></a>The figure below illustrates some DEF rows made up of <code>mySite</code> sites.</p>



<p><strong>Figure 1-57
<a id="pgfId-993058"></a>Site Row Pattern Example</strong></p>

<p>
<a id="pgfId-991599"></a></p>
<div class="webflare-div-image">
<img width="668" height="344" src="images/LEFSyntax-58.gif" /></div>




<h3>
<a id="pgfId-973939"></a><a id="50817"></a>Unit<a id="Units"></a>s</h3>
<a id="pgfId-973941"></a><a id="marker-973940"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[UNITS 
[TIME NANOSECONDS <code><em>convertFactor</em></code> ;]
[CAPACITANCE PICOFARADS <code><em>convertFactor</em></code> ;]
[RESISTANCE OHMS <code><em>convertFactor</em></code> ;]
[POWER MILLIWATTS <code><em>convertFactor</em></code> ;]
[CURRENT MILLIAMPS <code><em>convertFactor</em></code> ;]
[VOLTAGE VOLTS <code><em>convertFactor</em></code> ;]
[DATABASE MICRONS <code><em>LEFconvertFactor</em></code> ;]
[FREQUENCY MEGAHERTZ <code><em>convertFactor</em></code> ;]</pre>
<a id="pgfId-974438"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END UNITS]</pre>

<p>
<a id="pgfId-980358"></a>Defines the units of measure in LEF. The values tell you how to interpret the numbers found in the LEF file. Units are fixed with a <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span> for all unit types, except database units and capacitance. For more information, see <a href="LEFSyntax.html#96345">&#8220;Convert Factors&#8221;</a>. Currently, other values for <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span> appearing in the <code>UNITS</code> statement are ignored. </p>
<p>
<a id="pgfId-980365"></a>The <code>UNITS</code> statement is optional and, when used, must precede the <code>LAYER</code> statements. </p>


<p>
<a id="pgfId-1134549"></a></p>
<table class="webflareTable" id="#id1134557">
<tbody><tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134907"></a><code>CAPACITANCE PICOFARADS</code> <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134913"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134915"></a>Interprets one LEF capacitance unit as 1 picofarad.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134919"></a><code>CURRENT MILLIAMPS</code> <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134925"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134927"></a>Interprets one LEF current unit as 1 milliamp.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134931"></a><code>DATABASE MICRONS</code> <span class="webflare-courier-new" style="white-space:pre"><em>LEFconvertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134937"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134939"></a>Interprets one LEF distance unit as multiplied when converted into database units.</p>
<p>
<a id="pgfId-1134940"></a>If you omit the <code>DATABASE MICRONS</code> statement, a default value of 100 is recorded as the <em>LEFconvertFactor</em> in the database. In this case, one micron would equal 100 database units.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134944"></a><code>FREQUENCY MEGAHERTZ</code> <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134950"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134952"></a>Interprets one LEF frequency unit as 1 megahertz.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134956"></a><code>POWER MILLIWATTS</code> <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134962"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134964"></a>Interprets one LEF power unit as 1 milliwatt.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134968"></a><code>RESISTANCE OHMS</code> <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134974"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134976"></a>Interprets one LEF resistance unit as 1 ohm.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134980"></a><code>TIME NANOSECONDS</code> <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134986"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1134988"></a>Interprets one LEF time unit as 1 nanosecond.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1134992"></a><code>VOLTAGE VOLTS</code> <span class="webflare-courier-new" style="white-space:pre"><em>convertFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134998"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135000"></a>Interprets one LEF voltage unit as 1 volt. </p>
</td>
</tr>
</tbody></table>


<h4><em>
<a id="pgfId-973987"></a>Database Units Information</em></h4>

<p>
<a id="pgfId-980383"></a>Database precision is relative to<a id="marker-973983"></a> Standard International (SI) units. LEF <a id="marker-973984"></a><a id="marker-973985"></a>values are <a id="marker-973986"></a>converted to integer <a id="marker-973988"></a>values in the library database as follows. </p>
<table class="webflareTable" id="#id973989">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id973991">
<a id="pgfId-973991"></a>SI unit</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id973993">
<a id="pgfId-973993"></a>Database precision</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-973995"></a>1 nanosecond</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-973997"></a>= 1,000 DBUs</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-973999"></a>1 picofarad</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974001"></a>= 1,000,000 DBUs</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974003"></a>1 ohm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974005"></a>= 10,000 DBUs</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974007"></a>1 milliwatt</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974009"></a>= 10,000 DBUs</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974011"></a>1 milliamp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974013"></a>= 10,000 DBUs</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974015"></a>1 volt</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974017"></a>= 1,000 DBUs</p>
</td>
</tr>
</tbody></table>



<h4><em>
<a id="pgfId-974020"></a><a id="96345"></a>Convert Factors</em></h4>

<p>
<a id="pgfId-981521"></a>LEF supports values of 100, 200, 400, 800, 1000, 2000, 4000, 8000, 10,000, and 20,000 for <span class="webflare-courier-new" style="white-space:pre"><em>LEFconvertFactor</em></span>. The following table illustrates the conversion of LEF distance units into database units.</p>
<table class="webflareTable" id="#id974021">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id974023">
<a id="pgfId-974023"></a>LEFconvertFactor</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id974025">
<a id="pgfId-974025"></a>LEF</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id974027">
<a id="pgfId-974027"></a>Database Units</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974029"></a>100</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974031"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974033"></a>100 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974035"></a>200</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974037"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974039"></a>200 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201482"></a>400</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201484"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201486"></a>400</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201488"></a>800</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201490"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201492"></a>800</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974041"></a>1000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974043"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974045"></a>1000 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974047"></a>2000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974049"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974051"></a>2000 </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201494"></a>4000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201496"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201498"></a>4000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201500"></a>8000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201502"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201504"></a>8000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990359"></a>10,000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990361"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990363"></a>10,000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990365"></a>20,000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990367"></a>1 micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990369"></a>20,000</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-981526"></a>The DEF database precision cannot be more precise than the LEF database precision. This means the DEF convert factor must always be less than or equal to the LEF convert factor. The LEF convert factor must also be an integer multiple of the DEF convert factor so no round-off of DEF database unit values is required (e.g., a LEF convert factor of 1000 allows DEF convert factors of 100, 200, 1000, but not 400, 800). The following table shows the valid pairings of the LEF convert factor and the corresponding DEF convert factor.&#160;&#160; </p>
<table class="webflareTable" id="#id974053">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id974055">
<a id="pgfId-974055"></a>LEFconvertFactor</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id974057">
<a id="pgfId-974057"></a>Legal DEFconvertFactors</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974059"></a>100</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974061"></a>100</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974063"></a>200</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974065"></a>100, 200</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201506"></a>400</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201508"></a>100, 200, 400</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201510"></a>800</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201512"></a>100, 200, 400, 800</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974071"></a>1000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974073"></a>100, 200, 1000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974079"></a>2000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974081"></a>100, 200, 400, 1000, 2000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201514"></a>4000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201516"></a>100, 200, 400, 800, 1000, 2000, 4000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201518"></a>8000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1201520"></a>100, 200, 400, 800, 1000, 2000, 4000, 8000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974083"></a>10,000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-974085"></a>100, 200, 400, 1000, 2000, 10,000</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-996624"></a>20,000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-996626"></a>100, 200, 400, 800, 1000, 2000, 4000, 10,000, 20,000</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-974087"></a>An incremental LEF should have the same value as a previous LEF. An error message warns you if an incremental LEF has a different value than what is recorded in the database.</p>




<h3>
<a id="pgfId-974095"></a><a id="62353"></a>Use Min Spacin<a id="UseMinSpacing"></a>g</h3>
<a id="pgfId-974096"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
[USEMINSPACING OBS { ON | OFF } ;]</pre>

<p>
<a id="pgfId-974097"></a>Defines how minimum spacing is calculated for obstruction (blockage) geometries.</p>


<p>
<a id="pgfId-1126139"></a> <code></code></p>
<table class="webflareTable" id="#id996333">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135045"></a><code>OBS {ON | OFF}</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1135047"></a>Specifies how to calculate minimum spacing for obstruction geometries (<code>MACRO OBS</code> shapes).<br /><em>Default: </em><code>ON</code> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135051"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135053"></a><code>OFF</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135055"></a>Spacing is computed to <code>MACRO OBS</code> shapes as if they were actual routing shapes. A wide <code>OBS</code> shape would use wide wire spacing rules, and a thin <code>OBS</code> shapes would use thin wire spacing rules. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135057"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135059"></a><code>ON</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135061"></a>Spacing is computed as if the <code>MACRO</code> <code>OBS</code> shapes were min-width wires. Some LEF models abstract many min-width wires as a single large <code>OBS</code> shape; therefore using wide wire spacing would be too conservative.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1135063"></a></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1135065"></a> <code>OFF</code> is the recommended value to specify because it is a better abstract model for the various wide wire spacing rules that are more common at process nodes of 130nm and smaller. Certain older style LEF abstracts use <code>ON</code>, but it can have unexpected side effects (such as hidden DRC errors) if the abstracts are not created very carefully. You cannot mix both types of LEF abstracts at the same time. </div>

</td>
</tr>
</tbody></table>



<h3>
<a id="pgfId-972738"></a><a id="54192"></a>Versio<a id="Version"></a>n</h3>
<a id="pgfId-955760"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
VERSION <code><em>number</em></code> ;</pre>

<p>
<a id="pgfId-955761"></a>S<a id="marker-972781"></a>pecifies which version of the LEF syntax is being used. <span class="webflare-courier-new" style="white-space:pre"><em>number</em></span> is a string of the form <span class="webflare-courier-new" style="white-space:pre"><em>major</em></span><code>.</code><span class="webflare-courier-new" style="white-space:pre"><em>minor</em></span><code>[.</code><span class="webflare-courier-new" style="white-space:pre"><em>subMinor</em></span><code>]</code>, such as <code>5.8</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-989401"></a>Many applications default to the latest version of LEF/DEF supported by the application (which depends on how old the application is). The latest version as described by this document is 5.8. However, a default value of <code>5.8</code> is not formally part of the language definition; therefore, you cannot be sure that all applications use this default value. Also, because the default value varies with the latest version, you should not depend on this. </div>



<h3>
<a id="pgfId-918957"></a><a id="65762"></a><a id="Via"></a>Vi<a id="Via"></a>a</h3>
<a id="pgfId-1173749"></a><a id="marker-1173748"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
VIA <code><em>viaName</em></code> [DEFAULT] 
{ VIARULE <code><em>viaRuleName</em></code> ;
     CUTSIZE <code><em>xSize</em></code> <code><em>ySize</em></code> ;
     LAYERS <code><em>botMetalLayer</em></code> <code><em>cutLayer</em></code> <code><em>topMetalLayer</em></code> ;
     CUTSPACING <code><em>xCutSpacing</em></code> <code><em>yCutSpacing</em></code> ; 
     ENCLOSURE <code><em>xBotEnc</em></code> <code><em>yBotEnc</em></code> <code><em>xTopEnc</em></code> <code><em>yTopEnc</em></code> ;
     [ROWCOL <code><em>numCutRows</em></code> <code><em>numCutCols</em></code> ;] 
     [ORIGIN <code><em>xOffset</em></code> <code><em>yOffset</em></code> ;] 
     [OFFSET <code><em>xBotOffset</em></code> <code><em>yBotOffset</em></code> <code><em>xTopOffset</em></code> <code><em>yTopOffset</em></code> ;] 
     [PATTERN <code><em>cutPattern</em></code> ;]
} 
| {[RESISTANCE <code><em>resistValue</em></code> ;]
   {LAYER <code><em>layerName</em></code> ; 
     { RECT [MASK <code><em>maskNum</em></code>] <code><em>pt</em></code> <code><em>pt</em></code> ;
     | POLYGON [MASK <code><em>maskNum</em></code>] <code><em>pt</em></code> <code><em>pt</em></code> <code><em>pt</em></code> ...;} ...
   } ... 
  }
[PROPERTY <code><em>propName</em></code> <code><em>propVal </em></code>;] ...</pre>
<a id="pgfId-1173755"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END <code><em>viaName</em></code> </pre>

<p>
<a id="pgfId-974680"></a>Defines two types of vias: fixed vias and generated vias. All vias consist of shapes on three layers: a cut layer and two routing (or masterslice) layers that connect through that cut layer.</p>
<p>
<a id="pgfId-997543"></a>A LEF fixed via is defined using rectangles or polygons, and does not use a <code>VIARULE</code>. The fixed via name must mean the same via in all associated LEF and DEF files.</p>
<p>
<a id="pgfId-997542"></a>A LEF generated via is defined using <code>VIARULE</code> parameters to indicate that it was derived from a <code>VIARULE</code> <code>GENERATE</code> statement. The parameterized via name must mean the same via in all LEF files.</p>
<p>
<a id="pgfId-8136124"></a>Note that unlike LEF, a DEF parameterized VIA can have its name changed as long as the parameters are kept the same (see DEF <a href="DEFSyntax.html#19741">Vias</a> section), but LEF VIAs are assumed to be &#8220;common library data&#8221; that can be used by other LEF files, such as LEF MACROs, so all LEF VIA definition names should be defined only once in all the LEF files that are loaded.</p>
<p>
<a id="pgfId-8136118"></a>If a LEF MACRO block needs its own locally defined VIA definition that is not already defined, it should use a unique via name. One way to do so is to use the MACRO name in the VIA definition name. For example, <code>MACRO my_block1</code> might have a unique via named <code>VIA my_block1_via1</code> inside the same LEF file.</p>

<p><strong>
<a id="pgfId-994927"></a><code>CUTSIZE </code><span class="webflare-courier-new" style="white-space:pre"><em>xSize</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>ySize</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1126152"></a>Specifies the required width (<span class="webflare-courier-new" style="white-space:pre"><em>xSize</em></span>) and height (<span class="webflare-courier-new" style="white-space:pre"><em>ySize</em></span>) of the cut layer rectangles. <br /><em>Type:</em> Float, specified in microns</p>

<p><strong>
<a id="pgfId-994937"></a><code>CUTSPACING </code><span class="webflare-courier-new" style="white-space:pre"><em>xCutSpacing</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yCutSpacing</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106941"></a>Specifies the required x and y spacing between cuts. The spacing is measured from one cut edge to the next cut edge.<br /><em>Type:</em> Float, specified in microns</p>

<p><strong>
<a id="pgfId-990048"></a><code>DEFAULT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1126159"></a>I<a id="marker-994871"></a>dentifies the via as the default via between the defined layers. Default vias are used for default routing by the signal routers. </p>
<p class="webflare-indent1">
<a id="pgfId-990044"></a>If you define more than one default via for a layer pair, the router chooses which via to use. You must define default vias between <em>metal1</em> and masterslice layers if there are pins on the masterslice layers.</p>
<p class="webflare-indent1">
<a id="pgfId-1135089"></a>All vias consist of shapes on three layers: a cut layer and two routing (or masterslice) layers that connect through that cut layer. There should be at least one <code>RECT</code> or <code>POLYGON</code> on each of the three layers.</p>

<p><strong>
<a id="pgfId-1135090"></a><code>ENCLOSURE </code><span class="webflare-courier-new" style="white-space:pre"><em>xBotEnc</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yBotEnc</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>xTopEnc</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yTopEnc</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1135091"></a>Specifies the required x and y enclosure values for the bottom and top metal layers. The enclosure measures the distance from the cut array edge to the metal edge that encloses the cut array.<br /><em>Type:</em> Float, specified in microns</p>
<p class="webflare-indent1">
<a id="pgfId-997334"></a><strong>Note:</strong> It is legal to specify a negative number, as long as the resulting metal size is positive.</p>

<p><strong>
<a id="pgfId-987210"></a><code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1126178"></a>S<a id="marker-982706"></a>pe<a id="marker-982707"></a>cifies the layer on which to create the rectangles that make up the via. All vias consist of shapes on three layers: a cut layer and two routing (or masterslice) layers that connect through that cut layer. There should be at least one <code>RECT</code> or <code>POLYGON</code> on each of the three layers.</p>

<p><strong>
<a id="pgfId-994930"></a><code>LAYERS </code><span class="webflare-courier-new" style="white-space:pre"><em>botMetalLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>cutLayer</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>topMetalLayer</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1135085"></a>Specifies the required names of the bottom routing (or masterslice) layer, cut layer, and top routing (or masterslice) layer. These layer names must be previously defined in layer definitions, and must match the layer names defined in the specified LEF <span class="webflare-courier-new" style="white-space:pre"><em>viaRuleName</em></span>.</p>

<p><strong>
<a id="pgfId-1556867"></a><code>MASK</code> <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-2993698"></a>Specifies which mask for double- or triple-patterning lithography is to be applied to the shapes defined in <code>RECT</code> or <code>POLYGON</code> of the via master. The <span class="webflare-courier-new" style="white-space:pre"><em>maskNum</em></span> variable must be a positive integer. Most applications only support values of 1, 2, or 3. For a fixed via made up of <code>RECT</code> or <code>POLYGON</code> statements, the cut-shapes should either be all colored or not colored at all. It is an error to have partially colored cuts for one via. Uncolored cut shapes should be automatically colored if the layer is a multi-mask layer. <br />
The metal shapes with a shape per layer of the via-master do not need colors because the via instance has the mask color, but some readers will color them as <code>mask 1</code> for internal consistency (see <a href="LEFSyntax.html#99171">Figure&#160;1-62</a> ). So a writer may write out <code>MASK 1</code> for the metal shapes even if they are read in with no <code>MASK</code> value.</p>
<p class="webflare-indent1">
<a id="pgfId-1556872"></a></p>

<p><strong>
<a id="pgfId-1135086"></a><code>OFFSET </code><span class="webflare-courier-new" style="white-space:pre"><em>xBotOffset</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yBotOffset</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>xTopOffset</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yTopOffset</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1106998"></a>Specifies the x and y offset for the bottom and top metal layers. By default, the <code>0,0</code> origin of the via is the center of the cut array, and the enclosing metal rectangles. These values allow each metal layer to be offset independently. After the non-shifted via is computed, the metal layer rectangles are offset by adding the appropriate values&#8212;the x/y <span class="webflare-courier-new" style="white-space:pre"><em>BotOffset</em></span> values to the metal layer below the cut layer, and the x/ y <span class="webflare-courier-new" style="white-space:pre"><em>TopOffset</em></span> values to the metal layer above the cut layer. These offsets are in addition to any offset caused by the <code>ORIGIN</code> values.<br /><em>Default:</em> <code>0</code>, for all values <br /><em>Type:</em> Float, specified in microns </p>

<p><strong>
<a id="pgfId-994946"></a><code>ORIGIN </code><span class="webflare-courier-new" style="white-space:pre"><em>xOffset</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>yOffset</em></span> </strong></p>

<p class="webflare-indent1">
<a id="pgfId-1759195"></a>Specifies the x and y offset for all of the via shapes. By default, the <code>0,0</code> origin of the via is the center of the cut array, and the enclosing metal rectangles. After the non-shifted via is computed, all cut and metal rectangles are offset by adding these values. <br /><em>Default:</em> <code>0</code>, for both values<br /><em>Type:</em> Float, specified in microns</p>

<p><strong>
<a id="pgfId-1759196"></a><code>PATTERN </code><span class="webflare-courier-new" style="white-space:pre"><em>cutPattern</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-1759197"></a>Specifies the cut pattern encoded as an ASCII string. This parameter is only required when some of the cuts are missing from the array of cuts, and defaults to &#8220;all cuts are present,&#8221; if not specified.</p>
<p class="webflare-indent1">
<a id="pgfId-996815"></a>For information on and examples of via cut patterns, see <a href="DEFSyntax.html#54445">Creating Via Cut Patterns</a>.</p>
<p class="webflare-indent1">
<a id="pgfId-994968"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>cutPattern</em></span> syntax uses &#8220;<code>_</code>&#8221; as a separator, and is defined as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-994972"></a><span class="webflare-courier-new" style="white-space:pre"><em>numRows</em></span><code>_</code><span class="webflare-courier-new" style="white-space:pre"><em>rowDefinition<br /></em></span><code>  [_</code><span class="webflare-courier-new" style="white-space:pre"><em>numRows</em></span><code>_</code><span class="webflare-courier-new" style="white-space:pre"><em>rowDefinition</em></span><code>] ... </code></p>
<table class="webflareTable webflareTableIndent" id="#id994989">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010536"></a><span class="webflare-courier-new" style="white-space:pre"><em>numRows</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010538"></a>Specifies a hexadecimal number that indicates how many times to repeat the following row definition. This number can be more than one digit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010540"></a><span class="webflare-courier-new" style="white-space:pre"><em>rowDefinition</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010542"></a>Defines one row of cuts, from left to right.</p>
</td>
</tr>
</tbody></table>
<p class="webflare-indent1">
<a id="pgfId-995010"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>rowDefinition</em></span> syntax is defined as follows:</p>
<p class="webflare-indent1">
<a id="pgfId-995011"></a><code>{[R</code><span class="webflare-courier-new" style="white-space:pre"><em>repeatNumber</em></span><code>]</code><span class="webflare-courier-new" style="white-space:pre"><em>hexDigitCutPattern</em></span><code>} ... </code></p>
<table class="webflareTable webflareTableIndent" id="#id995023">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-8010544"></a><span class="webflare-courier-new" style="white-space:pre"><em>hexDigitCutPattern </em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010548"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010550"></a>Specifies a single hexadecimal digit that encodes a 4-bit binary value, in which <code>1</code> indicates a cut is present, and <code>0</code> indicates a cut is not present.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010552"></a><span class="webflare-courier-new" style="white-space:pre"><em>repeatNumber</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-8010554"></a>Specifies a single hexadecimal digit that indicates how many times to repeat&#160;&#160; <span class="webflare-courier-new" style="white-space:pre"><em>hexDigitCutPattern</em></span>. </p>
</td>
</tr>
</tbody></table>
<p class="webflare-indent1">
<a id="pgfId-1759210"></a>For parameterized vias (with <code>+ VIARULE</code> ...), the <span class="webflare-courier-new" style="white-space:pre"><em>cutPattern</em></span> has an optional suffix added to allow three types of mask color patterns. The default mask color pattern (no suffix) is a checker-board defined as an alternating pattern starting with <code>MASK 1</code> at the bottom left. Then the mask cycles left-to-right, and from bottom-to-top, as shown in <a href="LEFSyntax.html#33551">Figure&#160;1-60</a>.The other two patterns supported are alternating rows, and alternating columns, see <a href="LEFSyntax.html#97635">Figure&#160;1-61</a>.</p>
<p class="webflare-indent1">
<a id="pgfId-1759211"></a></p>
<p class="webflare-indent1">
<a id="pgfId-1760876"></a>The optional suffixes are:</p>
<p class="webflare-indent1">
<a id="pgfId-1760877"></a>&lt;cut_pattern&gt;_<strong>MR</strong> alternating rows</p>
<p class="webflare-indent1">
<a id="pgfId-1760878"></a>&lt;cut_pattern&gt;_<strong>MC</strong> alternating columns</p>

<p><strong>
<a id="pgfId-994969"></a><code>POLYGON </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8106437"></a>Specifies a sequence of at least three points to generate a polygon geometry. Most fab DRC rules require each polygon edge to be parallel to the x or y axis, or at a 45-degree angle. However, odd-angles are allowed sometimes on a few layers, such as bump layers. Each <code>POLYGON</code> statement defines a polygon generated by connecting each successive point, and then by connecting the first and last points. <br />The <span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span> syntax corresponds to an x y coordinate pair, such as <code>-0.2 1.0</code>. <br /><em>Type:</em> Float, specified in microns </p>


<p><strong>Example 1-18
<a id="pgfId-1174741"></a><a id="81050"></a>Via Rules</strong></p>

<p>
<a id="pgfId-1174742"></a>The following via rule describes a non-shifted via (that is, a via with no <code>OFFSET</code> or <code>ORIGIN</code> parameters). There are two rows and three columns of via cuts. <a href="LEFSyntax.html#18092">Figure&#160;1-57</a> illustrates this via rule.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1174746"></a>VIA myVia</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1174747"></a>VIARULE myViaRule ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1174748"></a>CUTSIZE 20 20 ;&#160;&#160;           #xCutSize yCutSize</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1174749"></a>LAYERS metal1 cut12 metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1174750"></a>CUTSPACING 30 30 ;&#160;&#160;         #xCutSpacing yCutSpacing</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1174751"></a>ENCLOSURE 20 50 50 20 ;&#160;&#160;    #xBotEnc yBotEnc xTopEnc yTopEnc</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1174752"></a>ROWCOL 2 3 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1175274"></a>END myVia</pre>



<p><strong>Figure 1-58
<a id="pgfId-1174754"></a><a id="18092"></a>Via Rule</strong></p>

<p>
<a id="pgfId-1174847"></a></p>
<div class="webflare-div-image">
<img width="668" height="333" src="images/LEFSyntax-59.gif" /></div>

<p>
<a id="pgfId-1174848"></a>The same via rule with the following <code>ORIGIN</code> parameter shifts all of the metal and cut rectangles by 10 in the x direction, and by -10 in the y direction (see <a href="LEFSyntax.html#40454">Figure&#160;1-58</a>):</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1174852"></a>ORIGIN 10 -10 ;</pre>




<p><strong>Figure 1-59
<a id="pgfId-1174854"></a><a id="40454"></a>Via Rule With Origin</strong></p>

<p>
<a id="pgfId-1174901"></a></p>
<div class="webflare-div-image">
<img width="668" height="231" src="images/LEFSyntax-60.gif" /></div>

<p>
<a id="pgfId-1174902"></a>If the same via rule contains the following <code>ORIGIN</code> and <code>OFFSET</code> parameters, all of the rectangles shift by 10, -10. In addition, the top layer metal rectangle shifts by 20, -20, which means that the top metal shifts by a total of 30, -30.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1174903"></a>ORIGIN 10 -10 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1174904"></a>OFFSET 0 0 20 -20 ;</pre>




<p><strong>Figure 1-60
<a id="pgfId-1174905"></a>Via Rule With Origin and Offset</strong></p>

<p>
<a id="pgfId-1174957"></a></p>
<div class="webflare-div-image">
<img width="668" height="265" src="images/LEFSyntax-61.gif" /></div>



<p><strong>Example 1-19
<a id="pgfId-990320"></a>Via Polygon </strong></p>

<p>
<a id="pgfId-990324"></a>The following via definition creates a polygon geometry used by X-routing applications:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-990325"></a>VIA myVia23</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990329"></a>LAYER metal2 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990333"></a>POLYGON -2.1 -1.0 -0.1 1.0 2.1 1.0 0.1 -1.0 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990334"></a>LAYER cut23 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990335"></a>RECT -0.4 -0.4 0.4 0.4 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990336"></a>LAYER metal3 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-990337"></a>POLYGON -0.1 -1.0 -2.1 1.0 0.1 1.0 2.1 -1.0 ;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-990338"></a>END myVia23</pre>

<p>
<a id="pgfId-1137826"></a></p>
<table class="webflareTable" id="#id1137834">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1137851"></a><code>PROPERTY </code><span class="webflare-courier-new" style="white-space:pre"><em>propName propVal</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137855"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137857"></a>Specifies a numerical or string value for a via property defined in the <code>PROPERTYDEFINITIONS</code> statement. The <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> you specify must match the <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> listed in the <code>PROPERTYDEFINITIONS</code> statement. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137859"></a><code>RECT </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137861"></a>Specify the corners of a rectangular shape in the via. The <span class="webflare-courier-new" style="white-space:pre"><em>pt</em></span> syntax corresponds to an x y coordinate pair, such as <code>-0.4 -4.0</code>. For vias used only in macros or pins, reference locations and rectangle coordinates must be consistent.<br /><em>Type:</em> Float, specified in microns</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1137863"></a><code>RESISTANCE </code><span class="webflare-courier-new" style="white-space:pre"><em>resistValue</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137936"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137950"></a>Specifies the lumped resistance for the via. This is not a resistance per via-cut value; it is the total resistance of the via. By default, via resistance is computed from the via <code>LAYER</code> <code>RESISTANCE</code> value; however, you can override that value with this value. <span class="webflare-courier-new" style="white-space:pre"><em>resistValue</em></span> is ignored if a via rule is specified, because only the <code>VIARULE</code> definition or a cut layer <code>RESISTANCE</code> value gives the resistance for generated vias. <br /><em>Type:</em> Float, specified in ohms</p>
<p>
<a id="pgfId-1137938"></a><strong>Note:</strong> A <code>RESISTANCE</code> value attached to an individual via is no longer recommended.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1137940"></a><code>ROWCOL </code><span class="webflare-courier-new" style="white-space:pre"><em>numCutRows</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>numCutCols</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137944"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137946"></a>Specifies the number of cut rows and columns that make up the via array.<br /><em>Default:</em> <code>1</code>, for both values <br /><em>Type:</em> Positive integer, for both values</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137990"></a><span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137992"></a>Specifies the name for the via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1137994"></a><code>VIARULE </code><span class="webflare-courier-new" style="white-space:pre"><em>viaRulename</em></span> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137998"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138048"></a>Specifies the name of the LEF <code>VIARULE</code> that produced this via. This indicates that the via is the result of automatic via generation, and that the via name is only used locally inside this LEF file. The geometry and parameters are maintained, but the name can be freely changed by applications that use this via when writing out LEF and DEF files.</p>
<p>
<a id="pgfId-1138049"></a><span class="webflare-courier-new" style="white-space:pre"><em>viaRuleName</em></span> must be specified before you define any of the other parameters, and must refer to a previously defined <code>VIARULE</code> <code>GENERATE</code> rule name. It cannot refer to a <code>VIARULE</code> without a <code>GENERATE</code> keyword. </p>
<p>
<a id="pgfId-1138000"></a>Specifying the reserved via rule name of <code>DEFAULT</code> indicates that the via should use a previously defined <code>VIARULE</code> <code>GENERATE</code> rule with the <code>DEFAULT</code> keyword that exists for this routing-cut-routing (or masterslice-cut-masterslice) layer combination. This makes it possible for an IP block user to use existing via rules from the normal LEF technology section instead of requiring it to locally create its own via rules for just one LEF file.</p>
</td>
</tr>
</tbody></table>



<p><strong>Example 1-20
<a id="pgfId-995064"></a>Generated Via Rule</strong></p>

<p>
<a id="pgfId-995065"></a>The following via definition defines a generated via that is used only in this LEF file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-995066"></a>VIA myBlockVia</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-995070"></a>VIARULE DEFAULT ;                   #Use existing VIARULE GENERATE rule with<br />                                     #the DEFAULT keyword</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-995071"></a>CUTSIZE 0.1 0.1 ;&#160;&#160;              #Cut is 0.1 x 0.1 um</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-995072"></a>LAYERS metal1 via12 metal2 ;&#160;&#160;   #Bottom metal, cut, and top metal layers</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-995073"></a>CUTSPACING 0.1 0.1 ;&#160;&#160;           #Space between cut edges is 0.1 um</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-995074"></a>ENCLOSURE 0.05 0.01 0.01 0.05 ; #metal1 enclosure is 0.05 in x, 0.01 in y<br />                                 #metal2 enclosure is 0.01 in x, 0.05 in y</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-995075"></a>ROWCOL 1 2 ;&#160;&#160;                   #1 row, 2 columns = 2 cuts</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1557021"></a>END myBlockVia</pre>


<p><strong>Example 1-21
<a id="pgfId-3008554"></a>Parameterized via cut-mask pattern </strong></p>

<p>
<a id="pgfId-1560771"></a>The following example shows a <code>VIARULE</code> parameterized via:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1560772"></a>VIA&#160;&#160;myParamVia1</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560773"></a>VIARULE myGenVia1&#160;&#160;        CUTSIZE 0.4 0.4</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560774"></a>LAYERS M1 VIA1 M2&#160;&#160;        CUTSPACING 0.4 0.4</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1578703"></a>ENCLOSURE 0.4 0 0 0.4&#160;&#160;    ROWCOL 3 4         #3 rows, 4 columns</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1759326"></a>PATTERN 2_F_1_D;&#160;&#160;                            #1 cut in top row is missing</pre>

<p>
<a id="pgfId-3008570"></a>Example of a parameterized via checker-board cut-mask pattern for a 3-mask layer with 2 missing cuts. For parameterized vias (with <code>VIARULE ...</code>), the mask of the cuts are pre-defined as an alternating pattern starting with <code>MASK 1</code> at the bottom left. The mask cycles from left-to-right and bottom-to-top are shown.</p>



<p><strong>Figure 1-61
<a id="pgfId-1759328"></a><a id="33551"></a>Parameterized via cut-mask pattern using PATTERN</strong></p>

<p>
<a id="pgfId-1759497"></a></p>
<div class="webflare-div-image">
<img width="668" height="582" src="images/LEFSyntax-62.gif" /></div>

<ul><li>
<a id="pgfId-1759718"></a>The following examples show a parameterized via with cut-mask patterns for a 3-mask layer and 2-mask layer using _MC and _MR suffixes:</li></ul>
<p>
<a id="pgfId-1759705"></a></p>




<p><strong>Figure 1-62
<a id="pgfId-1759511"></a><a id="97635"></a>Parameterized via cut-mask pattern using Suffixes</strong></p>

<p>
<a id="pgfId-1759680"></a></p>
<div class="webflare-div-image">
<img width="668" height="607" src="images/LEFSyntax-63.gif" /></div>



<p><strong>Example 1-22
<a id="pgfId-1560906"></a>Fixed-via with pre-colored cut shapes </strong></p>

<p>
<a id="pgfId-1560907"></a>The following example shows a fixed-via with pre-colored cut shapes:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1560908"></a>VIA myVia1</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560909"></a>LAYER m1 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560910"></a>RECT -0.4 -0.2 1.2 0.2 ;&#160;&#160;         #no mask, some readers will set to mask 1</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560911"></a>LAYER via1 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560912"></a>RECT MASK 1 -0.2 -0.2 0.2 0.2 ;&#160;&#160; #first cut on mask 1</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560913"></a>RECT MASK 2&#160;&#160;0.6 -0.2 1.0 0.2 ;&#160;&#160; #second cut on mask 2</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560914"></a>LAYER m2 ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1560915"></a>RECT -0.2 -0.4 1.0 0.4 ;&#160;&#160;         #no mask, some readers will set to mask 1</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1560916"></a>END myVia1</pre>
<p>
<a id="pgfId-3008599"></a>For a fixed via made up of <code>RECT</code> or <code>POLYGON</code> statements, the cut shapes must all be colored or not colored at all. If the cuts are not colored, they will be automatically colored in a checkerboard pattern as described above for parameterized vias. Each via-cut with the same lower-left Y value is considered one row, and each via in one row is a new column. For common &quot;array&quot; style vias with no missing cuts, this coloring is a good one. For vias that do not have a row and column structure, or are missing cuts this coloring may not be good (see <a href="LEFSyntax.html#99171">Figure&#160;1-62</a>). If the metal layers having only one shape per layer are not colored, some applications will color them to <code>MASK 1</code> for internal consistency, even though the via-master metal shape colors are not really used by LEF/DEF via instances. For multiple disjoint metal shapes, it is highly recommended to provide proper color.</p>



<p><strong>Figure 1-63
<a id="pgfId-1578025"></a><a id="99171"></a>Fixed-via with pre-colored cut shapes</strong></p>

<p>
<a id="pgfId-1578194"></a></p>
<div class="webflare-div-image">
<img width="668" height="531" src="images/LEFSyntax-64.gif" /></div>

<p>
<a id="pgfId-2993787"></a>See the MACRO <a href="LEFSyntax.html#23360">Layer Geometries</a> statement to see how a via-instance uses these via-master mask values.</p>





<h3>
<a id="pgfId-1561216"></a><a id="65994"></a>Via Rul<a id="ViaRule"></a>e</h3>
<a id="pgfId-955102"></a><a id="marker-955101"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
VIARULE <code><em>viaRuleName
</em></code>LAYER <code><em>layerName</em></code> ;
   DIRECTION {HORIZONTAL | VERTICAL} ;
   [WIDTH <code><em>minWidth</em></code> TO <code><em>maxWidth</em></code> ;]
LAYER <code><em>layerName</em></code> ;
   DIRECTION {HORIZONTAL | VERTICAL} ;
   [WIDTH <code><em>minWidth</em></code> TO <code><em>maxWidth</em></code> ;]
{VIA <code><em>viaName </em></code>;} ...
[PROPERTY <code><em>propName propVal</em></code> ;] ...</pre>
<a id="pgfId-982563"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END <code><em>viaRuleName</em></code> </pre>

<p>
<a id="pgfId-982715"></a>Defines which vias to use at the intersection of special wires of the same net. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-996645"></a>You should only use <code>VIARULE</code> <code>GENERATE</code> statements to create a via for the intersection of two special wires. In earlier versions of LEF, <code>VIARULE</code> <code>GENERATE</code> was not complete enough to cover all situations. In those cases, a fixed <code>VIARULE</code> (without a <code>GENERATE</code> keyword) was sometimes used. This is no longer required.</div>


<p>
<a id="pgfId-1138088"></a></p>
<table class="webflareTable" id="#id1138096">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1138098"></a><code>DIRECTION {HORIZONTAL | VERTICAL}</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138127"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138129"></a>Specifies the wire direction. If you specify a <code>WIDTH</code> range, the rule applies to wires of the specified <code>DIRECTION</code> that fall within the range. Otherwise, the rule applies to all wires of the specified <code>DIRECTION</code> on the layer. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1138131"></a><code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>layerName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138135"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138137"></a>Specifies the routing or masterslice layers for the top or bottom of the via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1138139"></a><code>PROPERTY </code><span class="webflare-courier-new" style="white-space:pre"><em>propName propVal</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138198"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138200"></a>Specifies a numerical or string value for a via rules property defined in the <code>PROPERTYDEFINITIONS</code> statement. The <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> you specify must match the <span class="webflare-courier-new" style="white-space:pre"><em>propName</em></span> listed in the <code>PROPERTYDEFINITIONS</code> statement. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138202"></a><code>VIA </code><span class="webflare-courier-new" style="white-space:pre"><em>viaName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138204"></a>Specifies a previously defined via to test for the current via rule. The first via in the list that can be placed at the location without design rule violations is selected. The vias must all have exactly three layers in them. The three layers must include the same routing or masterslice layers as listed in the <code>LAYER</code> statements of the <code>VIARULE</code>, and a cut layer that is between the two routing or masterslice layers.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1138206"></a><code>VIARULE </code><span class="webflare-courier-new" style="white-space:pre"><em>viaRuleName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138267"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138269"></a>Specifies the name to identify the via rule.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1138271"></a><code>WIDTH </code><span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span><code> TO </code><span class="webflare-courier-new" style="white-space:pre"><em>maxWidth</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138299"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138305"></a>Specifies a wire width range. If the widths of two intersecting special wires fall within the wire width range, the <code>VIARULE</code> is used. To fall within the range, the widths must be greater than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span> and less than or equal to <span class="webflare-courier-new" style="white-space:pre"><em>maxWidth</em></span>.</p>
<p>
<a id="pgfId-1138301"></a><strong>Note:</strong> <code>WIDTH</code> is defined by wire direction, not by layer. If you specify a <code>WIDTH</code> range, the rule applies to wires of the specified <code>DIRECTION</code> that fall within the range.</p>
</td>
</tr>
</tbody></table>


<p><strong>Example 1-23
<a id="pgfId-983995"></a><a id="88788"></a>Via Rule Statement</strong></p>

<p>
<a id="pgfId-984021"></a>In the following example, whenever a <em>metal1</em> wire with a width between 0.5 and 1.0 intersects a <em>metal2</em> wire with a width between 1.0 and 2.0, the via generation code attempts to put a <em>via12_1</em> at the intersection first. If the <em>via12_1</em> causes a DRC violation, a <em>via12_2</em> is then tried. If both fail, the default behavior from a <code>VIARULE</code> <code>GENERATE</code> statement for <em>metal1</em> and <em>metal2</em> is used.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-984009"></a>VIARULE viaRule1</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992909"></a>LAYER metal1 ;</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1097588"></a>DIRECTION HORIZONTAL ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992922"></a>WIDTH 0.5 TO 1.0 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992923"></a>LAYER metal2 ;</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1097698"></a>DIRECTION VERTICAL ;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992924"></a>WIDTH 1.0 TO 2.0 ;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992925"></a>VIA via12_1 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992926"></a>VIA via12_2 ;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-984010"></a>END viaRule1</pre>



<h3>
<a id="pgfId-955165"></a><a id="20590"></a>Via Rule Generat<a id="ViaRuleGenerate"></a>e</h3>
<a id="pgfId-982568"></a><a id="marker-982566"></a><a id="marker-982567"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
VIARULE <code><em>viaRuleName</em></code> <code>G</code>ENERATE [DEFAULT]
LAYER <code><em>routingLayerName</em></code> ;
   ENCLOSURE <code><em>overhang1</em></code> <code><em>overhang2</em></code> ;
   [WIDTH <code><em>minWidth</em></code> TO <code><em>maxWidth</em></code> ;]
LAYER <code><em>routingLayerName</em></code> ;
   ENCLOSURE <code><em>overhang1</em></code> <code><em>overhang2</em></code> ;
   [WIDTH <code><em>minWidth</em></code> TO <code><em>maxWidth</em></code> ;]
LAYER <code><em>cutLayerName</em></code> ;
   RECT <code><em>pt</em></code> <code><em>pt</em></code> ;
   SPACING <code><em>xSpacing</em></code> BY <code><em>ySpacing</em></code> ;
   [RESISTANCE <code><em>resistancePerCut</em></code> ;]</pre>
<a id="pgfId-982569"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
END <code><em>viaRuleName</em></code> </pre>

<p>
<a id="pgfId-982570"></a>Defines formulas for generating via arrays. You can use the <code>VIARULE GENERATE</code> statement to cover special wiring that is not explicitly defined in the <code>VIARULE</code> statement.</p>
<p>
<a id="pgfId-974839"></a>Rather than specifying a list of vias for the situation, you can create a formula to specify how to generate the cut layer geometries.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-994769"></a>Any vias created automatically from a <code>VIARULE</code> <code>GENERATE</code> rule that appear in the DEF <code>NETS</code> or <code>SPECIALNETS</code> sections must also appear in the DEF <code>VIA</code> section.</div>

<p><strong>
<a id="pgfId-8010559"></a><code>DEFAULT</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010581"></a>Specifies that the via rule can be used to generate vias for the default routing rule. There can only be one <code>VIARULE</code> <code>GENERATE</code> <code>DEFAULT</code> for a given routing-cut-routing (or masterslice-cut-masterslice) layer combination. </p>


<p><strong>Example 1-24
<a id="pgfId-994839"></a>Via Rule Generate Default</strong></p>

<p>
<a id="pgfId-989537"></a>The following example defines a rule for generating vias for the default routing or masterslice rule: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989538"></a>VIARULE via12 GENERATE DEFAULT</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989547"></a>LAYER m1 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989551"></a>ENCLOSURE 0.03 0.01 ; #2 sides need &gt;= 0.03, 2 other sides need &gt;= 0.01</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989552"></a>LAYER m2 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989553"></a>ENCLOSURE 0.05 0.01 ; #2 sides need &gt;= 0.05, 2 other sides need &gt;= 0.01</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989554"></a>LAYER cut12 ;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989555"></a>RECT -0.1 -0.1 0.1 0.1 ; # cut is .20 by .20</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989556"></a>SPACING 0.40 BY 0.40 ;&#160;&#160; #center-to-center spacing</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-989557"></a>RESISTANCE 20 ;&#160;&#160;        #ohms per cut</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-989558"></a>END via12</pre>
<p><strong>
<a id="pgfId-8010600"></a><code>ENCLOSURE </code><span class="webflare-courier-new" style="white-space:pre"><em>overhang1</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>overhang2</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010620"></a>Specifies that the via must be covered by metal on two opposite sides by at least <span class="webflare-courier-new" style="white-space:pre"><em>overhang1</em></span>, and on the other two sides by at least <span class="webflare-courier-new" style="white-space:pre"><em>overhang2</em></span> (see <a href="LEFSyntax.html#43049">Figure&#160;1-63</a>). The via generation code then chooses the direction of overhang that best maximizes the number of cuts that can fit in the via.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1164593"></a>If there are also <code>ENCLOSURE</code> rules for the cut layer that apply to a given via, the via generation code will choose the <code>ENCLOSURE</code> rule with values that match the <code>ENCLOSURE</code> in <code>VIARULE GENERATE</code>. If there is no such match, the via generation code will ignore the <code>ENCLOSURE</code> in <code>VIARULE GENERATE</code> and choose which <code>ENCLOSURE</code> rule is best in <code>LAYER ENCLOSURE</code> values that apply to the same width via being generated. This means that only <code>ENCLOSURE</code> statements in  <code>LAYER CUT</code> are honored, and one of them will be used.</div>
<p class="webflare-indent1">
<a id="pgfId-8010665"></a>For example, <code>VIARULE GENERATE ENCLOSURE 0.2 0.0</code> combined with a <code>LAYER CUT</code> rule of <code>ENCLOSURE 0.2 0.0</code>, <code>ENCLOSURE 0.1 0.1</code> and <code>ENCLOSURE 0.15 0.15 WIDTH 0.5</code>, would mean that any via inside a wire with width that is greater than or equal to 0.5 wide, <code>0.15 0.15</code> enclosure values are used. Otherwise, <code>0.2 0.0</code> enclosure values are used. See the <code>LAYER CUT ENCLOSURE</code> statement for more information on handling multiple enclosure rule. <br /><em>Type:</em> Float, specified in microns</p>



<p><strong>Figure 1-64
<a id="pgfId-989517"></a><a id="43049"></a>Overhang</strong></p>

<p>
<a id="pgfId-984150"></a><a id="76930"></a></p>
<div class="webflare-div-image">
<img width="668" height="312" src="images/LEFSyntax-65.gif" /></div>



<p><strong>Example 1-25
<a id="pgfId-987255"></a><a id="76936"></a>Via Rule Generate Enclosure </strong></p>

<p>
<a id="pgfId-987256"></a>The following example describes a formula for generating via cuts:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-987257"></a>VIARULE via12 GENERATE </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-987258"></a>LAYER m1 ;</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-987259"></a>ENCLOSURE 0.05 0.01 ; #2 sides must be &gt;=0.05, 2 other sides must be &gt;=0.01</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-992944"></a>WIDTH 0.2 TO 100.0 ;&#160;&#160;#for m1, between 0.2 to 100 microns wide</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-987261"></a>LAYER m2 ; </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-987262"></a>ENCLOSURE 0.05 0.01 ; #2 sides must be &gt;=0.05, 2 other sides must be &gt;=0.01</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-987263"></a>WIDTH 0.2 TO 100.0 ;&#160;&#160;#for m2, between 0.2 to 100 microns wide</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-987264"></a>LAYER cut12</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-987265"></a>RECT -0.07 -0.07 0.07 0.07 ; #cut is .14 by .14</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-987266"></a>SPACING 0.30 BY 0.30 ;&#160;&#160;     #center-to-center spacing</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-987267"></a>END via12</pre>

<p>
<a id="pgfId-987268"></a>The cut layer <code>SPACING</code> <code>ADJACENTCUTS</code> statement can override the <code>VIARULE</code> cut layer <code>SPACING</code> statements. For example, assume the following cut layer information is also defined in the LEF file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-987269"></a>LAYER cut12 </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-992963"></a>...<br />SPACING 0.20 ADJACENTCUTS 3 WITHIN 0.22 ;<br />...</pre>
<p>
<a id="pgfId-987270"></a>The 0.20 μm edge-to-edge spacing in the <code>ADJACENTCUTS</code> statement is larger than the <code>VIARULE</code> <code>GENERATE</code> example spacing of 0.16 (0.30 − 0.14). Whenever the <code>VIARULE</code> <code>GENERATE</code> rule creates a via that is larger than 2x2 cuts (that is, 2x3, 3x2, 3x3 and so on), the 0.20 spacing from the <code>ADJACENTCUTS</code> statement is used instead. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1135263"></a>The spacing in <code>VIARULE</code> <code>GENERATE</code> is center-to-center spacing, whereas the spacing in <code>ADJACENTCUTS</code> is edge-to-edge. </div>

<p><strong>
<a id="pgfId-8010689"></a><code>GENERATE</code></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010721"></a>Defines a formula for generating the appropriate via.</p>

<p><strong>
<a id="pgfId-8010738"></a><code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>cutLayerName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010755"></a>Specifies the cut layer for the generated via.</p>

<p><strong>
<a id="pgfId-8010772"></a><code>LAYER</code> <span class="webflare-courier-new" style="white-space:pre"><em>routingLayerName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010789"></a>Specifies the routing (or masterslice) layers for the top and bottom of the via.</p>

<p><strong>
<a id="pgfId-8010806"></a><code>RECT</code> <span class="webflare-courier-new" style="white-space:pre"><em>pt pt</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010823"></a>Specifies the location of the lower left contact cut rectangle.</p>

<p><strong>
<a id="pgfId-8010840"></a><code>RESISTANCE</code> <span class="webflare-courier-new" style="white-space:pre"><em>resistancePerCut</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010859"></a>Specifies the resistance of the cut layer, given as the resistance per contact cut.<br /><em>Default:</em> The resistance value in the <code>LAYER</code> (Cut) statement<br /><em>Type:</em> Float</p>

<p><strong>
<a id="pgfId-8010874"></a><code>SPACING</code> <span class="webflare-courier-new" style="white-space:pre"><em>xSpacing</em></span> <code>BY</code> <span class="webflare-courier-new" style="white-space:pre"><em>ySpacing</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010889"></a>Defines center-to-center spacing in the x and y dimensions to create an array of contact cuts.The number of cuts of an array in each direction is the most that can fit within the bounds of the intersection formed by the two special wires. Cuts are only generated where they do not violate stacked or adjacent via design rules.</p>
<p class="webflare-indent1">
<a id="pgfId-8010904"></a><strong>Note:</strong> This value can be overridden by the <code>SPACING</code> <code>ADJACENTCUTS</code> value in the cut layer statement.</p>

<p><strong>
<a id="pgfId-8010928"></a><code>VIARULE </code><span class="webflare-courier-new" style="white-space:pre"><em>viaRuleName</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010949"></a>Specifies the name for the rule. </p>
<p class="webflare-indent1">
<a id="pgfId-8010945"></a>The name <code>DEFAULT</code> is reserved and should not be used for any via rule name. In the LEF and DEF <code>VIA</code> definitions that use generated via parameters, the reserved <code>DEFAULT</code> name indicates the via rule with the <code>DEFAULT</code> keyword.</p>

<p><strong>
<a id="pgfId-8010964"></a><code>WIDTH</code> <span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span> <code>TO</code> <span class="webflare-courier-new" style="white-space:pre"><em>maxWidth</em></span></strong></p>

<p class="webflare-indent1">
<a id="pgfId-8010981"></a>Specifies a wire width range to use for this <code>VIARULE</code>. This <code>VIARULE</code> can be used for wires with a width greater than or equal to (<code>&gt;=</code>) <span class="webflare-courier-new" style="white-space:pre"><em>minWidth</em></span>, and less than or equal to (<code>&lt;=</code>) <span class="webflare-courier-new" style="white-space:pre"><em>maxWidth</em></span> for the given routing (or masterslice) layer. If no <code>WIDTH</code> statement is specified, the <code>VIARULE</code> can be used for all wire widths on the given routing (or masterslice) layer.</p>






<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="Layer_Cut.html" id="nex" title="LEF Syntax - Layer (Cut)">LEF Syntax - Layer (Cut)</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2022, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>