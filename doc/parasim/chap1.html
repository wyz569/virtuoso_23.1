
<html><head><title>Parasitic Aware Design in Virtuoso ADE Explorer, Virtuoso ADE Assembler, and Virtuoso Schematics L/XL</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2023-10-30" />
<meta name="CreateTime" content="1698695037" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how Cadence tools are used to perform parasitic aware design on analog signal circuits, in Virtuoso Analog Design Environment and Virtuoso Schematic Editor L/XL" />
<meta name="DocTitle" content="Virtuoso Parasitic Aware Design User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Parasitic Aware Design in Virtuoso ADE Explorer, Virtuoso ADE Assembler, and Virtuoso Schematics L/XL" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="parasim" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-30" />
<meta name="ModifiedTime" content="1698695037" />
<meta name="NextFile" content="chap2.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="parasimTOC.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Parasitic Aware Design User Guide -- Parasitic Aware Design in Virtuoso ADE Explorer, Virtuoso ADE Assembler, and Virtuoso Schematics L/XL" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="parasimIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="parasimTOC.html">Contents</a></li><li><a class="prev" href="parasimTOC.html" title="Contents">Contents</a></li><li style="float: right;"><a class="viewPrint" href="parasim.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap2.html" title="Parasitic Aware Design in ADE Explorer and ADE Assembler">Parasitic Aware Design in ADE  ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Parasitic Aware Design User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-1034311"></a></h1>
<h1>
<a id="pgfId-1034313"></a><hr />
<a id="53702"></a>Parasitic Aware Design in Virtuoso ADE Explorer, Virtuoso ADE Assembler, and Virtuoso Schematics L/XL<hr />
</h1>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1118297"></a>
<em>Virtuoso Parasitic Aware Design</em> (also previously known as MSPS and <em>Virtuoso Parasitic Simulation</em>) has been renamed <em>Virtuoso Parasitic Aware Design </em>from the IC6.1.2 release.</div>

<p>
<a id="pgfId-1118298"></a>This topic describes how to use Cadence<sup>&#174;</sup> tools to investigate the effects of parasitics on circuits using Virtuoso<sup>&#174;</sup> Parasitic Aware Design in the analog design simulation environments (ADE Explorer and ADE Assembler) and Virtuoso<sup>&#174;</sup> Schematic Editor (Schematics L/XL) applications.</p>

<h2>
<a id="pgfId-1118289"></a>From the IC6.1.1 release, the availability of parasitic aware design functionality differs depending upon the software you access it from. </h2>
<h3>
<a id="pgfId-1118377"></a>Licensing Requirements</h3>

<p>
<a id="pgfId-1118378"></a>You do not need any additional license to run Virtuoso Parasitic Aware Design from Schematic L, or Schematic XL, ADE Explorer, or ADE Assembler. The license already checked out by these products is used.</p>
<p>
<a id="pgfId-1118380"></a>For information about licensing in the Virtuoso Studio design environment, see <em><a actuate="user" class="URL" href="../dfIIconfig/dfIIconfigTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Software Licensing and Configuration Guide</a></em>.</p>

<h2>
<a id="pgfId-1045935"></a>Introducing Parasitic Aware Design in ADE Explorer, ADE Assembler and Schematics L/XL</h2>

<p>
<a id="pgfId-1051346"></a>You can access parasitic aware design functionality through the following applications:</p>
<ul><li>
<a id="pgfId-1048229"></a>Virtuoso&#174; ADE Explorer</li><li>
<a id="pgfId-1057502"></a>Virtuoso&#174; ADE Assembler</li><li>
<a id="pgfId-1060053"></a>Virtuoso Layout Suite XL</li><li>
<a id="pgfId-1048242"></a>Virtuoso Schematic Editor (Schematics L/XL)</li><li>
<a id="pgfId-1048230"></a>Virtuoso Specification-driven Environment (SdE)</li><li>
<a id="pgfId-1048233"></a>Virtuoso AMS Simulator (AMS)</li></ul>





<p>
<a id="pgfId-1045967"></a>This chapter discusses parasitic aware design functionality available in ADE Explorer, ADE Assembler and Schematics L/XL. It describes how to setup parasitics, display parasitics, and generate parasitic reports for your design.</p>
<p>
<a id="pgfId-1048131"></a>This chapter contains sections on the following:</p>
<ul><li>
<a id="pgfId-1049342"></a><a href="chap1.html#51504">Analog Design Flow Supported by Parasitic Aware Design</a></li><li>
<a id="pgfId-1060094"></a><a href="chap1.html#99219">Views Supported by Parasitic Aware Design</a></li><li>
<a id="pgfId-1079222"></a><a href="chap1.html#87052">Accessing Parasitic Aware Design Functionality in Virtuoso Layout Suite XL/GXL</a></li><li>
<a id="pgfId-1064955"></a><a href="chap1.html#23998">Smart-Parasitics Menu</a><ul><li>
<a id="pgfId-1064962"></a><a href="chap1.html#46808">Smart-Parasitics &#8211; Display Parasitics</a></li><li>
<a id="pgfId-1064972"></a><a href="chap1.html#63279">Smart-Parasitics &#8211; Clear Parasitics</a></li><li>
<a id="pgfId-1064986"></a><a href="chap1.html#30983">Smart-Parasitics &#8211; Overlay Layout</a></li></ul></li><li>
<a id="pgfId-1080040"></a><a href="chap1.html#69602">Accessing Smart View in ADE</a></li><li>
<a id="pgfId-1090117"></a><a href="chap1.html#15190">Accessing Parasitic Aware Design Functionality in ADE Explorer, ADE Assembler and Schematics L/XL</a></li><li>
<a id="pgfId-1049346"></a><a href="chap1.html#65892">Parasitics Menu</a><ul><li>
<a id="pgfId-1049360"></a><a href="chap1.html#34937">Parasitics &#8211; Set Up</a></li><li>
<a id="pgfId-1049364"></a><a href="chap1.html#31032">Parasitics &#8211; Options</a></li><li>
<a id="pgfId-1052804"></a><a href="chap1.html#39000">Parasitics &#8211; Parametric Variables</a></li><li>
<a id="pgfId-1049368"></a><a href="chap1.html#34712">Parasitics &#8211; Show/Hide Parasitics</a></li><li>
<a id="pgfId-1049372"></a><a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a></li><li>
<a id="pgfId-1049376"></a><a href="chap1.html#60698">Parasitics &#8211; Refine Extracted View</a></li><li>
<a id="pgfId-1049381"></a><a href="chap1.html#25726">Parasitics &#8211; Probe Design Inst/Net</a></li></ul></li><li>
<a id="pgfId-1077643"></a><a href="chap1.html#88808">Probing Out-Of-Context and In-Context</a><ul><li>
<a id="pgfId-1077691"></a><a href="chap1.html#57234">Out-Of-Context Probing</a></li><li>
<a id="pgfId-1077743"></a><a href="chap1.html#16124">In-Context Probing</a></li></ul></li><li>
<a id="pgfId-1049352"></a><a href="chap1.html#81080">An Analog Simulation Flow using PVS</a><ul><li>
<a id="pgfId-1049385"></a><a href="chap1.html#58015">Preparing Cell Libraries</a></li><li>
<a id="pgfId-1049405"></a><a href="chap1.html#74288">Creating an Analog Extracted View</a></li><li>
<a id="pgfId-1049409"></a><a href="chap1.html#25063">Backannotating Parasitic Values</a></li><li>
<a id="pgfId-1049413"></a><a href="chap1.html#30129">Performing Backannotation</a></li><li>
<a id="pgfId-1049417"></a><a href="chap1.html#64278">Reporting and Probing Parasitic Values</a></li><li>
<a id="pgfId-1049421"></a><a href="chap1.html#61573">Creating a Configuration</a></li><li>
<a id="pgfId-1054945"></a><a href="chap1.html#18310">Simulating the Design in ADE Explorer</a></li></ul></li></ul>




























<h2>
<a id="pgfId-1054948"></a><a id="51504"></a>Analog Design Flow Supported by Parasitic Aware Design</h2>

<p>
<a id="pgfId-1049592"></a>The following information outlines a typical analog design flow supported by parasitic aware design:</p>

<p>
<a id="pgfId-1060008"></a></p>
<table class="webflareTable" id="#id1060666">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1049790">
<a id="pgfId-1049790"></a>Summary Action</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1049792">
<a id="pgfId-1049792"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049832"></a>Create a Schematic View </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049675"></a>The analog designer creates a schematic design using the Virtuoso Schematic Editor. The result of this is the generation of a schematic view.</p>
<p>
<a id="pgfId-1052153"></a>The designer would then simulate the schematic view using the Virtuoso Analog Design Environment (as a front-end to the Spectre or UltraSim simulators)</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1049676"></a>This schematic contains discrete components and values that the designer will require to achieve desired performance levels.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049834"></a>Create a <br />Layout View</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049680"></a>The schematic design is then laid out on silicon. This is done either manually using the Virtuoso Layout Suite L, and referencing the schematic view, or it can be auto-assisted using Virtuoso Layout Suite XL. The result of this is the generation of a layout view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049835"></a>Use PVS</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049685"></a>PVS (Physical Verification Schematic) performs LVS (Layout Versus Schematics) and confirms that the layout view accurately corresponds to the schematic view. </p>
<p>
<a id="pgfId-1049855"></a>Generally, the LVS result must be &#8220;clean&#8221; before you can proceed to the next stage.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049845"></a>Use Quantus </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049705"></a>Quantus (Resistance / Capacitance and Inductance Extraction) establishes all the extra, non-designed, parasitic components that result from the physical layout. This includes, for example: </p>

<ul><li>
<a id="pgfId-1049864"></a>The resistances (R) that arise from the lengths, widths and resistivity of metal or polysilicon, as well as vias, used to implement connecting wires on silicon.</li><li>
<a id="pgfId-1049865"></a>The capacitances (C) between these connecting wires and power or ground supply planes, or between the connecting wires and adjacent wires that are crossed on neighboring layers.</li><li>
<a id="pgfId-1049872"></a>The inductance (L) and mutual inductance that arises because of the coupling between wires.</li></ul>


<p>
<a id="pgfId-1049878"></a>Quantus creates a parasitic netlist that can be output in one of the following formats:</p>
<ol><li>
<a id="pgfId-1081887"></a>SPICE netlist variant (DSPF), which cannot be processed by parasitic aware design</li><li>
<a id="pgfId-1081903"></a>Extracted view</li><li>
<a id="pgfId-1081910"></a>Smart view.</li></ol>


<p>
<a id="pgfId-1061384"></a>For more information, see <a href="chap1.html#99219">Views Supported by Parasitic Aware Design</a>.</p>

<p>
<a id="pgfId-1081970"></a>Use of Quantus also provides the designer with feedback on the modified parasitic values and their impact on the performance.</p>
<p>
<a id="pgfId-1049967"></a>See also the <em>Quantus QRC Extraction Users Manual.</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049898"></a>Use Parasitic Aware Design - Parasitic Probing</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049897"></a>A key parasitic aware design function is parasitic probing.</p>
<p>
<a id="pgfId-1050560"></a>Here, a designer can open a schematic view, provide parasitic aware design details of the associated extracted view, and then probe (report on) nets on the schematic. This will generate summary (report) information on the parasitics (for example, parasitics for a net, parasitics between two terminals of a net, or the parasitics between two nets).</p>
<p>
<a id="pgfId-1049976"></a>For more information see <a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049911"></a>Use Parasitic Aware Design - Parasitic Backannotation </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049910"></a>A further key parasitic aware design function is to provide parasitic backannotation.</p>
<p>
<a id="pgfId-1050566"></a>Backannotation involves annotating each net on the schematic with summary information about the parasitics associated with the net.</p>
<p>
<a id="pgfId-1049980"></a>For more information see <a href="chap1.html#34712">Parasitics &#8211; Show/Hide Parasitics</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049917"></a>Use Parasitic Aware Design - Parasitic Refinement</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049912"></a>Another key function is called parasitic refinement.</p>
<p>
<a id="pgfId-1050567"></a>An extracted view can contain thousands of parasitics that can have a dramatic impact on analog simulation of the laid out design. Refinement allows a designer to specify which net parasitics are considered significant and to create a new version of the extracted view only containing these.</p>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1050572"></a>
This generates the refined extracted view which is given the default name <code>av_analog_extracted</code>.</div>
<p>
<a id="pgfId-1049984"></a>For more information see <a href="chap1.html#60698">Parasitics &#8211; Refine Extracted View</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049919"></a>Using the Analog Design Environment for Post Layout Simulation</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049918"></a>Post layout simulation allows a designer to explore the parasitic impact on design performance.</p>
<p>
<a id="pgfId-1049933"></a>A testbench schematic is created containing instances of the design. A <em>configuration</em> is created (in the Cadence Hierarchy Editor) specifying which view should be used when simulating the design instances, for example <em>schematic</em>, <em>av_extracted</em>, or <em>av_analog_extracted</em>. Once again, Spectre or UltraSim can be used via the Analog Design Environment. </p>
<p>
<a id="pgfId-1049988"></a>For more information see <a href="chap1.html#18310">Simulating the Design in ADE Explorer</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049854"></a>Use Parasitic Aware Design - out-of-context Probing</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049765"></a>Once simulation has completed you may want to monitor the signals at certain points. Another key parasitic aware design function is therefore to allow you to descend from the testbench schematic into the schematic view of the design instance (even though the extracted/refined view was simulated).</p>
<p>
<a id="pgfId-1049959"></a>When in this schematic view, the designer is said to be &#8220;out-of-context&#8221;. The Analog Design Environment allows a designer to perform out-of-context probing on the schematic, and parasitic aware design handles the mapping between the points probed on the schematic and the equivalent points in the much more complex netlist with parasitics.</p>
<p>
<a id="pgfId-1049992"></a>For more information see <a href="chap1.html#57234">Out-Of-Context Probing</a>.</p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1060436"></a><a id="99219"></a>Views Supported by Parasitic Aware Design</h2>

<p>
<a id="pgfId-1061458"></a>Parasitic aware design features are used to analyze the effect of parasitic devices on a circuit. Once the physical design is complete, you can create an <a href="chap1.html#38328">Extracted View</a> or a <a href="chap1.html#29507">Smart View</a> using Quantus to support parasitic simulation. In ADE, parasitic aware design supports the following views for parasitic extraction: </p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1060438"></a>Extracted View</li><li>
<a id="pgfId-1060439"></a>Smart View</li></ul></li></ul>


<h3>
<a id="pgfId-1061437"></a><a id="38328"></a>Extracted View</h3>

<p>
<a id="pgfId-1090541"></a>The Extracted View is a graphical representation of the parasitic netlist that is used to debug circuits, and to verify and simulate post-layout designs. </p>
<p>
<a id="pgfId-1090542"></a>Quantus QRC creates a parasitic netlist that can be output as a SPICE netlist variant (DSPF), which cannot be processed by parasitic aware design, or as an extracted view.</p>
<p>
<a id="pgfId-1090543"></a>The extracted view typically includes parasitic components that are standard parasitic components from a given library (typically called &#8220;<code>pres</code>&#8221;, &#8220;<code>pcap</code>&#8221;, &#8220;<code>pind</code>&#8221;, and &#8220;<code>pmind</code>&#8221;).</p>
<p>
<a id="pgfId-1049895"></a>A typical schematic design might contain, for example, 50 design elements, but the extracted view could contain many thousands of parasitic elements. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1049896"></a>
The Quantus QRC extracted view is given the default view name av_extracted.</div>
<h3>
<a id="pgfId-1091648"></a><a id="SmartView"></a><a id="29507"></a><a id="SmartView"></a><a id="28900"></a>Smart View</h3>

<p>
<a id="pgfId-1091649"></a>The Smart View is an enhanced version of the extracted view. It provides the same functionality as the Extracted View, but with a few <h-hot><a actuate="user" class="URL" href="../parasim/chap1.html#limitations" show="replace" xml:link="simple">limitations</a></h-hot>. It uses a highly efficient and scalable storage mechanism and stores parasitic elements in a compact data structure. Because of this improved storage scheme, the Smart View can manage larger, more complex designs and advanced nodes with a reduced overall extraction run time and netlist size. Consequently, netlist generation is faster in Virtuoso ADE when you are using the Smart View.</p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1091651"></a>The Smart View is given the default view name smart_view. </div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1091652"></a>
The Smart View is supported only in Quantus version 18.2 or higher. </div>
<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1091834"></a>
If you need to create a copy of a Smart View, choose <em>Library Manager &#8211; Edit&#8211; </em><em>Copy</em>. In the <em>Copy View</em> form, select the <em>Update Instances</em> check box to ensure that data integrity is maintained.
</div>
<div class="webflare-div-image">
<img width="592" height="475" src="images/chap1-4.gif" /></div>

<p>
<a id="pgfId-1091653"></a>For more information, see:</p>
<ul><li>
<a id="pgfId-1091657"></a><a href="chap1.html#54966">Benefits of Smart View</a></li><li>
<a id="pgfId-1091661"></a><a href="chap1.html#11503">Known Limitations of Using Smart View</a></li><li>
<a id="pgfId-1091665"></a><a href="chap1.html#30081">Features Supported in the Smart View Flow</a></li><li>
<a id="pgfId-1098210"></a><a href="chap1.html#84670">Prefixes in Instance Names in the DSPF File</a></li></ul>




<h4>
<a id="pgfId-1091667"></a><a id="54966"></a>Benefits of Smart View<a id="benefits"></a></h4>

<p>
<a id="pgfId-1091668"></a>The Smart View offers the following benefits during parasitic extraction:</p>
<ul><li>
<a id="pgfId-1091669"></a>Delivers the fastest path to post-layout verification and simulation with the following performance improvements: <ul><li>
<a id="pgfId-1091670"></a>Up to two times faster than extracted view.</li><li>
<a id="pgfId-1091671"></a>Up to five times smaller netlist size than extracted view.</li><li>
<a id="pgfId-1091672"></a>Up to three times faster Virtuoso ADE netlisting turnaround time.</li></ul></li><li>
<a id="pgfId-1091673"></a>Provides same usability and integration in Virtuoso and Virtuoso ADE platforms.</li><li>
<a id="pgfId-1091674"></a>Provides key post-layout simulation verification functionality, such as in-context cross-probing and back annotation.</li><li>
<a id="pgfId-1091675"></a>Uses DSPF file format output to allow direct support for Fast SPICE tools like Spectre XPS.</li><li>
<a id="pgfId-1091676"></a>Enables faster verification and simulation run times with Spectre APS and Spectre XPS.</li><li>
<a id="pgfId-1097834"></a>E<a id="supportHRCX"></a>nables the hierarchical extraction flow in Virtuoso ADE platform.</li><li>
<a id="pgfId-1097835"></a>Enables reporting of inductance and mutual inductance values in the netlist. </li><li>
<a id="pgfId-1091679"></a>Requires no additional foundry enablement to support files such as .<code>trp</code> or <code>icellmap</code>.</li></ul>











<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1091698"></a>
For a video overview of Smart View, see <em><a href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009EU3vUAG"></a></em>Using Smart View in the ADE Flow on Cadence Online Support. Also read a blog related to this at <a actuate="user" class="URL" href="https://community.cadence.com/cadence_blogs_8/b/cic/posts/virtuosity-a-smart-extracted-view" show="replace" xml:link="simple">Virtuosity: A Smart Extracted View</a>. </div>
<h4>
<a id="pgfId-1091682"></a><a id="11503"></a>Known <a id="limitations"></a>Limitations of Using Smart View </h4>

<p>
<a id="pgfId-1091683"></a>Smart view output format does not support the following flows or extraction features: </p>
<ul><li>
<a id="pgfId-1117590"></a> Parasitic Estimates </li><li>
<a id="pgfId-1117591"></a> Parasitic Filters </li><li>
<a id="pgfId-1117592"></a> SNA substrate extraction </li><li>
<a id="pgfId-1117593"></a> Wide band inductance model </li><li>
<a id="pgfId-1117594"></a> Third-party simulator support</li><li>
<a id="pgfId-1117595"></a> Multi-corner extraction for AMS </li></ul>





<p>
<a id="pgfId-1117679"></a>For more information on extracted view and Smart View, see the <em>Quantus QRC Extraction User Manual</em>. </p>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1091696"></a>
For a video overview of Smart View, see <em><a href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009EU3vUAG"></a></em>Using Smart View in the ADE Flow on Cadence Online Support. Also read a blog related to this at <a actuate="user" class="URL" href="https://community.cadence.com/cadence_blogs_8/b/cic/posts/virtuosity-a-smart-extracted-view" show="replace" xml:link="simple">Virtuosity: A Smart Extracted View</a>. </div>
<h4>
<a id="pgfId-1091701"></a><a id="30081"></a>Features Supported in the Smart View Flow</h4>

<p>
<a id="pgfId-1091702"></a>To know about the additional features or flows supported in the Smart View flow, see the following sections: </p>
<ul><li>
<a id="pgfId-1091706"></a><a href="chap1.html#89275">DSPF Support</a></li><li>
<a id="pgfId-1091710"></a><a href="chap1.html#37467">Multi-process Corner Support</a></li><li>
<a id="pgfId-1091714"></a><a href="chap1.html#90898">Resistor Bounding-box Support</a></li></ul>



<h4><em>
<a id="pgfId-1091717"></a><a id="89275"></a>DSP<a id="smartViewDSPF"></a>F Support</em></h4>

<p>
<a id="pgfId-1098138"></a>The netlist generated for the Smart View is saved in the DSPF format. By default, this DSPF file is saved in <code>./simulation/&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>Lib</em></span><code>&gt;/&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>Cell</em></span><code>&gt;/&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>View</em></span><code>&gt;/results/maestro/SmartViewDSPF/.tmpADEDir_&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>login</em></span><code>&gt;/&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>lib_cell_view</em></span><code>&gt;/&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>subckt</em></span><code>&gt;.dspf</code>.</p>
<p>
<a id="pgfId-1119125"></a>The syntax of the netlist matches the SPF standards for connections. This means that the name of the last node in the netlist must be printed as <code>&lt;instance&gt;&lt;delimiter&gt;&lt;instance_pin&gt;</code>. </p>
<p>
<a id="pgfId-1119373"></a>Generating a netlist in compliance with the SPF standards also provides significant performance improvement by reducing the netlisting time and peak memory usage. </p>
<p>
<a id="pgfId-1119336"></a>Consider an example, where the Smart View includes the following:</p>
<ul><li>
<a id="pgfId-1119705"></a>An <code>M1</code> device </li><li>
<a id="pgfId-1119724"></a>A net <code>inm</code> containing a series of sub-nodes <code>inm#</code><span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> where <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> is an integer <br />
<a id="pgfId-1119544"></a><div class="webflare-div-image">
<img width="672" height="496" src="images/chap1-6.gif" /></div></li></ul>





<p>
<a id="pgfId-1119536"></a>Subsequently, a finger of M1 will have it its gate connected to one of these sub-nodes. </p>
<ul><li>
<a id="pgfId-1119415"></a>Earlier, the netlist would print the connections as follows:<br />
<a id="pgfId-1119416"></a><div class="webflare-div-image">
<img width="640" height="70" src="images/chap1-7.gif" /></div></li><li>
<a id="pgfId-1119419"></a>Now, the netlist prints the connections as follows:<br />
<a id="pgfId-1119420"></a><div class="webflare-div-image">
<img width="640" height="75" src="images/chap1-8.gif" /></div></li></ul>









<p>
<a id="pgfId-1119422"></a>Here, the sub-node <code>XM1_4__rcx#g</code> is related to the net <code>inm</code> by the same connection to the sub-node <code>inm#12</code>.</p>
<p>
<a id="pgfId-1098139"></a>The DSPF output must have the following <code>.ccl</code> settings:</p>
<ul><li>
<a id="pgfId-1098140"></a><code>output_setup -net_name_space schematic </code></li><li>
<a id="pgfId-1098141"></a><code>output_db</code><ul><li>
<a id="pgfId-1098142"></a><code>-include_parasitic_res_width &quot;true&quot;</code></li><li>
<a id="pgfId-1098143"></a><code>-include_parasitic_res_length &quot;true&quot;</code></li><li>
<a id="pgfId-1098144"></a><code>-include_parasitic_res_model_by_sub_conductor &quot;true&quot;</code></li><li>
<a id="pgfId-1098145"></a><code>-output_xy canonical_cap canonical_res diode mos bipolar generic parasitic_cap parasitic_res</code></li><li>
<a id="pgfId-1098146"></a><code>-add_bulk_terminal true</code></li></ul></li></ul>






<p>
<a id="pgfId-1118769"></a>If the Smart View has been extracted using the following command, the OA database contains bounding box information for that instance:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1118847"></a><code>output_db&#160;&#160;-include_instance_bounding_box &quot;true&quot;</code> </pre>

<p>
<a id="pgfId-1118856"></a>Therefore, when Virtuoso ADE netlists the DSPF, the instance section also includes the bounding box information as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1118771"></a></pre>
<div class="webflare-div-image">
<img width="669" height="28" src="images/chap1-9.gif" /></div>

<p>
<a id="pgfId-1098147"></a>The DSPF file supports the QRC options. By using the QRC options, you can prevent cells from a file, or cells of a specific type from being included in the DSPF file. For example, you can specify the following QRC options: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1098148"></a>-parasitic_blocking_device_cells_file<br />-parasitic_blocking_device_cells_type</pre>

<p>
<a id="pgfId-1098149"></a>For more details on the DSPF format, see the <em>Quantus QRC Extraction User Manual</em></p>
<p>
<a id="pgfId-1098150"></a>You can specify a new location to save the DSPF file by using the environment variable <a href="../anasimhelp/appA.html#smartViewDSPFDirectory">smartViewDSPFDirectory</a>. Saving the DSPF file to the specified location allows it to be shared by every run instead of copying it for each run. </p>
<p>
<a id="pgfId-1098152"></a>The number of parasitic resistors may be higher when you use Smart View, as compared to when you use the extracted view. This is because Smart View uses DSPF, and unlike SPICE, DSPF does not support abutment connections between <code>M1.s</code> and <code>M2.d</code> without a resistor. Additional resistors in the Smart View connect two device pins. These resistors are located on layers such as <code>mwires</code>, <code>dwires</code>, <code>rwires</code>, <code>bwires</code>, and more, and their values are <code>0.001</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1095205"></a>By setting the environment variable <code>&quot;spectre.envOpts&quot; &quot;case_sensitive&quot;</code><a id="../Explorer/appA.html#case_sensitive_spectre"></a> to <code>true</code> in the  <code>.cdsinit</code> file and re-netlisting, the Smart View automatically enables case sensitivity in the regenerated netlist and adds <code>case_sensitive = true</code> in the <code>dspf_include</code> statement.</div>
<p>
<a id="pgfId-1121978"></a>The DSPF generated by Virtuoso ADE relies on parameters being defined in the simulation information section of the Edit CDF form. If parameters are missing from this section, the results from EM/IR simulations might be inconsistent. However, timing simulations are not affected. For example, the netlist generated by ADE Assembler might contain the following statement:</p>
<p>
<a id="pgfId-1121980"></a><code>XR0[1] net1#1 net2#2 GND#2 RES1 semiResL=1.4 w=99 + multFactor=1 semiResHeadNum=1 _par0=&quot;RES1&quot; $x==2 + $y=3</code></p>
<p>
<a id="pgfId-1120596"></a>Observe that since the simulation information section in the Edit CDF form does not contain the parameter <code>l</code>, it is not netlisted in the DSPF generated for the Smart View. This is because the resistor RES1 is a pcell and the parameter <code>l</code> is not referenced in the lower hierarchy, and this is why it is not used for the instance XR0[1]. </p>
<p>
<a id="pgfId-1120599"></a>To ensure that the <code>l</code> parameter is added to the netlist, add the following SKILL flag in the simrc file before netlisting: </p>
<p>
<a id="pgfId-1120600"></a><code>nlCustomHierEmirParamList&#160;&#160;= &#39;list(list(&quot;RES1&quot; list(&quot;l&quot;)))</code></p>
<p>
<a id="pgfId-1121611"></a>This flag requires arguments in a format of <code>list(list(model list(params))</code>.</p>
<p>
<a id="pgfId-1120602"></a>When this SKILL flag is set, the netlist will print the following statement for resistor RES1: </p>
<p>
<a id="pgfId-1121909"></a><code>XR0[1] net1#1 net2#2 GND#2 RES1 semiResL=1.4 w=99 + multFactor=1 semiResHeadNum=1 _par0=&quot;RES1&quot; l=1.4&#160;&#160;$x==2 + $y=3</code></p>
<p>
<a id="pgfId-1119057"></a><code>dspf_include</code> provides special features for reading the DSPF format data, for example, port order adjustments, or handling of duplicated subcircuits. Ensure that you do not use the <code>include</code> or <code>.include</code> commands to read the DSPF format data because these commands do not have the special functions that the <code>dspf_include</code> or <code>.dspf_include</code> command provides.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119058"></a>Setting the <code>.simrc</code> variable <code>hnlMaxLineLength</code> does not affect the <code>dspf_include</code> links in the input.scs file.</div>

<h4><em>
<a id="pgfId-1119059"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1119061"></a><h-hot><a actuate="user" class="URL" href="../ncveruser/chap5.html#hnlMaxLineLength" show="replace" xml:link="simple">hnlMaxLineLength</a></h-hot></p>
<p>
<a id="pgfId-1119063"></a>Port Order Handling in <h-hot><a actuate="user" class="URL" href="../spectreuser/chap13.html#firstpage" show="replace" xml:link="simple">Running a Simulation</a></h-hot> </p>

<h4><em>
<a id="pgfId-1091723"></a><a id="37467"></a>Multi-pro<a id="supportMPC"></a>cess Corner Support</em></h4>

<p>
<a id="pgfId-1093287"></a>If you use a design block that is bound to a Smart View that contains multi-process corners (MPCs), you must set the environment variable <a href="../parasim/appEnvVar.html#autoSyncMPC">autoSyncMPC</a> to <code>t</code>. These multi-process corners are assigned a variable name in the format &lt;<span class="webflare-courier-new" style="white-space:pre"><em>ViewName_extractionCorner</em></span>&gt;. The <code>maestro</code> cellview displays these multi-process corners as a design variable. </p>
<p>
<a id="pgfId-1091728"></a>There may be a degradation in performance when this environment variable is set, and you open a cellview that contains multi-process corners. By default, the environment variable is set to <code>nil</code>. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1101693"></a>
Creating a <code>maestro</code> view from a <code>config</code> file sets the AMS simulator as the default simulator. Changing the simulator to Spectre might not update the MPC variables as expected. To allow <a href="../parasim/appEnvVar.html#autoSyncMPC">autoSyncMPC</a> to automatically sync the MPC variables, it is recommended that you create a <code>maestro</code> view using the schematic and bind it to the config view.</div>
<h4><em>
<a id="pgfId-1091731"></a><a id="90898"></a>Resist<a id="supportResistorBBox"></a>or Bounding-box Support</em></h4>

<p>
<a id="pgfId-1091732"></a>To view multiple resistor bounding box components in the DSPF file generated for a Smart View, ensure the following: </p>
<ul><li>
<a id="pgfId-1091733"></a>The design must have bends or U-shape routing. </li><li>
<a id="pgfId-1091734"></a>The Smart View must have the following <code>.ccl</code> setting:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1091735">
<a id="pgfId-1091735"></a><code>-include_parasitic_res_conductor_bounding_box &quot;Multiple&quot;</code> </pre></li><li>
<a id="pgfId-1091736"></a>If the <code>.ccl</code> setting is included but the bounding box components are not visible in the generated DSPF file, it is possible that the design does not contain the components or the design is not appropriate. In such a case, choose a different design and regenerate the Smart View. <br />
<a id="pgfId-1091737"></a>The following example shows the resistor bounding box components (such as <code>llx1</code>, <code>lly1</code>, <code>urx1</code>, <code>ury1</code>, and others) in the generated DSPF file:<pre class="webflare-pre-block webflare-courier-new" id="#id1091738">
<a id="pgfId-1091738"></a>r_2_11276 11#a1 12#a1 0.0183713 $metal1_conn $lvl=3 $l=0.03 $w=0.1 $llx1=6.9 $lly1=19.2045 $urx1=6.98 $ury1=19.205 $llx2=0.05</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1091739">
<a id="pgfId-1091739"></a>$lly2=19.205 $urx2=573994 $ury2=16.3835 $llx3=0.008 $lly3=0 $urx3=6.97 $ury3=19.235 $x=6.94 $y=19.2195</pre></li></ul>






<p>
<a id="pgfId-1091718"></a>When the design contains trapezoid resistors, the generated DSPF file shows the details in the following format: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1093482"></a>r_11_141451 138#net021 139#net021 1.78345 $metal2_conn $lvl=10 $l=9.4395 $w=0.25 $llx1=40.145000 $lly1=39.390000 $urx1=40.225000<br />$ury1=39.640000 $llx2=31.520000 $lly2=39.390000 $urx2=40.145000 $ury2=39.640000 $llx3=31.270000 $lly3=39.390000 $urx3=31.520000<br />$ury3=39.640000 $llx4=31.270000 $lly4=39.640000 $urx4=31.520000 $ury4=39.825000 $llx5=31.270000 $lly5=39.825000 $urx5=31.520000<br />$ury5=39.920000 $llx6=31.190000 $lly6=39.920000 $urx6=31.270000 $ury6=40.155000 $llx7=31.270000 $lly7=39.920000 $urx7=31.300000<br />$ury7=40.155000 $llx8=31.170000 $lly8=39.905000 $urx8=31.190000 $ury8=40.155000<br />$t1=31.190000,39.905000,31.190000,39.920000,31.270000,39.920000,31.270000,39.825000<br />$t2=31.315000,39.920000,31.315000,40.140000,31.520000,39.935000,31.520000,39.920000<br />$t3=31.300000,39.920000,31.300000,40.155000,31.315000,40.140000,31.315000,39.920000 $x=35.687 $y=39.515</pre>

<p>
<a id="pgfId-1094073"></a>For more details on the DSPF format, see the <em>Quantus QRC Extraction User Manual</em>. </p>

<h4>
<a id="pgfId-1098232"></a><a id="84670"></a>Prefixes in Instance Names in the DSPF File<a id="namePrefixDSPF"></a></h4>

<p>
<a id="pgfId-1102346"></a>The device names in a DSPF file generated during Smart View netlisting may not have the prefix required by the simulator to understand their types. Therefore, the tool needs to add a prefix to such devices. For example, a user-defined capacitor, <code>R1</code>, will require a prefix <code>C</code> so that the simulator can consider it a capacitor.</p>
<p>
<a id="pgfId-1109119"></a>To set naming prefixes for devices, choose one of the following methods:</p>
<ul><li>
<a id="pgfId-1109289"></a>Use the default flow. In this case, no environment variables are set.The prefixes are applied as follows:<ul><li>
<a id="pgfId-1113485"></a>If the <code>namePrefix</code> is the same as the first character of the device name, the netlister does not add a prefix to the instance name in the netlist. </li><li>
<a id="pgfId-1113558"></a>If the <code>namePrefix</code> is not the same as the first character of the device name, the netlister adds the <code>namePrefix</code> value to the instance name in the netlist. </li></ul><br />
<a id="pgfId-1116058"></a>This prefix is determined by the <code>namePrefix</code> property defined in the <em>Simulation Information</em> section of the Edit CDF form.<br />
<a id="pgfId-1116062"></a><div class="webflare-div-image">
<img width="634" height="393" src="images/chap1-10.gif" /></div>
<a id="pgfId-1116094"></a>For example, the <code>ind</code> device is netlisted in the DSPF with the <code>L</code> prefix, when the simulator used is <em>auCdl</em>, <em>auLvs</em>, or <em>hspiceD</em>. <br />
<a id="pgfId-1115827"></a>Typically, the Edit CDF form does not have any <code>namePrefix</code> settings for <em>ams</em> and spectre simulator. In such cases, the simulation fails due to the lack of correct prefixes. </li><li>
<a id="pgfId-1117095"></a>Set the <a actuate="user" class="URL" href="../assembler/appEnvVars.html#dspfNamePrefixSimInfo" show="replace" xml:link="simple">dspfNamePrefixSimInfo</a> environment variable to the name of the simulator whose setting you want to use. For example, against the <em>auCdl</em> simulator, the <code>namePrefix</code> property for a device is set to <code>R</code>. By default, this property will ensure that all resistor devices have the <code>R</code> prefix. However, instead you want to use <code>RX</code>, which is the <code>namePrefix</code> for <em>hspiceD</em>. In this case, set the <code>dspfNamePrefixSimInfo</code> variable to <code>hspiceD</code>. With this setting, the netlister ignores the <code>namePrefix</code> value set for <em>auCdl</em> and uses the prefix specified for <em>hspiceD</em>. In this case, <a actuate="user" class="URL" href="../assembler/appEnvVars.html#useSelfCDFInPostLayoutNetlist" show="replace" xml:link="simple">useSelfCDFInPostLayoutNetlist</a> is ignored. <br />
<a id="pgfId-1117097"></a>Consider that you have resistors in the netlist as shown below:<pre class="webflare-pre-block webflare-courier-new" id="#id1117098">
<a id="pgfId-1117098"></a>R1@2 (net1#1 net02#2 gnd#1 ) resistor l=3.5e-06 wr=8e-07 + multi=(1) $x=62.422 $y=32.544</pre>
<a id="pgfId-1116142"></a>To netlist this correctly with an <code>X</code> prefix, set <code>dspfNamePrefixSimInfo</code> to <em>auCdl</em> because the <code>namePrefix</code> for <em>auCdl</em> is <code>X</code>.<br />
<a id="pgfId-1116146"></a><div class="webflare-div-image">
<img width="634" height="387" src="images/chap1-11.gif" /></div><pre class="webflare-pre-block webflare-courier-new" id="#id1117144">
<a id="pgfId-1117144"></a>XR1@2 (net1#1 net02#2 gnd#1 ) resistor l=3.5e-06 wr=8e-07 + multi=(1) $x=62.422 $y=32.544</pre>
<a id="pgfId-1116148"></a>This is applicable in cases when the <em>auCdl</em> prefix is not the same as the first character of the device name.</li><li>
<a id="pgfId-1109427"></a>Use the <a actuate="user" class="URL" href="../assembler/appEnvVars.html#useSelfCDFInPostLayoutNetlist" show="replace" xml:link="simple">useSelfCDFInPostLayoutNetlist</a> environment variable to specify the list of simulators from which the simulation-specific CDF properties are to be used to apply name prefixes to devices. In this case, <a actuate="user" class="URL" href="../assembler/appEnvVars.html#dspfNamePrefixSimInfo" show="replace" xml:link="simple">dspfNamePrefixSimInfo</a> must not be set. <br />
<a id="pgfId-1114127"></a>If the <code>useSelfCDFInPostLayoutNetlist</code> environment variable is set to include your current simulator, which is usually <em>spectre</em>, the <code>namePrefix</code> value from the <em>Simulation Information</em> section of the Edit CDF form for the <em>spectre</em> simulator is used after considering the following rules:<ul><li>
<a id="pgfId-1114403"></a>If the <code>namePrefix</code> is the same as the first character of the device name, the netlister does not add a prefix to the instance name in the netlist. </li><li>
<a id="pgfId-1114425"></a>If the <code>namePrefix</code> is not the same as the first character of the device name, the netlister adds the <code>namePrefix</code> value to the instance name in the netlist. </li><li>
<a id="pgfId-1114450"></a>If the <code>namePrefix</code> is not specified, the netlister adds the prefix <code>X</code> to the instance name in the netlist. </li></ul><br />
<a id="pgfId-1114442"></a>If none of the above rules are applicable, <code>useSelfCDFInPostLayoutNetlist</code> uses the <code>namePrefix</code> value set for the <em>auCdl</em> simulator in the <em>Simulation Information</em> section of the Edit CDF form. <br />
<a id="pgfId-1116309"></a>For example, when you specify the following:<pre class="webflare-pre-block webflare-courier-new" id="#id1116310">
<a id="pgfId-1116310"></a>envSetVal(&quot;maestro.simulation&quot; &quot;useSelfCDFInPostLayoutNetlist&quot; &#39;string &quot;ams hspiceD&quot;)</pre><ul><li>
<a id="pgfId-1116311"></a>If the current simulator is <code>ams</code>, the netlister will get the <code>namePrefix</code> value for <code>ams</code> from the <em>Simulation Information</em> section of the Edit CDF form. </li><li>
<a id="pgfId-1116312"></a>If the current simulator is <code>hspiceD</code>, the netlister will get the <code>namePrefix</code> value for <code>hspiceD</code> from the <em>Simulation Information</em> section of the Edit CDF form. </li><li>
<a id="pgfId-1116313"></a>If the current simulator is <code>auLvs</code>, the netlister will get the <code>namePrefix</code> value for <code>auCdl</code> from the <em>Simulation Information</em> section of the Edit CDF form. </li></ul><br />
<a id="pgfId-1116314"></a>The default is <code>&quot;&quot;</code>, which means that the <code>namePrefix</code> value from the <code>auCdl</code> simulator is used. </li></ul>
































<h4><em>
<a id="pgfId-1107846"></a>Related Topic</em></h4>

<p>
<a id="pgfId-1107867"></a><h-hot><a actuate="user" class="URL" href="../assembler/asmDSPFiles.html#namePrefixDSPFRules" show="replace" xml:link="simple">Rules for Adding Prefixes to Instance Names</a></h-hot> </p>
<p>
<a id="pgfId-1109640"></a><h-hot><a actuate="user" class="URL" href="../assembler/appEnvVars.html#dspfNamePrefixSimInfo" show="replace" xml:link="simple">dspfNamePrefixSimInfo</a></h-hot> </p>
<p>
<a id="pgfId-1109666"></a><h-hot><a actuate="user" class="URL" href="../assembler/appEnvVars.html#useSelfCDFInPostLayoutNetlist" show="replace" xml:link="simple">useSelfCDFInPostLayoutNetlist</a></h-hot> </p>

<h2>
<a id="pgfId-1062258"></a><a id="87052"></a>Accessing Parasitic Aware Design Functionality in Virtuoso Layout Suite XL/GXL</h2>

<p>
<a id="pgfId-1062259"></a>You can use the Smart View to view and analyze parasitic elements independent of the ADE flow. You can access parasitic aware design functionality if the current view is one of the following types:</p>
<ul><li>
<a id="pgfId-1062260"></a>a layout view</li><li>
<a id="pgfId-1068653"></a>an extracted view </li><li>
<a id="pgfId-1082379"></a>a Smart View</li><li>
<a id="pgfId-1062264"></a>a configuration view (the schematic can refer back to a configuration)</li></ul>



<p>
<a id="pgfId-1062265"></a>To use an extracted or a Smart View, you need to setup your design environment to use Quantus QRC. For more details, see <a href="chap1.html#65160">Step 2: Building an Extracted View using Cadence Quantus QRC Extraction</a>.</p>
<p>
<a id="pgfId-1079654"></a>The parasitic display using Smart View provides a visual display of the parasitic elements in the view within a user defined threshold. You can probe nodes to view the net IDs and the net names for the selected nodes. Smart view properties can be used to analyze layer and connectivity details. </p>
<p>
<a id="pgfId-1079722"></a>To access Smart View in Virtuoso Layout Suite XL/GXL, choose <em>Smart-Parasitics</em> from the Layout XL/GXL menu bar.</p>

<p>
<a id="pgfId-1062275"></a></p>
<div class="webflare-div-image">
<img src="images/layoutSVMenuBar.gif" /></div>
<p><strong>Figure 1-1
<a id="pgfId-1062276"></a>The Smart-Parasitics menu in Virtuoso Layout Suite XL/GXL</strong></p>

<p>
<a id="pgfId-1089374"></a>Important points to note:</p>
<ul><li>
<a id="pgfId-1062271"></a>The <em>Smart-Parasitics</em> menu is displayed only when you are working with a Smart View in Virtuoso Layout XL or GXL. </li><li>
<a id="pgfId-1089428"></a>In ICADVM20.1, you can use Smart View functionality in Virtuoso Layout Suite XL/EXL. </li></ul>


<h2>
<a id="pgfId-1062470"></a><a id="23998"></a>Sma<a id="SmartParasiticsMenu"></a>rt-Parasitics Menu</h2>

<p>
<a id="pgfId-1062471"></a>Selecting <em>Smart-Parasitics</em> displays the following menu options:</p>

<p>
<a id="pgfId-1062475"></a></p>
<div class="webflare-div-image">
<img src="images/SmartParasiticsMenu.gif" /></div>
<p><strong>Figure 1-2
<a id="pgfId-1062476"></a>The Smart-Parasitics menu commands</strong></p>

<p>
<a id="pgfId-1062478"></a>A summary of the <em>Smart-Parasitic</em>s menu commands is listed below:</p>
<ul><li>
<a id="pgfId-1062482"></a><a href="chap1.html#46808">Smart-Parasitics &#8211; Display Parasitics</a> displays the parasitics on the selected nets or nodes on a highlighted set in the Smart View. </li><li>
<a id="pgfId-1062487"></a><a href="chap1.html#63279">Smart-Parasitics &#8211; Clear Parasitics</a> removes the highlighted set of displayed parasitics in the Smart View. </li><li>
<a id="pgfId-1063227"></a><a href="chap1.html#30983">Smart-Parasitics &#8211; Overlay Layout</a> opens a layout view in the background while keeping the Smart View in the foreground. </li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1101484"></a>The <em>Smart-Parasitic</em>s menu is not displayed if you open a Smart View that contains multi-process corners. </div>

<h3>
<a id="pgfId-1063615"></a><a id="46808"></a>Smart-Para<a id="displayParasitics"></a>sitics &#8211; Display Parasitics</h3>

<p>
<a id="pgfId-1063617"></a>Select <em>Smart-Parasitics &#8211;</em> <em>Display Parasitics</em> to display the <em>Display Parasitics </em>form<em> </em>with<em> </em>settings related to <em>Display</em> and <em>Threshold </em>for capacitances and resistances.</p>
<p>
<a id="pgfId-1063622"></a>The values entered in this form control the threshold values of parasitics to display. Set the minimum value to 0 to display all parasitics.</p>

<div class="webflare-div-image">
<img src="images/SV_DisplayOptionsForm.gif" /></div>
<p><strong>Figure 1-3
<a id="pgfId-1063623"></a>The Display Parasitics Form</strong></p>
<p>
<a id="pgfId-1087238"></a></p>
<p>
<a id="pgfId-1082792"></a>The following table describes the fields on the <em>Display Parasitics</em> form:</p>
<table class="webflareTable" id="#id1099742">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1082741">
<a id="pgfId-1082741"></a>GUI Item</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1082743">
<a id="pgfId-1082743"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082745"></a><em>Display</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082747"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1082749">
<a id="pgfId-1082749"></a><em>- Resistance</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082751"></a>Enables or disables the display of the resistance parasitics in the smart_view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1082753">
<a id="pgfId-1082753"></a><em>- Capacitance</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082755"></a>Enables or disables the display of the capacitance parasitics in the smart_view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1098338">
<a id="pgfId-1098338"></a><em>- Inductance</em><a id="inductance"></a></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098340"></a>Enables or disables the display of the inductance parasitics in the smart_view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1090720">
<a id="pgfId-1090720"></a><em>- Node Name</em><a id="NodeName"></a></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090722"></a>Enables or disables the display of the net fragment names for parasitic nodes in the smart_view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082757"></a><em>Threshold</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082759"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1082761">
<a id="pgfId-1082761"></a>- Resistance (Ohms)</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082763"></a>Specifies the minimum and maximum threshold for resistances to be used when probing parasitics on nets.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1082765">
<a id="pgfId-1082765"></a>- Capacitance (farads)</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082767"></a>Specifies the minimum and maximum threshold for capacitances to be used when probing parasitics on nets.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1098342">
<a id="pgfId-1098342"></a>- Inductance (henry)</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098344"></a>Specifies the minimum and maximum threshold for inductances to be used when probing parasitics on nets.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1098500"></a>To display parasitics in the Smart View:</p>
<ol><li>
<a id="pgfId-1098501"></a>Open a Smart View in Virtuoso Layout Suite XL/GXL. </li><li>
<a id="pgfId-1098502"></a>Select <em>Window &#8211; Assistants &#8211; Navigator</em> to display the Navigator assistant. </li><li>
<a id="pgfId-1098503"></a>Choose <em>Nets </em>and select a net or an instance in the schematic.</li><li>
<a id="pgfId-1098504"></a>Select <em>Smart-Parasitics &#8211; Display Parasitics. </em><br />
<a id="pgfId-1098505"></a>The Display parasitics form is displayed. </li><li>
<a id="pgfId-1098506"></a>Specify the display settings and the threshold values for resistance, capacitance, and inductance. </li><li>
<a id="pgfId-1098507"></a>Click <em>OK</em>.<br />
<a id="pgfId-1098353"></a>The resistors and capacitors on the selected net are highlighted on the Smart View parasitic display. <br /><div class="webflare-div-image">
<img width="608" height="363" src="images/chap1-15.gif" /></div></li></ol>









<fn2-fig-inlist>
<p class="webflare-indent1"><strong>Figure 1-4
<a id="pgfId-1098357"></a>The Smart View after resistance and capacitance parasitics are displayed</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1098358"></a>Similarly, the inductances on the selected net are highlighted on the Smart View parasitic display.  </p>

<div class="webflare-div-image">
<img width="638" height="398" src="images/chap1-16.gif" /></div>
<fn2-fig-inlist>
<p class="webflare-indent1"><strong>Figure 1-5
<a id="pgfId-1098362"></a>The Smart View after resistance, capacitance, and inductance parasitics are displayed</strong></p>
<p class="webflare-indent1">
<a id="pgfId-1098366"></a>To change the style of inductance annotation, set the <a href="../parasim/appEnvVar.html#svInductorStyle">svInductorStyle</a> environment variable to <code>ROUND</code> or <code>SHARP</code>. </p>
<table class="webflareTable" id="#id1098367">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1098372"></a><img width="331" height="237" src="images/chap1-17.gif" /></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098517"></a>  ROUND</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098519"></a>       SHARP</p>
</td>
</tr>
</tbody></table>
<p class="webflare-indent1">
<a id="pgfId-1098379"></a>You can annotate the inductance with or without the resistors connected in series by toggling the <em>Resistance</em> option in the Display Parasitics form. </p>
<table class="webflareTable" id="#id1099689">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1098385"></a><img width="623" height="628" src="images/chap1-18.gif" /></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098389"></a>Resistance is not selected</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098391"></a>Resistance is selected</p>
</td>
</tr>
</tbody></table>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1098392"></a>The Smart View only displays self-inductance values. </div>
<p class="webflare-indent1">
<a id="pgfId-1098393"></a>By default, the Smart View does not display the names of net fragments for parasitic nodes. To display these names, select the <em>Node Name</em> option in the Display Parasitics form or set the <a href="../parasim/appEnvVar.html#svDisplayNodeName">svDisplayNodeName</a> environment variable to <code>t</code>. Alternatively, select a square on the parasitic display and choose <em>Parasitics &#8211; Probe Node</em>  </p>

<div class="webflare-div-image">
<img src="images/SV_DisplayNodeName.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1098401"></a><a id="svNodeSize"></a>The size of the parastic nodes might be small, especially in case of complex technologies. In such cases, you can use the <a href="../parasim/appEnvVar.html#svDotWidth">svDotWidth</a> environment variable to control the display size of the parasitic nodes. </p>
<table class="webflareTable" id="#id1099665">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1098410"></a><img width="623" height="308" src="images/chap1-20.gif" /></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098414"></a>svDotWidth = 100</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098416"></a>svDotWidth = 500</p>
</td>
</tr>
</tbody></table>
<p class="webflare-indent1">
<a id="pgfId-1098417"></a>If the Smart View has been generated without any layer information, a <code>Y3:drawing</code> layer is created for the parasitic nodes. This ensures that the nets can be selected directly on the parasitic display or using the <em>Direct Plot</em> command, and then added to the ADE outputs. </p>

<h3>
<a id="pgfId-1064335"></a><a id="63279"></a>Smart-Parasitics &#8211; <a id="clearParasitics"></a>Clear Parasitics</h3>

<p>
<a id="pgfId-1091148"></a>Select <em>Smart-Parasitics &#8211; Clear Parasitics</em> to remove the parasitics that are displayed by the <em>Display Parasitics</em> form. </p>

<h3>
<a id="pgfId-1064575"></a><a id="30983"></a>Smart-Parasitics &#8211; Overlay Layout</h3>

<p>
<a id="pgfId-1064571"></a>Select <em>Smart-Parasitics &#8211; Overlay Layout </em>to display the corresponding layout view in the background while keeping the Smart View in the foreground. The background layout view is displayed in a new adjacent tab. </p>
<p>
<a id="pgfId-1067519"></a>The following illustration shows a Smart View design with the parasitics displayed by selecting <em>Smart-Parasitics &#8211; Display Parasitics.<br /></em></p>

<div class="webflare-div-image">
<img src="images/SV_Display.gif" /></div>
<p><strong>Figure 1-6
<a id="pgfId-1069039"></a>The Smart View before the layout is overlaid</strong></p>

<p>
<a id="pgfId-1068258"></a>Selecting <em>Smart-Parasitics &#8211; Overlay Layout</em> displays the following view:<br /></p>

<div class="webflare-div-image">
<img width="667" height="674" src="images/chap1-22.gif" /></div>
<p><strong>Figure 1-7
<a id="pgfId-1069087"></a>The Smart View after layout is overlaid</strong></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1094285"></a>If the layout view has been modified since the Smart View creation, overlaying the layout could show inconsistencies. A dialog box appears where you can choose to continue to overlay the layout view. </div>

<h3>
<a id="pgfId-1080244"></a><a id="69602"></a>Accessing Smart View in ADE</h3>

<p>
<a id="pgfId-1080301"></a>Parasitic aware design allows you to access the Smart View feature in the ADE flow. You can display and probe parasitics, generate reports and make comparisons between the parasitic elements in the Smart View. </p>
<p>
<a id="pgfId-1088097"></a>The typical flow to use the Smart View in ADE is as follows: </p>
<ol><li>
<a id="pgfId-1080820"></a>Create the Smart View using Quantus. </li></ol>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081496"></a>Ensure that the <em>Quantus</em> setup is complete before you attempt to create the Smart View. See <a href="chap1.html#65160">Step 2: Building an Extracted View using Cadence Quantus QRC Extraction</a>.</div>
<ol><li>
<a id="pgfId-1080893"></a>Open a <code>maestro</code> cellview in ADE Assembler. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085799"></a>The design block in the schematic for this cellview should be bound to the Smart View. This can be a view or a configuration that is bound to the Smart View.</div></li><li>
<a id="pgfId-1081209"></a>Run the simulation in your ADE Assembler setup. When the simulation run completes you can select outputs and probe the design on the schematic.</li></ol>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080938"></a>Smart view functionality is available in ADE Explorer and ADE Assembler. </div>
<ol><li>
<a id="pgfId-1081018"></a>In <em>ADE Assembler &#8211; Parasitics/LDE &#8211; Setup</em> form, select the Smart View in the <em>Extracted</em> tab. </li><li>
<a id="pgfId-1081154"></a>Select the output on the Results tab.</li><li>
<a id="pgfId-1087589"></a>Right-click and choose <em>Direct Plot </em>to descend into the Smart View to probe nodes directly in the parasitic display. See <a href="chap1.html#16124">In-Context Probing</a>. </li></ol>


<p>
<a id="pgfId-1080301"></a>Using the Smart View with ADE, you can analyze the extracted parasitics and their extraction results and determine the cause of unexpected outputs. </p>

<h2>
<a id="pgfId-1049349"></a><a id="15190"></a>Accessing <a id="MSPSMenu"></a>Parasitic <a id="accessingoldmsps"></a>Aware Design Functionality in ADE Explorer, ADE Assembler and Schematics L/XL</h2>

<p>
<a id="pgfId-1048333"></a>You can access parasitic aware design functionality if the current view is:</p>
<ul><li>
<a id="pgfId-1048334"></a>a schematic view</li><li>
<a id="pgfId-1048335"></a>an extracted view<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048383"></a>Virtuoso Parasitic Aware Design supports simulation cross-probing of schematic nets even when the extracted view is used in the simulation.</div></li><li>
<a id="pgfId-1060815"></a>a Smart View</li><li>
<a id="pgfId-1046002"></a>a configuration view (the schematic can refer back to a configuration).</li></ul>




<p>
<a id="pgfId-1048353"></a>To access <em>Parasitics</em> from Schematics L/XL:</p>
<ul><li>
<a id="pgfId-1048331"></a>Select <em>Launch &#8211; Plugins &#8211; Parasitics</em> from the Schematics L/XL menu bar.<br />
<a id="pgfId-1048345"></a>This will add a <a href="chap1.html#65892">Parasitics Menu</a> to the Schematics L/XL menu bar.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050202"></a>The <em>Parasitics</em> menu is displayed by default when you are working with ADE Explorer or ADE Assembler.</div>
<a id="pgfId-1048390"></a></li></ul>




<h2>
<a id="pgfId-1046015"></a><a id="65892"></a>Para<a id="marker-1046014"></a>sitics Menu</h2>

<p>
<a id="pgfId-1046016"></a>Selecting <em>Launch &#8211; Plugins &#8211; Parasitics</em> adds a <em>Parasitics</em> menu to Schematics L/XL with the following menu options:</p>

<p>
<a id="pgfId-1046025"></a></p>
<div class="webflare-div-image">
<img src="images/610_ParasiticsMenu.gif" /></div>
<p><strong>Figure 1-8
<a id="pgfId-1046026"></a>The Parasitic menu items</strong></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046027"></a>The <em>Parasitics</em> menu is displayed by default when you are working with ADE Explorer or ADE Assembler.</div>
<p>
<a id="pgfId-1050222"></a>A summary of the <em>Parasitic</em>s menu options in Schematics L/XL is detailed below:</p>
<ul><li>
<a id="pgfId-1046031"></a><em><a href="chap1.html#34937">Parasitics &#8211; Set Up</a><em></em></em> requires that you complete the necessary schematic, extracted, or configuration details before proceeding with parasitic aware design.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048417"></a>Along with the <em>Parasitics &#8211; Options</em> menu-item, <em>Parasitics &#8211; Set Up</em> is the only menu-item initially enabled.</div></li><li>
<a id="pgfId-1046035"></a><em><a href="chap1.html#31032">Parasitics &#8211; Options</a><em></em></em> displays the Options form whose value settings determine how parasitic aware design handles certain backannotation and parasitic probing tasks.</li><li>
<a id="pgfId-1052736"></a><a href="chap1.html#39000">Parasitics &#8211; Parametric Variables</a> displays the Specify Parameters Values form which can be used to set and edit parametric values for use in parasitic simulation.</li><li>
<a id="pgfId-1046039"></a><em><a href="chap1.html#34712">Parasitics &#8211; Show/Hide Parasitics</a><em></em></em> lets you choose to turn on or off the display of parasitic values in the current schematic view. This in turn controls parasitic backannotation.</li><li>
<a id="pgfId-1046043"></a><em><a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a><em></em></em> lets you undertake parasitic reporting on a selection of nets and terminals.</li><li>
<a id="pgfId-1046047"></a><em><a href="chap1.html#60698">Parasitics &#8211; Refine Extracted View</a><em></em></em> can be used to generate a refined extracted view that can be used for circuit simulation.</li><li>
<a id="pgfId-1046051"></a><em><a href="chap1.html#25726">Parasitics &#8211; Probe Design Inst/Net</a><em></em></em> can be selected to probe a design instance or net, from the current schematic view, to extracted instances in the extracted view, or vice versa.</li></ul>








<h3>
<a id="pgfId-1046058"></a><a id="34937"></a>P<a id="parasiticsSetup"></a>arasitics &#8211; Set Up</h3>

<p>
<a id="pgfId-1046060"></a>When parasitic aware design is enabled only the <em>Set Up</em> and <em>Options</em> menu options are available.</p>
<ul><li>
<a id="pgfId-1046061"></a>If you access <em>Parasitics &#8211; Setup</em> from a schematic or extracted cellview you will have to complete the required <em>Schematic Cellview</em> or <em>Extracted Cellview</em> sections in the Setup form before you can continue to use parasitic aware design functionality (see <a href="chap1.html#97692">Parasitics Set Up for Schematic and Extracted Views</a>).</li><li>
<a id="pgfId-1048572"></a>If you access <em>Parasitics &#8211; Setup </em>from a top level configuration, or after you descend into a sub-block of the configuration, you will have to complete the required <em>Config Cellview </em>or <em>Simulation Data </em>sections in the Setup form before you can continue to use parasitic aware design functionality (see <a href="chap1.html#53969">Parasitics Set Up for Configuration Views</a>).</li></ul>


<h4>
<a id="pgfId-1048575"></a>Select<a id="marker-1048573"></a>ing C<a id="marker-1048574"></a>ellviews to use with Parasitic Aware Design</h4>

<p>
<a id="pgfId-1048576"></a>You will not be able to proceed with parasitic functionality until either the schematic and extracted cellviews have been entered correctly, or a configuration view and simulation results have been chosen.</p>
<p>
<a id="pgfId-1048564"></a>You can specify a cellview to use as follows:</p>
<ul><li>
<a id="pgfId-1048565"></a>By clicking on the <em>Browse</em> button on the Parasitics Setup form and locating the view in the Library Browser form.</li><li>
<a id="pgfId-1048566"></a>By choosing the <em>Select by Cursor</em> option and then clicking on the relevant view.</li><li>
<a id="pgfId-1048652"></a>By selecting the view from the appropriate form fields.</li></ul>



<h4>
<a id="pgfId-1048702"></a>Initial Parasitic Setup</h4>

<p>
<a id="pgfId-1048703"></a>Parasitic setup can take one of three forms dependent upon the following scenarios:</p>

<ol><li>
<a id="pgfId-1048704"></a>If you open a schematic view you will be displayed with a version of the Setup Parasitics Form (<a href="chap1.html#10396">Figure&#160;1-9</a>) that asks for extracted view details.<br />
<a id="pgfId-1048710"></a>If you open a configuration you are asked for a simulation database (<a href="chap1.html#68373">Figure&#160;1-10</a>).<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048712"></a>The decision as to which Parasitics Setup form is displayed is dependent upon what cellview type is current.</div></li><li>
<a id="pgfId-1048713"></a>If a schematic in the design below the top-level view has been opened directly, just knowing the top-level view, or configuration, is not enough to determine which extracted view or Smart View (if any) corresponds to that schematic.<br />
<a id="pgfId-1048714"></a>This is because the schematic cannot be associated with a hierarchical instance path. In this scenario, you <strong>must</strong> specifically select the extracted view.<br />
<a id="pgfId-1048715"></a>However, as there is a risk that you may inadvertently select an extracted view that has not been simulated, the annotation of resistance (R) (<a href="chap1.html#69948">Effective R Calculations</a>) values will be disabled to avoid annotating incorrect effective values for the selected extracted view.</li><li>
<a id="pgfId-1048716"></a>You have an extracted view open, in which case you must specify a matching schematic.</li></ol>











<p>
<a id="pgfId-1048700"></a>If required, you can change the Setup Parasitics form options at any time, with any changes made to the form being recorded for future use.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070351"></a>Here, extracted view implies the extracted view or the Smart View. </div>

<h4>
<a id="pgfId-1048654"></a><a id="97692"></a>Parasitics Set Up for Schematic and Extracted Views</h4>

<p>
<a id="pgfId-1048490"></a>The <em>Setup Parasitics </em>form below will appear if you access parasitic aware design functionality from a schematic or extracted cellview.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048488"></a>If the Setup Parasitics form has been invoked from a schematic window you will only have to specify an extracted view name and vice versa.</div>

<p>
<a id="pgfId-1046068"></a></p>
<div class="webflare-div-image">
<img src="images/610_SetupForm.gif" /></div>
<p><strong>Figure 1-9
<a id="pgfId-1046070"></a><a id="10396"></a>The Setup Parasitics form for schematic and extracted cellviews</strong></p>
<p>
<a id="pgfId-1046144"></a></p>
<table class="webflareTable" id="#id1046073">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046075">
<a id="pgfId-1046075"></a>GUI Item</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046077">
<a id="pgfId-1046077"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046079"></a><em>Schematic Cellview</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046081"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046083">
<a id="pgfId-1046083"></a><em>- Library Name</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046085"></a>Enter or select the library that contains the schematic cellview information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046087">
<a id="pgfId-1046087"></a><em>- Cell Names</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046089"></a>A cyclic menu that shows the cells in the selected library.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046091">
<a id="pgfId-1046091"></a><em>- View Name</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046093"></a>Enter or select the schematic cell view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046095">
<a id="pgfId-1046095"></a>- Browse</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046097"></a>Use to search through hierarchies locating extracted cellview information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046099">
<a id="pgfId-1046099"></a>- Select by Schematic</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046101"></a>Select this option, then click directly on the schematic window you want to use.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046103"></a><em>Extracted Cellview</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046105"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046107">
<a id="pgfId-1046107"></a><em>- Library Name</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046109"></a>Enter or select the library that contains the extracted cellview information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046111">
<a id="pgfId-1046111"></a><em>- Cell Name/s</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046113"></a>A cyclic menu that shows the cells in the selected library.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046115">
<a id="pgfId-1046115"></a><em>- View Name</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046117"></a>Enter or select the extracted cell view.</p>
<p>
<a id="pgfId-1046118"></a>The default (but not fixed) Extracted Cellview <em>View Name</em>, from Quantus QRC, displayed in the setup form is the first instance of a view containing the string &quot;<code>av_extracted</code>&quot;. If this string is not found the default view will be the first instance of a view containing the string &quot;<code>extracted</code>&quot;. The list is sorted alphabetically.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046120">
<a id="pgfId-1046120"></a><em>- Browse</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046122"></a>Use to move through hierarchies locating extracted cellview information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046124">
<a id="pgfId-1046124"></a><em>- Select by Cursor</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046126"></a>Select this option, then click directly on the extracted window you want to use.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046128"></a><em>Power and Ground Nets for Decoupled Capacitance Reporting</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046130"></a>Use this field to set power and ground nets. Parasitic aware design uses these to determine which parasitic capacitances are decoupled (one side of the capacitor is connected to a power or ground net) or coupled (the capacitance is between two other nets). Parasitic reports allow you to select which types of capacitance to report.</p>
<p>
<a id="pgfId-1050823"></a>When you are selecting power and ground nets for the capacitance report, from a configuration, these selections must be made out-of-context. That is, you need to make your selections while in the schematic view of a block that is bound to an extracted view of a configuration.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046131"></a>Power and ground nets <strong>must</strong> be specified for coupled/decoupled parasitics reporting to work correctly. If no power and ground nets are specified, all capacitors are considered to be coupled capacitors.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046133">
<a id="pgfId-1046133"></a><em>- Net Names</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046135"></a>Identify the power and ground nets that you want to use when differentiating between coupled and decoupled nets (see also <a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a>).</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046139"></a>When entering a net name you can optionally add a &#8220;/&#8221; at the beginning of each net name. If omitted, the &#8220;/&#8221; is automatically added when comparing nets (this will not however be reflected in the <em>Net Names</em> field if a &#8220;/&#8221; was not originally entered). This is required for coupled and decoupled parasitic reporting to work correctly.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046141">
<a id="pgfId-1046141"></a><em>- Select From Schematic</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046143"></a>This option allows you to select the power and ground nets directly from the schematic rather than physically typing them in.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1046148"></a><a id="53969"></a>Parasitics Set Up for Configuration Views</h4>

<p>
<a id="pgfId-1048497"></a>If you select <em>Parasitics &#8211; Setup</em> from a configuration view you are requested to enter database information.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048521"></a>The version of the Setup form shown below is also displayed if you launch parasitic aware design functionality after descending into a sub-block of the configuration.</div>
<p>
<a id="pgfId-1048546"></a>If you have opened a schematic via a simulation configuration you will not need to specify either view as this will information will be derived when you perform <a href="chap1.html#57234">Out-Of-Context Probing</a>.</p>

<p>
<a id="pgfId-1050291"></a></p>
<div class="webflare-div-image">
<img src="images/610_ConfigSetUpSchematics.gif" /></div>
<p><strong>Figure 1-10
<a id="pgfId-1046150"></a><a id="68373"></a>The Setup Parasitics Form (for configuration cellview in Schematics L/XL)</strong></p>
<p>
<a id="pgfId-1048624"></a></p>
<table class="webflareTable" id="#id1048583">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1048585">
<a id="pgfId-1048585"></a>GUI Item</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1048587">
<a id="pgfId-1048587"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048589"></a>Config Cellview</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048591"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1048593">
<a id="pgfId-1048593"></a>- Library Name</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048595"></a>Enter or select the library that contains the configuration cellview information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1048597">
<a id="pgfId-1048597"></a>- Cell Name</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048599"></a>A cyclic menu that shows the cells in the selected library.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1048601">
<a id="pgfId-1048601"></a>- View Name</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048603"></a>Enter or select the configuration cell view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048605"></a>Simulation Data</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048607"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1048609">
<a id="pgfId-1048609"></a>- Simulator</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048611"></a>Choose the simulator that you want to use simulation data with. Currently, Ultrasim and Spectre are supported.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048612"></a>Where a schematic is associated with an ADE Explorer or ADE Assembler session, this option will mirror the settings in the ADE Explorer or ADE Assembler session and will consequently be disabled. For more information on ADE Explorer or ADE Assembler, see the <em><a actuate="user" class="URL" href="../Explorer/ExplorerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Explorer User Guide</a></em> and <em><a actuate="user" class="URL" href="../assembler/assemblerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Assembler User Guide</a></em></div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1048615">
<a id="pgfId-1048615"></a>- Results Directory for R Calculation</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048617"></a>Enter or choose the directory containing the dc op point simulation results that are required to calculate effective resistance (see <a href="chap1.html#69948">Effective R Calculations</a>).</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1093200"></a>Where a schematic is associated with an ADE Explorer or ADE Assembler session, this option will mirror the settings in the ADE Explorer or ADE Assembler session and will consequently be disabled. For more information on ADE Explorer or ADE Assembler see the <em><a actuate="user" class="URL" href="../Explorer/ExplorerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Explorer User Guide</a></em> and <em><a actuate="user" class="URL" href="../assembler/assemblerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Assembler User Guide</a></em>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1048621">
<a id="pgfId-1048621"></a>- Browse</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048623"></a>Use this option to move through hierarchies locating extracted cellview information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050305"></a><em>Power and Ground Nets for Decoupled Capacitance Reporting</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050307"></a>Use this field to set power and ground nets. Parasitic aware design uses these to determine which parasitic capacitances are decoupled (one side of the capacitor is connected to a power or ground net) or coupled (the capacitance is between two other nets). Parasitic reports allow you to select which types of capacitance to report.</p>
<p>
<a id="pgfId-1050609"></a>When you are selecting power and ground nets for the capacitance report from a configuration, these selections must be made out-of-context. That is, you need to make your selections while in the schematic view of a block that is bound to an extracted view of a configuration.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050308"></a>Power and ground nets <strong>must</strong> be specified for coupled/decoupled parasitics reporting to work correctly. If no power and ground nets are specified, all capacitors are considered to be coupled capacitors.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1050297">
<a id="pgfId-1050297"></a><em>- Net Names</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050299"></a>Identify those power and ground nets that you want to use when differentiating between coupled and decoupled nets (see also <a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a>).</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050303"></a>When entering a net name, you can optionally add a &#8220;/&#8221; at the beginning of each net name. If omitted, the &#8220;/&#8221; is automatically added when comparing nets (this will not however be reflected in the <em>Net Names</em> field if a &#8220;/&#8221; was not originally entered). This is required for coupled and decoupled parasitic reporting to work correctly.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1050293">
<a id="pgfId-1050293"></a><em>- Select From Schematic</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050295"></a>This option allows you to select the power and ground nets directly from the schematic rather than typing them in.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1046236"></a><a id="31032"></a>Para<a id="parasiticsOptions"></a>sitics &#8211; Options</h3>

<p>
<a id="pgfId-1046238"></a>The parasitic aware design Opt<a id="marker-1046237"></a>ions form contains a range of options related to <em>Backannotation</em> and <em>Parasitic Probing Reports</em>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050615"></a>The values entered here will determine the content of other parasitic aware design forms.</div>

<p>
<a id="pgfId-1046242"></a></p>
<div class="webflare-div-image">
<img src="images/610_OptionsForm.gif" /></div>
<p><strong>Figure 1-11
<a id="pgfId-1046243"></a>The Options Form</strong></p>
<p>
<a id="pgfId-1046288"></a></p>
<table class="webflareTable" id="#id1046244">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046246">
<a id="pgfId-1046246"></a>GUI Item</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046248">
<a id="pgfId-1046248"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046250"></a><em>Backannotation</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046255"></a>(See also <a href="chap1.html#34712">Parasitics &#8211; Show/Hide Parasitics</a>)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046257">
<a id="pgfId-1046257"></a><em>- Font Size</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046259"></a>Specify the label font size for displaying parasitic backannotation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046261">
<a id="pgfId-1046261"></a><em>- X Offset</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046263"></a>Sets the horizontal offset from the centre of the net when displaying parasitics.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046265">
<a id="pgfId-1046265"></a><em>- Y Offset</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046267"></a>Sets the vertical offset from the centre of the net when displaying parasitics.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046269">
<a id="pgfId-1046269"></a>- Backannotate values</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046271"></a>Specify the backannotation values that you want to view (<em>R</em>, <em>C</em> and/or <em>L</em>).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046273"></a>Parasitics Probing Reports</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046278"></a>(See also <a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a>).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046280">
<a id="pgfId-1046280"></a>- Initially Sort By</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046282"></a>Specify the initial sorting method (<em>Instance</em>, <em>Type</em>, <em>Value</em>, <em>From</em>, or <em>To</em>) to be used when probing parasitics on nets.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1046284">
<a id="pgfId-1046284"></a>- Extracted Nets</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046286"></a>Check the <em>grouped</em> option to report parasitics for the whole design net when probing an extracted net (this will work as if probing in the schematic). For detailed debugging however, you should uncheck the <em>grouped</em> option. In this case the report will be specific to the selected extracted net fragment.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046287"></a>If Parasitics is in a config set up, with simulation results available, probing in-context in the extracted view will also display effective R results in the corresponding report.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054217"></a>Component Display in Extracted View</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054222"></a>(See also the <a href="chap2.html#21270">Extracted Parasitics</a>).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1054232">
<a id="pgfId-1054232"></a>- Net names on parasitic instance terminals</blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054234"></a>Enables the display of the names of nets connected to terminals of parasitic instances in the extracted view.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1052781"></a><a id="39000"></a>Parasi<a id="parameters"></a>tics &#8211; Parametric Variables</h3>

<p>
<a id="pgfId-1052885"></a>The Specify Parametric Values form can be used to set and edit parametric values specified on parasitic instances for use in parasitic simulation.</p>
<p>
<a id="pgfId-1052887"></a>Quantus QRC extraction controls the specification of parametric variables, which are the result of using Multiple Rule Sets to run extraction on different process corners. For more information on this see Use Multiple Rule Sets in the Quantus QRC Graphical User Interface section of the Quantus QRC Extraction Users Manual.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1052924"></a>Variables, such as <code>Cmin</code> and <code>Cmax</code>, and their current values, can also be loaded directly from the Virtuoso Analog Design Environment. Report results, for example when reporting capacitances on a net, will differ dependent upon changes made to variable values in the Specify Parametric Values form (for example any value changes made to <code>Cmin</code> and/or <code>Cmax</code>). </div>
<p>
<a id="pgfId-1052891"></a>An example of parametric C:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1052822"></a>C<code>
 = Cmin * iPar(&quot;c-min&quot;) + Cmax * iPar(&quot;c-max&quot;)</code>
</pre>

<p>
<a id="pgfId-1052962"></a>To set parametric variables:</p>
<ol><li>
<a id="pgfId-1052964"></a>Select <em>Parasitics &#8211; Parametric Variables</em>.<br />
<a id="pgfId-1052951"></a>The Specify Parametric Values form is displayed.</li><li>
<a id="pgfId-1053039"></a>Select the <em>
Library Name
 and <em>
Cell Name
 whose variables you want to set (you can use the <em>
Browse
 button to invoke the Library Browser to assist this, or use the <em>
Select By Cursor
 button to select directly from the design canvas).<br /></em></em></em></em><div class="webflare-information-macro webflare-macro-note"><em><em><em>
<a id="pgfId-1053010"></a><em>
Cell Name
 must be the Analog Design Environment (ADE) cellview where the variables were originally set. </em></em></em></em></div><em>
<a id="pgfId-1053013"></a>For information on how parametric variables are set and edited in ADE, see <hyperlink>
Design Variables and Simulation Files for Direct Simulation
 in the <hyperlink>
<a actuate="user" class="URL" href="../Explorer/ExplorerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Explorer User Guide</a>
.<br />
<a id="pgfId-1053016"></a>You can also click the <em>
Load Values
 button to load parametric variable values that were set in the Edit Design Variables form in ADE. Here, you should select <em>Variables &#8211; Copy To Cellview</em> in ADE before choosing to load these values in.</em></hyperlink></hyperlink></em></li><li>
<a id="pgfId-1053066"></a>Optionally, edit the values of variable to suit your requirements then choose <em>Apply</em> or <em>OK</em>.<br />
<a id="pgfId-1053086"></a>To save changes to parametric values for use in ADE select <em>Save Values</em>. Once these edits have been applied you can load the new values back into ADE by selecting <em>Variables &#8211; Copy From Cellview</em> in ADE.</li><li>
<a id="pgfId-1053100"></a>Click <em>OK</em> to apply the new parametric variable values and close the Specify Parametric Variables form.</li></ol>









<h3>
<a id="pgfId-1046292"></a><a id="34712"></a>P<a id="ShowHide"></a>arasitic<a id="marker-1046291"></a>s &#8211; Show/Hide Parasitics</h3>

<p>
<a id="pgfId-1048767"></a>You can choose to turn on or off the display of generated parasitic values in the current schematic view.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1046293"></a>
The <em>Show/Hide Parasitics</em> menu option is only available in a relevant schematic view. If you are in a schematic view that has not been specified in the Parasitics Setup form, for example if you open up a schematic from the CIW that is completely unrelated to the Setup schematic, the <em>Show/Hide Parasitics</em> menu-item will be disabled.</div>

<p>
<a id="pgfId-1046298"></a>If you show/hide parasitics on a particular schematic (which, as mentioned, must be defined in the schematic hierarchy in the <em>Schematic Cellview</em> section of the <a href="chap1.html#34937">Parasitics &#8211; Set Up</a> form), and descend/ascend the hierarchy, the state will be remembered so that in the new level parasitics will continue to be displayed as in the previous level.</p>

<p>
<a id="pgfId-1051350"></a></p>
<div class="webflare-div-image">
<img src="images/610_ShowParasitics.gif" /></div>
<p><strong>Figure 1-12
<a id="pgfId-1051357"></a>The display of parasitic values turned on</strong></p>

<p>
<a id="pgfId-1046305"></a>The use and operation of <em>Show/Hide Parasitics</em> is discussed further in <em><a href="chap1.html#30129"></a><xrefstd>Performing Backannotation<em></em>.</xrefstd></em></p>

<h3>
<a id="pgfId-1046313"></a><a id="80721"></a>Parasitics<a id="parasiticsReport"></a> &#8211; Report Parasitics</h3>

<p>
<a id="pgfId-1046314"></a>The following parasitic probing report options are available under the <em>Report Parasitics</em> menu option:</p>
<ul><li>
<a id="pgfId-1051235"></a><a href="chap1.html#57232">Reporting on Nets</a> (<em>Net</em> and <em>Net to Net</em>)</li><li>
<a id="pgfId-1051240"></a><a href="chap1.html#11902">Reporting on Terminal to Terminal</a></li><li>
<a id="pgfId-1051245"></a><a href="chap1.html#43255">Reporting on Net Capacitors</a></li><li>
<a id="pgfId-1051250"></a><a href="chap1.html#68183">Reporting on All Nets</a><br />
<a id="pgfId-1046318"></a><div class="webflare-div-image">
<img src="images/610_ParasiticReportMenuOptions.gif" /></div><strong>Figure 1-13
<a id="pgfId-1046319"></a>Available Parasitic menu reports</strong></li></ul>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1101844"></a>The Report Parasitics Assistant is available for single-point simulations run from ADE Explorer and ADE Assembler. </div>

<h4><em>
<a id="pgfId-1048828"></a><a id="99412"></a>Sum<a id="marker-1101885"></a> Tota<a id="marker-1101886"></a>ls</em></h4>

<p>
<a id="pgfId-1048829"></a>Any sum <em>Totals</em> at the bottom of a report displays the effective and summed values (C, L, and K will always be summed, while R depends on the type of probing) for each parasitic type that has been found for the particular type of probing.</p>
<p>
<a id="pgfId-1048830"></a>For example, even if you filter out R or C by deselecting their respective options at the top of the Parasitics Report form, the summary totals will still remain the same. If available, effective totals will also be displayed (these will not be available if a DC op point simulation has not been run).</p>
<p>
<a id="pgfId-1048833"></a>For information on running a DC simulation, see <a href="chap1.html#51057">Preparing for Resistance Backannotation (Running a DC Analysis)</a>.</p>

<h4><em>
<a id="pgfId-1048836"></a>Reporte<a id="marker-1048835"></a>d Values</em></h4>

<p>
<a id="pgfId-1048837"></a>Parasitic aware design uses the <code>aelSuffixNotation</code> function to print the values of capacitance and resistance, with 4 as the default number of digits set to be displayed.</p>
<p>
<a id="pgfId-1048838"></a>It is possible to view rounded values in a report form rather than the value that is displayed on the extracted view.</p>
<p>
<a id="pgfId-1048839"></a>For example, you may see <code>r = 143.1453m</code> on the extracted view but in the parasitics report the 4 digit setting would display <code>r = 143.1m</code>. </p>
<p>
<a id="pgfId-1048840"></a>You can however change the number of digits displayed. For example, to get full precision you should set:</p>
<p>
<a id="pgfId-1048841"></a><code>aelPushSignifDigits (15)</code></p>

<h4><em>
<a id="pgfId-1048844"></a><a id="84036"></a>Sorting <a id="marker-1048843"></a>the Report Table</em></h4>

<p>
<a id="pgfId-1048845"></a>Parasitic report tables can be sorted by clicking on the desired column option header. </p>
<p>
<a id="pgfId-1048823"></a>The default sorting method is specified using the <em>Initially Sort By</em> option in the <a href="chap1.html#31032">Parasitics &#8211; Options</a> form.</p>

<h4><em>
<a id="pgfId-1048867"></a><a id="71679"></a>Saving R<a id="parasiticsSaveReport"></a>eport Data</em></h4>

<p>
<a id="pgfId-1048868"></a>You can save the contents of a report table, for example, a parasitic report or an instance probing report, to a specified report file by clicking on the <em>Save</em> button at the bottom of the applicable form.</p>
<p>
<a id="pgfId-1048870"></a>The save action will record the information as per any sort and filter specifications you have already made. </p>
<p>
<a id="pgfId-1048871"></a>You also have the option to save the information as either a <em>Text</em> file (<code>.txt</code>), or a <em>Comma separated value</em> file (<code>.csv</code>). If you want to change the name of the report you can edit the <em>Filename</em> as required.</p>

<div class="webflare-div-image">
<img src="images/610_SaveDesignReportForm.gif" /></div>
<p><strong>Figure 1-14
<a id="pgfId-1048877"></a>Saving report information</strong></p>
<h4>
<a id="pgfId-1046320"></a><a id="57232"></a>Reporting<a id="parasiticsReportNets"></a> on Nets<a id="parasiticsReportNet"></a></h4>

<p>
<a id="pgfId-1046321"></a>If you choose to report on a <em>Net</em> or on a <em>Net to Net</em> basis, this will invoke the following Parasitic report form (<a href="chap1.html#88251">Figure&#160;1-15</a> or <a href="chap1.html#67274">Figure&#160;1-16</a>).</p>
<p>
<a id="pgfId-1046322"></a>The title bar of the Parasitic report displays the net location in a hierarchical format, for example: <em>Parasitics for net /gnd!</em> or <em>Parasitics from net /gnd! to net /compout</em>.</p>
<p>
<a id="pgfId-1046324"></a>Before the Parasitics r<a id="marker-1046323"></a>eport form is displayed you will be prompted to select the appropriate net/nets that you want to report on.</p>

<p>
<a id="pgfId-1046328"></a></p>
<div class="webflare-div-image">
<img src="images/616_netReportForm.gif" /></div>
<p><strong>Figure 1-15
<a id="pgfId-1046329"></a><a id="88251"></a>Parasitic report for net /IN</strong></p>
<p>
<a id="pgfId-1046333"></a></p>
<div class="webflare-div-image">
<img src="images/616_NetToNetReportForm.gif" /></div>
<p><strong>Figure 1-16
<a id="pgfId-1046334"></a><a id="67274"></a>Parasitic report for parasitics from net /gnd! to net /net17</strong></p>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1046335"></a>
You can click an individual <em>Instance</em> and be taken directly to that parasitic instance in the extracted view (only if this view is already open).</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046336"></a>You can also specify how to identify power and ground nets using the <em>Power and Ground Nets for Decoupled Capacitance Reporting</em> section in the <a href="chap1.html#34937">Parasitics &#8211; Set Up</a> form.</div>
<p>
<a id="pgfId-1046340"></a>The content of the Parasitics nets report forms can be specified in the <em>Display</em> section at the top of the report.</p>

<p>
<a id="pgfId-1046368"></a></p>
<table class="webflareTable" id="#id1046341">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046344">
<a id="pgfId-1046344"></a><a id="68555"></a>Display options</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046346">
<a id="pgfId-1046346"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046348"></a><em>R</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046350"></a>Displays parasitic resistance elements.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046352"></a><em>decoupled C</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046354"></a>Displays capacitors that are tied to power or ground nets.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046356"></a><em>coupled C</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046358"></a>Displays capacitors between ordinary nets.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057202"></a><em>self C</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057204"></a>Displays coupled capacitors between segments of the same net.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046360"></a><em>L</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046362"></a>Displays parasitic inductances.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046365"></a><em>K</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046367"></a>Displays the mutual inductance (<em>K</em>) ratio. For example, given two circuits, A and B, the mutual inductance is the ratio of the flux through circuit A caused by the current in circuit B.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1046369"></a>The columns displayed in the Parasitics nets report forms are related to:</p>

<p>
<a id="pgfId-1046395"></a></p>
<table class="webflareTable" id="#id1046370">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046372">
<a id="pgfId-1046372"></a>Column option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046374">
<a id="pgfId-1046374"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046376"></a><em>Instance</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046378"></a>Displays the name of the parasitic element.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046380"></a><em>Type</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046382"></a>Displays the parasitic type (R, C, L or K).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046384"></a><em>Value</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046386"></a>Depending on the parasitic <em>Type</em>, displays either a resistance, capacitance, inductance, or mutual-inductance value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046388"></a><em>From</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046390"></a>Displays the name of a net (in the case of R, L, and C), or an inductor (in the case of K).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046392"></a><em>To</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046394"></a>Displays the name of a net (in the case of R, L, and C), or an inductor (in the case of K).</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1046396"></a><strong>Reporting on Terminal to Terminal</strong><a id="11902"></a><a id="parasiticsReportTerminals"></a><a id="parasiticsTerminals"></a></h4>

<p>
<a id="pgfId-1057212"></a>Using the terminal to terminal probing, you can report parasitics between two instance terminals or between a terminal and a pin on the same net.</p>
<p>
<a id="pgfId-1057213"></a>The Parasitic Report assistant will report parasitics between the two most recent selections only. If multiple selections are done, all terminals or pins other than the last two selected will be ignored. Other object type selections are also ignored.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1057214"></a>The terminal to terminal probing does not report parasitics between two pins.</div>
<p>
<a id="pgfId-1046402"></a>The format displayed in the title bar of the <em>Terminal to Terminal</em> Parasitics report is: </p>
<p>
<a id="pgfId-1046403"></a><code>from (terminal|net) (&lt;schTerm&gt;(&lt;extNets&gt;+))+ to (terminal|net) (&lt;schTerm&gt;(&lt;extNets&gt;+))+</code></p>
<p>
<a id="pgfId-1046404"></a>Here, the term <code>net</code> is used instead of <code>terminal</code> when a selection is taken from an extracted view, as only extracted nets would be available.</p>
<p>
<a id="pgfId-1046405"></a>Also, <code>(&lt;schTerm&gt;(&lt;extNets&gt;+))</code>will be replaced by <code>&lt;bus_name&gt;</code> if you select <em>All</em> when you have a list of buses.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050851"></a><code>schTerm</code> = schematic terminal and <code>extNets</code> = extraction nets.</div>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1046406"></a>
Terminal to terminal report values can differ from whole net report values</div>

<p class="webflare-indent1">
<a id="pgfId-1046407"></a>When performing a terminal to terminal probe or generating report (also known as a point-to-point probe), where two selected terminals map completely to the same extracted nets, a warning describing the situation will be issued. The resultant report will also reveal that no parasitics have been found between these terminals. This happens because the terminals are considered to be shorted, and parasitics will therefore have no influence on the interaction between the two terminals in question.</p>
<p class="webflare-indent1">
<a id="pgfId-1046408"></a>However, if you subsequently perform a whole net probe on the same net, parasitics could still be reported, even if the net is a two terminal only net.</p>
<p class="webflare-indent1">
<a id="pgfId-1046409"></a>For example, if you consider two mFactored transistors (mFactor = 2) <code>T1</code> and <code>T2</code>, with the source of <code>T1</code> connected to the drain of <code>T2</code>. Selecting <code>T1-source</code> and <code>T2-drain</code>, in the schematic, will identify that <code>T1_m1-source</code> is shorted with <code>T2_m1-drain</code> and <code>T1_m2-source</code> shorted with <code>T2_m2-drain</code>. As mentioned, terminal to terminal probing would complete, reporting no parasitics, however whole net probing will identify and report any parasitics that might exist between <code>T1_m1-source</code> and <code>T2_m2-drain</code>.</p>

<h4><em>
<a id="pgfId-1046415"></a>Selecting Leaf Terminals<a id="parasiticsSelectLeafTerms"></a></em></h4>

<p>
<a id="pgfId-1046416"></a>The Select leaf terminals form is displayed when you perform terminal to terminal probing and select hierarchical terminals that have more than one leaf terminal.</p>
<p>
<a id="pgfId-1046417"></a>From the Select leaf terminals form, you must select the terminals (for example, gate and drain) that you want to measure resistance values for.</p>
<p>
<a id="pgfId-1046418"></a>Selecting individual terminals will prevent the results of net point probing (that has parallel resistors) being reported as a sum of the resistance values.</p>

<h4>
<a id="pgfId-1046467"></a><a id="43255"></a>Rep<a id="parasiticsCapacitors"></a>orting on Net Capacitors</h4>

<p>
<a id="pgfId-1046468"></a>To create a net capacitors report select <em>Parasitics &#8211; Report Parasitics &#8211; Net Capacitors</em>, and then select the net you want to report on.</p>
<p>
<a id="pgfId-1046470"></a>Reporting on net capacitors generates the Capacitors for net report which displays summed capacitances (<em>Sum C</em>) between the selected net and all nets that it is connected to via parasitic capacitors.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046471"></a>No report will be generated for &#8220;0&#8221; capacitances, and no distinction is made between power/ground, and other nets.</div>

<p>
<a id="pgfId-1046475"></a></p>
<div class="webflare-div-image">
<img src="images/610_CapacitorsReportForm.gif" /></div>
<p><strong>Figure 1-17
<a id="pgfId-1046476"></a>Capacitors report for net /vdd!</strong></p>
<h4>
<a id="pgfId-1046481"></a><a id="68183"></a>Re<a id="parasiticsReportAllNets"></a>porting on All Nets</h4>

<p>
<a id="pgfId-1046483"></a>Reporting on all nets generates the All Parasi<a id="marker-1046482"></a>tics design report form.</p>

<p>
<a id="pgfId-1046487"></a></p>
<div class="webflare-div-image">
<img src="images/616_AllParasiticsReportForm.gif" /></div>
<p><strong>Figure 1-18
<a id="pgfId-1046488"></a>All parasitics report for TOP design</strong></p>

<p>
<a id="pgfId-1046489"></a>The All Parasitics report lists each net in the design along with the total value for the net based on either the effective value or the summed value.</p>
<p>
<a id="pgfId-1046490"></a>The <em>decoupled C</em>, <em>coupled C</em>, and <em>coupled self C </em>check boxes control what capacitors are summed for the <em>sum C</em> column.</p>
<p>
<a id="pgfId-1046491"></a>You can also save the All Parasitics report information to a file using the <em>Save</em> button with the option to save the information in either <em>text</em> (<code>.txt)</code> or <em>comma separated</em> (<code>.csv</code>) format.</p>

<h3>
<a id="pgfId-1046498"></a><a id="60698"></a>Para<a id="parasiticsRefineExtracted"></a>sitics &#8211; Refine Extracted View</h3>

<p>
<a id="pgfId-1046503"></a>Selecting the <em>Parasitics &#8211; Refine Extracted View</em> menu option will display the Refine Extracted View form with the name of the current extracted view in the title bar. <a id="marker-1046504"></a></p>

<div class="webflare-div-image">
<img src="images/610_RefineExtractedViewForm.gif" /></div>
<p><strong>Figure 1-19
<a id="pgfId-1046509"></a>Refine Extracted View form with current view in title bar</strong></p>

<p>
<a id="pgfId-1046510"></a>The purpose of this option is to generate a refined extracted view that can be used for circuit simulation. The refined extracted view is based on the full extracted view created in Quantus QRC.</p>
<p>
<a id="pgfId-1051050"></a>After the refine extracted view has been created, a window is displayed summarizing the parasitics in the new view. This information is also output to the CIW.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048956"></a>The default Quantus QRC full extracted view is <code>av_extracted</code>, while the default parasitic aware design refined extracted view name is <code>av_analog_extracted</code>.</div>
<p>
<a id="pgfId-1046513"></a>For more information on this process, see <a href="chap1.html#88348">Step 3: Building a Refined (Analog) Extracted View Using Parasitic Aware Design</a>.</p>
<p>
<a id="pgfId-1046515"></a>Within this form, you can specify the extracted parasitics required for the extraction.</p>

<p>
<a id="pgfId-1046541"></a></p>
<table class="webflareTable" id="#id1046516">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046518">
<a id="pgfId-1046518"></a>GUI Item</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046520">
<a id="pgfId-1046520"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050525"></a><em>None</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050527"></a>Generate an extracted view with none of the parasitics.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050529"></a><em>Select From Schematic</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050531"></a>Select the parasitics to be included in the simulation by placing special symbols (<code>spresistor</code>, <code>spcapacitor</code>, <code>spinductor</code>, and <code>spcapacitor2</code>) on nets in the schematic view.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050888"></a>The above symbols are taken from the standard <code>sbaLib</code> library.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050533"></a><em>Include All</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050535"></a>Generate a (copy of the) extracted view with all the parasitics that have been extracted.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050537"></a>Analog Extracted View Name</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050539"></a>Enter a name for the new extracted view, the default being <code>av_analog_extracted</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1052146"></a>The refine extracted view will not remove any resistance that is associated with inductors as long as the inductors are not filtered out. This will prevent the creation of zero-resistance loops in the refined parasitic net.</p>

<h3>
<a id="pgfId-1046546"></a><a id="25726"></a>Paras<a id="parasiticsInstance"></a>itics &#8211; Probe Design Inst/Net</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046547"></a>You should ensure that the schematic and extracted views are both currently open to facilitate viewing and probing.</div>
<p>
<a id="pgfId-1046548"></a>Select <em>Parasitics &#8211; Probe Design Inst/Net</em> to:</p>
<ul><li>
<a id="pgfId-1046549"></a>probe from a design instance or net in the current schematic view to extracted instances in the extracted view. The probe performed will raise the Extracted insts associated with... form (see <a href="chap1.html#30991">Figure&#160;1-20</a>) from where you can pan and zoom to selected instances.<br />
<a id="pgfId-1046550"></a>or</li><li>
<a id="pgfId-1046551"></a>probe from a design instance or net in the extracted view to the schematic view. The probe performed will highlight, but not zoom in on, the schematic instance. If the schematic instance is within a hierarchical block in an open schematic then the block will be highlighted.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046552"></a>When probing from the extracted view highlighting in the schematic view will only work when the schematic is open in its own right. It will not work when the schematic is open through a config.</div></li></ul>



<p>
<a id="pgfId-1046553"></a>If attempting to probe from hierarchical blocks/instances a warning message will be displayed in the CIW. To resolve this, you must descend the hierarchy (<em>Edit &#8211; Hierarchy &#8211; Descend...</em>) and probe at the leaf level.</p>
<p>
<a id="pgfId-1046554"></a>If you are probing a schematic net that exits the current hierarchy level the probe will be restricted to the instances attached to that net in the current level and not the full design. Probing therefore remains localized.</p>
<p>
<a id="pgfId-1046555"></a>After you have selected a regular device (instance or net) to probe, the relevant <em>Extracted/Schematic insts associated...</em> form is displayed.</p>
<p>
<a id="pgfId-1046556"></a>This tabular form lists all of the <em>Extracted/Schematic inst</em> names, and their associated <em>Type</em>, that are related to the device that you selected. The results are viewed in sortable columns.</p>

<p>
<a id="pgfId-1046560"></a></p>
<div class="webflare-div-image">
<img src="images/610_ExtractedInstsForm.gif" /></div>
<p><strong>Figure 1-20
<a id="pgfId-1046561"></a><a id="30991"></a>Extracted instances report form</strong></p>

<p>
<a id="pgfId-1046562"></a>For a design net, the displayed list contains all of the extracted or schematic instances that are attached to that net in the other view type.</p>
<p>
<a id="pgfId-1046563"></a>If you select one or more extracted instances from the list (using the <code>Control/Shift</code> keys), this causes the extracted view to automatically zoom into those instances, highlighting the selected items in both the schematic and extracted views.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046564"></a>There is no corresponding zoom facility on the schematic view.</div>
<p>
<a id="pgfId-1046565"></a>If performing a multiple factor (m-factor) selection, it is generally the case that the instances will be found, and highlighted in the same area of the chip. An m-factor device is where a single cell instance represents multiple instances of a parallel connected cell.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046566"></a>Highlighting of the instances only applies to an extracted view and not a layout view.</div>
<p>
<a id="pgfId-1046567"></a>Clicking on the <em>Save</em> button in the <em>Extracted insts...</em> form displays the <em>Save Instance Report form</em>. For information on saving reports in parasitic aware design see <a href="chap1.html#71679">Saving Report Data</a>.<a id="47908"></a></p>

<h2>
<a id="pgfId-1071614"></a><a id="88808"></a>Probing Out-Of-Context and In-Context</h2>

<p>
<a id="pgfId-1090675"></a>In-context and out-of-context probing has particular relevance when you are performing backannotation and reporting on parasitics. A parasitic aware design permits out-of-context probing of post-layout simulation results, containing additional parasitic components. This type of probing is done on a schematic where the simulation used an extracted view.</p>
<p>
<a id="pgfId-1071764"></a>With an out-of-context probe, parasitic aware design is referring to the view that is currently being displayed against the view that is specified in the configuration used for simulation.</p>
<p>
<a id="pgfId-1073622"></a>You can run out of-context or in-context probing on simulation results only when the current designs have been simulated. See <a href="chap1.html#18310">Simulating the Design in ADE Explorer</a>. </p>

<h3>
<a id="pgfId-1071055"></a><a id="57234"></a>Out-Of-Context Probing</h3>

<p>
<a id="pgfId-1071057"></a><em>Out-of-context</em><a id="marker-1099550"></a><a id="marker-1099551"></a> probing occurs when you descend into any cellview other than the simulation cellview. For extracted views, parasitic aware design provides the functionality to map information from the schematic view to the post-layout view. You can reuse expressions created with schematic net and terminal names when simulating the extracted view and those net and terminal names are automatically mapped to their equivalent post-layout names. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071060"></a>Out-of context probing is supported in extracted view and Smart View.</div>

<h4>
<a id="pgfId-1071788"></a>Performing Out-Of-Context Probing in Extracted Views </h4>

<p>
<a id="pgfId-1073774"></a>To perform out-of-context probing in ADE Explorer or ADE Assembler, do one of the following:</p>
<ol><li>
<a id="pgfId-1073842"></a>Select the <em>Results</em> tab.</li><li>
<a id="pgfId-1083455"></a>Right-click on an output value and select <em>Plot</em>. <br />
<a id="pgfId-1074013"></a>Or</li><li>
<a id="pgfId-1073943"></a>In the <em>Results</em> tab, specify the plotting mode. </li><li>
<a id="pgfId-1074043"></a>Choose the <em>Extracted View</em> or the <em>Smart View </em>next to <em>Plotting Template</em>. </li><li>
<a id="pgfId-1074046"></a>Click the <em>Plot All</em> icon.<br />
<a id="pgfId-1073894"></a>The simulation results are plotted in the <em>Virtuoso Visualization and Analysis XL</em> window.</li></ol>








<p>
<a id="pgfId-1073777"></a>Alternatively, you can cross-probe using the Direct Plot functionality to plot the extracted net segments connected to instance terminals on different parts of the same net.</p>
<p>
<a id="pgfId-1073770"></a>To use Direct Plot, do the following: </p>
<ol><li>
<a id="pgfId-1074359"></a>In the <em>Results</em> tab, right-click the extracted view output, and choose <em>Direct Plot &#8211; Main Form.</em> The <em>Direct Plot Form</em> appears. </li><li>
<a id="pgfId-1074360"></a>Specify the <em>Plotting Mode </em>and click <em>OK</em>. </li><li>
<a id="pgfId-1074864"></a>In the schematic view, right-click and choose <em>Descend Read. </em>Alternatively, use the bindkey E to descend into the extracted view on the schematic. The <em>Descend</em> form appears. </li><li>
<a id="pgfId-1074706"></a>Specify the schematic view to descend into and click <em>OK</em>. </li><li>
<a id="pgfId-1074647"></a>Choose a net or terminal in the schematic view. </li></ol>




<p>
<a id="pgfId-1074964"></a>Selecting a point on a schematic net probes the voltage on the nearest instance terminal. The selected points are plotted as waveforms in the <em>Virtuoso Visualization and Analysis XL</em> window and the schematic view is displayed. </p>

<h3>
<a id="pgfId-1071111"></a><a id="16124"></a>In-Context Probing</h3>

<p>
<a id="pgfId-1072026"></a>In the parasitic aware design environment, <em>in-context</em><a id="marker-1072025"></a> probing implies probing the same cellview that is specified in the simulation configuration. </p>
<b>Note:</b><br />
<a id="pgfId-1072158"></a>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1071575"></a>A root cellview is always in-context.</li></ul></li></ul>

<h4>
<a id="pgfId-1077704"></a>Performing In-Context Probing in Extracted Views </h4>

<p>
<a id="pgfId-1075132"></a>To perform in-context probing, do the following:</p>
<ol><li>
<a id="pgfId-1071577"></a>In the ADE Assembler <em>Results</em> tab, right-click the simulation results for the <code>Smart View </code>and choose <em>Direct Plot &#8211; Main Form.</em> The <em>Direct Plot Form</em> appears.</li><li>
<a id="pgfId-1075423"></a>In the schematic view, right-click and choose <em>Return. </em>Alternatively<em>, </em>use the bindkey Ctrl+E to return to the top-level testbench.</li><li>
<a id="pgfId-1075495"></a>Select the instance that contains the Smart View. Ensure that the <code>Smart View </code>is selected to descend into and the mode is set to read-only. The Smart View is displayed. </li><li>
<a id="pgfId-1075660"></a>In the Smart View, set the workspace to <em>Basic</em>. </li><li>
<a id="pgfId-1075747"></a>Choose <em>Window &#8211; Assistants &#8211; Navigator</em>. </li><li>
<a id="pgfId-1086854"></a>Choose a net in the <em>Navigator</em> Assistant. This plots the voltage on the net that you choose.</li><li>
<a id="pgfId-1086777"></a>Do the following:<ul><li>
<a id="pgfId-1090352"></a>If you are using the extracted view:<ul><li>
<a id="pgfId-1090353"></a>Press escape to exit the <em>Direct Plot </em>mode.</li></ul></li><li>
<a id="pgfId-1090354"></a>If you are using the Smart View:<ul><li>
<a id="pgfId-1075898"></a>Choose <em>Smart-Parasitics &#8211; Display Parasitics. </em>The<em> Display Parasitics </em>form is displayed.<em> </em><br />
<a id="pgfId-1076637"></a>The <a href="chap1.html#23998">Smart-Parasitics Menu</a> is displayed only in Virtuoso Layout Suite XL/GXL when you are working with a Smart View.</li><li>
<a id="pgfId-1076464"></a>Specify the display settings and the threshold values for resistance and capacitance and click <em>Apply</em>. The parasitic display is updated with highlighted resistances and capacitances on the selected net. </li><li>
<a id="pgfId-1076176"></a>In the Smart View window, click the <em>Zoom In </em>toolbar button to view the values of the parasitic resistances and capacitances.</li><li>
<a id="pgfId-1076194"></a>Right-click a net in the <em>Navigator</em> and select <em>Probe &#8211; Add</em>.
All nodes on the specified net are highlighted. </li><li>
<a id="pgfId-1076276"></a>In the Smart View window, click the <em>Zoom In </em>toolbar button and select a square dot shape in the parasitic display. A small dot square represents a node on the net. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091411"></a>Nodes can only appear in the parasitic display if the layer and location information for the specific node is available. The layer and location attributes are essential to create a physical handle to the node to allow viewing and selecting the node. This information is available in the <code>display_map_file</code> file. Ensure that this file is used if you want to display parasitics in the Smart View. </div></li><li>
<a id="pgfId-1076567"></a>Choose <em>Smart-Parasitics &#8211; Probe Node. </em>A concatenated string consisting of the node ID and the net name of the node is displayed on the selected node. The same node information is also displayed in the <em>Virtuoso Visualization and Analysis XL</em> window with the segments plotted, as illustrated in the following figure. <br /><div class="webflare-div-image">
<img src="images/SV_incontext.gif" /></div></li></ul></li></ul></li></ol>





















<h2>
<a id="pgfId-1046712"></a>An <a id="81080"></a>Analog <a id="marker-1087112"></a>Simul<a id="marker-1087113"></a>ation Flo<a id="marker-1087114"></a>w using PVS</h2>

<p>
<a id="pgfId-1055360"></a>This section discusses how parasitic aware design interacts with the Cadence Physical Verification and Extraction tools, PVS (Physical Verification System) and Quantus QRC (Resistance / Capacitance and Inductance Extraction), to create an extracted view.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1055362"></a>Extracted, configuration and schematic views can be used as input into parasitic aware design. The parasitic aware design flow also supports simulation cross-probing of schematic nets even when the extracted view is used in the simulation.</div>
<p>
<a id="pgfId-1046715"></a>Parasitic aware design functionality, such as parasitic probing and backannotation, can then be used to take account of the effect of parasitics. This can consequently improve the accuracy of your circuit simulation.</p>
<p>
<a id="pgfId-1046716"></a>Parasitic aware design provides you with the functionality to annotate parasitic values including resistance (R), capacitance (C) and inductance (L) values on the schematic.</p>
<p>
<a id="pgfId-1046717"></a>The following sections (not all of which are compulsory) will take you through a typical parasitic aware design flow in PVS:</p>
<ul><li>
<a id="pgfId-1046721"></a><a href="chap1.html#58015">Preparing Cell Libraries</a><ul><li>
<a id="pgfId-1046725"></a><a href="chap1.html#78348">Preparing Library for Extraction</a></li><li>
<a id="pgfId-1046729"></a><a href="chap1.html#73045">Planning Your Design Guidelines</a></li></ul></li><li>
<a id="pgfId-1046733"></a><a href="chap1.html#74288">Creating an Analog Extracted View</a><ul><li>
<a id="pgfId-1046737"></a><a href="chap1.html#70688">Step 1: Comparing the Schematic and Layout Views Using PVS</a></li><li>
<a id="pgfId-1046741"></a><a href="chap1.html#65160">Step 2: Building an Extracted View using Cadence Quantus QRC Extraction</a></li><li>
<a id="pgfId-1046745"></a><a href="chap1.html#88348">Step 3: Building a Refined (Analog) Extracted View Using Parasitic Aware Design</a></li></ul></li><li>
<a id="pgfId-1046749"></a><a href="chap1.html#25063">Backannotating Parasitic Values</a><ul><li>
<a id="pgfId-1046753"></a><a href="chap1.html#51057">Preparing for Resistance Backannotation (Running a DC Analysis)</a></li><li>
<a id="pgfId-1046757"></a><a href="chap1.html#28906">Backannotation Labelling</a></li></ul></li><li>
<a id="pgfId-1046761"></a><a href="chap1.html#30129">Performing Backannotation</a><ul><li>
<a id="pgfId-1046765"></a><a href="chap1.html#12556">Backannotating From the Parasitics Menu</a></li><li>
<a id="pgfId-1046769"></a><a href="chap1.html#35165">Backannotating From ADE Explorer</a></li></ul></li><li>
<a id="pgfId-1046773"></a><a href="chap1.html#64278">Reporting and Probing Parasitic Values</a><ul><li>
<a id="pgfId-1046777"></a><a href="chap1.html#91703">Reporting Parasitic Instances</a></li><li>
<a id="pgfId-1046781"></a><a href="chap1.html#92149">Probing Parasitic Instances</a></li><li>
<a id="pgfId-1046785"></a><a href="chap1.html#15151">Probing Buses for Parasitics</a></li></ul></li><li>
<a id="pgfId-1046789"></a><a href="chap1.html#61573">Creating a Configuration</a></li><li>
<a id="pgfId-1046793"></a><a href="chap1.html#18310">Simulating the Design in ADE Explorer</a></li></ul>


















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046794"></a>See also an <a href="chap1.html#51504">Analog Design Flow Supported by Parasitic Aware Design</a>.</div>

<h3>
<a id="pgfId-1046904"></a><a id="58015"></a>Pre<a id="PreparingCellLibs"></a>parin<a id="marker-1046902"></a>g Cell<a id="marker-1046903"></a> Libraries</h3>

<p>
<a id="pgfId-1046905"></a>Before proceeding to create an extracted view using Quantus QRC, you need to provide the following views and component description format (CDF) information for analog primitives and parasitic cells.</p>

<p>
<a id="pgfId-1046932"></a></p>
<table class="webflareTable" id="#id1046906">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1054631">
<a id="pgfId-1054631"></a>Anal<a id="marker-1054630"></a>og primitives must have:</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054633"></a>a symbol cellview<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1054634"></a>For information on how to create a symbol cellview, see the &#8220;Creating The Symbol View&#8221; section in the SpectreHDL Reference manual.</div></li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054636"></a>a layout cellview or extraction rules that the extractor will recognize</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054638"></a>a model that matches the simulator you use</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054640"></a>an <code>auLvs</code> cellview that provides parameter values used by layout versus schematic (LVS)</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<ul><li>
<a id="pgfId-1054642"></a>the <code>permuteRule</code> parameter added to the CDF simulation information for the auLvs view</li></ul>
<blockquote id="#id1117838">
<a id="pgfId-1117838"></a>Often, device pins in the SmartView may be swapped by LVS or Quantus QRC. Parasitics require <code>permuteRule</code> in the CDF simulation information to properly bind such swapped pins. If your PDKs do not have the <code>permuteRule</code> specified in CDF and the CDF properties cannot be changed, it can result in the SmartView missing the pins or nets for parasitic devices. </blockquote>
<blockquote id="#id1117840">
<a id="pgfId-1117840"></a>To apply binding rules in the absence of CDF properties, the tool detects whether the <code>layoutXL.bindPermuteRules</code> environment variable is specified, and if found, applies its settings. </blockquote>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1054553"></a></p>
<table class="webflareTable" id="#id1054605">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1054609">
<a id="pgfId-1054609"></a>Paras<a id="marker-1054607"></a>itic cell<a id="marker-1054608"></a>s (e.g. presistors and pcapacitors) must have:</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054611"></a>a symbol cellview</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054613"></a>an <code>auLvs</code> cellview</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054615"></a>CDF simulation information for the <code>auLvs</code> view</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1054617"></a>CDF component parameters for resistance (R), inductance (L), and capacitance (C)</li></ul>

</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1054597"></a>If required, the <code>analogLib</code> library contains examples of analog primitives and parasitic cells that you can copy to create your cell library.</p>
<p>
<a id="pgfId-1046934"></a>You can find the <code>analogLib</code> in the following hierarchy:</p>
<p>
<a id="pgfId-1046935"></a><code>$CDS_INST_DIR/tools/dfII/etc/cdslib/artist/analogLib</code></p>

<h4>
<a id="pgfId-1046939"></a><a id="78348"></a>Preparin<a id="marker-1046937"></a>g Libra<a id="marker-1046938"></a>ry for Extraction</h4>

<p>
<a id="pgfId-1046940"></a>The following actions are required when preparing a library for parasitic extraction:</p>
<ul><li>
<a id="pgfId-1046941"></a>Describe the technology layers.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046943"></a>For details about technology layers refer to the <em><a actuate="user" class="URL" href="../techfileuser/techfileuserTOC.html#firstpage" show="replace" xml:link="simple">Incremental Technology Databases and Display Resources User Guide</a></em>.</div></li><li>
<a id="pgfId-1046944"></a>Add or modify the verification rules used by the PVS<sup> </sup>processes.<br />
<a id="pgfId-1055262"></a>PVS<sup> </sup>processes include: <br /><span class="indent-as-level2">
<a id="pgfId-1046946"></a>&#8211; Designed device extraction</span><br /><span class="indent-as-level2">
<a id="pgfId-1046947"></a>&#8211; Layout versus schematic (LVS)</span><br /><span class="indent-as-level2">
<a id="pgfId-1046948"></a>&#8211; Parasitic resistor and capacitor extraction (Quantus QRC)</span><br /><span class="indent-as-level2">
<a id="pgfId-1091359"></a>Refer to the <em>Quantus QRC Extraction Users Manual </em>for information on creating verification and extraction rules.</span><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046950"></a>You can use capacitance generation (<code>capgen</code>) to create the parasitic coefficients and files required for parasitic aware design.</div></li><li>
<a id="pgfId-1046951"></a>Prepare the PVS technology directory.<br />
<a id="pgfId-1046952"></a>This directory must contain all the designed device extraction rules, verification rules, and those files required for parasitic extraction. <br />
<a id="pgfId-1046953"></a>Again, refer to the <em>Quantus QRC Extraction Users Manual</em> for details about preparing the PVS technology directory.</li></ul>














<h4>
<a id="pgfId-1046956"></a><a id="73045"></a>Plan<a id="marker-1046955"></a>ning Your Design Guidelines</h4>

<p>
<a id="pgfId-1046957"></a>If you intend to extract parasitic components from the layout view and run a simulation with parasitics, you should use the following guidelines to avoid problems as you plan your design:<a id="marker-1046958"></a></p>
<ul><li>
<a id="pgfId-1046959"></a>Devices, with the <code>componentName</code> parameter (in <code>auLvs</code> simInfo), should be set to either:<ul><li>
<a id="pgfId-1046960"></a><code>pcapacitor</code></li><li>
<a id="pgfId-1046961"></a><code>presistor</code></li><li>
<a id="pgfId-1046962"></a><code>pinductor</code></li><li>
<a id="pgfId-1046963"></a><code>pdiode</code></li><li>
<a id="pgfId-1046964"></a><code>pmind</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046965"></a>This information is not directly required to run simulations with parasitics, but is necessary for parasitic probing between schematic and extracted views.</div></li></ul>
<a id="pgfId-1046966"></a>If you do use these names to define your parasitics, be sure to set the appropriate values to ensure that they are properly reported.</li><li>
<a id="pgfId-1046967"></a>Do not use the LVS <code>permuteDevice</code> parameter to match groups of components in a series as that makes it impossible to determine which device to use for waveform probing.</li><li>
<a id="pgfId-1046968"></a>You can use the Quantus QRC <code>?LvsMatchRequired</code> parameter to ensure that the extracted view can only be created if the layout and schematic match up.</li><li>
<a id="pgfId-1054421"></a>Set the <code>permuteRule</code> parameter for devices that have permutable terminals. Parasitic Aware Design uses this rule to detect terminals that have been permuted in the extracted view.</li></ul>










<p>
<a id="pgfId-1054513"></a>The syntax to set the <code>permuteRule</code> is <code>&quot;(p term1 term2)&quot;</code>. For example, for a MOS device with a permutable drain and source, you can set the <code>permuteRule</code> parameter as <code>&quot;(p D S)&quot;</code>. Similarly, for a resistor, you can set this parameter as <code>&quot;(p PLUS MINUS)&quot;</code>. </p>
<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-1054523"></a>If the <code>permuteRule</code> parameter is not set correctly, out-of-context probing and parasitic reporting may fail.</div>

<h3>
<a id="pgfId-1046972"></a><a id="74288"></a>Creati<a id="ExtractedView"></a>ng an Analog E<a id="marker-1046971"></a>xtracted View</h3>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1050689"></a>
The extracted view provides the crucial link between physical verification and mixed-signal simulation. When you create an extracted view, the layout and schematic views need to match in order to correctly associate the parasitics with the entire schematic network.</div>

<p>
<a id="pgfId-1046973"></a>Before attempting to generate an extracted view you should ensure that the following requirements are met:</p>
<ul><li>
<a id="pgfId-1050670"></a>You have successfully prepared your cell library (see <a href="chap1.html#58015">Preparing Cell Libraries</a>).</li><li>
<a id="pgfId-1050675"></a>The design adheres to the suggested design guidelines (<a href="chap1.html#73045">Planning Your Design Guidelines</a>).</li></ul>

<p>
<a id="pgfId-1046980"></a>With these tasks successfully completed, you will now utilize PVS to compare the layout view to the schematic view.</p>
<p>
<a id="pgfId-1050686"></a>PVS creates an internally formatted database from the layout view (this database contains only the designed devices). Quantus QRC then reads the database to extract the parasitics and to create the extracted view. This extracted view contains designed devices and parasitic devices.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046981"></a>For more information see <em>Quantus QRC Extraction Users Manual.</em></div>
<p>
<a id="pgfId-1046983"></a>The steps required for the successful creation of a refined analog extracted view are as follows:</p>
<ul><li>
<a id="pgfId-1046987"></a><a href="chap1.html#70688">Step 1: Comparing the Schematic and Layout Views Using PVS</a></li><li>
<a id="pgfId-1046991"></a><a href="chap1.html#65160">Step 2: Building an Extracted View using Cadence Quantus QRC Extraction</a></li><li>
<a id="pgfId-1046995"></a><a href="chap1.html#88348">Step 3: Building a Refined (Analog) Extracted View Using Parasitic Aware Design</a></li></ul>



<h4>
<a id="pgfId-1046998"></a><a id="70688"></a>Step 1: Com<a id="marker-1046997"></a>paring the Schematic and Layout Views Using PVS</h4>

<ol><li>
<a id="pgfId-1047001"></a>Start the Cadence software by entering an appropriate command at the prompt, for example: <br />
<a id="pgfId-1047002"></a><code>virtuoso &amp;</code><em> </em></li><li>
<a id="pgfId-1047003"></a>Choose <em>File &#8211; Open</em> in the CIW and open up a cell layout view to invoke the Virtuoso<sup>&#174;</sup> Layout Suite Editing window (for example, Layout XL).</li><li>
<a id="pgfId-1047004"></a>In the Layout Suite Editing window, choose <em>Launch &#8211; Plugins &#8211; PVS</em>.<br />
<a id="pgfId-1050711"></a>The <em>PVS</em> menu is added to the menu bar of this window.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1055510"></a>PVS will need to be installed to be available as a plugin in the Layout window.</div></li><li>
<a id="pgfId-1055063"></a>Choose <em>PVS &#8211; Run LVS</em>. <br />
<a id="pgfId-1055418"></a>The <strong>
PVS LVS Run Submission</strong>
<a id="marker-1085583"></a> form appears.<br />
<a id="pgfId-1055451"></a><br /><div class="webflare-div-image">
<img src="images/121_PVS01.gif" /></div>
<a id="pgfId-1047014"></a>You can use <code>avCompareRule</code> <code>formGate(none)</code> to ensure that the connectivity between the layout and schematic views are fixed. For more information on this, refer to the <em>Physical Verification System User Guide</em>.</li><li>
<a id="pgfId-1047015"></a>If you want to load previously saved LVS run settings into the form, choose <em>File &#8211; Load Presets</em> and select a preset file name from the <em>Load Presets File</em> form.</li><li>
<a id="pgfId-1047016"></a>To create a new LVS run, perform the following steps:<ol><li>
<a id="pgfId-1055582"></a>Click Run Data to open the Run Data tab.</li><li>
<a id="pgfId-1055603"></a>On the Run Data tab, specify the path to the run directory in the <em>Run Directory</em> field.</li><li>
<a id="pgfId-1055642"></a>Click Rules to open the Rules tab.</li><li>
<a id="pgfId-1055594"></a>Specify the path of the technology mapping file in the <em>Technology Mapping File</em> field.</li><li>
<a id="pgfId-1055745"></a>From the <em>Technology</em> drop-down list, select a technology definition file for the process to be used.</li><li>
<a id="pgfId-1055773"></a>From the <em>Rule Set </em>drop-down list, select the name of the rule set to be used.</li><li>
<a id="pgfId-1055634"></a>Click Input to open the <em>Input</em> tab.</li><li>
<a id="pgfId-1055683"></a>Specify the library name, cell name, and view name of the layout and schematic views in the <em>Layout</em> and <em>Schematic</em> sections, as shown below.<br />
<a id="pgfId-1055733"></a><br /><div class="webflare-div-image">
<img src="images/121_PVS03.gif" /></div></li></ol></li></ol>


























<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1056256"></a>To search for the available cellviews, click <em>DFII Lib Mgr</em> to open the PVS: Select Cell View form.</div>
<ol><li style="list-style-type: none;background-image: none;"><ol><li>
<a id="pgfId-1056257"></a>Click Output to open the <em>Output</em> tab.</li><li>
<a id="pgfId-1055707"></a>Ensure that the Create QRC Input Data option in the <em>Additional Output</em> section is selected.<br />
<a id="pgfId-1055878"></a>This option generates the data required by Quantus QRC to perform parasitic extraction. </li><li>
<a id="pgfId-1055867"></a>Specify a name of directory in the <em>QRCDataDir</em> field. <br />
<a id="pgfId-1055897"></a>A subdirectory is created by this name and the data required by Quantus QRC is saved in it.</li><li>
<a id="pgfId-1055942"></a>Click LVS Options to open the LVS Options tab and select appropriate options.</li></ol></li><li>
<a id="pgfId-1047024"></a>Click <em>Submit to start a new LVS run</em>.</li></ol>










<p>
<a id="pgfId-1055986"></a>The <strong>
PVS Reports</strong>
 form is displayed. This form provides run status information. After the run is complete, the PVS LVS Run Status message box is displayed indicating the success status of the extraction results and the comparison results.</p>
<p>
<a id="pgfId-1056284"></a>You can click Errors List on the <strong>
PVS Reports</strong>
 form to display errors as the run progresses. For more details, see Checking LVS Run Report in the Cadence Physical Verification User Guide.</p>
<p>
<a id="pgfId-1055989"></a>If there are errors, the tool prompts you to open LVS DE. </p>
<ol><li>
<a id="pgfId-1056351"></a>Click Yes to open the <strong>
LVS Debug Environment</strong>
 and view the results and files of the LVS run.</li></ol>
<p>
<a id="pgfId-1047033"></a>For more details on how to debug an LVS run, refer to Debugging LVS Comparison Runs in Cadence Physical Verification User Guide.</p>

<h4>
<a id="pgfId-1047045"></a><a id="65160"></a>Step 2: <a id="QuantusExtraction"></a>B<a id="QuantusExtraction"></a>uildin<a id="marker-1047044"></a>g an Extracted View using Cadence Quantus QRC Extraction</h4>

<p>
<a id="pgfId-1055129"></a>Once the comparison between the schematic and layout views has completed, you now need to run Quantus QRC (Resistance/Capacitance and Inductance Extraction) to extract the parasitic devices and build the <code>av_extracted view</code>.</p>
<ol><li>
<a id="pgfId-1047047"></a>Select <em>Quantus QRC </em>&#8211; <em>Run PVS-QRC </em>from a layout session window.</li></ol>
<p>
<a id="pgfId-1047049"></a>The <strong>
QRC (PVS) Interface</strong>
<a id="marker-1047048"></a> form appears.</p>
<p>
<a id="pgfId-1056078"></a></p>

<div class="webflare-div-image">
<img src="images/121_PVS_QRC.gif" /></div>

<ol><li>
<a id="pgfId-1047055"></a>In the Design Cell Name field, specify a name for the design cell.</li><li>
<a id="pgfId-1056094"></a>In the <em>PVS/QRC Data Directory </em>field, specify the path to the directory where the results of PVS were saved for Quantus QRC.</li></ol>

<p>
<a id="pgfId-1056142"></a>This is the same subdirectory name that you specified in the Output tab of the LVS Run Submission form. Refer to step k in the previous section.</p>
<ol><li>
<a id="pgfId-1047058"></a>Ensure that the required QRC technology library is selected in the QRC Tech Lib field and the technology name is selected in the Technology field.</li><li>
<a id="pgfId-1056164"></a>Click <em>OK</em> to select the run.</li></ol>

<p>
<a id="pgfId-1056201"></a>The <strong>
QRC (PVS) Parasitic Extraction Run</strong>
 form is displayed, as shown below.</p>
<p>
<a id="pgfId-1056205"></a></p>

<div class="webflare-div-image">
<img src="images/121_QRC02.gif" /></div>

<ol><li>
<a id="pgfId-1047065"></a>On the <em>Setup</em> tab, ensure that either <em>Extracted View</em> or <em>Smart View</em> is selected from the <em>Output</em> drop-down box.</li><li>
<a id="pgfId-1056421"></a>In the <em>View</em> field of the <em>Setup</em> tab, type the name of the view.</li></ol>

<p>
<a id="pgfId-1056422"></a>The default name for <em>Extracted View</em> is <code>av_extracted</code>, and in case of <em>Smart View</em><code> </code>it is<code> smart_view</code>, but you can create the extracted view using another name.</p>
<p>
<a id="pgfId-1056535"></a>On the Extraction tab, select an extraction type by using the Extraction Type drop-down list and specify options related to that extraction type.</p>
<p>
<a id="pgfId-1056539"></a><a id="QRC_extraction_tab"></a></p>

<div class="webflare-div-image">
<img src="images/121_PVS_QRC_ext_tab.gif" /></div>

<ol><li>
<a id="pgfId-1056413"></a>Enter an appropriate entry (for example <code>gnd!</code>) in the <em>Ref Node</em> field of the <em>Extraction</em> tab.<br />
<a id="pgfId-1047069"></a><em>Ref Node</em> is a capacitance extraction option for grounding caps. Capacitance is decoupled to the specified <em>Ref Node</em>.</li><li>
<a id="pgfId-1047070"></a>Click <em>OK</em> to start the Quantus QRC run.</li></ol>


<p>
<a id="pgfId-1056989"></a>A progress form, which shows the progress of the Quantus QRC run, is displayed. When the Quantus QRC run is complete, a message box is also displayed showing the success status.</p>
<p>
<a id="pgfId-1056992"></a>With the extracted view created, you can now use parasitic aware design to build an analog extracted view which can be used to filter parasitic devices.</p>
<p>
<a id="pgfId-1047073"></a>For more information on Quantus QRC, see the <em>Quantus QRC Extraction Users Manual</em>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1090474"></a>It is not recommended to edit the extracted view. To modify parasitic values and check results without running simulations, use the<a actuate="user" class="URL" href="../parasim/chap1.html#parasiticsRefineExtracted" show="replace" xml:link="simple"> Refine Extracted View</a> to filter multiple extracted parasitics by values or use the parasitic filters to filter parasitics based on values. You can proceed to run simulations with this refined extracted view. </div>
<p>
<a id="pgfId-1090470"></a></p>

<h4>
<a id="pgfId-1047076"></a><a id="88348"></a>Step 3: Build<a id="marker-1047075"></a>ing a Refined<a id="parasiticsRefineExtractedView"></a> (Analog) Extracted View Using Parasitic Aware Design</h4>

<p>
<a id="pgfId-1047077"></a>The final step in this process is to build an analog extracted view using parasitic aware design functionality that is derived from the extracted view created using Quantus QRC.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047078"></a>You cannot set up parasitic aware design on a non-Quantus QRC view, for example a layout. If you attempt to do this, a warning message is displayed advising you to open either a schematic or a Quantus QRC extracted view, before continuing to select <em>Launch &#8211; Parasitics</em> (in Schematics L/XL) to add the <em>Parasitics</em> menu.</div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1047079"></a>
You do not need to perform this step to <em>simulate</em> the Quantus QRC extracted view, or to perform parasitic probing or back annotation of parasitic values (other than resistance). Building an <code>av_analog_extracted</code> view is only necessary if you want to filter parasitic devices out of the extracted view for a quicker simulation.</div>

<ol><li>
<a id="pgfId-1047080"></a>Select <em>Launch &#8211; Parasitics</em> (in Schematics L/XL) from an extracted or schematic view.<br />
<a id="pgfId-1047081"></a>This will add a <em>Parasitics</em> menu to the schematic editor menu bar.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050238"></a>The <em>Parasitics</em> menu is displayed by default when you are working with ADE Explorer or ADE Assembler.</div></li><li>
<a id="pgfId-1047082"></a>Select <em>Parasitics &#8211; Setup</em> from the <em>Parasitics</em> menu.<br />
<a id="pgfId-1047083"></a>This will display the Setup Parasitics form where you can specify which views to use. If opened from a schematic you will only need to specify which extracted view to use (and vice versa).<br />
<a id="pgfId-1047087"></a><div class="webflare-div-image">
<img src="images/610_SetupForm.gif" /></div></li><li>
<a id="pgfId-1047088"></a>In the <em>Extracted Cellview</em> section, ensure that you have selected the <code>av_extracted</code> view that was created in <a href="chap1.html#65160">Step 2: Building an Extracted View using Cadence Quantus QRC Extraction</a>.</li><li>
<a id="pgfId-1047092"></a>Click the <em>OK</em> button to setup parasitics.</li><li>
<a id="pgfId-1047093"></a>Select <em>Parasitics &#8211; Refine Extracted View</em> from the Parasitics menu.<br />
<a id="pgfId-1047094"></a>This will display the Refine Extracted View form.<br />
<a id="pgfId-1047098"></a><div class="webflare-div-image">
<img src="images/610_RefineExtractedViewForm.gif" /></div></li><li>
<a id="pgfId-1047110"></a>Enter the new extracted view name in the <em>View Name</em> text field. The default refined analog extracted view name is <code>av_analog_extracted</code>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047111"></a>If this field is not completed, and you attempt to run <em>Refine Extracted View</em>, the following message will be displayed in the CIW log window:</div>
<a id="pgfId-1047112"></a><code>WARNING: No analog view name specified. Specify a name in the &#8217;Refine Extracted View&#8217; form under the Analog Extracted View Name field.</code></li><li>
<a id="pgfId-1047113"></a>Click <em>OK</em>.<br />
<a id="pgfId-1047114"></a>The Refine Extracted View form closes and <code>av_analog_extracted</code> (or your renamed view) is created and available for parasitic aware design.<a id="58499"></a><a id="13137"></a><br />
<a id="pgfId-1051063"></a>After the refine extracted view has been created, a window is displayed summarizing the parasitics in the new view. This information is also outputted to the CIW.</li></ol>























<h3>
<a id="pgfId-1047121"></a><a id="25063"></a>Ba<a id="Backannotate"></a>ckannota<a id="marker-1047119"></a>ting P<a id="marker-1047120"></a>arasitic Values</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047122"></a>If you are using Virtuoso&#174; UltraSim, you can use your <code>mmsim</code> license to run Spectre for backannotation purposes.</div>

<h4>
<a id="pgfId-1047127"></a><a id="51057"></a>Preparin<a id="DCAnalysis"></a>g for Re<a id="marker-1047125"></a>sistance Backannotation (Running a D<a id="marker-1047126"></a>C Analysis)</h4>

<p>
<a id="pgfId-1047128"></a>Backannotation of resistance values is dependent upon the results of a DC analysis of the extracted view. Whole net probing and the design report (see <a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a>) also make use of the DC analysis results. In all cases, the requirements on the simulation data are the same.</p>
<p>
<a id="pgfId-1047132"></a>This section therefore describes the actions and requirements you must perform and meet to provide suitable simulation data.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047134"></a>The simulators currently supported are Ultrasim and Sp<a id="marker-1047133"></a>ectre.</div>
<ul><li>
<a id="pgfId-1047136"></a>Action 1: Provide and configure a suitable testbench that uses Spectre to simulate the chosen extracted view<a id="marker-1047135"></a></li></ul>
<p>
<a id="pgfId-1047137"></a>Requirements:</p>
<ul><li>
<a id="pgfId-1047138"></a>The testbench must ensure that all nets in the design are stimulated.</li><li>
<a id="pgfId-1047139"></a>It does not matter where in the hierarchy the extracted view appears, as parasitic aware design uses the hierarchical instance path to locate the simulation results for the extracted view that corresponds to the out-of-context schematic.</li><li>
<a id="pgfId-1047143"></a>When backannotation is invoked, the configuration (see <a href="chap1.html#61573">Creating a Configuration</a>) bindings must match those that were in place during simulation. This is required, as problems could arise if you change and save the config after a simulation is run.</li><li>
<a id="pgfId-1047144"></a><strong>Action 2:</strong> <em>Run a simulation of the testbench that includes a suitably configured DC analysis</em></li></ul>



<p>
<a id="pgfId-1047146"></a>Require<a id="marker-1047145"></a>ments:</p>
<ul><li>
<a id="pgfId-1047147"></a>The analysis must be configured to save DC operating Point. This is part of the DC Analysis in Spectre and the Transient Analysis in Ultrasim.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1054375"></a>For information on running a DC operating point analysis, see Setting Up for an Analysis in the <em><a actuate="user" class="URL" href="../Explorer/ExplorerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Explorer User Guide</a></em>.</div></li><li>
<a id="pgfId-1054378"></a>The analysis must not be swept.</li><li>
<a id="pgfId-1054395"></a>The DC analysis must use the <code>gmin</code><a id="marker-1054377"></a> simulator option to ensure that the current flows through nonlinear devices and nets with no DC path to ground.<br />
<a id="pgfId-1047150"></a>The <code>gmin</code> value should be set low enough so as not to impact the DC solution. Setting the <code>gmin</code> value as low as possible will also provide for more accurate effective R results. Spectre or Ultrasim - the simulators that support <a href="chap1.html#69948">Effective R Calculations</a> - will issue a warning if the <code>gmin</code> value is too high. However, the lower the <code>gmin</code> value, the increase in the likelihood that the simulation will not converge. Additionally, you may also want to consider attempting to create a R-only extracted view which could reduce the influence of capacitors on the net.<br />
<a id="pgfId-1047154"></a>Using the <code>gmin</code> convergence option is the default.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047155"></a>If the <code>gmin</code> influence is significant, in terms of the net current, then the resistors placed around the capacitors, for a <code>dcOp</code> calculation, will create a significant contribution to results, and will be reflected as distorted resistance values. For example, if you receive the <code>gmin</code> warning, R values may be reported in the 100 megohm range, when in fact they are in the ~10 ohm range.</div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1047156"></a>
If you are caught between the choice of continuing with no convergence or proceeding with a value that generates a <code>gmin</code> warning, you should proceed with the warning-generating value, but only consider returned backannotation values as &#8220;approximations&#8221;, suitable only for quick feedback.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047157"></a>You can set the <em>gmin</em> option in the Simulator Options form, which is accessible via an ADE Explorer window by selecting <em>Simulation &#8211; Options &#8211; Analog</em> in the <em>Resistance Options</em> section (in ADE Explorer or ADE Assembler if you right-click on a Spectre or UltraSim test, an <em>Options &#8211; Analog</em> selection will be displayed). For more information on adjusting Spectre&#8217;s tolerances, see the Spectre Circuit Simulator User Guide - Identifying Problems and Troubleshooting chapter.</div></li></ul>










<p>
<a id="pgfId-1047159"></a>Running the testbench simulation will produce two datasets of interest:</p>

<ol><li>
<a id="pgfId-1047161"></a><code>dcOp</code><a id="marker-1047160"></a><br />
<a id="pgfId-1047162"></a>A dataset that contains all saved node voltages.</li><li>
<a id="pgfId-1047164"></a><code>dcOpInfo</code><a id="marker-1047163"></a> <br />
<a id="pgfId-1047165"></a>A dataset which contains DC operating-point data for each instance in the design. This will include terminal currents, voltage drop between terminals, and device power consumption.</li></ol>







<h4><em>
<a id="pgfId-1047167"></a><a id="69948"></a>Effective R Cal<a id="effectiveR"></a>culations</em></h4>

<p>
<a id="pgfId-1057434"></a>An effective R value is a single number distillation of complex physical parasitic networks, including power dissipation and current. The use of a single number makes annotation to each logical net of the schematic possible. You can use this single effective R value, per net, to monitor changes to the layout that are made at each iteration request. This will check and confirm that you are correctly reducing the parasitics on key nets.</p>
<p>
<a id="pgfId-1057435"></a>This value also normalizes the parasitic network on each net, even though the parasitic network itself may be considerably different between iterations. This could be due to changes in the layout of the net, or the layout around it, that influences its parasitics, for example the number of parasitic elements and connectivity. Alternatively, parasitic networks could also change as a result of Assura parameters, such as fracture length.</p>
<p>
<a id="pgfId-1057422"></a>The DC simulation results are used to calculate the backannotated resistance. These results can have different values for the same design, based on the value of <code>gmin</code> compared to the design component values (see also <a href="chap1.html#51057">Preparing for Resistance Backannotation (Running a DC Analysis)</a>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1047168"></a>
Effective resistance (effective R) backannotated values are only intended for use as guideline estimates. They are not intended as accurate reference values for use in simulations. The values generated are not &#8220;real&#8221; resistance values but can be useful for comparisons with effective resistance of other nets, or between extractions of different versions of the layout (for example one version of a layout could have significantly reduced the parasitics on a particular net). It is impossible to accurately reduce a complex net to a single resistance value. Effective resistances are calculated using a &#8220;delta power&#8221; method.</div>

<p>
<a id="pgfId-1092537"></a>Calculation of effective R is based on the current at the source (iS) and drain (iD). If iS == 0 and iD == 0 then effective R is not calculated as there is no current flow and no power. If either of iS or iD is a non-zero value, effective R is calculated as: </p>
<p>
<a id="pgfId-1057473"></a></p>

<div class="webflare-div-image">
<img width="652" height="99" src="images/chap1-45.gif" /></div>

<p>
<a id="pgfId-1057474"></a>Where,</p>
<p>
<a id="pgfId-1057478"></a>I is current at source if <img width="47" height="24" src="images/chap1-46.gif" />
, or</p>
<p>
<a id="pgfId-1057482"></a>I is current at drain if <img width="53" height="25" src="images/chap1-47.gif" /></p>
<p>
<a id="pgfId-1047176"></a>There may be a few thresholds involved while working out the current. For example, there can be an initial threshold from the DC-OP attribute &#8220;abstol(I)&#8221;. If this does not exist, then the environment variable, mspsAv currentThreshold, is used. If the environment variable is missing, <img width="72" height="27" src="images/chap1-48.gif" />
 is used.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1053490"></a>The use of effective R calculations with MOS devices can be difficult. This is due to MOS devices normally being set to either on or off; in these states there is a reliance on leakage currents to perform effective R computation. This can result in less meaningful results if the current is minuscule.</div>
<p>
<a id="pgfId-1092367"></a>Effective R value is a measure of the power lost through the parasitic resistor network (or equivalently, the delta between the power entering the network and the power leaving the network), normalized by the total current entering (or leaving) the network.</p>
<p>
<a id="pgfId-1092368"></a>Combining <code>V=IR</code> with <code>P=VI</code>, it is calculated as:</p>
<p>
<a id="pgfId-1092602"></a></p>

<div class="webflare-div-image">
<img width="652" height="99" src="images/chap1-49.gif" /></div>

<p>
<a id="pgfId-1092370"></a>where:</p>
<p>
<a id="pgfId-1092371"></a><code>P</code> is the sum of the power through the parasitic resistors in the network.</p>
<p>
<a id="pgfId-1092372"></a><code>I</code> is the current entering (or leaving) the network.</p>
<p>
<a id="pgfId-1092278"></a>There could be situations where the capacitor was annotated correctly, but the effective resistance is not annotated on each node. In such cases, the Spectre log reports that a large number of parasitic resistors, <code>pRes</code>, have been reduced when the <em>Enable Post Layout Optimization</em> option in the High Performance Simulation Options form is used. This is why currents for parasitic resistors, <code>pRes</code>, are not saved by Spectre and parasitic aware design reports effective R as <code>0</code> for most of the nets. </p>
<p>
<a id="pgfId-1091971"></a>To see the effective R when effective R annotations are not available, deselect the <em>Enable Post Layout Optimization</em> option in the High Performance Simulation options form. </p>

<h4>
<a id="pgfId-1047181"></a><a id="28906"></a>Ba<a id="Labelling"></a>ckannotation Labelling</h4>

<p>
<a id="pgfId-1047184"></a>Assuming that you have suitable simulation results at hand (see <a href="chap1.html#51057">Preparing for Resistance Backannotation (Running a DC Analysis)</a>), backannotation can be performed.</p>
<p>
<a id="pgfId-1047186"></a>Parasitic aware design provides you with the functionality to annotate parasitic resistance (R), capacitance (C) and inductance (L) values on the schematic when <a href="chap1.html#34712">Parasitics &#8211; Show/Hide Parasitics</a> is used.</p>
<ul><li>
<a id="pgfId-1047190"></a>Analog Designers use many tools and techniques, including dynamic-analysis tools such as simulators, and static-analysis like parasitic aware design, to understand the impact that the post-layout parasitics have had on their previously &#8220;ideal&#8221; design. In order to identify spots where values of parasitic resistance are a concern, designers want to display and analyze the resistance values of these networks of resistors using parasitic aware design and ADE Explorer or ADE Assembler/Schematics L/XL. Physical hot spots are identified as unacceptably large values annotated onto logical schematic nets by parasitic aware design. For resistances, these values represent the &#8216;effective resistance&#8217; of each net (see <a href="chap1.html#69948">Effective R Calculations</a>), regardless of the complexity of the parasitic networks that each represents, or the number of net terminals.<ul><li>
<a id="pgfId-1047194"></a>~ label<br />
<a id="pgfId-1047195"></a>If a net has two or more terminals, the R value will use an approximation symbol (~) to indicate that the value uses the delta power method to approximate a resistance for the net.</li><li>
<a id="pgfId-1047196"></a>- - label<br />
<a id="pgfId-1047197"></a>The &#8220;- -&#8221; label indicates that you have backannotated without any simulation results being set up.</li><li>
<a id="pgfId-1047198"></a><strong>NA label</strong><br />
<a id="pgfId-1047199"></a>If the necessary simulation results are not available to allow delta power calculations for specific nets, for example, where a subset of voltages or currents have not been saved, the annotated R value will display the string &#8220;NA&#8221; for &#8220;Not Available&#8221;. <br />
<a id="pgfId-1047200"></a>If a string with NA is displayed, a (one off) message will be displayed in the CIW as follows:<br />
<a id="pgfId-1047201"></a><code>&#8220;Parasitic R values are not available due to missing/incomplete simulation results. Please run a DC analysis and supply the path to the results directory via the Parasitics Setup form.&#8221;</code></li><li>
<a id="pgfId-1047202"></a><strong>NS label</strong><br />
<a id="pgfId-1047203"></a>If a net is not stimulated during simulation, the current through it will be 0, which makes it impossible to calculate an effective R value. in such cases, the annotated R value will be the string &#8220;NS&#8221; for &#8220;Not Stimulated&#8221;.<br />
<a id="pgfId-1047204"></a>If a string with NS is displayed, a (one off) message will be displayed in the CIW as follows:<br />
<a id="pgfId-1047205"></a><code>&#8220;Effective R values are not available on nets with no stimulus (nets with &#8216;r=NS&#8217;). Review the simulation test bench to ensure that there is current through the net and resimulate.&#8221;</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047206"></a>&#8220;Not stimulated&#8221; basically means having no current flowing through the net. This can occur in DC simulation if all the parasitic resistances are removed from the net. For example, if the extraction did not include R extraction, or if the extracted view, that is being simulated, has been refined so that parasitic Rs have been removed from the net.</div></li></ul></li><li>
<a id="pgfId-1047207"></a>The value displayed for C is an arithmetic sum of parasitic capacitance.<ul><li>
<a id="pgfId-1047208"></a> label<br />
<a id="pgfId-1047209"></a>The C value will use a sigma () sign to indicate that it is a sum of the parasitic capacitances associated with the net.</li></ul></li><li>
<a id="pgfId-1047210"></a>The value displayed for L is an arithmetic sum of parasitic inductance.<ul><li>
<a id="pgfId-1047211"></a> label<br />
<a id="pgfId-1047212"></a>The L value will also use a sigma () sign to indicate that it is a sum of the parasitic inductance associated with the net.</li></ul></li></ul>






























<h4><em>
<a id="pgfId-1050943"></a>Persistence of Backannotation Labels</em></h4>

<p>
<a id="pgfId-1050944"></a>If you open a schematic cellview in edit mode, and perform backannotation, the backannotated labels will be persistent, and be written to the schematic database. However, if you open the schematic in read-only mode, the backannotated labels will only be temporary.</p>

<h3>
<a id="pgfId-1047222"></a><a id="30129"></a>Perfo<a id="PerformBackannotation"></a>rming Bac<a id="marker-1047221"></a>kannotation</h3>

<p>
<a id="pgfId-1047223"></a>Backannotation functionality is available through:</p>
<ul><li>
<a id="pgfId-1047224"></a>The <em>Parasitic</em> menu in Schematics L/XL</li><li>
<a id="pgfId-1047225"></a>The <em>Results &#8211; Annotate</em> menu option in ADE Explorer</li></ul>


<h4>
<a id="pgfId-1047228"></a><a id="12556"></a>Backannotating<a id="marker-1094679"></a> From the Parasitics Menu</h4>

<p>
<a id="pgfId-1047229"></a>For backannotation purposes, you can access parasitic aware design functionality, from a schematic window, by selecting <em>Launch &#8211; Parasitics</em> (in Schematics L/XL) to display a <em>Parasitics</em> menu (for more information see <a href="chap1.html#65892">Parasitics Menu</a>). There is a <em>Show/Hide Parasitics</em> toggle menu-item to inform you if annotation is currently active or not.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047234"></a>If you want to specify backannotation settings (<em>Font Size</em>, <em>X Offset</em>, <em>Y Offset</em>, and <em>Backannotate Value</em>), see <a href="chap1.html#31032">Parasitics &#8211; Options</a>.</div>
<p>
<a id="pgfId-1047238"></a>If you are attempting to backannotate via the <em>Parasitics</em> menu, you should first of all consider the following scenarios:</p>
<p>
<a id="pgfId-1047239"></a>Scenario 1: The Current Schematic Window is Associated With a Current ADE Session</p>
<p>
<a id="pgfId-1047240"></a>Here, the <em>Show/Hide Parasitics</em> toggle menu-item is identical to that in ADE Explorer (see <a href="chap1.html#35165">Backannotating From ADE Explorer</a>) and operates in the same manner. That is, no parasitic aware design setup is required to enable the <em>Show Parasitics</em> menu because the required information is available from the ADE session.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050150"></a>The ADE Explorer <em>Show/Hide Parasitics</em> toggle menu-item is only available when out-of-context, so you have to descend from the top schematic.</div>
<p>
<a id="pgfId-1047244"></a>Scenario 2: The Schematic Window is NOT Associated With a Current ADE Session</p>
<p>
<a id="pgfId-1047247"></a>In this scenario, you are required to perform the parasitics setup step (see <a href="chap1.html#34937">Parasitics &#8211; Set Up</a>) so that parasitic aware design can locate the simulation results directory and extracted views.</p>
<p>
<a id="pgfId-1050151"></a>Only after setup is completed will you be able to annotate parasitic values.</p>

<h4><em>
<a id="pgfId-1047250"></a>Verifying a Co<a id="marker-1047249"></a>nfiguration Setup</em></h4>

<p>
<a id="pgfId-1047254"></a>When a configuration setup (<a href="chap1.html#34937">Parasitics &#8211; Set Up</a>) is used, you can specify the design that was simulated, the simulator, and the simulation results directory. When you click the <em>OK</em> or the <em>Apply</em> buttons in the Setup form, parasitic aware design will check that the results directory is valid and will also verify that it contains the <code>dcOp</code> and <code>dcOpInfo</code> datasets. If the directory specified does not meet these requirements, an error will be displayed and the <em>Show Parasitics</em><a id="marker-1047255"></a> menu-item will remain disabled.</p>

<p>
<a id="pgfId-1047259"></a></p>
<div class="webflare-div-image">
<img src="images/610_SetupForm2.gif" /></div>

<p>
<a id="pgfId-1047260"></a>Where a schematic is associated with an ADE session (<em>Scenario 1</em> above), the Setup parasitics form will still be available. The simulation cellview, <em>Simulator</em>, and <em>Results Directory for R Calculation</em> fields will mirror the settings in the Analog L session and will consequently be disabled. This therefore means that you cannot change any parasitic aware design settings so that they are out of sync with ADE. It also indicates that other parasitic aware design functionality must use the simulated design from ADE, when available, to determine what extracted view to use, and that other parasitic aware design functionality must be able to operate under a configuration.</p>

<h4>
<a id="pgfId-1047264"></a><a id="35165"></a>Backan<a id="marker-1094653"></a>notating From<a id="marker-1094654"></a> ADE Explorer</h4>

<p>
<a id="pgfId-1047268"></a>Setting up parasitics (see <a href="chap1.html#34937">Parasitics &#8211; Set Up</a>) is normally required before parasitic aware design functions are enabled. However, with all the information, that parasitic aware design requires to determine the extracted view being available in the ADE session, along with the simulation results directory, the setup step is not required.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1047270"></a>
The only requirement criteria to enable the <em>Show Parasitics</em><a id="marker-1094645"></a> menu option (see Step 4 below), is the existence of the <code>dcOp</code> and <code>dcOpInfo</code> datasets in the current simulation results read directory, and that you are currently out-of-context.</div>

<p>
<a id="pgfId-1047271"></a>Backannotating from ADE Explorer therefore requires the following steps:</p>

<ol><li>
<a id="pgfId-1047272"></a>ADE Explorer must be started from the top-level schematic of a configuration view. You must therefore open a configuration view, then open the top-level schematic view.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047273"></a>If ADE Explorer is already open, you can choose the configuration by selecting <em>Setup &#8211; Design</em> and choosing the appropriate design.</div></li><li>
<a id="pgfId-1047275"></a>Select <em>Launch &#8211; ADE </em>Explorer to display the Virtuoso ADE Explorer window.<a id="marker-1094629"></a><br />
<a id="pgfId-1047279"></a><div class="webflare-div-image">
<img src="images/610_ADE_L.gif" /></div></li><li>
<a id="pgfId-1047280"></a>From here, select <em>Results &#8211; Annotate</em>.<br />
<a id="pgfId-1047281"></a>This displays a sub-menu which includes <em>Show Parasitics and Hide Parasitics</em>. The <em>Show/Hide Parasitics</em> menu entries are enabled dependent upon whether parasitic aware design is active or not.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048147"></a><em>Results &#8211; Annotate</em> is only enabled when <code>dcOp point</code> simulation results are available. That is, parasitics will only be shown when effective resistances (see <a href="chap1.html#69948">Effective R Calculations</a>) can be calculated using the results. It will not be enabled to show basic results with <code>R=N/A</code> with any other type of simulation results.</div></li><li>
<a id="pgfId-1047282"></a>Click the <em>Show Parasitics</em> menu option.<br />
<a id="pgfId-1047283"></a>Selecting <em>Show Parasitics</em> causes the schematic editor window, associated with the current ADE Explorer session, to show parasitic annotations when displaying in an out-of-context schematic. When the schematic is in-context, no parasitics will be displayed and a message is displayed in the CIW to inform you why there are no annotations. As you navigate through the schematic hierarchy, the annotations will change as appropriate.<br />
<a id="pgfId-1047284"></a>If the DC simulation results do not include the necessary data for a specific net, then an annotation of &#8220;NA&#8221; (Not Available) will be set.<br />
<a id="pgfId-1047285"></a>Parasitic annotation will remain active until you choose to <em>Hide Parasitics</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047288"></a>If there are no DC simulation results available (see <a href="chap1.html#28906">Backannotation Labelling</a>), and C annotation is disabled, <em>Show Parasitics</em> will be grayed out. Likewise, if there has been no extracted view specified in the config.</div></li></ol>


















<h4><em>
<a id="pgfId-1047291"></a>Readin<a id="marker-1047290"></a>g Simulation Results</em></h4>

<p>
<a id="pgfId-1047292"></a>You can change where the directory simulation results are read from by using the <em>Results &#8211; Select</em> option in ADE Explorer.</p>
<p>
<a id="pgfId-1047298"></a>ADE Explorer uses this directory when plotting data, annotating schematics, and annotating parasitics. Parasitic aware design looks for the <code>dcOp</code> and <code>dcOpInfo</code> datasets in the current simulation results directory. If you run a new simulation in ADE Explorer, ADE Explorer will send a message to parasitic aware design to hide backannotation labels, if they are visible, and discard any backannotation that is cached.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047299"></a>You can change the directory that simulation results are written to by selecting <em>Setup &#8211; Simulator/Directory/Host</em>.</div>

<h3>
<a id="pgfId-1047302"></a><a id="64278"></a>Reporting and Pro<a id="marker-1099496"></a>bing Parasitic Values</h3>

<p>
<a id="pgfId-1047304"></a>By probing the schematic <code>av_extracted</code><a id="marker-1099498"></a> or Smart View, you can examine the instances of parasitic components. The name, value, and net connectivity can be displayed for each parasitic instance.</p>
<p>
<a id="pgfId-1047305"></a>To view the parasitic instances in the <code>av_extracted</code> view for probing, the interconnect layers need to be marked as selectable in the layer selection window (LSW). Use the <em>AS</em> (All Selectable) button in the LSW to make all the layers selectable (<em>AS </em>is the default).</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1047306"></a>
<strong>Schematic View Terminals Correspond to Extracted View Net Segments</strong></div>

<p class="webflare-indent1">
<a id="pgfId-1047307"></a>In the extracted view, the terminals are not readily accessible. For example, they could be minuscule terminals on the pcapacitors, or they may not exist at all, as in the case of devices which are now just rectilinear layers. </p>
<p class="webflare-indent1">
<a id="pgfId-1047308"></a>Therefore, in the extracted view, you are required to select the net segments. The net names, such as &#8220;<code>1:netX</code>&#8221;, &#8220;<code>2:netX</code>&#8221;, and so on, come from PVS, and parasitic aware design does not have any control over the name ordering or continuous nature of the numbers. For example, for the schematic net &#8220;<code>NetX</code>&#8221;, the extracted view segment could be &#8220;<code>1:netX</code>&#8221;.</p>
<p class="webflare-indent1">
<a id="pgfId-1047309"></a>In summary, net-to-net probing, in the extracted view, returns parasitics between the selected net <em>segments</em>, rather than maintaining the same definition, as in the schematic view, where parasitics between the two &#8220;whole&#8221; schematic nets are returned.</p>

<h4>
<a id="pgfId-1047313"></a><a id="91703"></a>Repo<a id="ReportParasitics"></a>rting P<a id="marker-1047312"></a>arasitic Instances</h4>

<p>
<a id="pgfId-1047314"></a>To probe parasitic values, you should perform the following:</p>
<ol><li>
<a id="pgfId-1047315"></a>Select <em>Parasitics &#8211; Report Parasitics</em>.<br />
<a id="pgfId-1047316"></a>If the <em>Parasitics</em> menu is not on view in the current session window, you can display it by selecting <em>Launch &#8211; Parasitics</em> (in Schematics L/XL).</li><li>
<a id="pgfId-1047317"></a>Choose, from the sub-menu items, what kind of probing you want to perform: <em>Net</em>, <em>Net to Net</em>, <em>Terminal to Terminal</em>, <em>Net Capacitors</em> or <em>All Nets</em>.<br />
<a id="pgfId-1047322"></a>For more informa<a id="marker-1047318"></a>tion on these options see <a href="chap1.html#80721">Parasitics &#8211; Report Parasitics</a>.<br />
<a id="pgfId-1047323"></a>Selecting any of the first three report options listed (<em>Net</em>, <em>Net to Net</em>, <em>Terminal to Terminal</em>) will display the Parasitics report form. Go to Step 3.<br />
<a id="pgfId-1047324"></a>Selecting <em>Net Capacitors</em> will display the Capacitors for net form. Go to step 4.<br />
<a id="pgfId-1047325"></a>Selecting <em>All Nets</em> will display the All Parasitics (Design Report) form. Go to step 5.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047326"></a>The <code>NA</code> label indicates that Parasitic R values are not available due to missing or incomplete simulation results.</div></li><li>
<a id="pgfId-1047331"></a>The Parasitics report form allows you to choose which parasitic values and information to <em>Display</em>: <em>R</em>, <em>decoupled C</em>, <em>coupled C</em>,<em> self C</em>, <em>L</em>, and/or <em>K</em> (for descriptions of these values see <a href="chap1.html#68555">Display options</a>).<br />
<a id="pgfId-1047335"></a>You can sort the table by clicking on the required column header and save the report contents to a separate <code>.txt</code> or <code>.csv</code> file.<br />
<a id="pgfId-1047339"></a>See also <a href="chap1.html#92149">Probing Parasitic Instances</a>.</li><li>
<a id="pgfId-1047341"></a>The Ca<a id="marker-1047340"></a>pacitors for net report form displays the summed capacitances (<em>Sum C</em>) between the net and all nets that it is connected to via parasitic capacitors. No report will be generated for &#8220;0&#8221; capacitances, and no distinction is made between power/ground, and other nets.</li><li>
<a id="pgfId-1047343"></a>The All <a id="marker-1047342"></a>Parasitics form (Design Report) lists each net in the design, and the total value for the net, based on either the estimated or summed value. Again, the report information can be saved in either <code>.txt</code> or <code>.csv</code> format.<br />
<a id="pgfId-1047347"></a>For more information on the All Parasitics form, see <a href="chap1.html#68183">Reporting on All Nets</a>.</li></ol>













<p>
<a id="pgfId-1047348"></a>If you select a parasitic instance from the Parasitics report form, and the extracted view is open, then the extracted view is zoomed to the component symbol associated with the parasitic instance, and the cursor is moved to rest on the symbol (the <em>From</em> and <em>To</em> nets are also highlighted).</p>
<p>
<a id="pgfId-1047349"></a>This zoom feature works for the <em>Net</em>, <em>Net to Net</em>, <em>Terminal to Terminal </em>and<em> Net Capacitors </em>options<em>.</em></p>

<h4>
<a id="pgfId-1047353"></a><a id="92149"></a>Pro<a id="ProbeParasiticInstances"></a>bing Parasi<a id="marker-1047352"></a>tic Instances</h4>

<ul><li>
<a id="pgfId-1047354"></a>For <em>Terminal to Terminal</em> options click two pins or instance pins in the schematic or nets in the extracted view to collect all the parasitics between two points.</li><li>
<a id="pgfId-1047355"></a>For <em>Net to Net</em> options click two nets in the schematic or extracted view to collect parasitic capacitances between two different nets.<br />
<a id="pgfId-1047356"></a>To perform <em>Net to Net</em> probing, you must run Quantus QRC extraction using coupled capacitors (choose <em>Coupled</em> in the Cap <em>Coupling Mode </em>drop down list on the Extraction<a href="chap1.html#QRC_extraction_tab"> tab of the </a><strong>Quantus QRC Parasitic Extraction Run</strong> form).<br />
<a id="pgfId-1047357"></a>A list of the collected parasitic instances appears. Select an instance from this list to highlight the component symbol associated with this parasitic on the extracted view.</li></ul>




<h4>
<a id="pgfId-1047362"></a><a id="15151"></a>Prob<a id="ProbeBuses"></a>ing Buse<a id="marker-1047361"></a>s for Parasitics</h4>

<p>
<a id="pgfId-1047363"></a>To probe parasitic values in a bussed net, you should perform the following:</p>
<ol><li>
<a id="pgfId-1047364"></a>Select <em>Parasitics &#8211; Report Parasitics</em>.</li><li>
<a id="pgfId-1047365"></a>Choose either <em>Net</em> (continue to step 3), <em>Terminal to Terminal</em> (step 4), <em>Net to Net </em>(step 5) to display the <em>Parasitics for net </em>form<em>.</em></li><li>
<a id="pgfId-1047367"></a>For information about <strong>parasitics on whole nets</strong><a id="marker-1047366"></a>, click a bus in the schematic view to display the bits in the Select bits from bus form. Then:<ol><li>
<a id="pgfId-1047368"></a>Choose the bits of interest from the list (to select multiple bits, click and hold the <code>Shift</code> key while you select the bits, or choose the <em>Select All</em> option) and then click the <em>OK</em> button.</li><li>
<a id="pgfId-1047369"></a>The parasitics report form appears and <em>none</em> is displayed in the <em>Select</em> cyclic field (default state).</li><li>
<a id="pgfId-1047370"></a>Choose one or all of the bits in the <em>Select</em> cyclic field (use <em>Select All</em> to select all bits).<br />
<a id="pgfId-1047371"></a>An ordered list of the parasitics for the selected bus bit or bits appears.</li><li>
<a id="pgfId-1047372"></a>Sort the parasitics by <em>R</em>, <em>decoupled C</em>, <em>coupled C</em>, <em>L</em>, and/or <em>K</em> as required<em>.</em></li><li>
<a id="pgfId-1047373"></a>Click <em>Save</em> to write the probed parasitics to a file.<br />
<a id="pgfId-1047374"></a>The Save Parasitic Probes form appears.</li><li>
<a id="pgfId-1047375"></a>Enter the filename into the <em>Filename</em> field and click <em>OK</em>.</li></ol></li><li>
<a id="pgfId-1047377"></a>To collect all the <strong>parasitics between two points (terminals)</strong><a id="marker-1047376"></a>, click <em>Terminal to Terminal</em>, then select bits from the first bus terminal. The bits in the second terminal are automatically matched to the bits in the first terminal. Both selected terminals must be connected to the same net in the schematic. Then:<ol><li>
<a id="pgfId-1047378"></a>Choose the bits of interest from the <em>Select</em> bits from bus form.</li><li>
<a id="pgfId-1047379"></a>Choose one or <em>All</em> of the terminal pair bits from the <em>Select</em> cyclic field in the parasitic report form. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047380"></a>The Select Leaf Terminals form may appear if the selected terminal(s) have more than one leaf terminal. You will be asked here to firstly select the terminals you want to measure resistance values for.</div></li><li>
<a id="pgfId-1047381"></a>Click <em>Save</em> to write the probed parasitics to a file.</li></ol></li><li>
<a id="pgfId-1047383"></a>To collect all the <strong>parasitics between two nets</strong><a id="marker-1047382"></a>, click <em>Net to Net</em> and then select bits from each of the bus nets in the schematic view. Then:<ol><li>
<a id="pgfId-1047384"></a>Choose the bits of interest from the Select bits from bus form.</li><li>
<a id="pgfId-1047385"></a>Choose one or all of the bits from the two<em> Select</em> cyclic fields in the parasitic report form.<br />
<a id="pgfId-1047386"></a>The <em>Select</em> cyclic fields contain the selected bits for the two nets.</li><li>
<a id="pgfId-1047387"></a>Click <em>Save</em> to write the probed parasitics to a file.</li></ol></li><li>
<a id="pgfId-1047389"></a>To probe a bus for net capacitors, click<em> Net Capacitors</em><a id="bus_netcap"></a> and then click a bus in the schematic view to display the bits in the Select bits from bus form.<ol><li>
<a id="pgfId-1047390"></a>Choose the bits of interest from the list (to select multiple bits, click and hold the <code>Shift</code> key while you select the bits).</li><li>
<a id="pgfId-1047391"></a>Click <em>OK</em>.<br />
<a id="pgfId-1047392"></a>The parasitics report form appears and <em>none</em> is displayed in the <em>Select</em> cyclic field (default state).</li><li>
<a id="pgfId-1047393"></a>Choose one or all of the bits in the <em>Select</em> cyclic field (use <em>All</em> to select all bits).<br />
<a id="pgfId-1047394"></a>An ordered list of the parasitics for the selected bus bit or bits appears.</li><li>
<a id="pgfId-1047395"></a>Click <em>Save</em> to write the probed parasitics to a file.<br />
<a id="pgfId-1047396"></a>The Save Parasitic Probes form appears.</li><li>
<a id="pgfId-1047397"></a>Type the filename into the <em>Filename</em> field and click <em>OK</em>.</li></ol></li></ol>
















































<h3>
<a id="pgfId-1047401"></a><a id="61573"></a><a id="40912"></a>Creating a C<a id="marker-1047400"></a>onfiguration</h3>

<p>
<a id="pgfId-1047403"></a><a id="create config"></a>This section explains how to set up a configuration so that the simulator will run with the <code>av_analog_extracted</code><a id="marker-1047404"></a> view.</p>
<p>
<a id="pgfId-1047406"></a>The steps listed here for using the Hierar<a id="marker-1047405"></a>chy Editor to create a configuration are abbreviated. For complete information, see the <em><a actuate="user" class="URL" href="../cdshiereditor/cdshiereditorTOC.html#firstpage" show="replace" xml:link="simple">Cadence Hierarchy Editor User Guide</a></em>.</p>
<p>
<a id="pgfId-1047408"></a>To create a configuration for your design:</p>
<ol><li>
<a id="pgfId-1047409"></a>From the CIW, choose <em>File &#8211; New &#8211; Cellview</em>.<br />
<a id="pgfId-1047410"></a>The Create New File form appears.</li><li>
<a id="pgfId-1047415"></a>Choose the <em>Library Name</em> for the new file.</li><li>
<a id="pgfId-1047416"></a>Enter the <em>Cell Name</em> that you want to create the configuration for.</li></ol>



<p>
<a id="pgfId-1047417"></a>The top-level cell of your design is usually appropriate for use.</p>
<ol><li>
<a id="pgfId-1047418"></a>Enter the config name you want to use into the <em>View Name</em> field.</li><li>
<a id="pgfId-1047419"></a>Choose <em>Hierarchy-Editor</em> from the <em>Tool</em> drop-down list box.</li><li>
<a id="pgfId-1047420"></a>Ensure that the <em>Library path file</em> field correctly specifies the <code>cds.lib</code> file that contains the paths to your libraries.</li><li>
<a id="pgfId-1047421"></a>Click the <em>OK</em> button.</li></ol>



<p>
<a id="pgfId-1047423"></a>The Hierarchy Editor along with the New Config<a id="marker-1047422"></a>uration form is displayed.</p>
<ol><li>
<a id="pgfId-1047432"></a>In the New Configuration form, click the <em>Use Template</em> button located at the bottom of the form.</li></ol>
<p>
<a id="pgfId-1047434"></a>The Use Temp<a id="marker-1047433"></a>late form appears.</p>
<ol><li>
<a id="pgfId-1047435"></a>Select a template that is compatible with the simulator you are running from the <em>Name</em> drop-down list, for example <em>spectre</em>.</li><li>
<a id="pgfId-1047436"></a>Click <em>OK</em> in the Use Template form.<br />
<a id="pgfId-1047437"></a>The New Configuration form redisplays with default data for the <em>Top Cell</em> and <em>Global Bindings</em> sections. This allows you to modify a typical <em>View List</em> and <em>Stop List</em>, rather than creating them from scratch. Templates exist for each of the simulators.<br />
<a id="pgfId-1047439"></a>To create templates that provide defaults for these fields, see the <em><a actuate="user" class="URL" href="../cdshiereditor/cdshiereditorTOC.html#firstpage" show="replace" xml:link="simple">Cadence Hierarchy Editor User Guide.</a></em>)</li><li>
<a id="pgfId-1047440"></a>In the <em>Top Cell</em> section, enter the <em>Library</em>, <em>Cell</em> name, and schematic cell <em>View</em> from which to build the configuration.</li><li>
<a id="pgfId-1047441"></a>Click <em>OK</em>.<br />
<a id="pgfId-1047443"></a>The Hierarc<a id="marker-1047442"></a>hy Editor window displays your data.<br />
<a id="pgfId-1047444"></a>The Hierarchy Editor window configures the design by using a default <em>View List</em> and <em>Stop List</em> in the <em>Global Bindings</em> section. You need to modify these lists for your design.</li><li>
<a id="pgfId-1047446"></a>Use one of the following methods to specify the <code>extracted</code> view for the cells or blocks for which you want parasitics simulated.<br />
<a id="pgfId-1047463"></a><table class="webflareTable webflareTableIndent" id="#id1047447">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1047450">
<a id="pgfId-1047450"></a>To specify <a id="marker-1047449"></a>views for individual blocks</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1047453">
<a id="pgfId-1047453"></a>To sp<a id="marker-1047452"></a>ecify views for multiple blocks</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<csf-cell-step1list>
<ol><li>
<a id="pgfId-1047455"></a>In the<em> Instance Binding</em> section of the Hierarchy Editor window, position the cursor in the <em>View To Use</em> column of the appropriate block.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047456"></a>If the <em>Instance Binding</em> section is not visible in the window, select <em>View &#8211; Instance</em> <em>Table</em> to display this section.</div></li><li>
<a id="pgfId-1047457"></a>Press the right mouse key to display a list of commands.</li><li>
<a id="pgfId-1047458"></a>Choose <em>Select View </em>to display the list of views for this block.</li><li>
<a id="pgfId-1047459"></a>Choose <code>extracted</code> as the view for this block.</li></ol>





</csf-cell-step1list></td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1047461"></a>In the <em>Global Bindings</em> section of the Hierarchy Editor window, add <code>extracted</code> as the first view in the <em>View List</em> text field.<br />
<a id="pgfId-1047462"></a>This ensures that the <code>extracted</code> view is the selected view for every cell that has an <code>extracted</code> view.</li></ul>


</td>
</tr>
</tbody></table><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047464"></a>The <code>extracted</code> view mentioned above could be either <code>av_analog_extracted</code> or <code>av_extracted</code>.</div></li><li>
<a id="pgfId-1050971"></a>Choose <em>View &#8211; Update</em> to reconfigure the design to reflect your changes.</li></ol>














<p>
<a id="pgfId-1047465"></a>The Update Sync-up form appears.</p>
<ol><li>
<a id="pgfId-1047466"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1047467"></a>Choose <em>File &#8211; Save </em>to save the configuration with your changes.</li><li>
<a id="pgfId-1047468"></a>Choose <em>File &#8211; Exit </em>to close the Hierarchy Editor.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1047469"></a>
After you have created your configuration, you must descend out-of-context (descending into any cellview other than the simulation cellview) before simulating the design.</div></li></ol>




<h3>
<a id="pgfId-1047473"></a><a id="18310"></a>Simulatin<a id="SimulateDesign"></a>g the<a id="marker-1094603"></a> Design in ADE Explorer</h3>

<p>
<a id="pgfId-1047474"></a>Before you can run a simulator with an <code>extracted</code> view, you must first of all set up a configuration (see <a href="chap1.html#61573">Creating a Configuration</a>).</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1054777"></a>Spectre and Ultrasim are the only simulators supported for back annotation.</div>
<p>
<a id="pgfId-1047478"></a>After a successful simulation, you can select terminals and device pins on the schematic, and use the plot commands to display and probe the results in a waveform window. The resultant waveforms can then be used with A<a id="marker-1059156"></a>DE calculation and analysis tools. </p>
<p>
<a id="pgfId-1047483"></a><a id="simDesign"></a>To run the simulation:</p>
<ol><li>
<a id="pgfId-1047484"></a>In the config top-level schematic window, select <em>Launch &#8211; ADE Explorer</em>.<br />
<a id="pgfId-1047486"></a>The Virtuoso Analog Des<a id="marker-1094596"></a>ign Environment simulation window appears.</li><li>
<a id="pgfId-1047491"></a>Choose <em>Setup &#8211; Design</em>.<br />
<a id="pgfId-1047492"></a>The Choosing Design form appears.</li><li>
<a id="pgfId-1047497"></a>Choose the <em>Library Name</em> and <em>Cell Name</em> of your design.</li><li>
<a id="pgfId-1047498"></a>Select the <code>config</code> <em>View Name</em> for your design.</li><li>
<a id="pgfId-1047499"></a>Click the <em>OK</em> button.<br />
<a id="pgfId-1047500"></a>This view supplies configuration as well as schematic information.</li><li>
<a id="pgfId-1047501"></a>Back in the Analog L simulation window, choose your simulator, model path, environment variables, analyses, and simulator options.</li><li>
<a id="pgfId-1047502"></a>Choose <em>Simulation &#8211; Run</em>.<br />
<a id="pgfId-1047503"></a>When the simulation run completes you can select outputs and probe the design on the schematic.</li><li>
<a id="pgfId-1047504"></a>Choose <em>Outputs &#8211; To Be Plotted &#8211; Select On Schematic</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050979"></a>You can also use the <em>Results &#8211; Direct Plot</em>... options.</div></li><li>
<a id="pgfId-1047505"></a>To select current outputs, click terminals in the schematic or in the extracted views of the blocks where parasitics were extracted.<br />
<a id="pgfId-1047506"></a>To select voltage outputs, click nets in the schematic or in the extracted views of the blocks where parasitics were extracted.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047507"></a>The only places where connections on different views are guaranteed to match are on component terminals.</div>
<a id="pgfId-1052626"></a>The names of the selected signals are listed in the Outputs section on the Virtuoso Analog Design Environment simulation window.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1052628"></a>Irrespective of the view from which the signals are selected, their names listed in the Outputs section are always taken from the schematic view.</div></li><li>
<a id="pgfId-1052630"></a>Choose Outputs &#8211; Plot Outputs. Outputs will be plotted in the Virtuoso Visualization and Analysis XL window.</li></ol>


















<p>
<a id="pgfId-1057300"></a>If the output contains calculator functions with net names, in case of out-of-context probing, the net names might change for different extracted views. In such case, you can use the <a actuate="user" class="URL" href="../parasimSKILL/parasimSKILLFunctions_re_axlMapInstTermToNet.html" show="replace" xml:link="simple">axlMapInstTermToNet</a> SKILL function to dynamically obtain the net connected to a particular instance terminal in the extracted view from inside calculator expressions.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1057253"></a>
If a net is selected out-of-context (that is, it is selected from the schematic view of a block bound to an extracted view of a configuration), the voltage of one of the external net fragments from the corresponding parasitic net in the extracted view is plotted. The save statement in the netlist will contain all external net fragments. If you want to save both external and internal net fragments, set the <a href="appEnvVar.html#67139">saveOnlyExternalNodes</a> variable to <code>nil</code>.

If a terminal is selected out-of-context and the device has a multiplication factor, the sum of the current flowing through the terminals in each parallel device is evaluated and then plotted. In this case, the save statement in the netlist will contain the terminals of all the devices.</div>

<p>
<a id="pgfId-1057335"></a>For information on running a simulation in ADE Explorer or ADE Assembler see the <h-hot>Running a Simulation</h-hot> chapter in the <em><a actuate="user" class="URL" href="../Explorer/ExplorerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Explorer User Guide</a></em> or the <em><a actuate="user" class="URL" href="../assembler/assemblerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Assembler User Guide</a></em>.</p>

<h3>
<a id="pgfId-1054723"></a>Out-of-context Probing in ADE Explorer</h3>

<p>
<a id="pgfId-1056608"></a>A cellview is said to be in context when it is the view that is &quot;bound&quot; via configuration, that is, the view that is picked up by the simulator.</p>
<p>
<a id="pgfId-1056610"></a>A view can therefore be classified as being out of context when it is not the current bound view. For example, if you want to use an estimated view in your simulation, you need to set up a configuration that will override the default view for one or more instances, likely to be schematic, to be the estimated view.</p>
<p>
<a id="pgfId-1054813"></a>When you now simulate this design, any views that are bound to the estimated view will be netlisted to include the parasitics in them.</p>

<h4>
<a id="pgfId-1056639"></a>Performing Out-of-Context Probing</h4>

<p>
<a id="pgfId-1056641"></a>To perform out-of-context probing in ADE Explorer, right-click on an output value and select either:</p>
<p>
<a id="pgfId-1056645"></a><em>Results - Direct Plot - Transient Signal</em></p>
<p>
<a id="pgfId-1056647"></a>or</p>
<p>
<a id="pgfId-1056631"></a><em>Results - Plot Outputs - Transient Signal</em>.</p>
<p>
<a id="pgfId-1056817"></a>ADE Explorer plots the output in the Virtuoso Visualization and Analysis XL window and also opens the schematic view. Next, descend into a view that is not an estimated view, for example, the schematic view.</p>
<p>
<a id="pgfId-1056818"></a>To probe a signal, click the voltage signal at a point close to the terminal. The probe automatically jumps to the closest terminal on that net. An X appears on the selected terminal. You can select several terminals on the same net. Each selected terminal is marked with a different color X. The associated waveform displays in the same color as the X on the schematic.</p>
<p>
<a id="pgfId-1057161"></a>If the output contains calculator functions with net names, in case of out-of-context probing, the net names might change for different extracted views. In such case, you can use the <h-hot><a actuate="user" class="URL" href="../parasimSKILL/parasimSKILLFunctions_re_axlMapInstTermToNet.html" show="replace" xml:link="simple">axlMapInstTermToNet</a></h-hot> to dynamically obtain the net connected to a particular instance terminal in the extracted view from inside calculator expressions</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1054803"></a>
If a net is selected out-of-context (that is, it is selected from the schematic view of a block bound to an extracted view of a configuration), the voltage of one of the external net fragments from the corresponding parasitic net in the extracted view is plotted. The save statement in the netlist will contain all external net fragments. If you want to save both external and internal net fragments, set the <a href="appEnvVar.html#67139">saveOnlyExternalNodes</a> variable to <code>nil</code>.

If a terminal is selected out-of-context and the device has a multiplication factor, the sum of the current flowing through the terminals in each parallel device is evaluated and then plotted. In this case, the save statement in the netlist will contain the terminals of all the devices.</div>

<p>
<a id="pgfId-1050187"></a>For information on running a simulation in ADE Explorer, see the <h-hot>Running a Simulation</h-hot> chapter in the <em><a actuate="user" class="URL" href="../Explorer/ExplorerTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE Explorer User Guide</a></em>.</p>

<br /><a href="#pagetop">Return to top</a><br /></fn2-fig-inlist></fn2-fig-inlist></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="parasimTOC.html" id="prev" title="Contents">Contents</a></em></b><b><em><a href="chap2.html" id="nex" title="Parasitic Aware Design in ADE Explorer and ADE Assembler">Parasitic Aware Design in ADE  ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>