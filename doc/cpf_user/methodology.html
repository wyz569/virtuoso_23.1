
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="GENERATOR" content="Quadralay WebWorks Publisher AutoMap 6.0.7">
<meta name="TEMPLATEBASE" content="CadencePubs_HelpTopics">
<meta name="LASTUPDATED" content="Tue Oct 16 15:27:29 2012">

<script TYPE="text/javascript" LANGUAGE="JavaScript" >
  <!--
  // Dummy script statement to get rid of Netscape timing errors which may
  // print garbage JavaScript code at the top in Unix 4.x Netscape browser.
  // -->
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Browser.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Cookies.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Search.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript">
  <!--
  function window_resized(){
    window.location.reload();
  }
  window.onresize=window_resized;
                                                                                                                                                                
  /*
  * Initializes before submitting query
  */
  function initOnSubmit() {
    storeStateAndQuery();
  }
                                                                                                                                                                
  setCookie("DocumentTitle", "Common Power Format User Guide");
  setCookie("Chapter", "N/A");
  setCookie("Keyword", "search");
  setCookie("Version", "Product Version 2.2");

  // -->
  </script>


<title>Common Power Format User Guide -- 3. Process of Creating the CPF Content</title>
<META NAME="Approver" CONTENT="Technical Publications">
<META NAME="Author" CONTENT="Technical Publications">
<META NAME="CreateDate" CONTENT="2012-10-16">
<META NAME="CreateTime" CONTENT="1350426467">
<META NAME="DataType" CONTENT="Manuals">
<META NAME="Description" CONTENT="Describes how to use CPF">
<META NAME="DocTitle" CONTENT="Common Power Format User Guide">
<META NAME="DocType" CONTENT="Manual">
<META NAME="FileTitle" CONTENT="3. Process of Creating the CPF Content">
<META NAME="FileType" CONTENT="Chapter">
<META NAME="Keyword" CONTENT="cpf_user">
<META NAME="Language" CONTENT="English">
<META NAME="ModifiedDate" CONTENT="2012-10-16">
<META NAME="ModifiedTime" CONTENT="1350426467">
<META NAME="NextFile" CONTENT="hierarchical.html">
<META NAME="PageCount" CONTENT="16">
<META NAME="Platform" CONTENT="ALL">
<META NAME="PrevFile" CONTENT="create_cpf.html">
<META NAME="Product" CONTENT="Languages">
<META NAME="ProductFamily" CONTENT="Cadence Shared Tools">
<META NAME="ProductVersion" CONTENT="2.0">
<META NAME="RightsManagement" CONTENT="Copyright 2006 Cadence Design Systems Inc.">
<META NAME="Title" CONTENT="Common Power Format User Guide -- 3. Process of Creating the CPF Content">
<META NAME="TopicTags" CONTENT="FALSE">
<META NAME="Version" CONTENT="2.0">
</head>

<body bgcolor="#ffffff">
<a name="firstpage"></a>
<a name="pagetop"></a>

<p>
<!-- Begin Buttons -->

<form name="advancedform" action="/vtopic.isapi" method="GET" onSubmit="initOnSubmit()">
<input type=hidden name="action" value="FilterSearch">
<input type=hidden name="Filter" value="altsearchfilter.hts">
<input type=hidden name="resulttemplate" value="altsearchresults.hts">
<input type=hidden name="resultcount" value="10">
<input type=hidden name="resultmaxdocs" value="-1">
<input type=hidden name="queryhidden" value="null">
<input type=hidden name="queryitemselected" value="no">

<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="36" width="650" colspan="10"><img src="../support/header_doc.gif" WIDTH="650" HEIGHT="36"></td>
</tr>
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="cpf_userTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><img src="../support/nav2_index_b.gif" border="0" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="create_cpf.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="hierarchical.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="cpf_user.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><img src="../support/nav2_black.gif" height="20" width="61"></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
 <tr>
    <td colspan="10">
      <script type="text/javascript">
      <!--// We wrap all this inside javascript because we only want to display  -->
      <!--// the search bar if the http server is running. If it is not running  -->
      <!--// the search bar should not be visible to the user                    -->
      <!-- BEGIN SEARCH BAR -->
      var isloaded = isLoaded();
      var enteredquery = getCookie("enteredquery");
      if(enteredquery) {
        enteredquery = enteredquery.replace(/</g,"&lt ");
        enteredquery = enteredquery.replace(/>/g,"&gt ");
      } else {
         enteredquery = "";
      }
                                                                                                                                                                
      <!-- Only display search bar if server is running -->
      if(isloaded) {
                                                                                                                                                                
        display_search_bar(enteredquery);
                                                                                                                                                                
      }
      <!-- END SEARCH BAR -->
      </script>
    </td>
  </tr>
</table>
</form>

<!-- End Buttons -->
<p>
<p>
<hr>
<p>
<h3><center>Common Power Format User Guide&#0044; Version 2.0</center></h3><br>
<p>


<blockquote>

  
<div align="right">
<h1 align="left">
  <a name="1032955"> </a>3</h1>
</div>

<hr>
<h1>
  <a name="1035250"> </a>Process of Creating the CPF Content</h1>





<ul>
  <a name="1036541"></a><li><p><a href="methodology.html#1036543">Overview</a></p>

  <a name="1036549"></a><li><p><a href="methodology.html#1036071">Using a Single CPF File</a></p>

  <a name="1036553"></a><li><p><a href="methodology.html#1036565">Using Multiple CPF Files</a></p>
</ul>
<br><br><br>
<h2>
  <a name="1036543"> </a>Overview</h2>


<p>
  <a name="1036043"> </a>The content of the CPF file can grow through the design process. The tools in the design process need different information. Therefore you can start the design with an incomplete CPF file. </p>

<ul>
  <a name="1037485"></a><li><p>At the design stage, low power verification checks the following aspects of a design using PSO methodology:</p>
<ul>
  <a name="1037486"> </a><li><p>Power up and power down of the design
</p>

  <a name="1037487"> </a><li><p>State retention and restoration 
</p>

  <a name="1037488"> </a><li><p>Enabling and disabling of isolation
</p>
</ul><dl>
<p>
  <a name="1037764"> </a>To perform low power verification, you need the following minimum set of commands to specify the power structures when starting from RTL:</p>

</dl><dl>
<pre><a name="1037765"></a><nobr>set_design</nobr></pre>

<pre><a name="1037766"></a><nobr>end_design</nobr></pre>

<pre><a name="1037767"></a><nobr>create_power_domain</nobr></pre>

<pre><a name="1037768"></a><nobr>create_nominal_condition</nobr></pre>

<pre><a name="1037769"></a><nobr>create_power_mode</nobr></pre>

<pre><a name="1037770"></a><nobr>create_state_retention_rule</nobr></pre>

<pre><a name="1036095"></a><nobr>create_isolation_rule</nobr></pre>
</dl>
  <a name="1037776"></a><li><p>At the logic implementation stage, logic synthesis adds the required level shifter logic, isolation logic, state retention logic, and power switch logic to the gate-level netlist, and test synthesis adds the required test logic. </p>
<dl>
<p>
  <a name="1037777"> </a>To drive synthesis and test, you need at least the following commands in addition to the commands listed above:</p>

</dl><dl>
<pre><a name="1037778"></a><nobr>define_library_set</nobr></pre>

<pre><a name="1038345"></a><nobr>define_isolation_cell</nobr></pre>

<pre><a name="1038346"></a><nobr>define_level_shifter_cell</nobr></pre>

<pre><a name="1037779"></a><nobr>define_state_retention_cell</nobr></pre>

<pre><a name="1037780"></a><nobr>update_nominal_condition</nobr></pre>

<pre><a name="1037781"></a><nobr>update_power_mode</nobr></pre>
</dl>
  <a name="1037785"></a><li><p>At the physical implementation stage, ATPG, and signoff, you need at least the following commands in addition to all commands listed above:</p>
<dl>
<pre><a name="1038300"></a><nobr>create_power_nets</nobr></pre>

<pre><a name="1038301"></a><nobr>create_ground_nets</nobr></pre>

<pre><a name="1038314"></a><nobr>create_global_connection</nobr></pre>

<pre><a name="1038302"></a><nobr>create_power_switch_rule</nobr></pre>

<pre><a name="1038308"></a><nobr>update_power_switch_rule</nobr></pre>

<pre><a name="1037787"></a><nobr>update_power_domain</nobr></pre>

<pre><a name="1038320"></a><nobr>create_operating_corner</nobr></pre>

<pre><a name="1037788"></a><nobr>create_analysis_view</nobr></pre>
</dl></ul>
<p>
<strong>Note:&nbsp;</strong>
<a name="1037641"> </a>You can run gate-level simulation after both logic and physical implementation.
</p>

<p>
  <a name="1038060"> </a>Even when the CPF file that you read in contains more CPF commands than the tool needs, the tool will just read the ones it needs and will ignore the other ones.</p>


<p>
  <a name="1036044"> </a>The content change can be handled in several ways:</p>

<ul>
  <a name="1036045"></a><li><p>You can start with a CPF file and add to this file as you go through the design process.</p>
<dl>
<p>
  <a name="1036049"> </a>See <a href="methodology.html#1036071">Using a Single CPF File</a>.</p>

</dl>
  <a name="1036048"></a><li><p>You can include additional commands in a separate file and source it in the original CPF file. </p>
<dl>
<p>
  <a name="1036052"> </a>See <a href="methodology.html#1036565">Using Multiple CPF Files</a>.</p>

</dl></ul>
<p>
  <a name="1037542"> </a>A CPF file contains both the power intent for the design and the technology information. When you use multiple CPF files, you can capture the technology information in a separate file. Library-related definitions are captured in the <code>define_xxx </code>commands.</p>


<p>
  <a name="1036176"> </a>The power intent for the design captures the different power domains, the different power modes and transitions, and the specifications for the power logic. The power intent of the design is captured in the <code>create_xxx</code> commands. Implementation tools need more detailed information which is captured in the <code>update_xxx</code> commands. This information can be captured in a separate file.</p>


<p>
  <a name="1036233"> </a>The example shown in <a href="methodology.html#1035906">Figure 3-1</a> is used to illustrate different approaches of CPF creation.</p>


  <a name="1035906"> </a><h4>
Figure 3-1   Example Design for CPF</h4>


<p>
  <a name="1035914"> </a><img src="images/methodologyx1.png" border="0">
</p>


<br><br><br>
<h2>
  <a name="1036071"> </a>Using a Single CPF File</h2>


<pre><a name="1038091"></a><nobr>#################################################<br>#       Technology part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1038064"></a><nobr># <code><strong>define the level shifters</strong></code></nobr></pre>

<pre><a name="1036983"></a><nobr>define_level_shifter_cell -cells LVLHLEHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -output_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -output_voltage_input_pin EN \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -enable EN \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1036984"></a><nobr>define_level_shifter_cell -cells LVLHLELX* \<br>&nbsp; &nbsp;	 -input_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -output_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -output_voltage_input_pin EN \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -enable EN \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1037004"></a><nobr>define_level_shifter_cell -cells LVLHLX* \<br>&nbsp; &nbsp;	 -input_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -output_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1036265"></a><nobr>define_level_shifter_cell -cells LVLLHEHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -input_power_pin VDDI \<br>&nbsp; &nbsp;	 -output_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -output_voltage_input_pin EN \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1036284"></a><nobr>define_level_shifter_cell -cells LVLLHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -output_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -input_power_pin VDDI \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1038068"></a><nobr># <code><strong>define the isolation cells</strong></code></nobr></pre>

<pre><a name="1037051"></a><nobr>define_isolation_cell -cells ISOLN* \<br>&nbsp; &nbsp;	 -enable EN \<br>&nbsp; &nbsp;	 -power VDD -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1038072"></a><nobr># <code><strong>define the always on cell</strong></code></nobr></pre>

<pre><a name="1036318"></a><nobr>define_always_on_cell -cells "BUFGX2M BUFGX8M INVGX2M INVGX8M" \<br>&nbsp; &nbsp;	 -power_switchable VDD -power VDDG -ground VSS</nobr></pre>

<pre><a name="1038076"></a><nobr># <code><strong>define the power switch cells</strong></code></nobr></pre>

<pre><a name="1036321"></a><nobr>define_power_switch_cell -cells "HEAD8DM HEAD16DM HEAD32DM HEAD64DM" \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEP \<br>&nbsp; &nbsp;	 -type header \<br>&nbsp; &nbsp;	 -stage_1_output SLEEPOUT \<br>&nbsp; &nbsp;	 -power VDDG \<br>&nbsp; &nbsp;	 -power_switchable VDD</nobr></pre>

<pre><a name="1037099"></a><nobr>define_power_switch_cell -cells "HEAD8M HEAD16M HEAD32M HEAD64M" \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEP \<br>&nbsp; &nbsp;	 -type header \<br>&nbsp; &nbsp;	 -power VDDG \<br>&nbsp; &nbsp;	 -power_switchable VDD</nobr></pre>

<pre><a name="1037108"></a><nobr>define_power_switch_cell -cells "FOOT8DM FOOT16DM" \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEPN \<br>&nbsp; &nbsp;	 -type footer \<br>&nbsp; &nbsp;	 -stage_1_output SLEEPNOUT \<br>&nbsp; &nbsp;	 -ground VSSG \<br>&nbsp; &nbsp;	 -ground_switchable VSS</nobr></pre>

<pre><a name="1037119"></a><nobr>define_power_switch_cell -cells "FOOT8M FOOT16M" \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEPN \<br>&nbsp; &nbsp;	 -type footer \<br>&nbsp; &nbsp;	 -ground VSSG \<br>&nbsp; &nbsp;	 -ground_switchable VSS</nobr></pre>

<pre><a name="1038087"></a><nobr># <code><strong>define the state retention cell</strong></code></nobr></pre>

<pre><a name="1038083"></a><nobr>define_state_retention_cell -cells *DRFF* -restore_function RETN \<br>&nbsp; &nbsp;	 -power VDDG \<br>&nbsp; &nbsp;	 -power_switchable VDD \<br>&nbsp; &nbsp;	 -ground VSS</nobr></pre>

<pre><a name="1038095"></a><nobr># <code><strong>define the library sets</strong></code></nobr></pre>

<pre><a name="1037177"></a><nobr>set vendor_08v_list "\<br>../LIBS/vendor_130/vendor13sp_tt_0p8v_25c.lib \<br>../LIBS/vendor_130LL/vendorl130e_ll_tt_0p8v_25c.lib \<br>../LIBS/vendor_130SP/vendorl130e_sp_tt_0p8v_25c.lib "</nobr></pre>

<pre><a name="1037178"></a><nobr>set vendor_120v_list "\<br>../LIBS/vendor_130/vendor13sp_tt_0p8v_1p2v_25c.lib \<br>../LIBS/vendor_130LL/vendorl130e_ll_tt_1p2v_25c.lib \<br>../LIBS/vendor_130SP/vendorl130e_sp_tt_1p2v_25c.lib "</nobr></pre>

<pre><a name="1036383"></a><nobr>define_library_set -name vendor_120v -libraries $vendor_120v_list<br>define_library_set -name vendor_08v -libraries $vendor_08v_list</nobr></pre>

<pre><a name="1038099"></a><nobr>#################################################<br>#       Design part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1036386"></a><nobr>set_design top<br>set_hierarchy_separator "/"</nobr></pre>

<pre><a name="1037420"></a><nobr></nobr></pre>

<pre><a name="1038103"></a><nobr><code><strong># create power domains</strong></code></nobr></pre>

<pre><a name="1037185"></a><nobr>create_power_domain -name PD1 -default</nobr></pre>

<pre><a name="1036393"></a><nobr>create_power_domain -name PD2 -instances {inst_A inst_B} \<br>&nbsp; &nbsp;	 -shutoff_condition {pm_inst/pse_enable[0]} </nobr></pre>

<pre><a name="1036402"></a><nobr>create_power_domain -name PD3 -instances inst_C \<br>&nbsp; &nbsp;	 -shutoff_condition {pm_inst/pse_enable[1]} </nobr></pre>

<pre><a name="1036407"></a><nobr>create_power_domain -name PD4 -instances inst_D \<br>&nbsp; &nbsp;	 -shutoff_condition {pm_inst/pse_enable[2]} </nobr></pre>

<pre><a name="1036412"></a><nobr>create_power_domain -name LD1 -instances pm_inst/pd_inst* </nobr></pre>

<pre><a name="1038107"></a><nobr># <code><strong>define the nominal conditions</strong></code></nobr></pre>

<pre><a name="1036920"></a><nobr>create_nominal_condition -name point_8v -voltage 0.8<br>update_nominal_condition -name point_8v -library_set vendor_08v</nobr></pre>

<pre><a name="1036417"></a><nobr>create_nominal_condition -name one_p_2v -voltage 1.2<br>update_nominal_condition -name one_p_2v -library_set vendor_120v</nobr></pre>

<pre><a name="1036419"></a><nobr>create_nominal_condition -name off -voltage 0</nobr></pre>

<pre><a name="1038113"></a><nobr># <code><strong>specify the power mode info</strong></code></nobr></pre>

<pre><a name="1037205"></a><nobr>create_power_mode -name PM1 -default -domain_conditions {PD1@point_8v \<br>PD2@point_8v PD3@point_8v PD4@point_8v LD1@one_p_2v}</nobr></pre>

<pre><a name="1036424"></a><nobr>update_power_mode -name PM1 -sdc_files ../CPF/1.0/cm1.sdc</nobr></pre>

<pre><a name="1036425"></a><nobr>create_power_mode -name PM2 -domain_conditions {PD1@point_8v PD2@off \<br>PD3@point_8v PD4@point_8v LD1@one_p_2v}</nobr></pre>

<pre><a name="1036426"></a><nobr>create_power_mode -name PM3 -domain_conditions {PD1@point_8v PD2@off PD3@off \<br>PD4@point_8v LD1@one_p_2v}</nobr></pre>

<pre><a name="1036427"></a><nobr>create_power_mode -name PM4 -domain_conditions {PD1@point_8v PD2@off PD3@off \<br>PD4@off LD1@one_p_2v}</nobr></pre>

<pre><a name="1038117"></a><nobr><code><strong># create rules for state retention insertion </strong></code></nobr></pre>

<pre><a name="1036429"></a><nobr>create_state_retention_rule -name st1 -domain PD2 \<br>-restore_edge {!pm_inst/pge_enable[0]}<br>create_state_retention_rule -name st2 -domain PD3 \<br>-restore_edge {!pm_inst/pge_enable[1]}<br>create_state_retention_rule -name st3 -domain PD4 \<br>-restore_edge {!pm_inst/pge_enable[2]}</nobr></pre>

<pre><a name="1038121"></a><nobr><code><strong># create rules for isolation logic insertion </strong></code></nobr></pre>

<pre><a name="1036433"></a><nobr>create_isolation_rule -name iso1 -from PD2 \<br>-isolation_condition {pm_inst/ice_enable[0]} <br>create_isolation_rule -name iso2 -from PD3 \<br>-isolation_condition {pm_inst/ice_enable[1]}<br>create_isolation_rule -name iso3 -from PD4 \<br>-isolation_condition {pm_inst/ice_enable[2]}</nobr></pre>

<pre><a name="1038125"></a><nobr><code><strong># create rules for level shifter insertion</strong></code></nobr></pre>

<pre><a name="1037428"></a><nobr>create_level_shifter_rule -name ls1 -to LD1 <br>create_level_shifter_rule -name ls2 -from LD1</nobr></pre>

<pre><a name="1038129"></a><nobr><code><strong># declare power and ground nets</strong></code></nobr></pre>

<pre><a name="1036443"></a><nobr>create_power_nets -nets VDD_0.8 -voltage 0.8<br>create_power_nets -nets VDD2 -voltage 0.8<br>create_power_nets -nets VDD3 -voltage 0.8<br>create_power_nets -nets VDD4 -voltage 0.8<br>create_power_nets -nets VDDH -voltage 1.2<br>create_ground_nets -nets VSS</nobr></pre>

<pre><a name="1038133"></a><nobr><code><strong># create global connections</strong></code></nobr></pre>

<pre><a name="1036450"></a><nobr>create_global_connection -domain PD1 -net VDD_0.8 -pins VDD<br>create_global_connection -domain PD1 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD1 -net VSS -pins VSS<br>create_global_connection -domain PD1 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1036455"></a><nobr>create_global_connection -domain PD2 -net VDD2 -pins VDD<br>create_global_connection -domain PD2 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD2 -net VSS -pins VSS<br>create_global_connection -domain PD2 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1036460"></a><nobr>create_global_connection -domain PD3 -net VDD3 -pins VDD<br>create_global_connection -domain PD3 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD3 -net VSS -pins VSS<br>create_global_connection -domain PD3 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1036465"></a><nobr>create_global_connection -domain PD4 -net VDD4 -pins VDD<br>create_global_connection -domain PD4 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD4 -net VSS -pins VSS<br>create_global_connection -domain PD4 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1036470"></a><nobr>create_global_connection -domain LD1 -net VDDH -pins VDD<br>create_global_connection -domain LD1 -net VDD_0.8 -pins VDDI<br>create_global_connection -domain LD1 -net VSS -pins VSS</nobr></pre>

<pre><a name="1038137"></a><nobr><code><strong># add implementation info for power domains</strong></code></nobr></pre>

<pre><a name="1036474"></a><nobr>update_power_domain -name LD1 -internal_power_net VDDH<br>update_power_domain -name PD1 -internal_power_net VDD_0.8<br>update_power_domain -name PD2 -internal_power_net VDD2<br>update_power_domain -name PD3 -internal_power_net VDD3<br>update_power_domain -name PD4 -internal_power_net VDD4</nobr></pre>

<pre><a name="1038141"></a><nobr><code><strong># update the rules</strong></code></nobr></pre>

<pre><a name="1036487"></a><nobr>update_state_retention_rules -names st1 -cell_type DRFF -library_set vendor_08v<br>update_state_retention_rules -names st2 -cell_type DRFF -library_set vendor_08v<br>update_state_retention_rules -names st3 -cell_type DRFF -library_set vendor_08v</nobr></pre>

<pre><a name="1036492"></a><nobr>update_isolation_rules -names iso1 -location to -cells ISOLNX2M<br>update_isolation_rules -names iso2 -location to -cells ISOLNX2M<br>update_isolation_rules -names iso3 -location to -cells ISOLNX2M</nobr></pre>

<pre><a name="1038294"></a><nobr>update_level_shifter_rules -names ls1 -cells LVLLHX2M -location to -prefix RC_LS</nobr></pre>

<pre><a name="1036497"></a><nobr><code><strong># specify the power switch rule information</strong></code></nobr></pre>

<pre><a name="1038290"></a><nobr>create_power_switch_rule -name SW1 -domain PD2 -external_power_net VDD_0.8<br>update_power_switch_rule -name SW1 -cells HEAD32M -prefix CDN_</nobr></pre>

<pre><a name="1036500"></a><nobr>create_power_switch_rule -name SW2 -domain PD3 -external_power_net VDD_0.8<br>update_power_switch_rule -name SW2 -cells HEAD32M -prefix CDN_</nobr></pre>

<pre><a name="1036503"></a><nobr>create_power_switch_rule -name SW3 -domain PD4 -external_power_net VDD_0.8<br>update_power_switch_rule -name SW3 -cells HEAD32M -prefix CDN_</nobr></pre>

<pre><a name="1036925"></a><nobr>end_design</nobr></pre>

<br><br><br>
<h2>
  <a name="1036565"> </a>Using Multiple CPF Files</h2>


<p>
  <a name="1036566"> </a>In this case a master CPF file is created in which two other supporting CPF files with additional CPF commands are sourced.</p>

<ul>
  <a name="1036571"></a><li><p><code>pf_design_1.cpf</code> (see <a href="methodology.html#1036811">Figure 3-2</a>) contains the basic information used by most tools.</p>

  <a name="1036599"></a><li><p><code>library_vendor_130.cpf</code> (see <a href="methodology.html#1035549">Figure 3-3</a>) contains the technology-related information. </p>
<dl>
<p>
  <a name="1037628"> </a>This information will typically be provided by the library vendor.</p>

</dl>
  <a name="1036587"></a><li><p><code>pf_design_1_impl.cpf</code> (see <a href="methodology.html#1036707">Figure 3-4</a>) contains implementation-specific information. </p>
<dl>
<p>
  <a name="1037627"> </a>The commands in this file can be added later in the flow.</p>

</dl></ul>
  <a name="1036811"> </a><h4>
Figure 3-2   Content of the pf_design_1.cpf File (Master CPF File)</h4>


<pre><a name="1036823"></a><nobr>#start of master CPF file</nobr></pre>

<pre><a name="1037986"></a><nobr><code><strong>source library_vendor_130.cpf</strong></code></nobr></pre>

<pre><a name="1037889"></a><nobr>set vendor_08v_list "\<br>../LIBS/vendor_130/vendor13sp_tt_0p8v_25c.lib \<br>../LIBS/vendor_130LL/vendorl130e_ll_tt_0p8v_25c.lib \<br>../LIBS/vendor_130SP/vendorl130e_sp_tt_0p8v_25c.lib "</nobr></pre>

<pre><a name="1037890"></a><nobr>set vendor_120v_list "\<br>../LIBS/vendor_130/vendor13sp_tt_0p8v_1p2v_25c.lib \<br>../LIBS/vendor_130LL/vendorl130e_ll_tt_1p2v_25c.lib \<br>../LIBS/vendor_130SP/vendorl130e_sp_tt_1p2v_25c.lib "</nobr></pre>

<pre><a name="1036838"></a><nobr>define_library_set -name vendor_120v -libraries $vendor_120v_list<br>define_library_set -name vendor_08v -libraries $vendor_08v_list</nobr></pre>

<pre><a name="1038277"></a><nobr>#################################################<br>#       Design part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1036841"></a><nobr>set_design top</nobr></pre>

<pre><a name="1036842"></a><nobr>set_hierarchy_separator "/"</nobr></pre>

<pre><a name="1038155"></a><nobr><code><strong># create power domains</strong></code></nobr></pre>

<pre><a name="1037319"></a><nobr>create_power_domain -name PD1 -default</nobr></pre>

<pre><a name="1037320"></a><nobr>create_power_domain -name PD2 -instances {inst_A inst_B} \<br>&nbsp; &nbsp;	 -shutoff_condition {pm_inst/pse_enable[0]} </nobr></pre>

<pre><a name="1037321"></a><nobr>create_power_domain -name PD3 -instances inst_C \<br>&nbsp; &nbsp;	 -shutoff_condition {pm_inst/pse_enable[1]} </nobr></pre>

<pre><a name="1037322"></a><nobr>create_power_domain -name PD4 -instances inst_D \<br>&nbsp; &nbsp;	 -shutoff_condition {pm_inst/pse_enable[2]} </nobr></pre>

<pre><a name="1037323"></a><nobr>create_power_domain -name LD1 -instances pm_inst/pd_inst* </nobr></pre>

<pre><a name="1038161"></a><nobr># <code><strong>create nominal conditions</strong></code></nobr></pre>

<pre><a name="1037990"></a><nobr>create_nominal_condition -name point_8v -voltage 0.8</nobr></pre>

<pre><a name="1038009"></a><nobr>create_nominal_condition -name one_p_2v -voltage 1.2</nobr></pre>

<pre><a name="1036881"></a><nobr>create_nominal_condition -name off -voltage 0</nobr></pre>

<pre><a name="1038167"></a><nobr># <code><strong>create power modes</strong></code></nobr></pre>

<pre><a name="1036884"></a><nobr>create_power_mode -name PM1 -default -domain_conditions {PD1@point_8v \<br>PD2@point_8v PD3@point_8v PD4@point_8v LD1@one_p_2v}</nobr></pre>

<pre><a name="1036887"></a><nobr>create_power_mode -name PM2 -domain_conditions {PD1@point_8v PD2@off \<br>PD3@point_8v PD4@point_8v LD1@one_p_2v}</nobr></pre>

<pre><a name="1036888"></a><nobr>create_power_mode -name PM3 -domain_conditions {PD1@point_8v PD2@off \<br>PD3@off PD4@point_8v LD1@one_p_2v}</nobr></pre>

<pre><a name="1036889"></a><nobr>create_power_mode -name PM4 -domain_conditions {PD1@point_8v PD2@off \<br>PD3@off PD4@off LD1@one_p_2v}</nobr></pre>

<pre><a name="1038173"></a><nobr><code><strong># create rules for state retention insertion </strong></code></nobr></pre>

<pre><a name="1036891"></a><nobr>create_state_retention_rule -name st1 -domain PD2 \<br>-restore_edge {!pm_inst/pge_enable[0]}<br>create_state_retention_rule -name st2 -domain PD3 \<br>-restore_edge {!pm_inst/pge_enable[1]}<br>create_state_retention_rule -name st3 -domain PD4 \<br>-restore_edge {!pm_inst/pge_enable[2]}</nobr></pre>

<pre><a name="1038179"></a><nobr><code><strong># create rule for isolation logic insertion </strong></code></nobr></pre>

<pre><a name="1036895"></a><nobr>create_isolation_rule -name iso1 -from PD2 \<br>-isolation_condition {pm_inst/ice_enable[0]} <br>create_isolation_rule -name iso2 -from PD3 \<br>-isolation_condition {pm_inst/ice_enable[1]}<br>create_isolation_rule -name iso3 -from PD4 \<br>-isolation_condition {pm_inst/ice_enable[2]}</nobr></pre>

<pre><a name="1038271"></a><nobr><code><strong># create rules for level shifter insertion</strong></code></nobr></pre>

<pre><a name="1038043"></a><nobr>create_level_shifter_rule -name ls1 -to LD1 <br>create_level_shifter_rule -name ls2 -from LD1</nobr></pre>

<pre><a name="1036951"></a><nobr><code><strong>source pf_design_1_impl.cpf</strong></code></nobr></pre>

<pre><a name="1035894"></a><nobr>end_design</nobr></pre>

  <a name="1035549"> </a><h4>
Figure 3-3   Content of the library_vendor_130.cpf File</h4>


<pre><a name="1038281"></a><nobr>#################################################<br>#       Technology part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1038183"></a><nobr># <code><strong>define the level shifters</strong></code></nobr></pre>

<pre><a name="1037053"></a><nobr>define_level_shifter_cell -cells LVLHLEHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -output_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -output_voltage_input_pin EN \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -enable EN \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1037054"></a><nobr>define_level_shifter_cell -cells LVLHLELX* \<br>&nbsp; &nbsp;	 -input_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -output_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -output_voltage_input_pin EN \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -enable EN \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1037055"></a><nobr>define_level_shifter_cell -cells LVLHLX* \<br>&nbsp; &nbsp;	 -input_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -output_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1037056"></a><nobr>define_level_shifter_cell -cells LVLLHEHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -input_power_pin VDDI \<br>&nbsp; &nbsp;	 -output_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -output_voltage_input_pin EN \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1037057"></a><nobr>define_level_shifter_cell -cells LVLLHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -output_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -input_power_pin VDDI \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1038187"></a><nobr># <code><strong>define the isolation cells</strong></code></nobr></pre>

<pre><a name="1037144"></a><nobr>define_isolation_cell -cells ISOLN* \<br>&nbsp; &nbsp;	 -enable EN \<br>&nbsp; &nbsp;	 -power VDD -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1038191"></a><nobr># <code><strong>define the always on cell</strong></code></nobr></pre>

<pre><a name="1037150"></a><nobr>define_always_on_cell -cells "BUFGX2M BUFGX8M INVGX2M INVGX8M" \<br>&nbsp; &nbsp;	 -power_switchable VDD -power VDDG -ground VSS</nobr></pre>

<pre><a name="1038195"></a><nobr># <code><strong>define the power switch cells</strong></code></nobr></pre>

<pre><a name="1037151"></a><nobr>define_power_switch_cell -cells "HEAD8DM HEAD16DM HEAD32DM HEAD64DM" \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEP \<br>&nbsp; &nbsp;	 -type header \<br>&nbsp; &nbsp;	 -stage_1_output SLEEPOUT \<br>&nbsp; &nbsp;	 -power VDDG \<br>&nbsp; &nbsp;	 -power_switchable VDD</nobr></pre>

<pre><a name="1037152"></a><nobr>define_power_switch_cell -cells "HEAD8M HEAD16M HEAD32M HEAD64M" \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEP \<br>&nbsp; &nbsp;	 -type header \<br>&nbsp; &nbsp;	 -power VDDG \<br>&nbsp; &nbsp;	 -power_switchable VDD</nobr></pre>

<pre><a name="1037153"></a><nobr>define_power_switch_cell -cells "FOOT8DM FOOT16DM" \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEPN \<br>&nbsp; &nbsp;	 -type footer \<br>&nbsp; &nbsp;	 -stage_1_output SLEEPNOUT \<br>&nbsp; &nbsp;	 -ground VSSG \<br>&nbsp; &nbsp;	 -ground_switchable VSS</nobr></pre>

<pre><a name="1037154"></a><nobr>define_power_switch_cell -cells "FOOT8M FOOT16M" \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEPN \<br>&nbsp; &nbsp;	 -type footer \<br>&nbsp; &nbsp;	 -ground VSSG \<br>&nbsp; &nbsp;	 -ground_switchable VSS</nobr></pre>

<pre><a name="1038199"></a><nobr># <code><strong>define the state retention cell</strong></code></nobr></pre>

<pre><a name="1037155"></a><nobr>define_state_retention_cell -cells *DRFF* -restore_function RETN \<br>&nbsp; &nbsp;	 -power VDDG \<br>&nbsp; &nbsp;	 -power_switchable VDD \<br>&nbsp; &nbsp;	 -ground VSS</nobr></pre>

  <a name="1036707"> </a><h4>
Figure 3-4   Content of the pf_design_1_impl.cpf File</h4>


<pre><a name="1038018"></a><nobr><code><strong>#start of implementation information</strong></code></nobr></pre>

<pre><a name="1038250"></a><nobr><code><strong># associate library sets with nominal conditions</strong></code></nobr></pre>

<pre><a name="1038004"></a><nobr>update_nominal_condition -name point_8v -library_set vendor_08v</nobr></pre>

<pre><a name="1038005"></a><nobr>update_nominal_condition -name one_p_2v -library_set vendor_120v</nobr></pre>

<pre><a name="1038267"></a><nobr><code><strong># specify timing constraints</strong></code></nobr></pre>

<pre><a name="1038006"></a><nobr>update_power_mode -name PM1 -sdc_files ../CPF/1.0/cm1.sdc</nobr></pre>

<pre><a name="1038203"></a><nobr><code><strong># declare power and ground nets</strong></code></nobr></pre>

<pre><a name="1037331"></a><nobr>create_power_nets -nets VDD_0.8 -voltage 0.8<br>create_power_nets -nets VDD2 -voltage 0.8<br>create_power_nets -nets VDD3 -voltage 0.8<br>create_power_nets -nets VDD4 -voltage 0.8<br>create_power_nets -nets VDDH -voltage 1.2<br>create_ground_nets -nets VSS</nobr></pre>

<pre><a name="1038207"></a><nobr><code><strong># create global connections</strong></code></nobr></pre>

<pre><a name="1037335"></a><nobr>create_global_connection -domain PD1 -net VDD_0.8 -pins VDD<br>create_global_connection -domain PD1 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD1 -net VSS -pins VSS<br>create_global_connection -domain PD1 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1037336"></a><nobr>create_global_connection -domain PD2 -net VDD2 -pins VDD<br>create_global_connection -domain PD2 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD2 -net VSS -pins VSS<br>create_global_connection -domain PD2 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1037337"></a><nobr>create_global_connection -domain PD3 -net VDD3 -pins VDD<br>create_global_connection -domain PD3 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD3 -net VSS -pins VSS<br>create_global_connection -domain PD3 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1037338"></a><nobr>create_global_connection -domain PD4 -net VDD4 -pins VDD<br>create_global_connection -domain PD4 -net VDD_0.8 -pins VDDG<br>create_global_connection -domain PD4 -net VSS -pins VSS<br>create_global_connection -domain PD4 -net VSS -pins VSSG</nobr></pre>

<pre><a name="1037339"></a><nobr>create_global_connection -domain LD1 -net VDDH -pins VDD<br>create_global_connection -domain LD1 -net VDD_0.8 -pins VDDI<br>create_global_connection -domain LD1 -net VSS -pins VSS</nobr></pre>

<pre><a name="1038211"></a><nobr><code><strong># add implementation info for power domains</strong></code></nobr></pre>

<pre><a name="1037347"></a><nobr>update_power_domain -name LD1 -internal_power_net VDDH<br>update_power_domain -name PD1 -internal_power_net VDD_0.8<br>update_power_domain -name PD2 -internal_power_net VDD2<br>update_power_domain -name PD3 -internal_power_net VDD3<br>update_power_domain -name PD4 -internal_power_net VDD4</nobr></pre>

<pre><a name="1038226"></a><nobr><code><strong># update the rules</strong></code></nobr></pre>

<pre><a name="1038222"></a><nobr>update_state_retention_rules -names st1 -cell_type DRFF -library_set vendor_08v<br>update_state_retention_rules -names st2 -cell_type DRFF -library_set vendor_08v<br>update_state_retention_rules -names st3 -cell_type DRFF -library_set vendor_08v</nobr></pre>

<pre><a name="1037349"></a><nobr>update_isolation_rules -names iso1 -location to -cells ISOLNX2M<br>update_isolation_rules -names iso2 -location to -cells ISOLNX2M<br>update_isolation_rules -names iso3 -location to -cells ISOLNX2M</nobr></pre>

<pre><a name="1038230"></a><nobr>update_level_shifter_rules -names ls1 -cells LVLLHX2M -location to -prefix RC_LS</nobr></pre>

<pre><a name="1038234"></a><nobr><code><strong># specify the rules for power switch insertion</strong></code></nobr></pre>

<pre><a name="1037361"></a><nobr>create_power_switch_rule -name SW1 -domain PD2 -external_power_net VDD_0.8<br>update_power_switch_rule -name SW1 -cells HEAD32M -prefix CDN_</nobr></pre>

<pre><a name="1037362"></a><nobr>create_power_switch_rule -name SW2 -domain PD3 -external_power_net VDD_0.8<br>update_power_switch_rule -name SW2 -cells HEAD32M -prefix CDN_</nobr></pre>

<pre><a name="1037363"></a><nobr>create_power_switch_rule -name SW3 -domain PD4 -external_power_net VDD_0.8<br>update_power_switch_rule -name SW3 -cells HEAD32M -prefix CDN_</nobr></pre>

  

</blockquote>

<br>
<a href="#pagetop">Return to top of page</a>
<hr>
<p>
<!-- Begin Buttons -->
<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="cpf_userTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><img src="../support/nav2_index_b.gif" border="0" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="create_cpf.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="hierarchical.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="cpf_user.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><a href="/search.htm"><img src="../support/nav2_search.gif" border="0"  alt="Search Cadence Library" height="20" width="61"></a></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
</table>
<!-- End Buttons -->
<p>
<p>


<!-- NOTES; -->

<!-- /address -->
<p>
<br>
<font size="-1">
For support, see <a href=http://www.cadence.com/support>http://www.cadence.com/support</a>
or try Cadence's <a href=http://sourcelink.cadence.com target=_blank>SourceLink</a> service.
<br><br>
<i>Copyright &#169; 2012, <a href=http://www.cadence.com>Cadence Design Systems, Inc.</a></i> 
<br>
All rights reserved.
<br>
<a href="titlecopy.html">Legal notices and trademark attributions</a>
<br>
<!-- This file was created with Quadralay WebWorks Publisher AutoMap 6.0.7 -->
<!-- -->
<!-- Last updated: Tue Oct 16 15:27:29 2012 -->
</font>
</body>
</html>


