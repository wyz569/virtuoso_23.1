
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="GENERATOR" content="Quadralay WebWorks Publisher AutoMap 6.0.7">
<meta name="TEMPLATEBASE" content="CadencePubs_HelpTopics">
<meta name="LASTUPDATED" content="Tue Oct 16 15:27:15 2012">

<script TYPE="text/javascript" LANGUAGE="JavaScript" >
  <!--
  // Dummy script statement to get rid of Netscape timing errors which may
  // print garbage JavaScript code at the top in Unix 4.x Netscape browser.
  // -->
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Browser.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Cookies.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Search.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript">
  <!--
  function window_resized(){
    window.location.reload();
  }
  window.onresize=window_resized;
                                                                                                                                                                
  /*
  * Initializes before submitting query
  */
  function initOnSubmit() {
    storeStateAndQuery();
  }
                                                                                                                                                                
  setCookie("DocumentTitle", "Common Power Format User Guide");
  setCookie("Chapter", "N/A");
  setCookie("Keyword", "search");
  setCookie("Version", "Product Version 2.2");

  // -->
  </script>


<title>Common Power Format User Guide -- 2. Creating a CPF File </title>
<META NAME="Approver" CONTENT="Technical Publications">
<META NAME="Author" CONTENT="Technical Publications">
<META NAME="CreateDate" CONTENT="2012-10-16">
<META NAME="CreateTime" CONTENT="1350426467">
<META NAME="DataType" CONTENT="Manuals">
<META NAME="Description" CONTENT="Describes how to use CPF">
<META NAME="DocTitle" CONTENT="Common Power Format User Guide">
<META NAME="DocType" CONTENT="Manual">
<META NAME="FileTitle" CONTENT="2. Creating a CPF File ">
<META NAME="FileType" CONTENT="Chapter">
<META NAME="Keyword" CONTENT="cpf_user">
<META NAME="Language" CONTENT="English">
<META NAME="ModifiedDate" CONTENT="2012-10-16">
<META NAME="ModifiedTime" CONTENT="1350426467">
<META NAME="NextFile" CONTENT="methodology.html">
<META NAME="PageCount" CONTENT="84">
<META NAME="Platform" CONTENT="ALL">
<META NAME="PrevFile" CONTENT="intro.html">
<META NAME="Product" CONTENT="Languages">
<META NAME="ProductFamily" CONTENT="Cadence Shared Tools">
<META NAME="ProductVersion" CONTENT="2.0">
<META NAME="RightsManagement" CONTENT="Copyright 2006 Cadence Design Systems Inc.">
<META NAME="Title" CONTENT="Common Power Format User Guide -- 2. Creating a CPF File ">
<META NAME="TopicTags" CONTENT="FALSE">
<META NAME="Version" CONTENT="2.0">
</head>

<body bgcolor="#ffffff">
<a name="firstpage"></a>
<a name="pagetop"></a>

<p>
<!-- Begin Buttons -->

<form name="advancedform" action="/vtopic.isapi" method="GET" onSubmit="initOnSubmit()">
<input type=hidden name="action" value="FilterSearch">
<input type=hidden name="Filter" value="altsearchfilter.hts">
<input type=hidden name="resulttemplate" value="altsearchresults.hts">
<input type=hidden name="resultcount" value="10">
<input type=hidden name="resultmaxdocs" value="-1">
<input type=hidden name="queryhidden" value="null">
<input type=hidden name="queryitemselected" value="no">

<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="36" width="650" colspan="10"><img src="../support/header_doc.gif" WIDTH="650" HEIGHT="36"></td>
</tr>
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="cpf_userTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><img src="../support/nav2_index_b.gif" border="0" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="intro.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="methodology.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="cpf_user.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><img src="../support/nav2_black.gif" height="20" width="61"></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
 <tr>
    <td colspan="10">
      <script type="text/javascript">
      <!--// We wrap all this inside javascript because we only want to display  -->
      <!--// the search bar if the http server is running. If it is not running  -->
      <!--// the search bar should not be visible to the user                    -->
      <!-- BEGIN SEARCH BAR -->
      var isloaded = isLoaded();
      var enteredquery = getCookie("enteredquery");
      if(enteredquery) {
        enteredquery = enteredquery.replace(/</g,"&lt ");
        enteredquery = enteredquery.replace(/>/g,"&gt ");
      } else {
         enteredquery = "";
      }
                                                                                                                                                                
      <!-- Only display search bar if server is running -->
      if(isloaded) {
                                                                                                                                                                
        display_search_bar(enteredquery);
                                                                                                                                                                
      }
      <!-- END SEARCH BAR -->
      </script>
    </td>
  </tr>
</table>
</form>

<!-- End Buttons -->
<p>
<p>
<hr>
<p>
<h3><center>Common Power Format User Guide&#0044; Version 2.0</center></h3><br>
<p>


<blockquote>

  
<div align="right">
<h1 align="left">
  <a name="1036501"> </a>2</h1>
</div>

<hr>
<h1>
  <a name="1036502"> </a>Creating a CPF File </h1>





<ul>
  <a name="1036507"></a><li><p><a href="create_cpf.html#1038936">Introduction</a></p>

  <a name="1038935"></a><li><p><a href="create_cpf.html#1037626">Creating a CPF File for an MSV Design</a></p>
<ul>
  <a name="1052846"> </a><li><p><a href="create_cpf.html#1052744">Complete CPF File for MSV Example</a>
</p>

  <a name="1052850"> </a><li><p><a href="create_cpf.html#1054288">Steps to Create the CPF File for MSV Design</a>
</p>
</ul>
  <a name="1037926"></a><li><p><a href="create_cpf.html#1038662">Creating a CPF File for a Design Using PSO Methodology</a></p>
<ul>
  <a name="1052859"> </a><li><p><a href="create_cpf.html#1052886">Complete CPF File for PSO Example</a>
</p>

  <a name="1052863"> </a><li><p><a href="create_cpf.html#1052880">Steps to Create the CPF File for Design Using PSO</a>
</p>
</ul>
  <a name="1048338"></a><li><p><a href="create_cpf.html#1045797">Creating a CPF File for a Design Using DVFS Methodology</a></p>
<ul>
  <a name="1052871"> </a><li><p><a href="create_cpf.html#1048754">Complete CPF File for DVFS Example</a>
</p>

  <a name="1052875"> </a><li><p><a href="create_cpf.html#1053675">Steps to Create the CPF File for DVFS Design</a>
</p>
</ul></ul>
<br><br><br>
<h2>
  <a name="1038936"> </a>Introduction</h2>


<p>
  <a name="1038937"> </a>This chapter shows you what the content of a complete CPF file looks like for the following low power techniques:</p>

<ul>
  <a name="1040751"></a><li><p><a href="create_cpf.html#1037626">Creating a CPF File for an MSV Design</a></p>

  <a name="1040755"></a><li><p><a href="create_cpf.html#1038662">Creating a CPF File for a Design Using PSO Methodology</a></p>

  <a name="1068646"></a><li><p><a href="create_cpf.html#1045797">Creating a CPF File for a Design Using DVFS Methodology</a></p>
</ul>
<p>
  <a name="1038938"> </a>Each section is self-contained. If you are interested in only one technique, you will find all the information you need for that low power technique in that section.</p>


<p>
  <a name="1038940"> </a>This implies that if you intend to use several techniques, you might find some repetition.</p>


<p>
  <a name="1040737"> </a>This chapter assumes a non-hierarchical flow. For more information about the hierarchical flow, refer to <a href="hierarchical.html#1035250">Chapter 4, "Hierarchical Flow."</a></p>


<p>
  <a name="1077856"> </a>For simplicity, only one CPF file is created. </p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1040738"> </a>Other chapters will show use of multiple CPF files.
</p>

  <a name="1038939"> </a><table border="0"><tr><td valign="top"><img src="../support/important.gif"></td><td>The content of the CPF file can change through the design process. The tools in the design process need different information. Therefore you can start the design with an incomplete CPF file. &nbsp; &nbsp;	 </td></table>


<br><br><br>
<h2>
  <a name="1037626"> </a>C<a name="MSV design"></a>reating a CPF File for an MSV Design</h2>


<p>
  <a name="1035470"> </a>A Multiple Supply Voltage (<strong>MSV</strong>) design uses multiple supply voltages for the core logic. In <a href="create_cpf.html#1035482">Figure 2-1</a> the <code>top</code> design and instance <code>inst_A</code> operate at voltage <code>VDD1,</code> while instance <code>inst_B</code> operates on voltage <code>VDD2</code> and instance <code>inst_C</code> operates at voltage <code>VDD3</code>.</p>


<p>
  <a name="1041186"> </a>A portion of the design that operates at the same operating voltage (that is, uses the same <em>main</em> power supply) belongs to the <strong><em>power domain</em></strong> that corresponds to that operating voltage. </p>


<p>
  <a name="1082746"> </a>A steady state of the design is called a <strong><em>power mode</em></strong>. Pure MSV designs have only one power mode because the operating voltage of the power domains is assumed not to change. A power mode will also have a typical set of timing constraints associated with it.</p>


<p>
  <a name="1041187"> </a>To pass signals between portions of the design that operate on different voltages, <strong><em>level shifters</em></strong> are needed.</p>


<p>
  <a name="1045778"> </a>The majority of cells in a power domain are driven by the same power supply, except for the level shifters which are driven by multiple power supplies. </p>


<p>
  <a name="1076832"> </a>Level shifters have two sets of power and ground pins, and are therefore associated with two power domains: a <strong><em>primary</em></strong> and a <strong><em>secondary power domain</em></strong>.</p>

<ul>
  <a name="1076833"></a><li><p>A power domain X is a <em>secondary</em> power domain of a special low power instance if the primary power and ground nets of domain X provide the power supply to the <em>secondary</em> power and (or) ground pins of the special low power instance. </p>

  <a name="1077875"></a><li><p>A power domain Y is a <em>primary</em> power domain of a a special low power instance if the primary power and ground nets of domain Y provide the power supply to the <em>primary</em> power and ground pins (follow-pins) of the special low power instance. </p>
</ul>
<p>
  <a name="1077876"> </a>The tools reading CPF can derive the primary and secondary power domains for level shifters. For more information, refer to<a href="../cpf_ref/domains_and_modes.html#Level Shifters"> Input and Ouput Domains of Level Shifters</a>.</p>


  <a name="1035482"> </a><h4>
Figure 2-1   Example of MSV Design</h4>


<p>
  <a name="1035574"> </a><img src="images/create_cpfx1.png" border="0">
</p>


<p>
  <a name="1083839"> </a>Figure <a href="create_cpf.html#1035482">2-1</a> shows the typical operating voltage for each power domain. To check if the design functions correctly when slightly different operating conditions apply, typically a multi-corner timing analysis is done for the worst and best case corner. A pure MSV design has only one state of the design, so two views can be considered as shown in Figure <a href="create_cpf.html#1083549">2-2</a>. The design must function correctly in both corners for the same set of timing constraints that is typically specified for a given state of the design (power mode).</p>


  <a name="1083549"> </a><h4>
Figure 2-2   Multi-Corner Timing Analysis</h4>


<p>
  <a name="1083550"> </a><img src="images/create_cpfx2.png" border="0">
</p>


<p>
  <a name="1083866"> </a>When analyzing a view of the design, you need to indicate the corners at which the power domains are operating, as shown in Figure <a href="create_cpf.html#1083593">2-3</a>.</p>


  <a name="1083593"> </a><h4>
Figure 2-3   Relation of Analysis View with Power Domains and Operating Corners</h4>


<p>
  <a name="1083621"> </a><img src="images/create_cpfx3.png" border="0">
</p>


<p>
  <a name="1082623"> </a><strong><em>Operating corners</em></strong> are not only characterized by a set of operating conditions, but also by the library sets to be used for that corner, because the timing and power characteristics of the cells depend on the operating conditions. Typically different libraries are used for the different corners. </p>


<p>
  <a name="1083885"> </a><a href="create_cpf.html#1082628">Table 2-1</a> indicates for the design of <a href="create_cpf.html#1035482">Figure 2-1</a> the libraries that must be used to analyze the views.</p>


  <a name="1082628"> </a><h4>
Table 2-1   Operating Corners for the Power Domains of the MSV Design</h4>


<p>
  <a name="1082710"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1082631"> </a>Operating Corner</strong></p></div></font></th>
    <th colspan=3 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1082633"> </a>Operating Condition</strong></p></div></font></th>
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1082639"> </a>Libraries</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1082641"> </a>Name</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1082643"> </a>process</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1082645"> </a>temperature</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1082647"> </a>voltage</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1082651"> </a>BC_PD1</p>
</td>
    <td valign="top"><p>
<a name="1082653"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1082655"> </a>0</p>
</td>
    <td valign="top"><p>
<a name="1082657"> </a>0.88</p>
</td>
    <td valign="top"><p>
<a name="1082659"> </a>lib1_bc, lib2_bc</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1082661"> </a>BC_PD2</p>
</td>
    <td valign="top"><p>
<a name="1082663"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1082665"> </a>0</p>
</td>
    <td valign="top"><p>
<a name="1082667"> </a>1.1</p>
</td>
    <td valign="top"><p>
<a name="1082669"> </a>lib3_bc</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1082671"> </a>BC_PD3</p>
</td>
    <td valign="top"><p>
<a name="1082673"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1082675"> </a>0</p>
</td>
    <td valign="top"><p>
<a name="1082677"> </a>1.32</p>
</td>
    <td valign="top"><p>
<a name="1082679"> </a>lib4_bc</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1082681"> </a>WC_PD1</p>
</td>
    <td valign="top"><p>
<a name="1082683"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1082685"> </a>125</p>
</td>
    <td valign="top"><p>
<a name="1082687"> </a>0.72</p>
</td>
    <td valign="top"><p>
<a name="1082689"> </a>lib1_wc, lib2_wc</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1082691"> </a>WC_PD2</p>
</td>
    <td valign="top"><p>
<a name="1082693"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1082695"> </a>125</p>
</td>
    <td valign="top"><p>
<a name="1082697"> </a>0.9</p>
</td>
    <td valign="top"><p>
<a name="1082699"> </a>lib3_wc</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1082701"> </a>WC_PD3</p>
</td>
    <td valign="top"><p>
<a name="1082703"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1082705"> </a>125</p>
</td>
    <td valign="top"><p>
<a name="1082707"> </a>1.08</p>
</td>
    <td valign="top"><p>
<a name="1082709"> </a>lib4_wc</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1082812"> </a>As it is obvious that all this information is related to the power intent of the design, it makes sense to describe this information in the CPF file.</p>


<br><br>
<h3>
  <a name="1052744"> </a>Complete CPF File for MSV Example</h3>


<pre><a name="1073075"></a><nobr>set_cpf_version 1.1</nobr></pre>

<pre><a name="1084389"></a><nobr>#################################################<br>#       Technology part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1071554"></a><nobr># <code><strong>define the library sets</strong></code></nobr></pre>

<pre><a name="1081916"></a><nobr>define_library_set -name set1_bc -libraries {lib1_bc lib2_bc}</nobr></pre>

<pre><a name="1081917"></a><nobr>define_library_set -name set1_wc -libraries {lib1_wc lib2_wc}</nobr></pre>

<pre><a name="1081918"></a><nobr>define_library_set -name set2_bc -libraries lib3_bc</nobr></pre>

<pre><a name="1081919"></a><nobr>define_library_set -name set2_wc -libraries lib3_wc</nobr></pre>

<pre><a name="1081920"></a><nobr>define_library_set -name set3_bc -libraries lib4_bc</nobr></pre>

<pre><a name="1081921"></a><nobr>define_library_set -name set3_wc -libraries lib4_wc</nobr></pre>

<pre><a name="1071978"></a><nobr># <code><strong>define the level shifters</strong></code></nobr></pre>

<pre><a name="1052748"></a><nobr>define_level_shifter_cell -cells LVLLHEHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -output_voltage_range 1.0 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -valid_location from </nobr></pre>

<pre><a name="1052749"></a><nobr>define_level_shifter_cell -cells LVLLHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -output_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1052750"></a><nobr>define_level_shifter_cell -cells LVLLHELX* \<br>&nbsp; &nbsp;	 -input_voltage_range 1.0 \<br>&nbsp; &nbsp;	 -output_voltage_range 1.2 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to </nobr></pre>

<pre><a name="1071982"></a><nobr>#################################################<br>#       Design part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1052751"></a><nobr>set_design top</nobr></pre>

<pre><a name="1071986"></a><nobr><code><strong># create power domains</strong></code></nobr></pre>

<pre><a name="1052752"></a><nobr>create_power_domain -name PD1 -default</nobr></pre>

<pre><a name="1052753"></a><nobr>create_power_domain -name PD2 -instances instance_B</nobr></pre>

<pre><a name="1052754"></a><nobr>create_power_domain -name PD3 -instances instance_C</nobr></pre>

<pre><a name="1071990"></a><nobr># <code><strong>create nominal conditions</strong></code></nobr></pre>

<pre><a name="1052755"></a><nobr>create_nominal_condition -name low -voltage 0.8</nobr></pre>

<pre><a name="1052756"></a><nobr>create_nominal_condition -name medium -voltage 1.0</nobr></pre>

<pre><a name="1052757"></a><nobr>create_nominal_condition -name high -voltage 1.2</nobr></pre>

<pre><a name="1071994"></a><nobr># <code><strong>create power mode</strong></code></nobr></pre>

<pre><a name="1052758"></a><nobr>create_power_mode -name PM -domain_conditions {PD1@low PD2@medium PD3@high} \<br>-default</nobr></pre>

<pre><a name="1071999"></a><nobr><code><strong># associate library sets with nominal conditions</strong></code></nobr></pre>

<pre><a name="1052759"></a><nobr>update_nominal_condition -name low -library_set set1_wc</nobr></pre>

<pre><a name="1052760"></a><nobr>update_nominal_condition -name medium -library_set set2_wc</nobr></pre>

<pre><a name="1052761"></a><nobr>update_nominal_condition -name high -library_set set3_wc</nobr></pre>

<pre><a name="1072005"></a><nobr><code><strong># create rules for level shifter insertion</strong></code></nobr></pre>

<pre><a name="1052762"></a><nobr>create_level_shifter_rule -name lsr1 -from PD1 -to PD2</nobr></pre>

<pre><a name="1052763"></a><nobr>create_level_shifter_rule -name lsr2 -from PD2 -to PD3</nobr></pre>

<pre><a name="1052764"></a><nobr>create_level_shifter_rule -name lsr3 -from PD1 -to PD3</nobr></pre>

<pre><a name="1084927"></a><nobr>#####################################################<br># Additional Information for Logic Synthesis <br>#####################################################</nobr></pre>

<pre><a name="1072027"></a><nobr><code><strong># specify power targets</strong></code></nobr></pre>

<pre><a name="1052765"></a><nobr>set_power_target -leakage 30 -dynamic 250</nobr></pre>

<pre><a name="1072017"></a><nobr><code><strong># specify timing constraints</strong></code></nobr></pre>

<pre><a name="1052766"></a><nobr>update_power_mode -name PM -sdc_files top.sdc</nobr></pre>

<pre><a name="1072021"></a><nobr><code><strong># specify activity information</strong></code></nobr></pre>

<pre><a name="1052767"></a><nobr>update_power_mode -name PM -activity_file top.tcf -activity_file_weight 100</nobr></pre>

<pre><a name="1083239"></a><nobr><code><strong># update the rules</strong></code></nobr></pre>

<pre><a name="1083240"></a><nobr>update_level_shifter_rules -names lsr1 -location from</nobr></pre>

<pre><a name="1083241"></a><nobr>update_level_shifter_rules -names {lsr2 lsr3} -location to</nobr></pre>

<pre><a name="1081925"></a><nobr>#####################################################<br># Additional Information for Physical Implementation<br>#####################################################</nobr></pre>

<pre><a name="1081944"></a><nobr><code><strong># declare power and ground nets</strong></code></nobr></pre>

<pre><a name="1081945"></a><nobr>create_ground_nets -nets VSS </nobr></pre>

<pre><a name="1081946"></a><nobr>create_power_nets -nets VDD1 -voltage 0.8</nobr></pre>

<pre><a name="1081947"></a><nobr>create_power_nets -nets VDD2 -voltage 1.0</nobr></pre>

<pre><a name="1081948"></a><nobr>create_power_nets -nets VDD3 -voltage 1.2</nobr></pre>

<pre><a name="1081931"></a><nobr><code><strong># (optional) create global connections </strong></code></nobr></pre>

<pre><a name="1081932"></a><nobr># create_global_connection -net VSS -pins VSS</nobr></pre>

<pre><a name="1081933"></a><nobr># create_global_connection -domain PD1 -net VDD1 -pins VDD</nobr></pre>

<pre><a name="1081934"></a><nobr># create_global_connection -domain PD2 -net VDD2 -pins VDD</nobr></pre>

<pre><a name="1081935"></a><nobr># create_global_connection -domain PD3 -net VDD3 -pins VDD</nobr></pre>

<pre><a name="1072035"></a><nobr><code><strong># add implementation info for power domains</strong></code></nobr></pre>

<pre><a name="1052778"></a><nobr>update_power_domain -name PD1 -primary_power_net VDD1 -primary_ground_net VSS</nobr></pre>

<pre><a name="1052779"></a><nobr>update_power_domain -name PD2 -primary_power_net VDD2 -primary_ground_net VSS</nobr></pre>

<pre><a name="1052780"></a><nobr>update_power_domain -name PD3 -primary_power_net VDD3 -primary_ground_net VSS</nobr></pre>

<pre><a name="1082018"></a><nobr><code><strong># create operating corners</strong></code></nobr></pre>

<pre><a name="1082019"></a><nobr>create_operating_corner -name BC_PD1 \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 0.88 -library_set set1_bc</nobr></pre>

<pre><a name="1082040"></a><nobr>create_operating_corner -name BC_PD2 \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 1.0 -library_set set2_bc</nobr></pre>

<pre><a name="1082044"></a><nobr>create_operating_corner -name BC_PD3 \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 1.32 -library_set set3_bc</nobr></pre>

<pre><a name="1082048"></a><nobr>create_operating_corner -name WC_PD1 \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.72 -library_set set1_wc</nobr></pre>

<pre><a name="1082052"></a><nobr>create_operating_corner -name WC_PD2 \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.9 -library_set set2_wc</nobr></pre>

<pre><a name="1082056"></a><nobr>create_operating_corner -name WC_PD3 \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 1.08 -library_set set3_wc</nobr></pre>

<pre><a name="1082023"></a><nobr><code><strong># create analysis views</strong></code></nobr></pre>

<pre><a name="1082024"></a><nobr>create_analysis_view -name AV_BC -mode PM \<br>&nbsp; &nbsp;	 -domain_corners {PD1@BC_PD1 PD2@BC_PD2 PD3@BC_PD3}</nobr></pre>

<pre><a name="1082112"></a><nobr>create_analysis_view -name AV_WC -mode PM \<br>&nbsp; &nbsp;	 -domain_corners {PD1@WC_PD1 PD2@WC_PD2 PD3@WC_PD3}</nobr></pre>

<pre><a name="1052784"></a><nobr>end_design</nobr></pre>

<br><br>
<h3>
  <a name="1054288"> </a>Steps to Create the CPF File for MSV Design</h3>


<p>
  <a name="1054289"> </a>This section describes the information to include in a CPF file for an MSV design. The example shown in <a href="create_cpf.html#1035482">Figure 2-1</a> is used throughout this section. </p>


<p>
  <a name="1054129"> </a>A CPF file has technology-related information and design-related information.</p>


<p>
  <a name="1054130"> </a>For an MSV design, the technology-related information lists the libraries that you want to use for the design and identifies the library cells that can be used as level shifters.</p>

<ul>
  <a name="1054134"></a><li><p><a href="create_cpf.html#1052841">Specifying the Libraries</a></p>

  <a name="1054138"></a><li><p><a href="create_cpf.html#1041134">Specifying the Level Shifter Cells to Use</a></p>
</ul>
<p>
  <a name="1054139"> </a>The design-related information captures the power intent and constraints.</p>

<ul>
  <a name="1054143"></a><li><p><a href="create_cpf.html#1054310">Declaring the Design Described in the CPF File</a></p>

  <a name="1054420"></a><li><p><a href="create_cpf.html#1040762">Specifying Units Used</a></p>

  <a name="1074747"></a><li><p><a href="create_cpf.html#1074714">Specifying the Naming Styles Used</a></p>

  <a name="1054151"></a><li><p><a href="create_cpf.html#1035753">Specifying the Power Domains</a></p>

  <a name="1054155"></a><li><p><a href="create_cpf.html#1035955">Specifying the Operating Voltages Used in the Design</a></p>

  <a name="1054159"></a><li><p><a href="create_cpf.html#1036123">Associating a Nominal Condition with a Power Domain</a></p>

  <a name="1054163"></a><li><p><a href="create_cpf.html#1036271">Specifying the Libraries to Use for a Condition</a></p>

  <a name="1054167"></a><li><p><a href="create_cpf.html#1035992">Specifying the Rules to Create Level Shifter Logic</a></p>

  <a name="1054171"></a><li><p><a href="create_cpf.html#1041383">Specifying Power Constraints</a></p>

  <a name="1054175"></a><li><p><a href="create_cpf.html#1039740">Specifying Timing Constraints</a></p>

  <a name="1054179"></a><li><p><a href="create_cpf.html#1036996">Specifying Activity Information</a></p>

  <a name="1054183"></a><li><p><a href="create_cpf.html#1037027">Updating the Rules with Implementation Information</a></p>
</ul>
<p>
  <a name="1083145"> </a>The following information is needed for physical implementation:</p>

<ul>
  <a name="1083143"></a><li><p><a href="create_cpf.html#1082127">Specifying the Global Power and Ground Nets</a></p>

  <a name="1083226"></a><li><p><a href="create_cpf.html#1083177">Specifying the Global Connections</a></p>

  <a name="1083231"></a><li><p><a href="create_cpf.html#1083182">Specifying Additional Information for Power and Ground Routing</a></p>

  <a name="1083152"></a><li><p><a href="create_cpf.html#1083189">Specifying the Operating Corners</a></p>

  <a name="1083157"></a><li><p><a href="create_cpf.html#1083203">Specifying the Analysis Views</a></p>
</ul>


<h4>
  <a name="1052841"> </a>Specifying the Libraries</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041119"> </a>	 To group libraries that are characterized for a specific set of operating conditions, use the <code><a href="../cpf_ref/reference.html#define_library_set">define_library_set</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1041121"></a><nobr>define_library_set -name <code><em>library_set<br></code></em>&nbsp; &nbsp;	 -libraries<code><em> library_list </code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1041125"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>, six library sets are defined: one library set for the best and worst case operating conditions of each power domain.</p>


<pre><a name="1081889"></a><nobr>define_library_set -name set1_bc -libraries {lib1_bc lib2_bc}</nobr></pre>

<pre><a name="1081895"></a><nobr>define_library_set -name set1_wc -libraries {lib1_wc lib2_wc}</nobr></pre>

<pre><a name="1081890"></a><nobr>define_library_set -name set2_bc -libraries lib3_bc</nobr></pre>

<pre><a name="1081901"></a><nobr>define_library_set -name set2_wc -libraries lib3_wc</nobr></pre>

<pre><a name="1081891"></a><nobr>define_library_set -name set3_bc -libraries lib4_bc</nobr></pre>

<pre><a name="1081905"></a><nobr>define_library_set -name set2_wc -libraries lib3_wc</nobr></pre>

<pre><a name="1081887"></a><nobr></nobr></pre>



<h4>
  <a name="1041134"> </a>Specifying the Level Shifter Cells to Use</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041140"> </a>	 To identify which cells in the libraries can be used as level shifters, use the <code><a href="../cpf_ref/lib_reference.html#define_level_shifter_cell">define_level_shifter_cell</a></code> command.</td>
</table>


<p>
  <a name="1088090"> </a>For more information on how to model different types of level shifters, refer to <a href="modeling.html#1032853">Modeling Level Shifters</a>.</p>


<p>
  <a name="1041143"> </a>For applications that do not read .lib files, you must specify the library cells to allow the application to identify the instances of these cells in the netlist.</p>


<p>
  <a name="1045169"> </a>An MSV design may need different level shifters depending on the voltage gaps to bridge. For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>, the following command defines a set of level shifters that can be used from a power domain operating on 0.8V to a power domain operating on1.0V. </p>


<pre><a name="1045173"></a><nobr>define_level_shifter_cell -cells LVLLHEHX* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.8 \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -output_voltage_range 1.0 \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location from </nobr></pre>



<h4>
  <a name="1035625"> </a>Declaring the Design Described in the CPF File</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1035638"> </a>	 To identify the design for which the CPF file is created, use the following command:</td>
</table>

     <dl><dl>
<pre><a name="1035641"></a><nobr><code><a href="../cpf_ref/reference.html#set_design">set_design</a></code> <code><em>module</code></em></nobr></pre>
</dl><dl>
<p>
  <a name="1035644"> </a>where <code><em>module</code></em> refers to the name of the top module of the design to which the power information in the CPF file applies.</p>


<p>
  <a name="1035877"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>

</dl><dl>
<pre><a name="1035880"></a><nobr>set_design top</nobr></pre>
</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1035652"> </a>	 To indicate when the power information for this module ends, use the following command:</td>
</table>

     <dl><dl>
<pre><a name="1035657"></a><nobr><code><a href="../cpf_ref/reference.html#end_design">end_design</a></code></nobr></pre>
</dl>     </dl>


<h4>
  <a name="1040762"> </a>Specifying Units Used</h4>


<p>
  <a name="1040763"> </a>You can specify the units that will be used for the power and time values in CPF commands. </p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1035663"> </a>	 To specify the power unit used, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1035664"></a><nobr><code><a href="../cpf_ref/reference.html#set_power_unit">set_power_unit</a></code> [pW|nW|uW|mW|W]</nobr></pre>
</dl><dl>
<p>
  <a name="1035670"> </a><em>Default</em>: mW</p>

</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1035674"> </a>	 To specify the time unit used, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1035672"></a><nobr><code><a href="../cpf_ref/reference.html#set_time_unit">set_time_unit</a></code> [ns|us|ms]</nobr></pre>
</dl><dl>
<p>
  <a name="1035685"> </a><em>Default</em>: <code>ns</code></p>

</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1040789"> </a>These commands are optional if you use the default values.
</p>



<h4>
  <a name="1074714"> </a>Specifying the Naming Styles Used</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1040791"> </a>	 To specify the hierarchy separator used in the CPF file, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1035702"></a><nobr><code><a href="../cpf_ref/reference.html#set_hierarchy_separator">set_hierarchy_separator</a></code> [<code><em>character</code></em>]</nobr></pre>
</dl><dl>
<p>
  <a name="1035700"> </a>The default separator is the period (.).</p>

</dl>     </dl>
<p>
  <a name="1076585"> </a>The format of a name in RTL and in the netlist can be different. When you want to use the RTL names in the CPF file, but you are reading a gate-level netlist, you need to specify how the base name and bit information are represented in the netlist.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1035713"> </a>	 To specify the format used to name flip-flops and latches in the netlist starting from the register names in the RTL description, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1035706"></a><nobr><code><a href="../cpf_ref/reference.html#set_register_naming_style">set_register_naming_style</a></code> [string%s]</nobr></pre>
</dl><dl>
<p>
  <a name="1035721"> </a><em>Default</em>: <code>_reg%s</code></p>

</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1035716"> </a>	 To specify the format used to name the design objects in the netlist starting from multi-bit arrays in the RTL description, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1035740"></a><nobr><code><a href="../cpf_ref/reference.html#set_array_naming_style">set_array_naming_style</a></code> [<code><em>string</code></em>]</nobr></pre>
</dl><dl>
<p>
  <a name="1076608"> </a><em>Default:</em> <code>\[%d\]</code></p>

</dl>     </dl>
<p>
  <a name="1076611"> </a>For more information on these two commands, refer to <a href="../cpf_ref/format.html#naming">Individual Registers Names</a> in the <i>C</i><em>ommon Power Format Language Reference.</em></p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1040781"> </a>These three commands are optional if you use the default values.
</p>



<h4>
  <a name="1035753"> </a>Specifying the Power Domains</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1035786"> </a>	 To identify portions of the design that operate on the same voltage, associate these portions with a power domain using the <code><a href="../cpf_ref/reference.html#create_power_domain">create_power_domain</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1035812"></a><nobr>create_power_domain -name <code><em>power_domain<br></code></em>&nbsp; &nbsp;	 [-instances<code><em> instance_list</code></em>] [-boundary_ports <code><em>pin_list</code></em>] [-default]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1035842"> </a>The following options of <code>create_power_domain</code> are irrelevant for a pure MSV (non-switchable) design: <code>-shutoff_condition</code>, <code>external_controlled_shutoff</code>, <code>-</code><code>default_isolation_condition</code>, <code>-default_restore_edge</code>, <code>-default_save_edge</code>, <code>-default_restore_level</code>, <code>-default_save_level</code>, <code>-power_up_states</code>, <code>-active_state_conditions</code>, and <code>-base_domains.</code>
</p>

<p>
  <a name="1035857"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1035821"></a><nobr>create-power_domain -name PD1 -default<br>create_power_domain -name PD2 -instances inst_B<br>create_power_domain -name PD3 -instances inst_C</nobr></pre>

<p>
<strong>Note:&nbsp;</strong>
<a name="1035907"> </a>CPF requires that the top module belongs to the default power domain. 
</p>



<h4>
  <a name="1035955"> </a>Specifying the Operating Voltages Used in the Design</h4>


<p>
  <a name="1035971"> </a>In CPF, operating voltages are associated with <em>nominal conditions</em>.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1036208"> </a>	 To specify the operating voltages used in the design, use the <code><a href="../cpf_ref/reference.html#create_nominal_condition">create_nominal_condition</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1036149"></a><nobr>create_nominal_condition -name <code><em>string<br></code></em>-voltage {<code><em>voltage</code></em> | <code><em>voltage_list</code></em>}<code><em> <br></code></em>[-ground_voltage<code><em> </code></em>{<code><em>voltage</code></em> | <code><em>voltage_list</code></em>}]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1036163"> </a>The following options of <code>create_nominal_condition</code> are irrelevant for a pure MSV design:<code> -state</code>, <code>-pmos_bias_voltage</code> and <code>-nmos_bias_voltage</code>.
</p>

<p>
  <a name="1038906"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a> three nominal conditions are defined.</p>


<pre><a name="1081961"></a><nobr>create_nominal_condition -name low -voltage 0.8</nobr></pre>

<pre><a name="1036118"></a><nobr>create_nominal_condition -name medium -voltage 1.0</nobr></pre>

<pre><a name="1035975"></a><nobr>create_nominal_condition -name high -voltage 1.2</nobr></pre>

  <a name="1036168"> </a><table border="0"><tr><td valign="top"><img src="../support/tip.gif"></td><td>In CPF, operating voltages are not directly associated with power domains. When using other low power techniques such as power shut off (PSO) or dynamic voltage frequency scaling (DVFS), the operating voltage of a power domain can change and different power domains can use the same operating voltage at different times. </td></table>




<h4>
  <a name="1036123"> </a>Associating a Nominal Condition with a Power Domain</h4>


<p>
  <a name="1036182"> </a>In CPF, nominal conditions are associated with power domains for a given design mode (here referred to as <em>power mode</em>). </p>


<p>
  <a name="1036195"> </a>A pure MSV design (a design that uses multiple supply voltages but no other low power techniques such as PSO or DVFS methodology) is considered to have only one power mode and each power domain can be associated with only one nominal condition.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1036226"> </a>	 To associate the nominal conditions with the power domains, use the <code><a href="../cpf_ref/reference.html#create_power_mode">create_power_mode</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1036239"></a><nobr>create_power_mode -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -domain_conditions <code><em>domain_condition_list</code></em> -default</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1088075"> </a>The -<code>group_modes</code> option of the <code>create_power_mode</code> command is only relevant for a hierarchical flow. For more information, refer to <a href="hierarchical.html#1035250">Chapter 4, "Hierarchical Flow."</a>
</p>

<p>
  <a name="1076666"> </a>Use the following format to specify a <em>domain condition</em> (association of a power domain with its nominal condition):</p>


<pre><a name="1076667"></a><nobr><code><em>domain_name</code></em>@<code><em>nominal_condition_name</code></em></nobr></pre>

<p>
  <a name="1036235"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1076670"></a><nobr>create_power_mode -name PM -domain_conditions {PD1@low PD2@medium PD3@high} \<br>-default</nobr></pre>

<p>
<strong>Note:&nbsp;</strong>
<a name="1076961"> </a>CPF requires that one power mode is specified as the default power mode.
</p>



<h4>
  <a name="1036271"> </a>Specifying the Libraries to Use for a Condition</h4>


<p>
  <a name="1036310"> </a>You already grouped libraries that are characterized for a specific set of operating conditions in a library set.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1036345"> </a>	 To specify which library set to use for a specific nominal condition, use the <code><a href="../cpf_ref/reference.html#update_nominal_condition">update_nominal_condition</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1036055"></a><nobr>update_nominal_condition -name <code><em>condition<br></code></em>&nbsp; &nbsp;	 -library_set<code><em> library_set </code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1036362"> </a>Typically, you specify here the libraries for the worst case condition. For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1036052"></a><nobr>update_nominal_condition -name low -library_set set1_wc</nobr></pre>

<pre><a name="1036375"></a><nobr>update_nominal_condition -name medium -library_set set2_wc</nobr></pre>

<pre><a name="1036383"></a><nobr>update_nominal_condition -name high -library_set set3_wc</nobr></pre>



<h4>
  <a name="1035992"> </a>Specifying the Rules to Create Level Shifter Logic</h4>


<p>
  <a name="1036660"> </a>Depending on your technology, you may need level shifters when passing any signals</p>

<ul>
  <a name="1036698"></a><li><p>From a power domain with a lower voltage to a power domain with a higher voltage</p>

  <a name="1036701"></a><li><p>From a power domain with a higher voltage to a power domain with a lower voltage</p>

  <a name="1036712"></a><li><p>In both cases</p>
</ul>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1036722"> </a>	 To create the rule to be used between power domains or a set of pins, use the <code><a href="../cpf_ref/reference.html#create_level_shifter_rule">create_level_shifter_rule</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1036664"></a><nobr>create_level_shifter_rule -name <code><em>string<br></code></em>&nbsp; &nbsp;	 {-pins <code><em>pin_list</code></em> | -from <code><em>power_domain_list</code></em> | -to <code><em>power_domain_list</code></em><code>}...<br></code>&nbsp; &nbsp;	 [-exclude<code><em> pin_list</code></em>] </nobr></pre>
</dl>     </dl>
<p>
  <a name="1036671"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1036612"></a><nobr>create_level_shifter_rule -name lsr1 -from PD1 -to PD2</nobr></pre>

<pre><a name="1036678"></a><nobr>create_level_shifter_rule -name lsr2 -from PD2 -to PD3</nobr></pre>

<pre><a name="1041381"></a><nobr>create_level_shifter_rule -name lsr3 -from PD1 -to PD3</nobr></pre>



<h4>
  <a name="1041383"> </a>Specifying Power Constraints</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1041384"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041385"> </a>	 To specify the targets for leakage and dynamic power in the current design, use the <code><a href="../cpf_ref/reference.html#set_power_target">set_power_target</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1036854"></a><nobr>set_power_target<br>&nbsp; &nbsp;	 { -leakage <code><em>float</code></em> | -dynamic <code><em>float</code></em> <br>&nbsp; &nbsp;	 | -leakage <code><em>float</code></em> -dynamic <code><em>float </code></em>}</nobr></pre>
</dl><dl>
<p>
  <a name="1044846"> </a>The power constraints must be specified using the power units defined with the <code>set_power_unit</code> command.</p>

</dl>     </dl>
<p>
  <a name="1040723"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1040716"></a><nobr>set_power_target -leakage 30 -dynamic 250</nobr></pre>



<h4>
  <a name="1039740"> </a>Specifying Timing Constraints</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1041394"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1039742"> </a>	 To specify the timing constraints for the current design, use the <code>-sdc_files</code> option of the <code><a href="../cpf_ref/reference.html#update_power_mode">update_power_mode</a></code> command: </td>
</table>

     <dl><dl>
<pre><a name="1084337"></a><nobr>update_power_mode -name <code><em>mode<br></code></em>&nbsp; &nbsp;	 {-sdc_files | -setup_sdc_files | -hold_sdc_files} <code><em>sdc_file_list</code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1036984"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1036985"></a><nobr>update_power_mode -name PM -sdc_files top.sdc</nobr></pre>



<h4>
  <a name="1036996"> </a>Specifying Activity Information</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1041398"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1037008"> </a>	 To specify the activity information that can be used for power analysis, use</td>
</table>

     <dl><dl>
<pre><a name="1037001"></a><nobr>update_power_mode -name <code><em>mode<br></code></em>&nbsp; &nbsp;	 -activity_file <code><em>file</code></em> -activity_file_weight <code><em>weight</code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1037058"> </a>Supported formats for the activity files are VCD, TCF, and SAIF.</p>


<p>
  <a name="1037025"> </a>If the design has several modes, you can specify the relative weight of the activities per mode for optimization purpose. Because an MSV design has only one power mode, the weight for the file must be 100.</p>


<p>
  <a name="1037034"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1037035"></a><nobr>update_power_mode -name PM -activity_file top.tcf -activity_file_weight 100</nobr></pre>



<h4>
  <a name="1037027"> </a>Updating the Rules with Implementation Information</h4>


<p>
  <a name="1082177"> </a>You can specify additional information for level shifters, such as, where to place them, what cells to use, or what prefix to use for the added level shifters in the design.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041554"> </a>	 To specify the location or the type of level shifters to be used, use the <code><a href="../cpf_ref/reference.html#update_level_shifter_rules">update_level_shifter_rules</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1041556"></a><nobr>update_level_shifter_rules -names <code><em>rule_list</code></em> <br>&nbsp; &nbsp;	 { -location {from | to | parent | any} <br>&nbsp; &nbsp;	 | -within_hierarchy<code><em> instance<br></code></em>&nbsp; &nbsp;	 | -cells cell_list <br>&nbsp; &nbsp;	 | -prefix <code><em>string </code></em>}...</nobr></pre>
</dl>     </dl>
<p>
  <a name="1082170"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1082171"></a><nobr>update_level_shifter_rules -names lsr1 -location from</nobr></pre>

<pre><a name="1082172"></a><nobr>update_level_shifter_rules -names {lsr2 lsr3} -location to</nobr></pre>



<h4>
  <a name="1082127"> </a>Specifying the Global Power and Ground Nets</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1082136"> </a>	 To declare (or create) the nets connected to the power supplies, use the <code><a href="../cpf_ref/reference.html#create_ground_nets">create_ground_nets</a></code> and commands:</td>
</table>

     <dl><dl>
<pre><a name="1082139"></a><nobr>create_ground_nets -nets <code><em>net_list <br></code></em>&nbsp; &nbsp;	 [-voltage <code><em>string</code></em>]<br>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]<br>&nbsp; &nbsp;	 [-peak_ir_drop_limit <code><em>float</code></em>]<br>&nbsp; &nbsp;	 [-average_ir_drop_limit <code><em>float</code></em>] </nobr></pre>

<pre><a name="1082140"></a><nobr>create_power_nets -nets <code><em>net_list <br></code></em>&nbsp; &nbsp;	 [-voltage <code><em>string</code></em>]<br>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]<br>&nbsp; &nbsp;	 [-peak_ir_drop_limit <code><em>float</code></em>]<br>&nbsp; &nbsp;	 [-average_ir_drop_limit <code><em>float</code></em>] </nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1082141"> </a>The following options of <code>create_ground_nets</code> and <code>create_power_nets</code> are irrelevant for the pure MSV design: <code>-external_shutoff_condition</code>, and <code>-internal.</code>
</p>

<p>
  <a name="1082182"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1082183"></a><nobr>create_ground_nets -nets VSS </nobr></pre>

<pre><a name="1082184"></a><nobr>create_power_nets -nets VDD1 -voltage 0.8</nobr></pre>

<pre><a name="1082185"></a><nobr>create_power_nets -nets VDD2 -voltage 1.0</nobr></pre>

<pre><a name="1083170"></a><nobr>create_power_nets -nets VDD3 -voltage 1.2</nobr></pre>



<h4>
  <a name="1083177"> </a>Specifying the Global Connections</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1083171"> </a>	 To specify how to connect global nets, such as power and ground nets, use the <code><a href="../cpf_ref/reference.html#create_global_connection">create_global_connection</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1082144"></a><nobr>create_global_connection <br>&nbsp; &nbsp;	 -net <code><em>net <br></code></em>&nbsp; &nbsp;	 -pins <code><em>pin_list</code></em> <br>&nbsp; &nbsp;	 [-domain<code><em> domain</code></em> | -instances<code><em> instance_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1082148"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1082153"></a><nobr>create_global_connection -net VSS -pins VSS</nobr></pre>

<pre><a name="1082154"></a><nobr>create_global_connection -domain PD1 -net VDD1 -pins VDD</nobr></pre>

<pre><a name="1082155"></a><nobr>create_global_connection -domain PD2 -net VDD2 -pins VDD</nobr></pre>

<pre><a name="1082156"></a><nobr>create_global_connection -domain PD3 -net VDD3 -pins VDD</nobr></pre>



<h4>
  <a name="1083182"> </a>Specifying Additional Information for Power and Ground Routing</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1044367"> </a>	 To specify additional information that applies to power and ground routing, use</td>
</table>

     <dl><dl>
<pre><a name="1044368"></a><nobr>update_power_domain<br>&nbsp; &nbsp;	 -name <code><em>domain<br></code></em>&nbsp; &nbsp;	 { -primary_power_net <code><em>net </code></em>| -primary_ground_net <code><em>net</code></em> } ...</nobr></pre>
</dl>     </dl>
<p>
  <a name="1041374"> </a>For the example in <a href="create_cpf.html#1035482">Figure 2-1</a>:</p>


<pre><a name="1044375"></a><nobr>update_power_domain -name PD1 -primary_power_net VDD1 </nobr></pre>

<pre><a name="1044376"></a><nobr>update_power_domain -name PD2 -primary_power_net VDD2</nobr></pre>

<pre><a name="1044377"></a><nobr>update_power_domain -name PD3 -primary_power_net VDD3</nobr></pre>

<p>
  <a name="1048347"> </a>Here the <code>update_power_domain</code> command for power domain <code>PD1</code> indicates that <code>VDD1</code> is the main power net for all cells of power domain <code>PD1.</code></p>




<h4>
  <a name="1083189"> </a>Specifying the Operating Corners</h4>


<p>
  <a name="1083190"> </a>The design must be able to perform under different sets of operating conditions (process, voltage, and temperature values). Because the timing and power characteristics of the cells depend on the operating conditions, different library sets that contain the characterization information for the different conditions are used. An operating corner shows which library set to use for a given operating condition. </p>


  <a name="1083191"> </a><table border="0"><tr><td valign="top"><img src="../support/tip.gif"></td><td>Different portions of the design can operate at the same voltage and yet use dedicated library sets. In this case, it is possible to have multiple operating corners with the same operating conditions. </td></table>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1083193"> </a>	 To define an operating corner, use the <code><a href="../cpf_ref/reference.html#create_operating_corner">create_operating_corner</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1083194"></a><nobr>create_operating_corner<br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -voltage <code><em>float </code></em>[-ground_voltage<code><em> float</code></em>]<br>&nbsp; &nbsp;	 [-process <code><em>float</code></em>]<br>&nbsp; &nbsp;	 [-temperature <code><em>float</code></em>]<br>&nbsp; &nbsp;	 -library_set <code><em>library_set</code></em></nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1083195"> </a>The -<code>pmos_bias_voltage</code> and <code>-nmos_bias_voltage</code> options of <code>create_operating_corner</code> are irrelevant for a design not using substrate biasing.
</p>

<p>
  <a name="1083199"> </a>For the design in <a href="create_cpf.html#1035482">Figure 2-1</a>, six operating corners were specified.</p>


<p>
  <a name="1083200"> </a>The following command specifies to use library set <code>set1_bc</code> for operating corner <code>BC_PD1</code>. The process value of the operating corner is 1, the temperature is 0&#176;C and the operating voltage is 0.88V. This operating corner is defined for best case conditions.</p>


<pre><a name="1083201"></a><nobr>create_operating_corner -name BC_PD1 \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 0.88 -library_set set1_bc</nobr></pre>



<h4>
  <a name="1083203"> </a>Specifying the Analysis Views</h4>


<p>
  <a name="1083204"> </a>The design must function correctly in each power mode not only under typical conditions, but also under extreme conditions. Typically a multi-mode multi-corner timing analysis will be done for the worst case and the best case conditions.</p>


<p>
  <a name="1083205"> </a>An analysis view associates a specific operating corner with each power domain in the specified power mode. You need to make sure that all operating corners for a view correspond to either best or worst case conditions. </p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1083207"> </a>	 To define an analysis view, use the <code><a href="../cpf_ref/reference.html#create_analysis_view">create_analysis_view</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1083208"></a><nobr>create_analysis_view <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -mode <code><em>mode<br></code></em>&nbsp; &nbsp;	 -domain_corners <code><em>domain_corner_list<br></code></em>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1083209"> </a>The <code>-group_views</code> option of <code>create_analysis_view</code> is only relevant in a hierarchical flow. For more information, refer to <a href="hierarchical.html#1035250">Chapter 4, "Hierarchical Flow."</a>
</p>
<p>
<a name="1083213"> </a>Use the following format to specify a domain corner:</p>
<p>
<a name="1083214"> </a><code><em>domain_name</code></em>@<code><em>corner_name</code></em></p>

  <a name="1083215"> </a><table border="0"><tr><td valign="top"><img src="../support/tip.gif"></td><td>The CPF file can contain several analysis views with the same domain and corner information for a power mode. For a multi-mode multi-corner analysis, some implementation and timing analysis tools need unique views to associate with different parasitic corners.</td></table>


<p>
  <a name="1083219"> </a>For the design in <a href="create_cpf.html#1035482">Figure 2-1</a>, two analysis views were specified.</p>


<p>
  <a name="1083220"> </a>The following command specifies analysis view <code>AV_BC </code>for power mode <code>PM1</code>. For this view the operating corners for the best case operating conditions are associated with the three power domains.</p>


<pre><a name="1083221"></a><nobr>create_analysis_view -name AV_BC -mode PM1 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@BC_PD1 PD2@BC_PD2 PD3@BC_PD3}</nobr></pre>

<br><br><br>
<h2>
  <a name="1038662"> </a>C<a name="PSO design"></a>reating a CPF File for a Design Using PSO Methodology</h2>


<p>
  <a name="1038663"> </a>A design using power shut off (<strong>PSO</strong>) implementation is a design of which some portions can be switched on and off as needed (or possibly) to save leakage and dynamic power.</p>


<p>
  <a name="1038401"> </a>Logic blocks (hierarchical instances), leaf instances, and pins that use the same <em>main</em> power supply and that can be simultaneously switched on or off are said to belong to the same <strong><em>power domain</em></strong><em>. </em>The example design in <a href="create_cpf.html#1037990">Figure&nbsp;2-4</a> has three power domains:</p>

<ul>
  <a name="1039014"></a><li><p>The top-level of the design, <code>top</code>, and hiearchical instances, <code>inst_C</code> and <code>pm_inst,</code> are always switched on: they belong to domain <code>PD1</code></p>

  <a name="1039015"></a><li><p>Hierarchical instances <code>inst_A</code> and <code>inst_B </code>are always switched on and off simultaneously: they belong to power domain <code>PD2</code></p>

  <a name="1039016"></a><li><p>Hierarchical instance <code>inst_D</code> can be switched on and off independently from hierarchical instances <code>inst_A</code> and <code>inst_B:</code> it belongs to power domain <code>PD3</code></p>
</ul>
  <a name="1037990"> </a><h4>
Figure 2-4   Example of Design with PSO</h4>


<p>
  <a name="1037998"> </a><img src="images/create_cpfx4.png" border="0">
</p>


<p>
  <a name="1038136"> </a>Power domain <code>PD1</code> is never powered down. It is called an <a href="../cpf_ref/domains_and_modes.html#unswitched"></a>unswitched domain.</p>


<p>
  <a name="1084375"> </a>Power domains <code>PD2</code> and <code>PD3</code> can be powered down. They are referred to as switchable domains. CPF distinguishes between <a href="../cpf_ref/domains_and_modes.html#internal switchable">internal switchable</a>, and <a href="../cpf_ref/domains_and_modes.html#on-chip controlled ">on-chip</a> controlled external switchable domains. </p>


<p>
  <a name="1084379"> </a>A steady state of the design in which some power domains are switched on and some power domains are switched off is called a <strong><em>power mode</em></strong>. In a power mode, each power domain operates on a specific nominal condition. Different timing constraints can be associated with each power mode. <a href="create_cpf.html#1038139">Table 2-2</a> shows the three power modes of the example design.</p>


  <a name="1038139"> </a><h4>
Table 2-2   Power Modes</h4>


<p>
  <a name="1038210"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1087598"> </a>Power Mode</strong></p></div></font></th>
    <th colspan=3 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1087600"> </a>Power Domain</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1087608"> </a>PD1</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1087610"> </a>PD2</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1087612"> </a>PD3</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1087614"> </a>PM1</p>
</td>
    <td valign="top"><p>
<a name="1087616"> </a>1.1V</p>
</td>
    <td valign="top"><p>
<a name="1087618"> </a>1.1V</p>
</td>
    <td valign="top"><p>
<a name="1087620"> </a>1.1V</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1087622"> </a>PM2</p>
</td>
    <td valign="top"><p>
<a name="1087624"> </a>1.1V</p>
</td>
    <td valign="top"><p>
<a name="1087626"> </a>0.0V</p>
</td>
    <td valign="top"><p>
<a name="1087628"> </a>1.1V</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1087630"> </a>PM3</p>
</td>
    <td valign="top"><p>
<a name="1087632"> </a>1.1V</p>
</td>
    <td valign="top"><p>
<a name="1087634"> </a>0.0V</p>
</td>
    <td valign="top"><p>
<a name="1087636"> </a>0.0V</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1039060"> </a>A voltage of 0.0V indicates that the power domain is off.
</p>

<p>
  <a name="1039091"> </a>To prevent that unknown states in the power domains that are powered down propagate to the domains that remain powered on <strong><em>isolation cells</em></strong><em> </em>are needed at the boundaries of the power domains that are powered down. Most of the time, isolation cells are inserted at the output boundaries of the powered down domains. You can, however, also insert isolation cells at the input boundaries. </p>


<p>
  <a name="1039092"> </a>To facilitate powered down blocks to resume normal operation, <strong><em>state retention cells</em></strong> can be used for some sequential cells to keep their previous state prior to power down. </p>


<p>
  <a name="1039088"> </a>For switchable domains you need to indicate how the power supply is connected and disconnected from the gates. </p>

<ul>
  <a name="1077546"></a><li><p>For internal switchable domains, you must add <strong><em>power switch logic. </em></strong></p>

  <a name="1077547"></a><li><p>For external switchable domains, the power switch logic is not part of the chip, so you must indicate that an <em>external power shut-off method</em> is used.</p>
</ul>
<p>
  <a name="1077550"> </a>For this example we are assuming that power domains <code>PD2</code> and <code>PD3</code> are internal switchable.</p>


<p>
  <a name="1039109"> </a>Special control signals are used to shut down a power domain, enable state retention, and control the working of the power switch logic. <a href="create_cpf.html#1039110">Table 2-3</a> shows the signals used in this example.</p>


  <a name="1039110"> </a><h4>
Table 2-3   Signals Controlling the Power Domains</h4>


<p>
  <a name="1038269"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1038222"> </a>Power Domain</strong></p></div></font></th>
    <th colspan=3 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1038224"> </a>Control Signals</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1038232"> </a>power switch </p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1038234"> </a>isolation cell </p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1038236"> </a>state retention cell</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1038238"> </a>PD1</p>
</td>
    <td valign="top"><p>
<a name="1038240"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1038242"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1038244"> </a>no control signal</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1038246"> </a>PD2</p>
</td>
    <td valign="top"><p>
<a name="1038248"> </a>ps_enable[0]</p>
</td>
    <td valign="top"><p>
<a name="1038250"> </a>ice_enable[0]</p>
</td>
    <td valign="top"><p>
<a name="1038252"> </a>pge_enable[0]</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1038254"> </a>PD3</p>
</td>
    <td valign="top"><p>
<a name="1038256"> </a>ps_enable[1]</p>
</td>
    <td valign="top"><p>
<a name="1038258"> </a>ice_enable[1]</p>
</td>
    <td valign="top"><p>
<a name="1038260"> </a>pge_enable[1]</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1077562"> </a>When a domain is switchable, it derives its power from another power domain through either internal or external power switch logic.</p>


<p>
  <a name="1077566"> </a>In this example, power domain <code>PD2</code> derives its power from power domain <code>PD1</code>, then <code>PD1</code> is called the <strong><em>secondary</em></strong> (or base) domain for <code>PD2</code>, which is referred to as the <strong><em>primary</em></strong> (or derived) domain. </p>


<p>
  <a name="1077572"> </a>When defining a (primary) power domain you can indicate its secondary domain and under which condition the domain will be shut down.</p>


<p>
  <a name="1077576"> </a>The majority of instances in a power domain are driven by the same power supply. For switchable domains, it is the primary power and ground nets of the (primary) power domain to which the instances belong that provide the power supply to the power and ground pins (follow-pins) of the cells. </p>


<p>
  <a name="1077581"> </a>On the other hand, isolation cells and state retention cells are driven by multiple power supplies. These special low power instances have at least two sets of power and ground pins, and are therefore associated with two power domains: the <strong><em>primary</em></strong> domain is the domain that provides the power supply to their primary set of power and ground pins. The <strong><em>secondary</em></strong> domain is the domain whose primary power and ground nets provide the power supply to the secondary power and ground pins of the special low power instances.</p>


<p>
  <a name="1077567"> </a>It is recommended that you specify the secondary domain for these special low power instances, but if you do not specify this information, the tools can use some rules to derive the secondary domain. For more information, refer to <a href="../cpf_ref/domains_and_modes.html#Isolation">Secondary Power Domain of Isolation Instances</a>, and <a href="../cpf_ref/domains_and_modes.html#Retention">Secondary Domain of Retention Logic</a>.</p>


<p>
  <a name="1083905"> </a>If the design can operate in different power modes, you need to check if the design functions correctly in each of these modes not only at the typical conditions but also when slightly different operating conditions apply. Typically a multi-mode multi-corner timing analysis will be done for the worst case and the best case corner. The design must function correctly in both corners for the same set of timing constraints that is specified for that power mode. <a href="create_cpf.html#1083907">Figure 2-5</a> shows that an analysis (view) can be done for each corner of the power mode.</p>


  <a name="1083907"> </a><h4>
Figure 2-5   Multi-Corner Timing Analysis for a Power Mode</h4>


<p>
  <a name="1083923"> </a><img src="images/create_cpfx5.png" border="0">
</p>


<p>
  <a name="1083931"> </a>When analyzing a view of the design, you need to indicate the corners at which the power domains are operating, as shown in Figure <a href="create_cpf.html#1083936">2-6</a>.</p>


  <a name="1083936"> </a><h4>
Figure 2-6   Relation of Analysis View with Power Domains and Operating Corners</h4>


<p>
  <a name="1083960"> </a><img src="images/create_cpfx6.png" border="0">
</p>


<p>
  <a name="1083961"> </a><strong><em>Operating corners</em></strong> are not only characterized by a set of operating conditions, but also by the library sets to be used for that corner, because the timing and power characteristics of the cells depend on the operating conditions. Typically different libraries are used for the different corners. </p>


<p>
  <a name="1081464"> </a><a href="create_cpf.html#1081469">Table 2-4</a> indicates which library sets must be used for the design in <a href="create_cpf.html#1037990">Figure 2-4</a> to check the conditions.</p>


  <a name="1081469"> </a><h4>
Table 2-4   Operating Corners</h4>


<p>
  <a name="1081551"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1087641"> </a>Operating Corner</strong></p></div></font></th>
    <th colspan=3 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1087643"> </a>Operating Condition</strong></p></div></font></th>
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1087649"> </a>Library set</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1087651"> </a>Name</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1087653"> </a>process</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1087655"> </a>temperature</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1087657"> </a>voltage</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1087661"> </a>BC</p>
</td>
    <td valign="top"><p>
<a name="1087663"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1087665"> </a>0</p>
</td>
    <td valign="top"><p>
<a name="1087667"> </a>0.99</p>
</td>
    <td valign="top"><p>
<a name="1087669"> </a>lib1_bc, lib2_bc</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1087671"> </a>WC</p>
</td>
    <td valign="top"><p>
<a name="1087673"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1087675"> </a>125</p>
</td>
    <td valign="top"><p>
<a name="1087677"> </a>1.21</p>
</td>
    <td valign="top"><p>
<a name="1087679"> </a>lib1_wc, lib2_wc</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1081582"> </a>As is obvious that all this information is related to the power intent of the design, it makes sense to describe this information in the CPF file.</p>


<br><br>
<h3>
  <a name="1052886"> </a>Complete CPF File for PSO Example</h3>


<pre><a name="1084391"></a><nobr>set_cpf_version 1.1</nobr></pre>

<pre><a name="1073079"></a><nobr>#################################################<br>#       Technology part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1073083"></a><nobr># <code><strong>define the library sets</strong></code></nobr></pre>

<pre><a name="1081590"></a><nobr>define_library_set -name set1_wc -libraries {lib1_wc lib2_wc}</nobr></pre>

<pre><a name="1083502"></a><nobr>define_library_set -name set1_bc -libraries {lib1_bc lib2_bc}</nobr></pre>

<pre><a name="1073087"></a><nobr># <code><strong>define the isolation cells</strong></code></nobr></pre>

<pre><a name="1052888"></a><nobr>define_isolation_cell -cells ISOLN* -enable EN -valid_location on</nobr></pre>

<pre><a name="1073091"></a><nobr># <code><strong>define the always on cell</strong></code></nobr></pre>

<pre><a name="1052889"></a><nobr>define_always_on_cell -cells "BUFGX2M BUFGX8M INVGX2M INVGX8M"</nobr></pre>

<pre><a name="1083283"></a><nobr># <code><strong>define the state retention cell</strong></code></nobr></pre>

<pre><a name="1083284"></a><nobr>define_state_retention_cell -cells *DRFF* -restore_function RETN </nobr></pre>

<pre><a name="1073095"></a><nobr># <code><strong>define the power switch cells</strong></code></nobr></pre>

<pre><a name="1052890"></a><nobr>define_power_switch_cell -cells "hd8DM hd16DM hd32DM hd64DM"  \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEP -type header</nobr></pre>

<pre><a name="1052891"></a><nobr>define_power_switch_cell -cells "hd8M hd16M hd32M hd64M"  \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEP -type header</nobr></pre>

<pre><a name="1052892"></a><nobr>define_power_switch_cell -cells "ft8DM ft16DM" \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEPN -type footer</nobr></pre>

<pre><a name="1052893"></a><nobr>define_power_switch_cell -cells "ft8M ft16M"  \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEPN -type footer</nobr></pre>

<pre><a name="1073103"></a><nobr>#################################################<br>#       Design part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1052895"></a><nobr># <code><strong>identify the design for which the CPF file is created</strong></code></nobr></pre>

<pre><a name="1077513"></a><nobr>set_design top</nobr></pre>

<pre><a name="1073107"></a><nobr><code><strong># create power domains</strong></code></nobr></pre>

<pre><a name="1052896"></a><nobr>create_power_domain -name PD1 -default</nobr></pre>

<pre><a name="1052897"></a><nobr>create_power_domain -name PD2 -instances {inst_A inst_B} \<br>-shutoff_condition {pse_enable[0]} -base_domains PD1</nobr></pre>

<pre><a name="1052898"></a><nobr>create_power_domain -name PD3 -instances inst_D \<br>-shutoff_condition {pse_enable[1]} -base_domains PD1</nobr></pre>

<pre><a name="1073111"></a><nobr># <code><strong>create nominal conditions</strong></code></nobr></pre>

<pre><a name="1052899"></a><nobr>create_nominal_condition -name off -voltage 0</nobr></pre>

<pre><a name="1052900"></a><nobr>create_nominal_condition -name on -voltage 1.1</nobr></pre>

<pre><a name="1073135"></a><nobr># <code><strong>create power modes</strong></code></nobr></pre>

<pre><a name="1052901"></a><nobr>create_power_mode -name PM1 -domain_conditions {PD1@on PD2@on PD3@on} -default</nobr></pre>

<pre><a name="1052902"></a><nobr>create_power_mode -name PM2 -domain_conditions {PD1@on PD3@on}</nobr></pre>

<pre><a name="1052903"></a><nobr>create_power_mode -name PM3 -domain_conditions {PD1@on}</nobr></pre>

<pre><a name="1073139"></a><nobr><code><strong># associate library sets with nominal conditions</strong></code></nobr></pre>

<pre><a name="1081637"></a><nobr>update_nominal_condition -name on -library_set set1_wc</nobr></pre>

<pre><a name="1073119"></a><nobr><code><strong># create rules for isolation logic insertion </strong></code></nobr></pre>

<pre><a name="1052905"></a><nobr>create_isolation_rule -name iso1 -from PD2 \<br>-isolation_condition {pm_inst.ice_enable[0]} </nobr></pre>

<pre><a name="1052906"></a><nobr>create_isolation_rule -name iso2 -to PD1\<br>-isolation_condition {pm_inst.ice_enable[1]} -isolation_output high</nobr></pre>

<pre><a name="1073131"></a><nobr><code><strong># create rules for state retention insertion </strong></code></nobr></pre>

<pre><a name="1073126"></a><nobr>create_state_retention_rule -name st1 -domain PD2 \<br>-restore_edge {!pm_inst.pge_enable[0]}</nobr></pre>

<pre><a name="1073127"></a><nobr>create_state_retention_rule -name st2 -domain PD3 \<br>-restore_edge {!pm_inst.pge_enable[1]}</nobr></pre>

<pre><a name="1084931"></a><nobr>#####################################################<br># Additional Information for Logic Synthesis <br>#####################################################</nobr></pre>

<pre><a name="1073159"></a><nobr><code><strong># specify power targets</strong></code></nobr></pre>

<pre><a name="1052914"></a><nobr>set_power_target -leakage 30 -dynamic 250</nobr></pre>

<pre><a name="1073143"></a><nobr><code><strong># specify timing constraints</strong></code></nobr></pre>

<pre><a name="1052915"></a><nobr>update_power_mode -name PM1 -sdc_files pm1.sdc</nobr></pre>

<pre><a name="1052916"></a><nobr>update_power_mode -name PM2 -sdc_files pm2.sdc</nobr></pre>

<pre><a name="1052917"></a><nobr>update_power_mode -name PM1 -activity_file top.tcf -activity_file_weight 100</nobr></pre>

<pre><a name="1073151"></a><nobr><code><strong># update the rules with implementation info</strong></code></nobr></pre>

<pre><a name="1052921"></a><nobr>update_isolation_rules -names iso1 -location to -cells ISOLNX2M</nobr></pre>

<pre><a name="1052922"></a><nobr>update_isolation_rules -names iso2 -location to -cells ISOLNX2M</nobr></pre>

<pre><a name="1081730"></a><nobr>#####################################################<br># Additional Information for Physical Implementation<br>#####################################################</nobr></pre>

<pre><a name="1083247"></a><nobr><code><strong># declare power and ground nets</strong></code></nobr></pre>

<pre><a name="1087768"></a><nobr>create_power_nets -nets VDD -voltage 1.1</nobr></pre>

<pre><a name="1083249"></a><nobr>create_power_nets -nets {VDD_SW1 VDD_SW2} -internal</nobr></pre>

<pre><a name="1083250"></a><nobr>create_ground_nets -nets VSS -voltage 0</nobr></pre>

<pre><a name="1083256"></a><nobr><code><strong># (optional) create global connections</strong></code></nobr></pre>

<pre><a name="1083257"></a><nobr>create_global_connection -net VDD -pins VDD</nobr></pre>

<pre><a name="1083259"></a><nobr>create_global_connection -net VSS -pins VSS</nobr></pre>

<pre><a name="1087776"></a><nobr><code><strong># rules for power switch insertion </strong></code></nobr></pre>

<pre><a name="1087777"></a><nobr>create_power_switch_rule -name SW1 -domain PD2 -external_power_net VDD</nobr></pre>

<pre><a name="1087778"></a><nobr>create_power_switch_rule -name SW2 -domain PD3 -external_power_net VDD</nobr></pre>

<pre><a name="1087784"></a><nobr>update_power_switch_rule -name SW1 -cells hd32M -prefix CDN_</nobr></pre>

<pre><a name="1087785"></a><nobr>update_power_switch_rule -name SW2 -cells hd32M -prefix CDN_</nobr></pre>

<pre><a name="1083265"></a><nobr><code><strong># add implementation info for power domains</strong></code></nobr></pre>

<pre><a name="1083266"></a><nobr>update_power_domain -name PD1 -primary_power_net VDD -primary_ground_net VSS</nobr></pre>

<pre><a name="1083267"></a><nobr>update_power_domain -name PD2 -primary_power_net VDD_SW1 -primary_ground_net VSS</nobr></pre>

<pre><a name="1083268"></a><nobr>update_power_domain -name PD3 -primary_power_net VDD_SW2 -primary_ground_net VSS</nobr></pre>

<pre><a name="1081738"></a><nobr><code><strong># create operating corners</strong></code></nobr></pre>

<pre><a name="1081739"></a><nobr>create_operating_corner -name BC \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 1.21 -library_set set1_bc</nobr></pre>

<pre><a name="1081740"></a><nobr>create_operating_corner -name WC \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.99 -library_set set1_wc</nobr></pre>

<pre><a name="1081750"></a><nobr><code><strong># create analysis views</strong></code></nobr></pre>

<pre><a name="1081751"></a><nobr>create_analysis_view -name AV_PM1_bc -mode PM1 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@BC PD2@BC PD3@BC}</nobr></pre>

<pre><a name="1081827"></a><nobr>create_analysis_view -name AV_PM1_wv -mode PM1 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@WC PD2@WC PD3@WC}</nobr></pre>

<pre><a name="1081845"></a><nobr>create_analysis_view -name AV_PM2_bc -mode PM2 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@BC PD2@BC PD3@BC}</nobr></pre>

<pre><a name="1081846"></a><nobr>create_analysis_view -name AV_PM2_wc -mode PM2 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@WC PD2@WC PD3@WC}</nobr></pre>

<pre><a name="1081850"></a><nobr>create_analysis_view -name AV_PM3_bc -mode PM3 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@BC PD2@BC PD3@BC}</nobr></pre>

<pre><a name="1081851"></a><nobr>create_analysis_view -name AV_PM3_wc -mode PM3 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@WC PD2@WC PD3@WC}</nobr></pre>

<pre><a name="1077506"></a><nobr># <code><strong>indicate when the power information for the design ends</strong></code></nobr></pre>

<pre><a name="1052928"></a><nobr>end_design</nobr></pre>

<br><br>
<h3>
  <a name="1052880"> </a>Steps to Create the CPF File for Design Using PSO</h3>


<p>
  <a name="1054198"> </a>This section describes the information to include in a CPF file for a design using the PSO methodology. The example shown in <a href="create_cpf.html#1039092">Figure 2-4</a> is used throughout this section. </p>


<p>
  <a name="1054296"> </a>A CPF file has technology-related information and design-related information.</p>


<p>
  <a name="1054202"> </a>For a design using the PSO methodology, the technology-related information lists the libraries that you want to use for the design and identifies the library cells that can be used as isolation cells, power switch cells and state retention cells.</p>

<ul>
  <a name="1054206"></a><li><p><a href="create_cpf.html#1041693">Specifying the Libraries</a></p>

  <a name="1054210"></a><li><p><a href="create_cpf.html#1041709">Specifying the Isolation Cells to Use</a></p>

  <a name="1054214"></a><li><p><a href="create_cpf.html#1041731">Specifying the Always-On Cells</a></p>

  <a name="1054222"></a><li><p><a href="create_cpf.html#1041774">Specifying the State Retention Cells to be Used</a></p>

  <a name="1087979"></a><li><p><a href="create_cpf.html#1087958">Specifying the Power Switch Cells to be Used</a></p>
</ul>
<p>
  <a name="1054223"> </a>The design-related information captures the power intent and constraints.</p>

<ul>
  <a name="1074756"></a><li><p><a href="create_cpf.html#1048425">Declaring the Design Described in the CPF File</a></p>

  <a name="1087984"></a><li><p><a href="create_cpf.html#1038499">Specifying Units Used</a></p>

  <a name="1074763"></a><li><p><a href="create_cpf.html#1074734">Specifying Naming Styles Used</a></p>

  <a name="1054235"></a><li><p><a href="create_cpf.html#1038510">Specifying the Power Domains</a></p>

  <a name="1054239"></a><li><p><a href="create_cpf.html#1039826">Specifying the Operating Voltage Used in the Design</a></p>

  <a name="1054243"></a><li><p><a href="create_cpf.html#1038982">Specifying the Static Behavior in each Power Mode</a></p>

  <a name="1054247"></a><li><p><a href="create_cpf.html#1039269">Specifying the Libraries to Use for a Condition</a></p>

  <a name="1054251"></a><li><p><a href="create_cpf.html#1039600">Specifying the Rules to Create Isolation Logic</a></p>

  <a name="1054255"></a><li><p><a href="create_cpf.html#1079136">Specifying the Rules to Create State Retention Logic</a></p>

  <a name="1054263"></a><li><p><a href="create_cpf.html#1042072">Specifying Power Constraints</a></p>

  <a name="1081672"></a><li><p><a href="create_cpf.html#1042083">Specifying Timing Constraints</a></p>

  <a name="1081677"></a><li><p><a href="create_cpf.html#1042095">Specifying Activity Information</a></p>

  <a name="1083287"></a><li><p><a href="create_cpf.html#1083300">Updating the Rules with Information for Implementation</a></p>
</ul>
<p>
  <a name="1081687"> </a>The following information is needed for physical implementation:</p>

<ul>
  <a name="1081983"></a><li><p><a href="create_cpf.html#1081991">Specifying the Power and Ground Nets</a></p>

  <a name="1083428"></a><li><p><a href="create_cpf.html#1083369">Specifying the Global Connections</a></p>

  <a name="1087762"></a><li><p><a href="create_cpf.html#1087792">Specifying the Rules for the Power Switch Logic</a></p>

  <a name="1083294"></a><li><p><a href="create_cpf.html#1083412">Specifying Additional Information for Power and Ground Routing</a></p>

  <a name="1054267"></a><li><p><a href="create_cpf.html#1081693">Specifying the Operating Corners</a></p>

  <a name="1081874"></a><li><p><a href="create_cpf.html#1081780">Specifying the Analysis Views</a></p>
</ul>


<h4>
  <a name="1041693"> </a>Specifying the Libraries</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041795"> </a>	 To group libraries that are characterized for a specific set of operating conditions, use the <code><a href="../cpf_ref/reference.html#define_library_set">define_library_set</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1041797"></a><nobr>define_library_set -name <code><em>library_set<br></code></em>&nbsp; &nbsp;	 -libraries<code><em> library_list </code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1041700"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>, we assume only one main power supply, which implies that the definition of one library set is sufficient.</p>


<pre><a name="1081609"></a><nobr>define_library_set -name set1_wc -libraries {lib1_wc lib2_wc}</nobr></pre>

<pre><a name="1081963"></a><nobr><br>define_library_set -name set1_bc -libraries {lib1_bc lib2_bc}</nobr></pre>



<h4>
  <a name="1041709"> </a>Specifying the Isolation Cells to Use</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041715"> </a>	 To identify which cells in the libraries can be used as isolation cells, use the <code><a href="../cpf_ref/lib_reference.html#define_isolation_cell">define_isolation_cell</a></code> command.</td>
</table>


<p>
  <a name="1088083"> </a>For more information on how to model different types of isolation cells, refer to <a href="modeling.html#1033145">Modeling Isolation Cells</a>.</p>


<p>
  <a name="1076741"> </a>For applications that do not read .lib files, you must specify these library cells to allow these applications to identify instances of isolation cells in the netlist. </p>


<p>
  <a name="1042762"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1041723"></a><nobr>define_isolation_cell -cells ISOLN* -enable EN -valid_location on</nobr></pre>



<h4>
  <a name="1041731"> </a>Specifying the Always-On Cells</h4>


<p>
  <a name="1041732"> </a>Always-on cells are special cells whose power supply has to be continuous on even when the power supply for the rest of the logic in the power domain is off.</p>


<p>
  <a name="1041812"> </a>Always-on cells are used for example</p>

<ul>
  <a name="1041820"></a><li><p>To drive the control signals of the state retention cells in a domain that is being powered down</p>

  <a name="1041809"></a><li><p>In combination with isolation cells that are inserted in the power domain that is switched off to ensure that the driver of the enable pin of the isolation cells is never switched off.</p>
</ul>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041736"> </a>	 To identify which cells in the libraries can be used as always-on cells, use the <code><a href="../cpf_ref/lib_reference.html#define_always_on_cell">define_always_on_cell</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1045678"></a><nobr>define_always_on_cell <br>&nbsp; &nbsp;	 -cells <code><em>cell_list </code></em>[-library_set <code><em>library_set</code></em>]<br>&nbsp; &nbsp;	 [ {-power_switchable <code><em>LEF_power_pin</code></em> <br>&nbsp; &nbsp;	 &nbsp;&nbsp;|-ground_switchable <code><em>LEF_ground_pin<br></code></em>&nbsp; &nbsp;	 &nbsp;&nbsp;|-power_switchable <code><em>LEF_power_pin</code></em> -ground_switchable <code><em>LEF_ground_pin</code></em>}<br>&nbsp; &nbsp;	 &nbsp;&nbsp;-power <code><em>LEF_power_pin</code></em>&nbsp; -ground <code><em>LEF_ground_pin</code></em>&nbsp;]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1045679"> </a>Outputs of cells that are always on, are always-on drivers.
</p>

<p>
  <a name="1076745"> </a>For applications that do not read .lib files, you must specify these library cells to allow these applications to identify the instances of these cells in the netlist.</p>


<p>
  <a name="1041743"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>, </p>


<pre><a name="1041744"></a><nobr>define_always_on_cell -cells "BUFGX2M BUFGX8M INVGX2M INVGX8M"</nobr></pre>



<h4>
  <a name="1041774"> </a>Specifying the State Retention Cells to be Used</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041957"> </a>	 To identify which cells in the libraries can be used as state retention cells, use the <code><a href="../cpf_ref/lib_reference.html#define_state_retention_cell">define_state_retention_cell</a></code> command.</td>
</table>


<p>
  <a name="1088198"> </a>For more information on how to model different types of state retention cells, refer to <a href="modeling.html#1038830">Modeling State Retention Cells</a>.</p>


<p>
  <a name="1076753"> </a>For applications that do not read .lib files, you must specify these library cells to allow these applications to identify the instances of these cells in the netlist.</p>


<p>
  <a name="1041784"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>, </p>


<pre><a name="1048422"></a><nobr>define_state_retention_cell -cells *DRFF* -restore_function RETN </nobr></pre>

<p>
  <a name="1048423"> </a>This command indicates that when the restore pin <code>RETN</code> is set to 1, the state of the specified cells will be restored to the value saved after exiting power shut-off mode.</p>




<h4>
  <a name="1087958"> </a>Specifying the Power Switch Cells to be Used</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1087959"> </a>	 To identify which cells in the libraries can be used as power switch cells, use the <code><a href="../cpf_ref/lib_reference.html#define_power_switch_cell">define_power_switch_cell</a></code> command.</td>
</table>


<p>
  <a name="1088216"> </a>For more information on how to model different types of power switch cells, refer to <a href="modeling.html#1035833">Modeling Power Switch Cells</a>.</p>


<p>
  <a name="1087962"> </a>For applications that do not read .lib files, you must specify the library cells to allow the applications to identify the instances of these cells in the netlist.</p>


<p>
  <a name="1087966"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>, </p>


<pre><a name="1087967"></a><nobr>define_power_switch_cell -cells "hd8DM hd16DM hd32DM hd64DM"  \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEP -type header</nobr></pre>

<pre><a name="1087968"></a><nobr>define_power_switch_cell -cells "hd8M hd16M hd32M hd64M"  \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEP -type header</nobr></pre>

<pre><a name="1087969"></a><nobr>define_power_switch_cell -cells "ft8DM ft16DM" \<br>&nbsp; &nbsp;	 -stage_1_enable !SLEEPN -type footer</nobr></pre>

<pre><a name="1087970"></a><nobr>define_power_switch_cell -cells "ft8M ft16M"  \<br>&nbsp; &nbsp;	 -stage_1_enable SLEEPN -type footer</nobr></pre>



<h4>
  <a name="1048425"> </a>Declaring the Design Described in the CPF File</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1038366"> </a>	 To identify the design for which the CPF file is created, use the following command:</td>
</table>

     <dl><dl>
<pre><a name="1038368"></a><nobr><code><a href="../cpf_ref/reference.html#set_design">set_design</a></code> <code><em>module</code></em></nobr></pre>
</dl><dl>
<p>
  <a name="1038369"> </a>where <code><em>module</code></em> refers to the name of the top module of the design to which the power information in the CPF file applies.</p>


<p>
  <a name="1038373"> </a>For the example in <a href="create_cpf.html#1039092">Figure 2-4</a>:</p>

</dl><dl>
<pre><a name="1038374"></a><nobr>set_design top</nobr></pre>
</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1038375"> </a>	 To indicate when the power information for this module ends, use the following command:</td>
</table>

     <dl><dl>
<pre><a name="1038377"></a><nobr><code><a href="../cpf_ref/reference.html#end_design">end_design</a></code></nobr></pre>
</dl>     </dl>


<h4>
  <a name="1038499"> </a>Specifying Units Used</h4>


<p>
  <a name="1041878"> </a>You can specify the units that will be used for the power and time values in CPF commands. </p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041879"> </a>	 To specify the power unit used, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1041881"></a><nobr><code><a href="../cpf_ref/reference.html#set_power_unit">set_power_unit</a></code> [pW|nW|uW|mW|W]</nobr></pre>
</dl><dl>
<p>
  <a name="1041882"> </a><em>Default</em>: mW</p>

</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041883"> </a>	 To specify the time unit used, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1041885"></a><nobr><code><a href="../cpf_ref/reference.html#set_time_unit">set_time_unit</a></code> [ns|us|ms]</nobr></pre>
</dl><dl>
<p>
  <a name="1041886"> </a><em>Default</em>: <code>ns</code></p>

</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1041887"> </a>These commands are optional if you use the default values.
</p>



<h4>
  <a name="1074734"> </a>Specifying Naming Styles Used</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1076622"> </a>	 To specify the hierarchy separator used in the CPF file, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1076624"></a><nobr><code><a href="../cpf_ref/reference.html#set_hierarchy_separator">set_hierarchy_separator</a></code> [<code><em>character</code></em>]</nobr></pre>
</dl><dl>
<p>
  <a name="1076625"> </a>The default separator is the period (.).</p>

</dl>     </dl>
<p>
  <a name="1076626"> </a>The format of a name in RTL and in the netlist can be different. When you want to use the RTL names in the CPF file, but you are reading a gate-level netlist, you need to specify how the base name and bit information are represented in the netlist.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1076627"> </a>	 To specify the format used to name flip-flops and latches in the netlist starting from the register names in the RTL description, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1076629"></a><nobr><code><a href="../cpf_ref/reference.html#set_register_naming_style">set_register_naming_style</a></code> [string%s]</nobr></pre>
</dl><dl>
<p>
  <a name="1076630"> </a><em>Default</em>: <code>_reg%s</code></p>

</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1076631"> </a>	 To specify the format used to name the design objects in the netlist starting from multi-bit arrays in the RTL description, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1076633"></a><nobr><code><a href="../cpf_ref/reference.html#set_array_naming_style">set_array_naming_style</a></code> [<code><em>string</code></em>]</nobr></pre>
</dl><dl>
<p>
  <a name="1076634"> </a><em>Default:</em> <code>\[%d\]</code></p>

</dl>     </dl>
<p>
  <a name="1076636"> </a>For more information on these two commands, refer to <a href="../cpf_ref/format.html#naming">Individual Registers Names</a> in the <i>C</i><em>ommon Power Format Language Reference.</em></p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1076640"> </a>These three commands are optional if you use the default values.
</p>



<h4>
  <a name="1038510"> </a>Specifying the Power Domains</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1041995"> </a>	 To identify portions of the design that operate on the same voltage and that can be simultaneously switched on or off, associate these portions with a power domain using the <code><a href="../cpf_ref/reference.html#create_power_domain">create_power_domain</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1077667"></a><nobr>create_power_domain -name <code><em>power_domain<br></code></em>&nbsp; &nbsp;	 [-instances<code><em> instance_list</code></em>] [-boundary_ports <code><em>pin_list</code></em>] [-default]<br>&nbsp; &nbsp;	 [<b><code> </code></b>-shutoff_condition <code><em>expression </code></em>[-external_controlled_shutoff]]<br>&nbsp; &nbsp;	 [ -default_isolation_condition <code><em>expression </code></em>]<br>&nbsp; &nbsp;	 [ <code>-default_restore_edge </code><code><em>expr</code></em> | -default_save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-default_restore_edge </code><code><em>expr</code></em> -default_save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-default_restore_level </code><code><em>expr </code></em>-default_save<code>_level</code> <code><em>expr </code></em>]<br>&nbsp; &nbsp;	 [ -power_up_states {high|low|random} ]<br>&nbsp; &nbsp;	 [ -active_state_conditions <code><em>active_state_condition_list</code></em> ]<br>&nbsp; &nbsp;	 [ -base_domains <code><em>domain_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1038862"> </a>The <code>-shutoff_condition</code> determines when the power domain is switched off. If this option is not specified, the power domain is an <a href="../cpf_ref/domains_and_modes.html#unswitched">unswitched</a> domain.</p>


<p>
  <a name="1038520"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1038521"></a><nobr>create-power_domain -name PD1 -default</nobr></pre>

<pre><a name="1077824"></a><nobr>create_power_domain -name PD2 -instances {inst_A inst_B} \<br>-shutoff_condition {pse_enable[0]} -base_domains PD1</nobr></pre>

<pre><a name="1077825"></a><nobr>create_power_domain -name PD3 -instances inst_D \<br>-shutoff_condition {pm_inst.pse_enable[1]} -base_domains PD1</nobr></pre>

<p>
  <a name="1077927"> </a>Power domains <code>PD2</code> and <code>PD3</code> have power domain <code>PD1</code> as their secondary power domain.</p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1039824"> </a>CPF requires that the top module belongs to the default power domain. 
</p>



<h4>
  <a name="1039826"> </a>Specifying the Operating Voltage Used in the Design</h4>


<p>
  <a name="1039879"> </a>In CPF, operating voltages are associated with <em>nominal conditions</em>.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1042044"> </a>	 To specify the operating voltages used in the design, use the <code><a href="../cpf_ref/reference.html#create_nominal_condition">create_nominal_condition</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1042046"></a><nobr>create_nominal_condition -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -voltage {<code><em>voltage</code></em> | <code><em>voltage_list</code></em>}<code><em> </code></em>[-state {on | off | standby}]<br>&nbsp; &nbsp;	 [-ground_voltage<code><em> </code></em>{<code><em>voltage</code></em> | <code><em>voltage_list</code></em>}]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1039831"> </a>The -<code>pmos_bias_voltage</code> and <code>-nmos_bias_voltage</code> options of <code>create_nominal_condition</code> are irrelevant for a design not using substrate biasing.
</p>

<p>
  <a name="1039835"> </a>The example in <a href="create_cpf.html#1037990">Figure 2-4</a> uses only one operating voltage, but you can also specify a nominal condition whose voltage is 0.</p>


<pre><a name="1039836"></a><nobr>create_nominal_condition -name off -voltage 0</nobr></pre>

<pre><a name="1039837"></a><nobr>create_nominal_condition -name on -voltage 1.1</nobr></pre>



<h4>
  <a name="1038982"> </a>Specifying the Static Behavior in each Power Mode</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1038987"> </a>	 To define the static behavior of the design in a power mode, you need to specify the nominal condition of each power domain in that mode, using the <code><a href="../cpf_ref/reference.html#create_power_mode">create_power_mode</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1038990"></a><nobr>create_power_mode -name <code><em>string</code></em></nobr></pre>

<pre><a name="1081976"></a><nobr><code><em><br></code></em>&nbsp; &nbsp;	 -domain_conditions <code><em>domain_condition_list<br></code></em>&nbsp; &nbsp;	 [-default] </nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1077722"> </a>The -<code>group_modes</code> option of the <code>create_power_mode</code> command is only relevant for a hierarchical flow. For more information, refer to <a href="hierarchical.html#1035250">Chapter 4, "Hierarchical Flow."</a>
</p>

<p>
  <a name="1076682"> </a>Use the following format to specify a <em>domain condition</em> (association of a power domain with its nominal condition in the power mode being defined):</p>


<pre><a name="1076683"></a><nobr><code><em>domain_name</code></em>@<code><em>nominal_condition_name</code></em></nobr></pre>

<p>
  <a name="1038994"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1038995"></a><nobr>create_power_mode -name PM1 -domain_conditions {PD1@on PD2@on PD3on} -default</nobr></pre>

<pre><a name="1039158"></a><nobr>create_power_mode -name PM2 -domain_conditions {PD1@on PD3@on}</nobr></pre>

<pre><a name="1039165"></a><nobr>create_power_mode -name PM3 -domain_conditions {PD1@on}</nobr></pre>

<p>
<strong>Note:&nbsp;</strong>
<a name="1077767"> </a>CPF requires that one power mode is specified as the default power mode.
</p>

<p>
<strong>Note:&nbsp;</strong>
<a name="1039219"> </a>When a domain is not specified in the list of domain conditions, it is considered to be switched off in the specified mode. For example, power domain <code>PD2</code> is not specified in the list of conditions for power mode <code>PM2</code>, but referring to <a href="create_cpf.html#1038139">Table 2-2</a>, power domain <code>PD2 </code>is switched off in this mode. It is recommended not to rely on the default behavior and to specify all power domains when defining a power mode.
</p>



<h4>
  <a name="1039269"> </a>Specifying the Libraries to Use for a Condition</h4>


<p>
  <a name="1039270"> </a>You already grouped libraries that are characterized for a specific set of operating conditions in a library set.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1042065"> </a>	 To specify which library set to use for a specific nominal condition, use the <code><a href="../cpf_ref/reference.html#update_nominal_condition">update_nominal_condition</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1042067"></a><nobr>update_nominal_condition -name <code><em>condition<br></code></em>&nbsp; &nbsp;	 -library_set<code><em> library_set </code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1039259"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1081972"></a><nobr>update_nominal_condition -name on -library_set set1_wc</nobr></pre>

<pre><a name="1081973"></a><nobr></nobr></pre>



<h4>
  <a name="1039600"> </a>Specifying the Rules to Create Isolation Logic</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1039606"> </a>	 To define when isolation cells must be added or to specify which pins must be isolated, use the <code><a href="../cpf_ref/reference.html#create_isolation_rule">create_isolation_rule</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1039609"></a><nobr>create_isolation_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 [-isolation_condition <code><em>expression </code></em>| -no_condition]<br>&nbsp; &nbsp;	 {-pins <code><em>pin_list</code></em> | -from <code><em>power_domain_list</code></em> | -to <code><em>power_domain_list</code></em><code>}...<br>&nbsp; &nbsp;	 </code>[-exclude<code><em> pin_list</code></em>]<br><code>&nbsp; &nbsp;	 [-isolation_target </code>{from|to}] <br>&nbsp; &nbsp;	 [-isolation_output { high | low&nbsp;| hold | tristate}]<br>&nbsp; &nbsp;	 [-secondary_domain <code><em>power_domain</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1084450"> </a>Typically, isolation logic is needed to isolate signals going from a power domain being switched down to a power domain that remains on. If an input of a powered down domain requires a stable signal for electrical reasons, isolation is required even if the signal goes from a powered on domain to a powered down domain.</p>


<p>
  <a name="1039623"> </a>Referring to <a href="create_cpf.html#1038139">Table 2-2</a>, isolation logic will be needed in power modes 2 and 3 for any nets going from power domain <code>PD2</code> to <code>PD1</code> and <code>PD3</code>, and for any nets going from power domains <code>PD3</code> and <code>PD2</code> to <code>PD1</code>.</p>


<p>
  <a name="1042322"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1042323"></a><nobr>create_isolation_rule -name iso1 -from PD2 \<br>-isolation_condition {pm_inst.ice_enable[0]} </nobr></pre>

<pre><a name="1077793"></a><nobr>create_isolation_rule -name iso2 -to PD1\<br>-isolation_condition {pm_inst.ice_enable[1]} -isolation_output high</nobr></pre>

<p>
  <a name="1077801"> </a>In this example, the secondary power domain was not specified for the isolation instances. In this case, the tools will use the power domain of the logic that drives the enable pins. That logic is the <code>pm_inst</code> instance which belongs to power domain <code>PD1</code>.</p>




<h4>
  <a name="1079136"> </a>Specifying the Rules to Create State Retention Logic</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1079137"> </a>	 To define the rule for replacing selected registers or all registers in the specified power domain with state retention registers, use the <code><a href="../cpf_ref/reference.html#create_state_retention_rule">create_state_retention_rule</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1079139"></a><nobr>create_state_retention_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 { -domain <code><em>power_domain </code></em>| -instances <code><em>instance_list</code></em> }<br><code>&nbsp; &nbsp;	 </code>[ -exclude <code><em>instance_list </code></em>]<br>&nbsp; &nbsp;	 [ <code>-restore_edge </code><code><em>expr</code></em> | -save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-restore_edge </code><code><em>expr</code></em> -save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-restore_level </code><code><em>expr </code></em>-save<code>_level</code> <code><em>expr</code></em>&nbsp; &nbsp;	  ]<br>&nbsp; &nbsp;	 [ -restore_precondition <code><em>expr</code></em>] [-save_precondition <code><em>expr</code></em>]<br>&nbsp; &nbsp;	 [-target_type {flop|latch|both}] <br>&nbsp; &nbsp;	 [-secondary_domain <code><em>domain</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1079143"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>: </p>


<pre><a name="1079144"></a><nobr>create_state_retention_rule -name st1 -domain PD2 \<br>-restore_edge {!pm_inst.pge_enable[0]}</nobr></pre>

<pre><a name="1079145"></a><nobr>create_state_retention_rule -name st2 -domain PD3 \<br>-restore_edge {!pm_inst.pge_enable[1]}</nobr></pre>

<p>
  <a name="1079146"> </a>In this example, the secondary power domain was not specified for the state retention logic. In this case, the tools will use the secondary (or base) power domain of its primary domain. That logic is the <code>pm_inst</code> instance which belongs to power domain <code>PD1</code>.</p>




<h4>
  <a name="1042072"> </a>Specifying Power Constraints</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1042073"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1042074"> </a>	 To specify the targets for leakage and dynamic power in the current design, use the <code><a href="../cpf_ref/reference.html#set_power_target">set_power_target</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1042076"></a><nobr>set_power_target<br>&nbsp; &nbsp;	 { -leakage <code><em>float</code></em> | -dynamic <code><em>float</code></em> <br>&nbsp; &nbsp;	 | -leakage <code><em>float</code></em> -dynamic <code><em>float</code></em> }</nobr></pre>
</dl>     </dl>
<p>
  <a name="1042080"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1042081"></a><nobr>set_power_target -leakage 30 -dynamic 250</nobr></pre>



<h4>
  <a name="1042083"> </a>Specifying Timing Constraints</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1042084"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1042085"> </a>	 To specify the timing constraints for the current design, use the <code>-sdc_files</code> option of the <code><a href="../cpf_ref/reference.html#update_power_mode">update_power_mode</a></code> command: </td>
</table>

     <dl><dl>
<pre><a name="1084353"></a><nobr>update_power_mode -name <code><em>mode<br></code></em>&nbsp; &nbsp;	 {-sdc_files | -setup_sdc_files | -hold_sdc_files} <code><em>sdc_file_list</code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1042088"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1042331"></a><nobr>update_power_mode -name PM1 -sdc_files pm1.sdc</nobr></pre>

<pre><a name="1042332"></a><nobr>update_power_mode -name PM2 -sdc_files pm2.sdc</nobr></pre>



<h4>
  <a name="1042095"> </a>Specifying Activity Information</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1042096"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1042097"> </a>	 To specify the activity information that can be used for power analysis, use</td>
</table>

     <dl><dl>
<pre><a name="1042099"></a><nobr>update_power_mode -name <code><em>mode<br></code></em>&nbsp; &nbsp;	 -activity_file <code><em>file</code></em> -activity_file_weight <code><em>weight</code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1042100"> </a>Supported formats for the activity files are VCD, TCF, and SAIF.</p>


<p>
  <a name="1042101"> </a>If the design has several modes, you can specify the relative weight of the activities per mode. </p>


<p>
  <a name="1042105"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>, only the activity file for the default power mode is specified: </p>


<pre><a name="1042106"></a><nobr>update_power_mode -name PM1 -activity_file top.tcf -activity_file_weight 100</nobr></pre>



<h4>
  <a name="1083300"> </a>Updating the Rules with Information for Implementation</h4>

<ol type="1">
  <li value="1"><p><a name="1083301"> </a>To specify the location or the type of isolation cells to be used, use the <code><a href="../cpf_ref/reference.html#update_isolation_rules">update_isolation_rules</a></code> command:</p>
<dl>
<pre><a name="1083303"></a><nobr>update_isolation_rules -names <code><em>rule_list<br></code></em>&nbsp; &nbsp;	 { -location {from | to | parent | any}<br>&nbsp; &nbsp;	 | -within_hierarchy<code><em> instance<br></code></em>&nbsp; &nbsp;	 | -cells <code><em>cell_list<br></code></em><code>&nbsp; &nbsp;	 | -prefix </code><code><em>string<br></code></em><code>&nbsp; &nbsp;	 | -open_source_pins_only}...</code></nobr></pre>
</dl>  <li value="2"><p><a name="1083308"> </a>To append the specified rules for state retention logic with implementation information, use the <code><a href="../cpf_ref/reference.html#update_state_retention_rules">update_state_retention_rules</a></code> command:</p>
<dl>
<pre><a name="1083310"></a><nobr>update_state_retention_rules <br>&nbsp; &nbsp;	 -names <code><em>rule_list <br></code></em>&nbsp; &nbsp;	 { -cell_type <code><em>string</code></em> <br>&nbsp; &nbsp;	 | -cells <code><em>cell_list</code></em>&nbsp; &nbsp;	 | -set_reset_control} ...</nobr></pre>
</dl><dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1083311"> </a>This information is optional in the CPF file.
</p>

</dl></ol>

<p>
  <a name="1083339"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1083340"></a><nobr>update_isolation_rules -names iso1 -location to -cells ISOLNX2M</nobr></pre>

<pre><a name="1083341"></a><nobr>update_isolation_rules -names iso2 -location to -cells ISOLNX2M</nobr></pre>

<pre><a name="1083297"></a><nobr></nobr></pre>



<h4>
  <a name="1081991"> </a>Specifying the Power and Ground Nets</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1081992"> </a>	 To declare (or create) the nets connected to the power supplies, use the <code><a href="../cpf_ref/reference.html#create_ground_nets">create_ground_nets</a></code> and <code><a href="../cpf_ref/reference.html#create_power_nets">create_power_nets</a></code> commands:</td>
</table>

     <dl><dl>
<pre><a name="1081995"></a><nobr>create_ground_nets -nets <code><em>net_list <br></code></em>&nbsp; &nbsp;	 [-voltage <code><em>string</code></em>]<br>&nbsp; &nbsp;	 [-external_shutoff_condition <code><em>expression</code></em> | -internal]<br>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]<br>&nbsp; &nbsp;	 [-peak_ir_drop_limit <code><em>float</code></em>] &nbsp; &nbsp;	 <br>&nbsp; &nbsp;	 [-average_ir_drop_limit <code><em>float</code></em>] </nobr></pre>

<pre><a name="1081996"></a><nobr>create_power_nets -nets <code><em>net_list <br></code></em>&nbsp; &nbsp;	 [-voltage <code><em>string</code></em>]<br>&nbsp; &nbsp;	 [-external_shutoff_condition <code><em>expression</code></em> | -internal]<br>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]<br>&nbsp; &nbsp;	 [-peak_ir_drop_limit <code><em>float</code></em>] <br>&nbsp; &nbsp;	 [-average_ir_drop_limit <code><em>float</code></em>] </nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1081997"> </a>Power and ground nets referenced in an <code>update_power_domain</code> command can be either always on or can be switchable power nets depending on the power domain specification. Other power and ground nets are considered to be always on unless you specify the <code>-external_shutoff_condition</code> option<code>.</code>
</p>

<p>
  <a name="1082001"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>, </p>


<pre><a name="1082002"></a><nobr>create_power_nets -nets VDD -voltage 1.1</nobr></pre>

<pre><a name="1082003"></a><nobr>create_power_nets -nets {VDD_SW1 VDD_SW2} -internal</nobr></pre>

<pre><a name="1082004"></a><nobr>create_ground_nets -nets VSS -voltage 0</nobr></pre>



<h4>
  <a name="1083369"> </a>Specifying the Global Connections</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1083370"> </a>	 To specify how to connect global nets, such as power and ground nets, use the <code><a href="../cpf_ref/reference.html#create_global_connection">create_global_connection</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1083372"></a><nobr>create_global_connection <br>&nbsp; &nbsp;	 -net <code><em>net <br></code></em>&nbsp; &nbsp;	 -pins <code><em>pin_list</code></em> <br>&nbsp; &nbsp;	 [-domain<code><em> domain</code></em> | -instances<code><em> instance_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1083421"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1083422"></a><nobr>create_global_connection -net VDD -pins VDD</nobr></pre>

<pre><a name="1083423"></a><nobr>create_global_connection -net VSS -pins VSS</nobr></pre>



<h4>
  <a name="1087792"> </a>Specifying the Rules for the Power Switch Logic</h4>

<ol type="1">
  <li value="1"><p><a name="1087793"> </a>To specify how a single power switch must connect the external and internal power or ground nets for the specified power domain, use the <code><a href="../cpf_ref/reference.html#create_power_switch_rule">create_power_switch_rule</a></code> command.</p>
<dl>
<pre><a name="1087795"></a><nobr>create_power_switch_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -domain <code><em>power_domain<br></code></em>&nbsp; &nbsp;	 {-external_power_net <code><em>net</code></em> | -external_ground_net <code><em>net</code></em>}</nobr></pre>
</dl><dl>
<p>
  <a name="1087796"> </a>You can specify one or more commands for a power domain depending on whether you want to control the switchable power domain by a single switch or multiple switches.</p>

</dl>  <li value="2"><p><a name="1087810"> </a>To append the specified rules for power switch logic with implementation information, use the <code><a href="../cpf_ref/reference.html#update_power_switch_rule">update_power_switch_rule</a></code> command:</p>
<dl>
<pre><a name="1087812"></a><nobr>update_power_switch_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 { -enable_condition_1 <code><em>expression</code></em> [-enable_condition_2 <code><em>expression</code></em>]<br>&nbsp; &nbsp;	 | -acknowledge_receiver_1 <code><em>express</code></em> [-acknowledge_receiver_2 <code><em>express</code></em>]<br>&nbsp; &nbsp;	 | -cells <code><em>cell_list <br></code></em>&nbsp; &nbsp;	 | -gate_bias_net <code><em>power_net<br></code></em><code>&nbsp; &nbsp;	 | -prefix </code><code><em>string</code></em><code> <br></code>&nbsp; &nbsp;	 | -peak_ir_drop_limit <code><em>float<br></code></em>&nbsp; &nbsp;	 | -average_ir_drop_limit <code><em>float </code></em><code>} ..</code></nobr></pre>
</dl></ol>

<p>
  <a name="1087826"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1087827"></a><nobr>create_power_switch_rule -name SW1 -domain PD2 -external_power_net VDD</nobr></pre>

<pre><a name="1087829"></a><nobr>create_power_switch_rule -name SW2 -domain PD3 -external_power_net VDD</nobr></pre>

<pre><a name="1087835"></a><nobr>update_power_switch_rule -name SW1 -cells hd32M -prefix CDN_</nobr></pre>

<pre><a name="1087836"></a><nobr>update_power_switch_rule -name SW2 -cells hd32M -prefix CDN_</nobr></pre>



<h4>
  <a name="1083412"> </a>Specifying Additional Information for Power and Ground Routing</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1083373"> </a>	 To specify additional information that applies to power and ground routing, use</td>
</table>

     <dl><dl>
<pre><a name="1083374"></a><nobr>update_power_domain<br>&nbsp; &nbsp;	 -name <code><em>domain<br></code></em>&nbsp; &nbsp;	 { -primary_power_net <code><em>net </code></em>| -primary_ground_net <code><em>net</code></em>} ...</nobr></pre>
</dl>     </dl>
<p>
  <a name="1083380"> </a>For the example in <a href="create_cpf.html#1037990">Figure 2-4</a>:</p>


<pre><a name="1083387"></a><nobr>update_power_domain -name PD1 -primary_power_net VDD -primary_ground_net VSS</nobr></pre>

<pre><a name="1083388"></a><nobr>update_power_domain -name PD2 -primary_power_net VDD_SW1 -primary_ground_net VSS</nobr></pre>

<pre><a name="1083389"></a><nobr>update_power_domain -name PD3 -primary_power_net VDD_SW2 -primary_ground_net VSS</nobr></pre>

<pre><a name="1083366"></a><nobr></nobr></pre>



<h4>
  <a name="1081693"> </a>Specifying the Operating Corners</h4>


<p>
  <a name="1081694"> </a>The design must be able to perform under different sets of operating conditions (process, voltage, and temperature values). Because the timing and power characteristics of the cells depend on the operating conditions, different library sets that contain the characterization information for the different conditions are used. An operating corner shows which library set to use for a given operating condition. </p>


  <a name="1081695"> </a><table border="0"><tr><td valign="top"><img src="../support/tip.gif"></td><td>Different portions of the design can operate at the same voltage and yet use dedicated library sets. In this case, it is possible to have multiple operating corners with the same operating conditions. <a href="create_cpf.html#1081469">Table 2-4</a> illustrates this case.</td></table>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1081700"> </a>	 To define an operating corner, use the <code><a href="../cpf_ref/reference.html#create_operating_corner">create_operating_corner</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1081701"></a><nobr>create_operating_corner<br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -voltage <code><em>float </code></em>[-ground_voltage<code><em> float</code></em>]<br>&nbsp; &nbsp;	 [-process <code><em>float</code></em>]<br>&nbsp; &nbsp;	 [-temperature <code><em>float</code></em>]<br>&nbsp; &nbsp;	 -library_set <code><em>library_set</code></em></nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1081702"> </a>The -<code>pmos_bias_voltage</code> and <code>-nmos_bias_voltage</code> options of <code>create_operating_corner</code> are irrelevant for a design not using substrate biasing.
</p>

<p>
  <a name="1081713"> </a>For the design in <a href="create_cpf.html#1037990">Figure 2-4</a>, two operating corners were specified.</p>


<p>
  <a name="1081690"> </a>The following command specifies to use library set <code>set1_wc</code> for operating corner <code>WC</code>. The process value of the operating corner is 1, the temperature is 125&#176;C and the operating voltage is 0.99V. This operating corner is defined for worst case conditions.</p>


<pre><a name="1081719"></a><nobr>create_operating_corner -name WC \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.99 -library_set set1_wc</nobr></pre>



<h4>
  <a name="1081780"> </a>Specifying the Analysis Views</h4>


<p>
  <a name="1081781"> </a>The design must function correctly in each power mode not only under typical conditions, but also under extreme conditions. Typically a multi-mode multi-corner timing analysis will be done for the worst case and the best case conditions.</p>


<p>
  <a name="1081782"> </a>An analysis view associates a specific operating corner with each power domain in the specified power mode. You need to make sure that all operating corners for a view correspond to either best or worst case conditions. </p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1081784"> </a>	 To define an analysis view, use the <code><a href="../cpf_ref/reference.html#create_analysis_view">create_analysis_view</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1081785"></a><nobr>create_analysis_view <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -mode <code><em>mode<br></code></em>&nbsp; &nbsp;	 -domain_corners <code><em>domain_corner_list<br></code></em>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1081786"> </a>The <code>-group_views</code> option of <code>create_analysis_view</code> is only relevant in a hierarchical flow. For more information, refer to <a href="hierarchical.html#1035250">Chapter 4, "Hierarchical Flow."</a>
</p>
<p>
<a name="1081790"> </a>Use the following format to specify a domain corner:</p>
<p>
<a name="1081791"> </a><code><em>domain_name</code></em>@<code><em>corner_name</code></em></p>

  <a name="1081792"> </a><table border="0"><tr><td valign="top"><img src="../support/tip.gif"></td><td>The CPF file can contain several analysis views with the same domain and corner information for a power mode. For a multi-mode multi-corner analysis, some implementation and timing analysis tools need unique views to associate with different parasitic corners.</td></table>


<p>
  <a name="1081796"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, six analysis views were specified.</p>


<p>
  <a name="1081797"> </a>The following command specifies analysis view <code>AV_PM1 </code>for power mode <code>PM1</code>. For this view the operating corners for the best case operating conditions are associated with the three power domains.</p>


<pre><a name="1081798"></a><nobr>create_analysis_view -name AV_PM1 -mode PM1 \<br>&nbsp; &nbsp;	 -domain_corners {PD1@BC PD2@BC PD3@BC}</nobr></pre>

<pre><a name="1081777"></a><nobr></nobr></pre>

<br><br><br>
<h2>
  <a name="1045797"> </a>Creating a CPF File for a Design Using DVFS Methodology</h2>


<p>
  <a name="1080037"> </a>Dynamic voltage frequency scaling (DVFS) reduces the power in the chip by scaling down the voltage and frequency when peak performance is not required. </p>


<p>
  <a name="1045813"> </a>A design using DVFS can be seen as a special case of an MSV design operating in multiple design modes. </p>

<ul>
  <a name="1046306"></a><li><p>In a pure MSV design different portions of the design operate on different voltages and these portions <em>remain</em> operating at their respective operating voltage. </p>

  <a name="1046307"></a><li><p>In a DVFS design, in addition some portions can dynamically <em>change</em> to other voltages depending on the design mode or can even be switched off. </p>
<dl>
<p>
  <a name="1046308"> </a>Consequently, a DVFS design must satisfy different constraints in different design modes. </p>

</dl></ul>


<h4>
  <a name="1045795"> </a>Requirements for DVFS Designs</h4>


<p>
  <a name="1045838"> </a>DVFS designs require variable power supply(ies) that can generate the required voltage levels with minimal transition energy losses and a quick voltage transient response.</p>


<p>
  <a name="1045839"> </a>When scaling the voltage, the frequency must be scaled accordingly to meet signal propagation delay requirements.</p>


<p>
  <a name="1045840"> </a>A power scheduler can intelligently compute the appropriate frequency and voltage levels needed to execute the various applications.</p>


  <a name="1048567"> </a><h4>
Figure 2-7   Example of DVFS Design</h4>


<p>
  <a name="1048597"> </a><img src="images/create_cpfx7.png" border="0">
</p>


<p>
  <a name="1050319"> </a>The <code>dtmf_recvr_core</code> design shown in <a href="create_cpf.html#1048567">Figure 2-7</a> has several other blocks which for the sake of simplicity are not shown here. However, they all operate at the same voltage as the top-level of the design. </p>


<p>
  <a name="1050320"> </a>The voltage of the top-level design is scaled depending on the requested function of the design. If the processing speed is critical a higher voltage is used, if the processing speed is not critical, the voltage is dynamically scaled down together with the clock frequency to save power. For this design we assume that the voltage supply is dynamically controlled external to the chip. The input power signal for the top-level and the blocks that operate at the same voltage is <code>VDD</code>. </p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1084012"> </a>The design used here uses both DVFS and PSO methodology.
</p>

<p>
  <a name="1048598"> </a>The <code>dtmf_recvr_core</code> design further contains</p>

<ul>
  <a name="1050365"></a><li><p>The <code>TDSP_CORE_INST</code><b> </b>block</p>
<dl>
<p>
  <a name="1050366"> </a>This digital signal processing block operates at a lower voltage because its processing speed is not critical. When the block does not need to be operational, it is shut down.</p>


<p>
  <a name="1050367"> </a>The power input for this block is <code>Vdd_TDSP_R</code>. The <code>clk_enable</code> signal disables the clock when the block is shut down.</p>

</dl>
  <a name="1050209"></a><li><p>The <code>PLLCLK_INST</code> block </p>
<dl>
<p>
  <a name="1050210"> </a>This block is used to generate the clocks needed by all the blocks in the design. It has a reference clock, <code>ref_clk</code>, that is used to generate all other clocks.</p>


<p>
  <a name="1050360"> </a>Because the design uses two operating voltages, two clock signals are created:</p>

</dl><ul>
  <a name="1050361"> </a><li><p>The <code>low_clk</code> clock signal which feeds the <code>TDSP_CORE_INST </code>block has a constant 
lower frequency. 
</p>

  <a name="1050388"> </a><li><p>The <code>var_clk</code> clock signal feeds the top-level design and other blocks and can vary 
in clock frequency depending on the operating voltage.
</p>
</ul><dl>
<p>
  <a name="1050391"> </a>The <code>freq_ctrl</code> signal ensures that the frequency of the <code>var_clk</code> signal used for the top-level design is scaled proportional to the voltage.</p>


<p>
  <a name="1050218"> </a>Because this block is an analog block, it needs to operate at a constant voltage to ensure correct working. It therefore needs a dedicated power input, <code>Avdd</code>.</p>

</dl>
  <a name="1048801"></a><li><p>The <code>pm_inst</code> block</p>
<dl>
<p>
  <a name="1050286"> </a>This block generates all power control signals for the chip.</p>


<p>
  <a name="1050304"> </a>This block operates at the same voltage as the top-level of the design.</p>

</dl></ul>
<p>
  <a name="1048363"> </a>In DVFS designs, a collection of logic blocks (hierarchical instances) and leaf instances that use the same <em>main</em> power supply and whose voltage and frequency can <em>simultaneously</em> change or be switched off belong to the same <em>power domain.</em></p>


<p>
  <a name="1050433"> </a>The example design in <a href="create_cpf.html#1048567">Figure 2-7</a> has the following power domains.</p>

<ul>
  <a name="1050440"></a><li><p>The <code>PLLCLK_INST</code> block is the only block in the design that operates at constant voltage 0.99V. This block belongs to power domain <code>PLL</code>.</p>

  <a name="1050452"></a><li><p>The <code>TDSP_CORE_INST</code><b> </b>block operates at voltage 0.792V and it is the only block that is shut down at certain times. This block belongs to power domain <code>TDSPCORE</code>.</p>

  <a name="1050462"></a><li><p>The <code>pm_inst</code> block, the top-level design and the remaining blocks are always powered on but their operating voltage and frequency can change. They belong to power domain <code>AO</code>. </p>
</ul>
<p>
  <a name="1080534"> </a>Power domains <code>PLL</code> and <code>AO</code> are never powered down. They are referred to as an <a href="../cpf_ref/domains_and_modes.html#unswitched"></a>unswitched domain. Power domain <code>TDSPCORE</code> can be powered down and is called a switchable domain. CPF distinguishes between <a href="../cpf_ref/domains_and_modes.html#internal switchable">internal switchable</a>, and <a href="../cpf_ref/domains_and_modes.html#on-chip controlled ">on-chip</a> controlled external switchable domains.</p>


<p>
  <a name="1071259"> </a>A steady state of a design in which some power domains are switched on and some power domains are switched off is called a <strong><em>power mode</em></strong>. In a power mode, each power domain operates on a specific voltage (nominal condition). <a href="create_cpf.html#1050556">Table 2-5</a> shows the operating voltages for each of the power domains in the three power modes of the <code>dtmf_recvr_core</code> design. The voltages shown in this table correspond to the worst case voltages. The typical voltages for the design would be 1.1V and 0.88V.</p>


  <a name="1050556"> </a><h4>
Table 2-5   Power Modes</h4>


<p>
  <a name="1050606"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1050559"> </a>Power Mode</strong></p></div></font></th>
    <th colspan=3 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1050561"> </a>Corresponding Power Domain </strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1050569"> </a>AO</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1050571"> </a>PLL</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1050573"> </a>TDSPCore</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1050575"> </a>full</p>
</td>
    <td valign="top"><p>
<a name="1050577"> </a>0.99</p>
</td>
    <td valign="top"><p>
<a name="1050579"> </a>0.99</p>
</td>
    <td valign="top"><p>
<a name="1050581"> </a>0.792</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1050591"> </a>slow</p>
</td>
    <td valign="top"><p>
<a name="1050593"> </a>0.99</p>
</td>
    <td valign="top"><p>
<a name="1050595"> </a>0.99</p>
</td>
    <td valign="top"><p>
<a name="1050597"> </a>0.0</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1050599"> </a>sleep</p>
</td>
    <td valign="top"><p>
<a name="1050601"> </a>0.792</p>
</td>
    <td valign="top"><p>
<a name="1050603"> </a>0.99</p>
</td>
    <td valign="top"><p>
<a name="1050605"> </a>0.0</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1050722"> </a>To pass signals between portions of the design that operate on different voltages, <strong><em>level shifters</em></strong> are needed.</p>


<p>
  <a name="1050726"> </a>To prevent unknown states from propagating from a power domain that is powered-down to a power domain that remains on, <strong><em>isolation cells</em></strong><em> </em>are needed at the boundaries of the power domains that are powered down. Most of the time, isolation cells are inserted at the output boundaries of the powered down domains. You can, however, also insert isolation cells at the input boundaries. </p>


<p>
  <a name="1050727"> </a>To facilitate powered down blocks to resume normal operation, <strong><em>state retention cells</em></strong> can be used for some sequential cells to keep their previous state prior to power up. </p>


<p>
  <a name="1050729"> </a>To connect and disconnect the power supply from the gates in a power domain, you must add <strong><em>power switch logic</em></strong> or use an external power shut-off method.</p>


<p>
  <a name="1081343"> </a>For switchable domains you need to indicate how the power supply is connected and disconnected from the gates. </p>

<ul>
  <a name="1081344"></a><li><p>For internal switchable domains, you must add <strong><em>power switch logic. </em></strong></p>

  <a name="1081363"></a><li><p>For external switchable domains, the power switch logic is not part of the chip, so you must indicate that an <em>external power shut-off method</em> is used.</p>
</ul>
<p>
  <a name="1081364"> </a>For this example we are assuming that power domain <code>TDSPCore</code> is internal switchable.</p>


<p>
  <a name="1050730"> </a>Special control signals are used to control the supply voltage, shut down a power domain, enable state retention, restore the state of the registers when powering up a power domain, and control the working of the power switch logic. <a href="create_cpf.html#1046377">Table 2-6</a> shows the signals used in this design example.</p>


  <a name="1046377"> </a><h4>
Table 2-6   Signals Controlling the Power Domains</h4>


<p>
  <a name="1048752"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1086316"> </a>Power <br>Domain</strong></p></div></font></th>
    <th colspan=4 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1086318"> </a>Control Signals</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1086328"> </a>voltage control</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1086330"> </a>power switch </p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1086332"> </a>isolation cell </p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1086334"> </a>state retention cell</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1086336"> </a>AO</p>
</td>
    <td valign="top"><p>
<a name="1086338"> </a>VC</p>
</td>
    <td valign="top"><p>
<a name="1086340"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1086342"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1086344"> </a>no control signal</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1086346"> </a>PLL</p>
</td>
    <td valign="top"><p>
<a name="1086348"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1086350"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1086352"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1086354"> </a>no control signal</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1086356"> </a>TDSPCore</p>
</td>
    <td valign="top"><p>
<a name="1086358"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1086360"> </a>ps_enable</p>
</td>
    <td valign="top"><p>
<a name="1086362"> </a>iso_enable</p>
</td>
    <td valign="top"><p>
<a name="1086364"> </a>pg_enable and pg_restore</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1081379"> </a>When a domain is switchable, it derives its power from another power domain through either internal or external power switch logic.</p>


<p>
  <a name="1081380"> </a>In this example, power domain <code>TDSPCore</code> derives its power from power domain <code>AO</code>, then <code>AO</code> is called the <strong><em>secondary</em></strong> (or base) domain for <code>TDSPCore</code>, which is referred to as the <strong><em>primary</em></strong> (or derived) domain. </p>


<p>
  <a name="1081381"> </a>When defining a (primary) power domain you can indicate its secondary domain and under which condition the domain will be shut down.</p>


<p>
  <a name="1081382"> </a>The majority of instances in a power domain are driven by the same power supply. For switchable domains, it is the primary power and ground nets of the (primary) power domain to which the instances belong that provide the power supply to the power and ground pins (follow-pins) of the cell. </p>


<p>
  <a name="1081383"> </a>On the other hand, level shifters, isolation cells and state retention cells are driven by multiple power supplies. These special low power instances have at least two sets of power and ground pins, and are therefore associated with two power domains.</p>


<p>
  <a name="1081426"> </a>For level shifters, the primary and a secondary power domain are defined as follows:</p>

<ul>
  <a name="1081431"></a><li><p>A power domain X is a <strong><em>secondary</em></strong> power domain of a special low power instance if the primary power and ground nets of domain X provide the power supply to the <em>secondary</em> power and (or) ground pins of the special low power instance. </p>

  <a name="1081432"></a><li><p>A power domain Y is a <strong><em>primary</em></strong> power domain of a a special low power instance if the primary power and ground nets of domain Y provide the power supply to the <em>primary</em> power and ground pins (follow-pins) of the special low power instance. </p>
</ul>
<p>
  <a name="1088017"> </a>The tools reading CPF can derive the primary and secondary power domains for level shifters. For more information, refer to<a href="../cpf_ref/domains_and_modes.html#Level Shifters"> Input and Ouput Domains of Level Shifters</a>.</p>


<p>
  <a name="1081427"> </a>For isolation cells and state retention cells the primary and a secondary power domain are defined as follows:</p>

<ul>
  <a name="1081454"></a><li><p>the <strong><em>primary</em></strong> domain is the domain that provides the power supply to their primary set of power and ground pins. </p>

  <a name="1081411"></a><li><p>The <strong><em>secondary</em></strong> domain is the domain whose primary power and ground nets provide the power supply to the secondary power and ground pins of the isolation cells and state retention cells.</p>
</ul>
<p>
  <a name="1081425"> </a>For isolation cells and state retention cells, it is recommended that you specify the secondary domain for the isolation cells and state retention cells, but if you do not specify this information, the tools can use some rules to derive the secondary domain. For more information, refer to <a href="../cpf_ref/domains_and_modes.html#Isolation">Secondary Power Domain of Isolation Instances</a>, and <a href="../cpf_ref/domains_and_modes.html#Retention">Secondary Domain of Retention Logic</a>.</p>


<p>
  <a name="1084014"> </a>When the design can operate in different power modes, you need to check if the design functions correctly in each of these modes not only at the typical conditions but also when slightly different operating conditions apply. Typically a multi-mode multi-corner timing analysis will be done for the worst case and the best case corner. The design must function correctly in both corners for the same set of timing constraints that is specified for that power mode. <a href="create_cpf.html#1084019">Figure 2-8</a> shows that an analysis (view) can be done for each corner of the power mode.</p>


  <a name="1084019"> </a><h4>
Figure 2-8   Multi-Corner Timing Analysis for a Power Mode</h4>


<p>
  <a name="1084035"> </a><img src="images/create_cpfx8.png" border="0">
</p>


<p>
  <a name="1084036"> </a>When analyzing a view of the design, you need to indicate the corners at which the power domains are operating, as shown in Figure <a href="create_cpf.html#1084041">2-9</a>.</p>


  <a name="1084041"> </a><h4>
Figure 2-9   Relation of Analysis View with Power Domains and Operating Corners</h4>


<p>
  <a name="1084065"> </a><img src="images/create_cpfx9.png" border="0">
</p>


<p>
  <a name="1068152"> </a><a href="create_cpf.html#1068157">Table 2-7</a> indicates which library sets must be used for this design to check the conditions.</p>


  <a name="1068157"> </a><h4>
Table 2-7   Operating Corners</h4>


<p>
  <a name="1066090"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1066011"> </a>Operating Corner</strong></p></div></font></th>
    <th colspan=3 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1066013"> </a>Operating Condition</strong></p></div></font></th>
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1066019"> </a>Library set</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1066021"> </a>Name</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1066023"> </a>process</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1066025"> </a>temperature</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1066027"> </a>voltage</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1071189"> </a>BC08COM_AO</p>
</td>
    <td valign="top"><p>
<a name="1071191"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1071193"> </a>0</p>
</td>
    <td valign="top"><p>
<a name="1071195"> </a>0.968</p>
</td>
    <td valign="top"><p>
<a name="1071197"> </a>ao_bc_0v792</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1071199"> </a>BC08COM_TDSP </p>
</td>
    <td valign="top"><p>
<a name="1071201"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1071203"> </a>0</p>
</td>
    <td valign="top"><p>
<a name="1071205"> </a>0.968</p>
</td>
    <td valign="top"><p>
<a name="1071207"> </a>tdsp_bc_0v792</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1071209"> </a>BCCOM_AO</p>
</td>
    <td valign="top"><p>
<a name="1071211"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1071213"> </a>0</p>
</td>
    <td valign="top"><p>
<a name="1071215"> </a>1.21</p>
</td>
    <td valign="top"><p>
<a name="1071217"> </a>ao_bc_0v99</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1071219"> </a>WC08COM_AO</p>
</td>
    <td valign="top"><p>
<a name="1071221"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1071223"> </a>125</p>
</td>
    <td valign="top"><p>
<a name="1071225"> </a>0.792</p>
</td>
    <td valign="top"><p>
<a name="1071227"> </a>ao_wc_0v792</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1071229"> </a>WC08COM_TDSP</p>
</td>
    <td valign="top"><p>
<a name="1071231"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1071233"> </a>125</p>
</td>
    <td valign="top"><p>
<a name="1071235"> </a>0.792</p>
</td>
    <td valign="top"><p>
<a name="1071237"> </a>tdsp_wc_0v792</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1071239"> </a>WCCOM_AO</p>
</td>
    <td valign="top"><p>
<a name="1071241"> </a>1</p>
</td>
    <td valign="top"><p>
<a name="1071243"> </a>125</p>
</td>
    <td valign="top"><p>
<a name="1071245"> </a>0.99</p>
</td>
    <td valign="top"><p>
<a name="1071247"> </a>ao_wc_0v99</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1052196"> </a>As is obvious that all this information is related to the power intent of the design, it makes sense to describe this information in the CPF file.</p>


<br><br>
<h3>
  <a name="1048754"> </a>Complete CPF File for DVFS Example</h3>


<pre><a name="1045886"></a><nobr>set_cpf_version 1.1</nobr></pre>

<pre><a name="1047832"></a><nobr>#################################################<br>#       Technology part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1085515"></a><nobr>set libdir ../LIBS</nobr></pre>

<pre><a name="1047770"></a><nobr>set lib_0v99_wc " $libdir/timing/tcbn45lpbwp_c060907wc.lib "</nobr></pre>

<pre><a name="1047771"></a><nobr>set lib_ao_wc " $libdir/timing/tcbn45lpbwp_wc0d720d9.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 $libdir/timing/pllclk_slow.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 $libdir/timing/ram_256x16A_slow.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 $libdir/timing/rom_512x16A_slow.lib "</nobr></pre>

<pre><a name="1047772"></a><nobr>set lib_0v99_bc " $libdir/N45/timing/tcbn45lpbwp_c060907bc.lib "</nobr></pre>

<pre><a name="1047773"></a><nobr>set lib_ao_bc " $libdir/timing/tcbn45lpbwp_bc0d881d1.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 $libdir/timing/pllclk_slow.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 $libdir/timing/ram_256x16A_slow.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 $libdir/timing/rom_512x16A_slow.lib "</nobr></pre>

<pre><a name="1047774"></a><nobr>set lib_0v792_wc " $libdir/timing/tcbn45lpbwp_c060907wc0d72.lib "</nobr></pre>

<pre><a name="1048071"></a><nobr>set lib_tdsp_wc " $libdir/timing/tcbn45lpbwp_wc0d90d72.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$libdir/timing/tcbn45lpbwphvt_wc0d72.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$libdir/timing/tcbn45lpbwp_wc0d72_ptlvl.lib "</nobr></pre>

<pre><a name="1047776"></a><nobr>set lib_0v792_bc " $libdir/timing/tcbn45lpbwp_c060907bc0d88.lib "</nobr></pre>

<pre><a name="1048088"></a><nobr>set lib_tdsp_bc " $libdir/timing/tcbn45lpbwp_bc1d10d88.lib <br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp;&nbsp;$libdir/timing/tcbn45lpbwphvt_bc0d88.lib \<br>&nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp; &nbsp;	 &nbsp;&nbsp;$libdir/timing/tcbn45lpbwp_bc0d88_ptlvl.lib "</nobr></pre>

<pre><a name="1068597"></a><nobr># <code><strong>define the library sets</strong></code></nobr></pre>

<pre><a name="1047778"></a><nobr>define_library_set -name ao_wc_0v99 -libraries "$lib_0v99_wc $lib_ao_wc"</nobr></pre>

<pre><a name="1047779"></a><nobr>define_library_set -name ao_bc_0v99 -libraries "$lib_0v99_bc $lib_ao_bc"</nobr></pre>

<pre><a name="1047780"></a><nobr>define_library_set -name ao_wc_0v792 -libraries "$lib_0v792_wc $lib_ao_wc"</nobr></pre>

<pre><a name="1047781"></a><nobr>define_library_set -name ao_bc_0v792 -libraries "$lib_0v792_bc $lib_ao_bc"</nobr></pre>

<pre><a name="1047782"></a><nobr>define_library_set -name tdsp_wc_0v792 -libraries "$lib_0v792_wc $lib_tdsp_wc"</nobr></pre>

<pre><a name="1047783"></a><nobr>define_library_set -name tdsp_bc_0v792 -libraries "$lib_0v792_bc $lib_tdsp_bc"</nobr></pre>

<pre><a name="1068607"></a><nobr># <code><strong>define the level shifters</strong></code></nobr></pre>

<pre><a name="1045893"></a><nobr>define_level_shifter_cell -cells LVL*HLD* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -output_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1045908"></a><nobr>define_level_shifter_cell -cells PTLVL*HLD* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -output_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -direction down \<br>&nbsp; &nbsp;	 -output_power_pin TVDD \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1088223"></a><nobr>define_level_shifter_cell -cells LVLLHD* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -output_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -input_power_pin VDDL \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1088227"></a><nobr># <code><strong>define the enable level-shifter cell</strong></code></nobr></pre>

<pre><a name="1045916"></a><nobr>define_level_shifter_cell -cells LVLLHCD* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -output_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -enable NSLEEP \<br>&nbsp; &nbsp;	 -input_power_pin VDDL \<br>&nbsp; &nbsp;	 -output_power_pin VDD \<br>&nbsp; &nbsp;	 -direction up \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1068615"></a><nobr># <code><strong>define the isolation cells</strong></code></nobr></pre>

<pre><a name="1047826"></a><nobr>define_isolation_cell -cells iso* \<br>&nbsp; &nbsp;	 -power VDD \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -enable NSLEEP \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>

<pre><a name="1082870"></a><nobr># <code><strong>define the always on cell</strong></code></nobr></pre>

<pre><a name="1082871"></a><nobr>define_always_on_cell -cells {PTBUFFD2BWP} \<br>&nbsp; &nbsp;	 -power_switchable VDD -power TVDD -ground VSS</nobr></pre>

<pre><a name="1087573"></a><nobr># <code><strong>define the state retention cell</strong></code></nobr></pre>

<pre><a name="1087574"></a><nobr>define_state_retention_cell -cells { RSDFCSRHD2BWP } \<br>&nbsp; &nbsp;	 -clock_pin CP \<br>&nbsp; &nbsp;	 -power TVDD \<br>&nbsp; &nbsp;	 -power_switchable VDD \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -save_function "SAVE" \<br>&nbsp; &nbsp;	 -restore_function "!NRESTORE"</nobr></pre>

<pre><a name="1086368"></a><nobr># <code><strong>define the power switch cells</strong></code></nobr></pre>

<pre><a name="1086369"></a><nobr>define_power_switch_cell -cells {HDRDID1BWPHVT HDRDIAOND1BWPHVT} \<br>&nbsp; &nbsp;	 -power_switchable VDD -power TVDD \<br>&nbsp; &nbsp;	 -stage_1_enable !NSLEEPIN1 \<br>&nbsp; &nbsp;	 -stage_1_output NSLEEPOUT1 \<br>&nbsp; &nbsp;	 -stage_2_enable !NSLEEPIN2 \<br>&nbsp; &nbsp;	 -stage_2_output NSLEEPOUT2 \<br>&nbsp; &nbsp;	 -type header</nobr></pre>

<pre><a name="1054361"></a><nobr>#################################################<br>#       Design part of the CPF<br>#################################################</nobr></pre>

<pre><a name="1054362"></a><nobr>set_design dtmf_recvr_core</nobr></pre>

<pre><a name="1085176"></a><nobr>set_time_unit ms</nobr></pre>

<pre><a name="1064569"></a><nobr>set_hierarchy_separator "/"</nobr></pre>

<pre><a name="1045975"></a><nobr>set constraintDir ../mmmc</nobr></pre>

<pre><a name="1084873"></a><nobr># <code><strong>create nominal conditions</strong></code></nobr></pre>

<pre><a name="1084874"></a><nobr>create_nominal_condition -name high_ao -voltage 0.99</nobr></pre>

<pre><a name="1084875"></a><nobr>create_nominal_condition -name low_ao -voltage 0.792</nobr></pre>

<pre><a name="1084876"></a><nobr>create_nominal_condition -name low_tdsp -voltage 0.792</nobr></pre>

<pre><a name="1084877"></a><nobr>create_nominal_condition -name off -voltage 0</nobr></pre>

<pre><a name="1045988"></a><nobr><code><strong># create power domains</strong></code></nobr></pre>

<pre><a name="1045989"></a><nobr>create_power_domain -name AO -default \<br>&nbsp; &nbsp;	 -active_state_conditions {low_ao@"!VC" high_ao@"VC"}</nobr></pre>

<pre><a name="1058993"></a><nobr>create_power_domain -name TDSPCore -instances TDSP_CORE_INST \<br>&nbsp; &nbsp;	 -shutoff_condition {PM_INST/ps_enable} -base_domains AO</nobr></pre>

<pre><a name="1058999"></a><nobr>create_power_domain -name PLL -instances PLLCLK_INST \<br>&nbsp; &nbsp;	 -boundary_ports {refclk vcom vcop ibias pllrst}</nobr></pre>

<pre><a name="1059020"></a><nobr># <code><strong>create power modes</strong></code></nobr></pre>

<pre><a name="1064572"></a><nobr>create_power_mode -name <code><strong>full</strong></code> \<br>&nbsp; &nbsp;	 -domain_conditions {AO@high_ao PLL@high_ao TDSPCore@low_tdsp} -default</nobr></pre>

<pre><a name="1059029"></a><nobr>create_power_mode -name <code><strong>slow</strong></code> \<br>&nbsp; &nbsp;	 -domain_conditions {AO@high_ao PLL@high_ao TDSPCore@off}</nobr></pre>

<pre><a name="1059030"></a><nobr>create_power_mode -name <code><strong>sleep</strong></code> \<br>&nbsp; &nbsp;	 -domain_conditions {AO@low_ao PLL@high_ao TDSPCore@off}</nobr></pre>

<pre><a name="1064611"></a><nobr><code><strong># create rules for level shifter insertion</strong></code></nobr></pre>

<pre><a name="1064654"></a><nobr>create_level_shifter_rule -name LSRULE_H2L -from AO -to TDSPCore \<br>&nbsp; &nbsp;	 -exclude {PM_INST/ps_enable PM_INST/pg_enable PM_INST/pg_restore}</nobr></pre>

<pre><a name="1064666"></a><nobr>create_level_shifter_rule -name LSRULE_H2L_AO -from AO -to TDSPCore \<br>&nbsp; &nbsp;	 -pins {PM_INST/ps_enable PM_INST/pg_enable PM_INST/pg_restore}</nobr></pre>

<pre><a name="1064667"></a><nobr>create_level_shifter_rule -name LSRULE_H2L_PLL -from PLL -to AO</nobr></pre>

<pre><a name="1064671"></a><nobr><code><strong># create rule for isolation logic insertion </strong></code></nobr></pre>

<pre><a name="1064683"></a><nobr>create_isolation_rule -name ISORULE -from TDSPCore  \<br>&nbsp; &nbsp;	 -isolation_condition "!PM_INST/iso_enable" -isolation_output high</nobr></pre>

<pre><a name="1064693"></a><nobr><code><strong># create rule for state retention insertion </strong></code></nobr></pre>

<pre><a name="1064701"></a><nobr>create_state_retention_rule -name SRPG_TDSP \<br>&nbsp; &nbsp;	 -domain TDSPCore \<br>&nbsp; &nbsp;	 -restore_edge {!PM_INST/pg_restore} \<br>&nbsp; &nbsp;	 -save_edge {PM_INST/pg_enable}</nobr></pre>

<pre><a name="1084958"></a><nobr>#####################################################<br># Optional Information for RTL Simulation<br>#####################################################</nobr></pre>

<pre><a name="1084965"></a><nobr>update_power_domain -name AO -transition_latency {low_ao high_ao@0.8:1.2}</nobr></pre>

<pre><a name="1084968"></a><nobr>update_power_domain -name AO -transition_latency {high_ao low_ao@0.2:0.3}</nobr></pre>

<pre><a name="1084981"></a><nobr>update_power_domain -name TDSPCore -transition_latency {off low_tdsp@2.0:2.5}</nobr></pre>

<pre><a name="1084919"></a><nobr>#####################################################<br># Additional Information for Logic Synthesis <br>#####################################################</nobr></pre>

<pre><a name="1084938"></a><nobr><code><strong># associate library sets with nominal conditions</strong></code></nobr></pre>

<pre><a name="1084939"></a><nobr>update_nominal_condition -name high_ao -library_set ao_wc_0v99</nobr></pre>

<pre><a name="1084940"></a><nobr>update_nominal_condition -name low_ao -library_set ao_wc_0v792</nobr></pre>

<pre><a name="1084941"></a><nobr>update_nominal_condition -name low_tdsp -library_set tdsp_wc_0v792</nobr></pre>

<pre><a name="1046116"></a><nobr><code><strong># specify timing constraints</strong></code></nobr></pre>

<pre><a name="1064720"></a><nobr>update_power_mode -name full \<br>&nbsp; &nbsp;	 -sdc_files ${constraintDir}/dtmf_recvr_core_gate.sdc</nobr></pre>

<pre><a name="1052301"></a><nobr>update_power_mode -name slow \<br>&nbsp; &nbsp;	 -sdc_files ${constraintDir}/dtmf_recvr_core_gate.sdc</nobr></pre>

<pre><a name="1052344"></a><nobr>update_power_mode -name sleep \<br>&nbsp; &nbsp;	 -sdc_files ${constraintDir}/dtmf_recvr_core_dull.sdc</nobr></pre>

<pre><a name="1082858"></a><nobr><code><strong># update the rules</strong></code></nobr></pre>

<pre><a name="1082859"></a><nobr>update_level_shifter_rules -names LSRULE_H2L -cells LVLHLD2BWP -location to</nobr></pre>

<pre><a name="1082860"></a><nobr>update_level_shifter_rules -names LSRULE_H2L_AO -cells PTLVLHLD2BWP -location to</nobr></pre>

<pre><a name="1082861"></a><nobr>update_level_shifter_rules -names LSRULE_H2L_PLL -cells LVLHLD2BWP -location to</nobr></pre>

<pre><a name="1087997"></a><nobr>update_isolation_rules -names ISORULE -location to -cells LVLLHCD2BWP</nobr></pre>

<pre><a name="1087998"></a><nobr>update_state_retention_rules -names SRPG_TDSP \<br>&nbsp; &nbsp;	 -cell RSDFCSRHD2BWP -library_set tdsp_wc_0v792</nobr></pre>

<pre><a name="1087999"></a><nobr>#####################################################<br># Additional Information for Physical Implementation<br>#####################################################</nobr></pre>

<pre><a name="1088000"></a><nobr><code><strong># declare power and ground nets</strong></code></nobr></pre>

<pre><a name="1088001"></a><nobr>create_power_nets -nets VDD -voltage {0.792:0.99:0.198}</nobr></pre>

<pre><a name="1088002"></a><nobr>create_power_nets -nets VDD_TDSP_R -voltage 0.792</nobr></pre>

<pre><a name="1088003"></a><nobr>create_power_nets -nets Avdd -voltage 0.99</nobr></pre>

<pre><a name="1088004"></a><nobr>create_power_nets -nets VDD_TDSPCore -internal -voltage 0.792</nobr></pre>

<pre><a name="1088005"></a><nobr>create_ground_nets -nets VSS</nobr></pre>

<pre><a name="1082824"></a><nobr>create_ground_nets -nets Avss</nobr></pre>

<pre><a name="1082830"></a><nobr><code><strong># create global connections</strong></code></nobr></pre>

<pre><a name="1082831"></a><nobr>create_global_connection -domain AO -net VDD_TDSPCore -pins VDDL</nobr></pre>

<pre><a name="1082832"></a><nobr>create_global_connection -domain AO -net VDD -pins VDD</nobr></pre>

<pre><a name="1082833"></a><nobr>create_global_connection -domain AO -net VSS -pins VSS</nobr></pre>

<pre><a name="1082834"></a><nobr>create_global_connection -domain PLL -net Avdd -pins avdd!</nobr></pre>

<pre><a name="1082835"></a><nobr>create_global_connection -domain PLL -net Avss -pins agnd!</nobr></pre>

<pre><a name="1082836"></a><nobr>create_global_connection -domain PLL -net VDD -pins VDDL</nobr></pre>

<pre><a name="1082837"></a><nobr>create_global_connection -domain PLL -net Avdd -pins VDD</nobr></pre>

<pre><a name="1082838"></a><nobr>create_global_connection -domain PLL -net Avss -pins VSS</nobr></pre>

<pre><a name="1082839"></a><nobr>create_global_connection -domain TDSPCore -net VSS -pins VSS</nobr></pre>

<pre><a name="1082840"></a><nobr>create_global_connection -domain TDSPCore -net VDD_TDSP_R -pins TVDD</nobr></pre>

<pre><a name="1082841"></a><nobr>create_global_connection -domain TDSPCore -net VDD_TDSPCore -pins VDD</nobr></pre>

<pre><a name="1087858"></a><nobr><code><strong># rule for power switch insertion </strong></code></nobr></pre>

<pre><a name="1087859"></a><nobr>create_power_switch_rule -name TDSPCore_SW -domain TDSPCore \<br>&nbsp; &nbsp;	 -external_power_net VDD</nobr></pre>

<pre><a name="1087867"></a><nobr>update_power_switch_rule -name TDSPCore_SW -cells HDRDID1BWPHVT \<br>&nbsp; &nbsp;	 -prefix CDN_SW_ -acknowledge_receiver_1 switch_en_out</nobr></pre>

<pre><a name="1082842"></a><nobr><code><strong># add implementation info for power domains</strong></code></nobr></pre>

<pre><a name="1082843"></a><nobr>update_power_domain -name AO -primary_power_net VDD -primary_ground_net VSS</nobr></pre>

<pre><a name="1082844"></a><nobr>update_power_domain -name TDSPCore -primary_power_net VDD_TDSPCore \<br>-primary_ground_net VSS</nobr></pre>

<pre><a name="1082845"></a><nobr>update_power_domain -name PLL -primary_power_net Avdd -primary_ground_net Avss</nobr></pre>

<pre><a name="1064590"></a><nobr><code><strong># create operating corners</strong></code></nobr></pre>

<pre><a name="1065796"></a><nobr>create_operating_corner -name BCCOM_AO \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 1.21 -library_set ao_bc_0v99</nobr></pre>

<pre><a name="1065797"></a><nobr>create_operating_corner -name WCCOM_AO \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.99 -library_set ao_wc_0v99</nobr></pre>

<pre><a name="1064606"></a><nobr>create_operating_corner -name BC08COM_AO \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 0.968 -library_set ao_bc_0v792</nobr></pre>

<pre><a name="1064591"></a><nobr>create_operating_corner -name BC08COM_TDSP \<br>&nbsp; &nbsp;	 -process 1 -temperature 0 -voltage 0.968 -library_set tdsp_bc_0v792</nobr></pre>

<pre><a name="1064594"></a><nobr>create_operating_corner -name WC08COM_AO \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.792 -library_set ao_wc_0v792</nobr></pre>

<pre><a name="1064595"></a><nobr>create_operating_corner -name WC08COM_TDSP \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.792 -library_set tdsp_wc_0v792</nobr></pre>

<pre><a name="1064596"></a><nobr><code><strong># create analysis views</strong></code></nobr></pre>

<pre><a name="1052346"></a><nobr>create_analysis_view -name AV_full_MIN_RC1 -mode full \<br>&nbsp; &nbsp;	 -domain_corners {AO@BCCOM_AO PLL@BCCOM_AO TDSPCore@BC08COM_TDSP}</nobr></pre>

<pre><a name="1046132"></a><nobr>create_analysis_view -name AV_full_MIN_RC2 -mode full \<br>&nbsp; &nbsp;	 -domain_corners {AO@BCCOM_AO PLL@BCCOM_AO TDSPCore@BC08COM_TDSP}</nobr></pre>

<pre><a name="1046135"></a><nobr>create_analysis_view -name AV_full_MAX_RC1 -mode full \<br>&nbsp; &nbsp;	 -domain_corners {AO@WCCOM_AO PLL@WCCOM_AO TDSPCore@WC08COM_TDSP}</nobr></pre>

<pre><a name="1046137"></a><nobr>create_analysis_view -name AV_full_MAX_RC2 -mode full \<br>&nbsp; &nbsp;	 -domain_corners {AO@WCCOM_AO PLL@WCCOM_AO TDSPCore@WC08COM_TDSP}</nobr></pre>

<pre><a name="1046145"></a><nobr>create_analysis_view -name AV_slow_MIN_RC1 -mode slow \<br>&nbsp; &nbsp;	 -domain_corners {AO@BCCOM_AO PLL@BCCOM_AO TDSPCore@BC08COM_TDSP}</nobr></pre>

<pre><a name="1046147"></a><nobr>create_analysis_view -name AV_slow_MAX_RC1 -mode slow \<br>&nbsp; &nbsp;	 -domain_corners {AO@WCCOM_AO PLL@WCCOM_AO TDSPCore@WC08COM_TDSP}</nobr></pre>

<pre><a name="1046150"></a><nobr>create_analysis_view -name AV_sleep_MIN_RC1 -mode sleep \<br>&nbsp; &nbsp;	 -domain_corners {AO@BC08COM_AO PLL@BCCOM_AO TDSPCore@BC08COM_TDSP}</nobr></pre>

<pre><a name="1046152"></a><nobr>create_analysis_view -name AV_sleep_MAX_RC1 -mode sleep \<br>&nbsp; &nbsp;	 -domain_corners {AO@WC08COM_AO PLL@WCCOM_AO TDSPCore@WC08COM_TDSP}</nobr></pre>

<pre><a name="1046199"></a><nobr>end_design</nobr></pre>

<br><br>
<h3>
  <a name="1053675"> </a>Steps to Create the CPF File for DVFS Design</h3>


<p>
  <a name="1053728"> </a>This section describes the information to include in a CPF file for a design using the DVFS methodology. The example shown in <a href="create_cpf.html#1048567">Figure 2-7</a> is used throughout this section. </p>


<p>
  <a name="1053732"> </a>For a design using the DVFS methodology, the technology-related information lists the libraries that you want to use for the design and identifies the library cells that can be used as level shifters, isolation cells, always-on cells, power switch cells and state retention cells.</p>

<ul>
  <a name="1053740"></a><li><p><a href="create_cpf.html#1047320">Specifying the Libraries</a></p>

  <a name="1053778"></a><li><p><a href="create_cpf.html#1047332">Specifying the Level Shifter Cells to Use</a></p>

  <a name="1053744"></a><li><p><a href="create_cpf.html#1050631">Specifying the Isolation Cells to Use</a></p>

  <a name="1053748"></a><li><p><a href="create_cpf.html#1050645">Specifying the Always-On Cells</a></p>

  <a name="1087583"></a><li><p><a href="create_cpf.html#1082886">Specifying the State Retention Cells to be Used</a></p>

  <a name="1053752"></a><li><p><a href="create_cpf.html#1050663">Specifying the Power Switch Cells to be Used</a></p>
</ul>
<p>
  <a name="1053757"> </a>The design-related information captures the power intent and constraints.</p>


<p>
  <a name="1059039"> </a>The following information is needed for both design creation and logic verification:</p>

<ul>
  <a name="1054070"></a><li><p><a href="create_cpf.html#1054310">Declaring the Design Described in the CPF File</a></p>

  <a name="1054074"></a><li><p><a href="create_cpf.html#1054324">Specifying the Units Used</a></p>

  <a name="1084835"></a><li><p><a href="create_cpf.html#1085019">Specifying the Naming Styles Used</a></p>

  <a name="1084850"></a><li><p><a href="create_cpf.html#1084856">Specifying the Operating Voltages Used in the Design</a></p>

  <a name="1084839"></a><li><p><a href="create_cpf.html#1054434">Specifying the Power Domains</a></p>

  <a name="1084843"></a><li><p><a href="create_cpf.html#1063889">Specifying the Static Behavior in each Power Mode</a></p>

  <a name="1056568"></a><li><p><a href="create_cpf.html#1059507">Specifying the Rules to Create Level-Shifter Logic</a></p>

  <a name="1063598"></a><li><p><a href="create_cpf.html#1063600">Specifying the Rules to Create Isolation Logic</a></p>

  <a name="1063686"></a><li><p><a href="create_cpf.html#1063770">Specifying the Rules to Create State Retention Logic</a></p>

  <a name="1085180"></a><li><p><a href="create_cpf.html#1085034">Specifying the Time to Transition between Power States</a></p>

  <a name="1063685"></a><li><p><a href="create_cpf.html#1085127">Specifying the Power Constraints</a> </p>

  <a name="1063722"></a><li><p><a href="create_cpf.html#1063967">Specifying the Timing Constraints</a> </p>

  <a name="1063724"></a><li><p><a href="create_cpf.html#1063978">Specifying the Activity Information</a> </p>

  <a name="1083113"></a><li><p><a href="create_cpf.html#1083045">Updating the Rules with Implementation Information</a> </p>
</ul>
<p>
  <a name="1063725"> </a>The following information is needed for physical implementation:</p>

<ul>
  <a name="1082937"></a><li><p><a href="create_cpf.html#1082916">Specifying the Global Power and Ground Nets</a></p>

  <a name="1083118"></a><li><p><a href="create_cpf.html#1082962">Specifying the Global Connections</a></p>

  <a name="1087878"></a><li><p><a href="create_cpf.html#1087885">Specifying the Rules for the Power Switch Logic</a></p>

  <a name="1083129"></a><li><p><a href="create_cpf.html#1082976">Specifying Additional Information for Power and Ground Routing</a></p>

  <a name="1059433"></a><li><p><a href="create_cpf.html#1065809">Specifying the Operating Corners</a></p>

  <a name="1059444"></a><li><p><a href="create_cpf.html#1065888">Specifying the Analysis Views</a></p>
</ul>


<h4>
  <a name="1047320"> </a>Specifying the Libraries</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1047321"> </a>	 To group libraries that are characterized for a specific set of operating conditions, use the <code><a href="../cpf_ref/reference.html#define_library_set">define_library_set</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1047323"></a><nobr>define_library_set -name <code><em>library_set<br></code></em>&nbsp; &nbsp;	 -libraries<code><em> library_list </code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1047327"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, six library sets are defined: one library set for the best and worst case operating conditions of each power domain.</p>


<p>
  <a name="1052384"> </a>The following command defines the library set to be used for the main portion of the design (<code>AO</code> power domain). The libraries were characterized for the worst condition. The command uses two variables defined in the CPF file to pass two library lists.</p>


<pre><a name="1052355"></a><nobr>define_library_set -name ao_wc_0v99 -libraries "$lib_0v99_wc $lib_ao_wc"</nobr></pre>



<h4>
  <a name="1047332"> </a>Specifying the Level Shifter Cells to Use</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1047415"> </a>	 To identify which cells in the libraries must be used as level shifters, use the <code><a href="../cpf_ref/lib_reference.html#define_level_shifter_cell">define_level_shifter_cell</a></code> command.</td>
</table>


<p>
  <a name="1088099"> </a>For more information on how to model different types of level shifters, refer to <a href="modeling.html#1032853">Modeling Level Shifters</a>.</p>


<p>
  <a name="1076757"> </a>For applications that do not read .lib files, you must specify the library cells to allow the application to identify the instances of these cells in the netlist.</p>

<p>
<a name="1047419"> </a>When you define the input_voltage_range for a pure MSV design, the value for the <code>-input_voltage_range</code> and <code>-output_voltage_range</code> options is a single voltage value. For DVFS designs, the level shifters must be able to support a range and thus in this case you must specify a range as value for these options:</p>
<p>
<a name="1066669"> </a><code><em>lower_bound:upper_bound:step</code></em></p>

<p>
  <a name="1053767"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, four groups of level shifters are specified. </p>


<p>
  <a name="1053877"> </a>The following command selects a group of level shifters whose input and output voltages can range between 0.792V and 0.99V in increments of 0.099V. The cells can only be used from a higher to a lower voltage and must be placed in the destination power domain.</p>


<pre><a name="1052727"></a><nobr>define_level_shifter_cell -cells PTLVL*HLD* \<br>&nbsp; &nbsp;	 -input_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -output_voltage_range 0.792:0.99:0.099 \<br>&nbsp; &nbsp;	 -direction down <br>&nbsp; &nbsp;	 -output_power_pin TVDD -ground VSS \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>



<h4>
  <a name="1050631"> </a>Specifying the Isolation Cells to Use</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1050632"> </a>	 To identify which cells in the libraries must be used as isolation cells, use the <code><a href="../cpf_ref/lib_reference.html#define_isolation_cell">define_isolation_cell</a></code> command.</td>
</table>


<p>
  <a name="1088109"> </a>For more information on how to model different types of isolation cells, refer to <a href="modeling.html#1033145">Modeling Isolation Cells</a>.</p>


<p>
  <a name="1050638"> </a>For applications that do not read .lib files, you must specify these library cells to allow these applications to identify instances of isolation cells in the netlist.</p>


<p>
  <a name="1050642"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a> isolation cells are needed at the boundaries of the the <code>TDSP_CORE_INST</code> block. For this design, one command is specified. </p>


<p>
  <a name="1053884"> </a>The following command selects cells whose enable pin is called <code>NSLEEP</code>, and whose valid location is the destination power domain. The command also specifies that the names of the power and ground pins of the corresponding LEF cells is called <code>VDD</code> and <code>VSS</code>, respectively.</p>


<pre><a name="1053789"></a><nobr>define_isolation_cell -cells iso* \<br>&nbsp; &nbsp;	 -power VDD \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -enable NSLEEP \<br>&nbsp; &nbsp;	 -valid_location to</nobr></pre>



<h4>
  <a name="1050645"> </a>Specifying the Always-On Cells</h4>


<p>
  <a name="1050646"> </a>Always-on cells are special cells whose power supply has to be continuous on even when the power supply for the rest of the logic in the power domain is off.</p>


<p>
  <a name="1050647"> </a>Always-on cells are used for example</p>

<ul>
  <a name="1050648"></a><li><p>To drive the control signals of the state retention cells in a domain that is being powered down</p>

  <a name="1050650"></a><li><p>In combination with isolation cells that are inserted in the power domain that is switched off to ensure that the driver of the enable pin of the isolation cells is never switched off.</p>
</ul>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1050651"> </a>	 To identify which cells in the libraries must be used as always-on cells, use the <code><a href="../cpf_ref/lib_reference.html#define_always_on_cell">define_always_on_cell</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1080359"></a><nobr>define_always_on_cell <br>&nbsp; &nbsp;	 -cells <code><em>cell_list </code></em>[-library_set <code><em>library_set</code></em>]<br>&nbsp; &nbsp;	 [ {-power_switchable <code><em>LEF_power_pin</code></em> <br>&nbsp; &nbsp;	 &nbsp;&nbsp;|-ground_switchable <code><em>LEF_ground_pin<br></code></em>&nbsp; &nbsp;	 &nbsp;&nbsp;|-power_switchable <code><em>LEF_power_pin</code></em> -ground_switchable <code><em>LEF_ground_pin</code></em>}<br>&nbsp; &nbsp;	 &nbsp;&nbsp;-power <code><em>LEF_power_pin</code></em>&nbsp; -ground <code><em>LEF_ground_pin</code></em>&nbsp;]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1050654"> </a>Outputs of cells that are always on, are always-on drivers.
</p>

<p>
  <a name="1050655"> </a>For applications that do not read .lib files, you must specify the library cells to allow the application to identify the instances of these cells in the netlist.</p>


<p>
  <a name="1053851"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, always-on cells are needed to drive the control signals of the state retention cells in the <code>TDSP_CORE_INST</code> block. For the design, one command is specified. </p>


<p>
  <a name="1053952"> </a>The following command specifies to use the <code>PTBUFFD2BWP</code> cell. It also specifies that in the corresponding LEF cell, the name of the pin connected to the power that is switched off is <code>VDD</code>, the name of the pin connected to the power that remains on while the power domain is shut off is <code>TVDD</code>, and the name of the pin connected to the ground is <code>VSS</code>.</p>


<pre><a name="1053852"></a><nobr>define_always_on_cell -cells {PTBUFFD2BWP} \<br>&nbsp; &nbsp;	 -power_switchable VDD -power TVDD -ground VSS</nobr></pre>



<h4>
  <a name="1082886"> </a>Specifying the State Retention Cells to be Used</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1082887"> </a>	 To identify which cells in the libraries must be used as state retention cells, use the <code><a href="../cpf_ref/lib_reference.html#define_state_retention_cell">define_state_retention_cell</a></code> command.</td>
</table>


<p>
  <a name="1088116"> </a>For more information on how to model different types of state retention cells, refer to <a href="modeling.html#1038830">Modeling State Retention Cells</a>.</p>


<p>
  <a name="1082890"> </a>For applications that do not read .lib files, you must specify the library cells to allow the application to identify the instances of these cells in the netlist.</p>


<p>
  <a name="1082894"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, state retention cells are needed for the <code>TDSP_CORE_INST</code> block. For the design one command was specified. </p>


<p>
  <a name="1082895"> </a>The following command selects the <code>RSDFCSRHD2BWP</code> cell and specifies that clock pin is <code>CP</code>, that the state of the cell is saved when pin <code>SAVE</code> is active high and that the state of the cell will be restored when pin <code>NRESTORE</code> is active low. It also specifies that in the corresponding LEF cell, the name of the pin connected to the power that is switched off is <code>VDD</code>, the name of the pin connected to the power that remains on while the power domain is shut off is <code>TVDD</code>, and the name of the pin connected to the ground is <code>VSS</code>.</p>


<pre><a name="1082883"></a><nobr>define_state_retention_cell -cells { RSDFCSRHD2BWP } \<br>&nbsp; &nbsp;	 -clock_pin CP \<br>&nbsp; &nbsp;	 -power TVDD \<br>&nbsp; &nbsp;	 -power_switchable VDD \<br>&nbsp; &nbsp;	 -ground VSS \<br>&nbsp; &nbsp;	 -save_function "SAVE" \<br>&nbsp; &nbsp;	 -restore_function "!NRESTORE"</nobr></pre>



<h4>
  <a name="1050663"> </a>Specifying the Power Switch Cells to be Used</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1050664"> </a>	 To identify which cells in the libraries must be used as power switch cells, use the <code><a href="../cpf_ref/lib_reference.html#define_power_switch_cell">define_power_switch_cell</a></code> command.</td>
</table>


<p>
  <a name="1088125"> </a>For more information on how to model different types of power switch cells, refer to <a href="modeling.html#1035833">Modeling Power Switch Cells</a>.</p>


<p>
  <a name="1050667"> </a>For applications that do not read .lib files, you must specify these library cells to allow these application to identify the instances of these cells in the netlist.</p>


<p>
  <a name="1050671"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a> power switch cells are needed for the <code>TDSP_CORE_INST</code> block. For the design one command was specified. </p>


<p>
  <a name="1053999"> </a>The following command specifies to use the <code>HDRDID1BWPHVT</code> and <code>HDRDIAOND1BWPHVT</code> cells. It also specifies that the corresponding LEF cell must be a header cell and that the name of the pin connected to the power that is switched off is <code>VDD and </code>the name of the pin connected to the power that remains on while the power domain is shut off is <code>TVDD</code>. It further specifies that the power switch is turned on when a low value is applied to both the <code>NSLEEPIN1</code> and <code>NSLEEPIN2</code> pins and that both output pins are the buffered outputs of the corresponding input pins. </p>


<pre><a name="1053942"></a><nobr>define_power_switch_cell -cells {HDRDID1BWPHVT HDRDIAOND1BWPHVT} \<br>&nbsp; &nbsp;	 -power_switchable VDD -power TVDD \<br>&nbsp; &nbsp;	 -stage_1_enable !NSLEEPIN1 \<br>&nbsp; &nbsp;	 -stage_1_output NSLEEPOUT1 \<br>&nbsp; &nbsp;	 -stage_2_enable !NSLEEPIN2 \<br>&nbsp; &nbsp;	 -stage_2_output NSLEEPOUT2 \<br>&nbsp; &nbsp;	 -type header</nobr></pre>

<pre><a name="1054036"></a><nobr></nobr></pre>



<h4>
  <a name="1054310"> </a>Declaring the Design Described in the CPF File</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1054311"> </a>	 To identify the design for which the CPF file is created, use the following command:</td>
</table>

     <dl><dl>
<pre><a name="1054313"></a><nobr><code><a href="../cpf_ref/reference.html#set_design">set_design</a></code> <code><em>module</code></em></nobr></pre>
</dl><dl>
<p>
  <a name="1054314"> </a>where <code><em>module</code></em> refers to the name of the top module of the design to which the power information in the CPF file applies.</p>


<p>
  <a name="1054318"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>:</p>

</dl><dl>
<pre><a name="1054319"></a><nobr>set_design dtmf_recvr_core</nobr></pre>
</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1054320"> </a>	 To indicate when the power information for this module ends, use the following command:</td>
</table>

     <dl><dl>
<pre><a name="1054322"></a><nobr><code><a href="../cpf_ref/reference.html#end_design">end_design</a></code></nobr></pre>
</dl>     </dl>


<h4>
  <a name="1054324"> </a>Specifying the Units Used</h4>


<p>
  <a name="1054325"> </a>You can specify the units that will be used for the power and time values in CPF commands. </p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1054326"> </a>	 To specify the power unit used, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1054328"></a><nobr><code><a href="../cpf_ref/reference.html#set_power_unit">set_power_unit</a></code> [pW|nW|uW|mW|W]</nobr></pre>
</dl><dl>
<p>
  <a name="1054329"> </a><em>Default</em>: mW</p>

</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1054330"> </a>	 To specify the time unit used, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1054332"></a><nobr><code><a href="../cpf_ref/reference.html#set_time_unit">set_time_unit</a></code> [ns|us|ms]</nobr></pre>
</dl><dl>
<p>
  <a name="1054333"> </a><em>Default</em>: <code>ns</code></p>

</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1054334"> </a>These commands are optional if you use the default values. 
</p>

<p>
  <a name="1085028"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a> the default value was assumed for the power unit., but the time unit was specified:</p>


<pre><a name="1085023"></a><nobr>set_time_unit ms</nobr></pre>



<h4>
  <a name="1085019"> </a>Specifying the Naming Styles Used</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1076644"> </a>	 To specify the hierarchy separator used in the CPF file, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1076646"></a><nobr><code><a href="../cpf_ref/reference.html#set_hierarchy_separator">set_hierarchy_separator</a></code> [<code><em>character</code></em>]</nobr></pre>
</dl><dl>
<p>
  <a name="1076647"> </a>The default separator is the period (.).</p>

</dl>     </dl>
<p>
  <a name="1076648"> </a>The format of a name in RTL and in the netlist can be different. When you want to use the RTL names in the CPF file, but you are reading a gate-level netlist, you need to specify how the base name and bit information are represented in the netlist.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1076649"> </a>	 To specify the format used to name flip-flops and latches in the netlist starting from the register names in the RTL description, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1076651"></a><nobr><code><a href="../cpf_ref/reference.html#set_register_naming_style">set_register_naming_style</a></code> [string%s]</nobr></pre>
</dl><dl>
<p>
  <a name="1076652"> </a><em>Default</em>: <code>_reg%s</code></p>

</dl>     </dl>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1076653"> </a>	 To specify the format used to name the design objects in the netlist starting from multi-bit arrays in the RTL description, use the following command</td>
</table>

     <dl><dl>
<pre><a name="1076655"></a><nobr><code><a href="../cpf_ref/reference.html#set_array_naming_style">set_array_naming_style</a></code> [<code><em>string</code></em>]</nobr></pre>
</dl><dl>
<p>
  <a name="1076656"> </a><em>Default:</em> <code>\[%d\]</code></p>

</dl>     </dl>
<p>
  <a name="1076658"> </a>For more information on these two commands, refer to <a href="../cpf_ref/format.html#naming">Individual Registers Names</a> in the <i>C</i><em>ommon Power Format Language Reference.</em></p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1076662"> </a>These three commands are optional if you use the default values.
</p>

<p>
  <a name="1054461"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a> the hierarchy separator was specified:</p>


<pre><a name="1054475"></a><nobr>set_hierarchy_separator "/"</nobr></pre>



<h4>
  <a name="1084856"> </a>Specifying the Operating Voltages Used in the Design</h4>


<p>
  <a name="1084857"> </a>In CPF, operating voltages are associated with <em>nominal conditions</em>.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1084858"> </a>	 To specify the operating voltages used in the design, use the <code><a href="../cpf_ref/reference.html#create_nominal_condition">create_nominal_condition</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1088064"></a><nobr>create_nominal_condition -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -voltage {<code><em>voltage</code></em> | <code><em>voltage_list</code></em>}<code><em> </code></em>[-state {on | off | standby}]<br>&nbsp; &nbsp;	 [-ground_voltage<code><em> </code></em>{<code><em>voltage</code></em> | <code><em>voltage_list</code></em>}]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1088065"> </a>The -<code>pmos_bias_voltage</code> and <code>-nmos_bias_voltage</code> options of <code>create_nominal_condition</code> are irrelevant for a design not using substrate biasing.
</p>

<p>
  <a name="1084865"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a> four nominal conditions are defined. </p>


<p>
  <a name="1084866"> </a>The following command defines the nominal condition for the highest voltage used in the design.</p>


<pre><a name="1084867"></a><nobr>create_nominal_condition -name high_ao -voltage 0.99</nobr></pre>



<h4>
  <a name="1054434"> </a>Specifying the Power Domains</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1054435"> </a>	 To identify portions of the design that use the same <em>main</em> power supply and whose voltage and frequency can <em>simultaneously</em> change or be switched off, associate these portions with a power domain using the <code><a href="../cpf_ref/reference.html#create_power_domain">create_power_domain</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1080371"></a><nobr>create_power_domain -name <code><em>power_domain<br></code></em>&nbsp; &nbsp;	 [-instances<code><em> instance_list</code></em>] [-boundary_ports <code><em>pin_list</code></em>] [-default]<br>&nbsp; &nbsp;	 [<b><code> </code></b>-shutoff_condition <code><em>expression </code></em>[-external_controlled_shutoff]]<br>&nbsp; &nbsp;	 [ -default_isolation_condition <code><em>expression </code></em>]<br>&nbsp; &nbsp;	 [ <code>-default_restore_edge </code><code><em>expr</code></em> | -default_save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-default_restore_edge </code><code><em>expr</code></em> -default_save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-default_restore_level </code><code><em>expr </code></em>-default_save<code>_level</code> <code><em>expr </code></em>]<br>&nbsp; &nbsp;	 [ -power_up_states {high|low|random} ]<br>&nbsp; &nbsp;	 [ -active_state_conditions <code><em>active_state_condition_list</code></em> ]<br>&nbsp; &nbsp;	 [ -base_domains <code><em>domain_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1088141"> </a>The <code>-shutoff_condition</code> determines when the power domain is switched off. If this option is not specified, the power domain is an <a href="../cpf_ref/domains_and_modes.html#unswitched">unswitched</a> domain.</p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1054489"> </a>CPF requires that the top module belongs to the default power domain. 
</p>

<p>
  <a name="1054442"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a> three power domains are created. </p>


<p>
  <a name="1054492"> </a>The following command defines the <code>AO</code> power domain as the default power domain of the scope, and specifies that the power domain operates at different voltages with different control conditions.</p>


<pre><a name="1084885"></a><nobr>create_power_domain -name AO -default \<br>&nbsp; &nbsp;	 -active_state_conditions {low_ao@"!VC" high_ao@"VC"}</nobr></pre>

<p>
  <a name="1084882"> </a>The following command defines the <code>PLL</code> power domain. It associates the hierarchical instance, <code>PLLCLK_INST, and</code> the I/O ports <code>refclk, vcom, vcop, ibias, </code>and <code>pllrst</code> with this domain. These ports are ports that feed signals that are only needed by the <code>PLLCLK_INST</code> instance.</p>


<pre><a name="1054481"></a><nobr>create_power_domain -name PLL -instances PLLCLK_INST \<br>&nbsp; &nbsp;	 -boundary_ports {refclk vcom vcop ibias pllrst}</nobr></pre>



<h4>
  <a name="1063889"> </a>Specifying the Static Behavior in each Power Mode</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1055056"> </a>	 To define the static behavior of the design in a power mode, you need to specify the nominal condition of each power domain in that mode using the <code><a href="../cpf_ref/reference.html#create_power_mode">create_power_mode</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1055042"></a><nobr>create_power_mode -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -domain_conditions <code><em>domain_condition_list<br></code></em>&nbsp; &nbsp;	 [-default] </nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1080389"> </a>The -<code>group_modes</code> option of the <code>create_power_mode</code> command is only relevant for a hierarchical flow. For more information, refer to <a href="hierarchical.html#1035250">Chapter 4, "Hierarchical Flow."</a>
</p>

<p>
  <a name="1076707"> </a>Use the following format to specify a <em>domain condition</em> (association of a power domain with its nominal condition in the power mode being defined):</p>


<pre><a name="1076708"></a><nobr><code><em>domain_name</code></em>@<code><em>nominal_condition_name</code></em></nobr></pre>

<p>
  <a name="1055046"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a> three power modes are defined. </p>


<p>
  <a name="1056130"> </a>The following command defines power mode, <code>full</code>, which corresponds to the power mode in which the full functionality can be accessed. This command specifies that both power domains <code>AO</code> and <code>PLL</code> are operating at nominal condition <code>high_ao</code>, while power domain <code>TDSPCore</code> is operating at nominal condition <code>low_tdsp</code>.</p>


<pre><a name="1055047"></a><nobr>create_power_mode -name full \<br>&nbsp; &nbsp;	 -domain_conditions {AO@high_ao PLL@high_ao TDSPCore@low_tdsp} -default</nobr></pre>

<p>
<strong>Note:&nbsp;</strong>
<a name="1055050"> </a>When a domain is not specified in the list of domain conditions, it is considered to be switched off in the specified mode. For example, power domain <code>TDSPCore</code> could be omitted from the list of conditions for power modes <code>slow and sleep</code>, because referring to <a href="create_cpf.html#1050556">Table 2-5</a>, power domain <code>TDSPCore</code> is switched off in both modes. It is recommended not to rely on the default behavior and to specify all power domains when defining a power mode.
</p>

<p>
  <a name="1076711"> </a>For example the following two commands are equal:</p>


<pre><a name="1076714"></a><nobr>create_power_mode -name slow \<br>&nbsp; &nbsp;	 -domain_conditions {AO@high_ao PLL@high_ao TDSPCore@off}</nobr></pre>

<pre><a name="1076718"></a><nobr>create_power_mode -name slow \<br>&nbsp; &nbsp;	 -domain_conditions {AO@high_ao PLL@high_ao}</nobr></pre>



<h4>
  <a name="1059507"> </a>Specifying the Rules to Create Level-Shifter Logic</h4>


<p>
  <a name="1059508"> </a>Depending on your technology, you may need level shifters when passing any signals</p>

<ul>
  <a name="1059509"></a><li><p>From a power domain with a lower voltage to a power domain with a higher voltage</p>

  <a name="1059510"></a><li><p>From a power domain with a higher voltage to a power domain with a lower voltage</p>

  <a name="1059511"></a><li><p>In both cases</p>
</ul>
<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1059512"> </a>	 To create the rule to be used between power domains or a set of pins, use the <code><a href="../cpf_ref/reference.html#create_level_shifter_rule">create_level_shifter_rule</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1059514"></a><nobr>create_level_shifter_rule -name <code><em>string<br></code></em>&nbsp; &nbsp;	 {-pins <code><em>pin_list</code></em> | -from <code><em>power_domain_list</code></em> | -to <code><em>power_domain_list</code></em><code>}...<br></code>&nbsp; &nbsp;	 [-exclude<code><em> pin_list</code></em>] </nobr></pre>
</dl>     </dl>
<p>
  <a name="1059518"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, three sets of level shifter rules were created.</p>


<p>
  <a name="1059541"> </a>The following command creates a rule between power domains <code>AO</code> and <code>TDSPCore</code> and specifies to exclude the <code>ps_enable</code>, <code>pg_enable</code>, and <code>pg_restore</code> pins on the <code>pm_instance</code> block from level-shifter insertion.</p>


<pre><a name="1059536"></a><nobr>create_level_shifter_rule -name LSRULE_H2L -from AO -to TDSPCore \<br>&nbsp; &nbsp;	 -exclude {PM_INST/ps_enable PM_INST/pg_enable PM_INST/pg_restore}</nobr></pre>



<h4>
  <a name="1063600"> </a>Specifying the Rules to Create Isolation Logic</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1063601"> </a>	 To define when isolation cells must be added or to specify which pins must be isolated, use the <code><a href="../cpf_ref/reference.html#create_isolation_rule">create_isolation_rule</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1080396"></a><nobr>create_isolation_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 [-isolation_condition <code><em>expression </code></em>| -no_condition]<br>&nbsp; &nbsp;	 {-pins <code><em>pin_list</code></em> | -from <code><em>power_domain_list</code></em> | -to <code><em>power_domain_list</code></em><code>}...<br>&nbsp; &nbsp;	 </code>[-exclude<code><em> pin_list</code></em>]<br><code>&nbsp; &nbsp;	 [-isolation_target </code>{from|to}] <br>&nbsp; &nbsp;	 [-isolation_output { high | low&nbsp;| hold | tristate}]<br>&nbsp; &nbsp;	 [-secondary_domain <code><em>power_domain</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1084546"> </a>Typically, isolation logic is needed to isolate signals going from a power domain being switched down to a power domain that remains on. However, if an input of a powered down domain requires a stable signal for electrical reasons, isolation is required even if the signal goes from a powered on domain to a powered down domain. Also, when a power domain is in the standby state, and all inputs to this power domain must be stable, isolation of the inputs will be required.</p>


<p>
  <a name="1063608"> </a>Referring to <a href="create_cpf.html#1050556">Table 2-5</a>, isolation logic is needed in power modes <code>slow</code> and <code>sleep</code> for any nets going from power domain <code>TDSPCore</code> to <code>AO</code> and <code>PLL</code>.</p>


<p>
  <a name="1063612"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, one isolation rule was created.</p>


<p>
  <a name="1063641"> </a>The following command specifies to isolate all pins driving nets going from power domain <code>TDSPCore</code> to any other power domain. The pins must be isolated when the <code>iso_enable</code> signal becomes active low. The command further specifies that the output of the isolation gates must be <code>high</code> when the isolation condition is true.</p>


<pre><a name="1055037"></a><nobr>create_isolation_rule -name ISORULE -from TDSPCore  \<br>&nbsp; &nbsp;	 -isolation_condition "!PM_INST/iso_enable" -isolation_output high</nobr></pre>

<pre><a name="1063800"></a><nobr></nobr></pre>



<h4>
  <a name="1063770"> </a>Specifying the Rules to Create State Retention Logic</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1063771"> </a>	 To define the rule for replacing selected registers or all registers in the specified power domain with state retention registers, use the <code><a href="../cpf_ref/reference.html#create_state_retention_rule">create_state_retention_rule</a></code> command. </td>
</table>

     <dl><dl>
<pre><a name="1080400"></a><nobr>create_state_retention_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 { -domain <code><em>power_domain </code></em>| -instances <code><em>instance_list</code></em> }<br><code>&nbsp; &nbsp;	 </code>[ -exclude <code><em>instance_list </code></em>]<br>&nbsp; &nbsp;	 [ <code>-restore_edge </code><code><em>expr</code></em> | -save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-restore_edge </code><code><em>expr</code></em> -save<code>_edge</code> <code><em>expr</code></em> <br>&nbsp; &nbsp;	 | <code>-restore_level </code><code><em>expr </code></em>-save<code>_level</code> <code><em>expr</code></em><code>]<br></code>&nbsp; &nbsp;	 [ -restore_precondition <code><em>expr</code></em>] [-save_precondition <code><em>expr</code></em>]<br>&nbsp; &nbsp;	 [-target_type {flop|latch|both}] <br>&nbsp; &nbsp;	 [-secondary_domain <code><em>domain</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1063776"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, one rule was created. Because this design has only one power domain that is powered down, state retention rules are only needed for this power domain.</p>


<p>
  <a name="1063811"> </a>The following command creates a state retention rule for power domain <code>TDSPCore</code> and specifies that the states of the state retention cells in this domain will be saved when <code>pg_enable</code> signal becomes active high. The states of the state retention cells will be restored when the <code>pg_restore</code> signal becomes active low. The secondary power domain is not specified for the state retention logic. In this case, the tools will use the secondary (or base) power domain of its primary domain. That logic is the <code>PM_INST</code> instance which belongs to power domain <code>AO</code>.</p>


<pre><a name="1063813"></a><nobr>create_state_retention_rule -name SRPG_TDSP \<br>&nbsp; &nbsp;	 -domain TDSPCore \<br>&nbsp; &nbsp;	 -restore_edge {!PM_INST/pg_restore} \<br>&nbsp; &nbsp;	 -save_edge {PM_INST/pg_enable}</nobr></pre>



<h4>
  <a name="1085034"> </a>Specifying the Time to Transition between Power States</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1085046"> </a>	 To specify the transition states between power states for a power domain, use the <code><a href="../cpf_ref/reference.html#update_power_domain">update_power_domain</a></code> command with one of the following options:</td>
</table>

     <dl><dl>
<pre><a name="1085051"></a><nobr>update_power_domain<br>&nbsp; &nbsp;	 -name <code><em>domain<br></code></em>&nbsp; &nbsp;	 { -transition_slope [<code><em>float</code></em>:]<code><em>float</code></em> |<br>&nbsp; &nbsp;	 | -transition_latency <code><strong>{</strong></code><code><em>from_nom</code></em> <code><em>latency_list</code></em><code><strong>}<br></strong></code>&nbsp; &nbsp;	 | -transition_cycles <code><strong>{</strong></code><code><em>from_nom</code></em> <code><em>cycle_list</code></em> <code><em>clock_pin</code></em><code><strong>}</strong></code> }</nobr></pre>
</dl>     </dl>
<p>
  <a name="1085096"> </a>The design in <a href="create_cpf.html#1048567">Figure 2-7</a> can have four possible transitions.</p>


<p>
  <a name="1085124"> </a>For power domain <code>AO</code>, the two possible transitions are from nominal condition <code>low_ao</code> to <code>high_ao</code> and vice versa.</p>


<p>
  <a name="1085152"> </a>For power domain <code>TDSPCore</code>, the two possible transitions are from nominal condition <code>off</code> to <code>low_tdsp</code> and vice versa. Typically, the transition time from the on state to the off state is not important and therefore it is not defined here.</p>


<p>
  <a name="1085153"> </a>The following command defines the minimum amd maximum transition time from nominal condition <code>off</code> to <code>low_tdsp</code> for power domain <code>TDSPCore.</code></p>


<pre><a name="1085154"></a><nobr>update_power_domain -name TDSPCore -transition_latency {off low_tdsp@2.0:2.5}</nobr></pre>



<h4>
  <a name="1086380"> </a>Specifying the Libraries to Use for a Condition</h4>


<p>
  <a name="1086381"> </a>You already grouped libraries that are characterized for a specific set of operating conditions in a library set.</p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1086382"> </a>	 To specify which library set to use for a specific nominal condition, use the <code><a href="../cpf_ref/reference.html#update_nominal_condition">update_nominal_condition</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1086384"></a><nobr>update_nominal_condition -name <code><em>condition<br></code></em>&nbsp; &nbsp;	 -library_set<code><em> library_set </code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1086388"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, library sets are specified for each nominal condition, except for nominal condition, <code>off</code>. The following command links library set ao_wc_0v99 to nominal condition <code>high_ao.</code></p>


<pre><a name="1086389"></a><nobr>update_nominal_condition -name high_ao -library_set ao_wc_0v99</nobr></pre>



<h4>
  <a name="1085127"> </a>Specifying the Power Constraints</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1063958"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1063959"> </a>	 To specify the targets for leakage and dynamic power in the current design, use the <code><a href="../cpf_ref/reference.html#set_power_target">set_power_target</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1063961"></a><nobr>set_power_target<br>&nbsp; &nbsp;	 { -leakage <code><em>float</code></em> | -dynamic <code><em>float</code></em> <br>&nbsp; &nbsp;	 | -leakage <code><em>float</code></em> -dynamic <code><em>float</code></em>}</nobr></pre>
</dl>     </dl>
<p>
  <a name="1063965"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, no power constraints were specified.</p>




<h4>
  <a name="1063967"> </a>Specifying the Timing Constraints</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1063968"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1063969"> </a>	 To specify the timing constraints for the current design, use the <code>-sdc_files</code> option of the <code><a href="../cpf_ref/reference.html#update_power_mode">update_power_mode</a></code> command: </td>
</table>

     <dl><dl>
<pre><a name="1084320"></a><nobr>update_power_mode -name <code><em>mode<br></code></em>&nbsp; &nbsp;	 {-sdc_files | -setup_sdc_files | -hold_sdc_files} <code><em>sdc_file_list</code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1063975"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, separate timing constraints were defined for each of the modes.</p>


<p>
  <a name="1064042"> </a>The following command specifies the constraints to be used to optimize or analyze the design for the <code>full</code> power mode (when full functionality must be available). The directory of the SDC file is specified through a variable which was defined in the CPF file.</p>


<pre><a name="1064030"></a><nobr>update_power_mode -name full \<br>&nbsp; &nbsp;	 -sdc_files ${constraintDir}/dtmf_recvr_core_gate.sdc</nobr></pre>



<h4>
  <a name="1063978"> </a>Specifying the Activity Information</h4>


<p>
<strong>Note:&nbsp;</strong>
<a name="1063979"> </a>This information is optional in the CPF file.
</p>

<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1063980"> </a>	 To specify the activity information that can be used for power analysis, use</td>
</table>

     <dl><dl>
<pre><a name="1063981"></a><nobr>update_power_mode -name <code><em>mode<br></code></em>&nbsp; &nbsp;	 -activity_file <code><em>file</code></em> -activity_file_weight <code><em>weight</code></em></nobr></pre>
</dl>     </dl>
<p>
  <a name="1063982"> </a>Supported formats for the activity files are VCD, TCF, and SAIF.</p>


<p>
  <a name="1063983"> </a>If the design has several modes, you can specify the relative weight of the activities per mode. </p>


<pre><a name="1065808"></a><nobr>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, no activity information was specified.</nobr></pre>



<h4>
  <a name="1083045"> </a>Updating the Rules with Implementation Information</h4>

<ol type="1">
  <li value="1"><p><a name="1083046"> </a>To specify the location or the type of level shifters to be used, use the <code><a href="../cpf_ref/reference.html#update_level_shifter_rules">update_level_shifter_rules</a></code> command:</p>
<dl>
<pre><a name="1083048"></a><nobr>update_level_shifter_rules -names <code><em>rule_list</code></em> <br>&nbsp; &nbsp;	 { -location {from | to | parent | any} <br>&nbsp; &nbsp;	 | -within_hierarchy<code><em> instance<br></code></em>&nbsp; &nbsp;	 | -cells cell_list <br>&nbsp; &nbsp;	 | -prefix <code><em>string </code></em>}...</nobr></pre>
</dl><dl>
<p>
  <a name="1083052"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, three of the four level shifter rules were updated.</p>


<p>
  <a name="1083053"> </a>The following command specifies that for rule <code>LSRULE_H2L</code> only level shifter cell <code>LVLHLD2BWP</code> can be used and all level shifters must be placed in the destination power domain.</p>

</dl><dl>
<pre><a name="1083054"></a><nobr>update_level_shifter_rules -names LSRULE_H2L -cells LVLHLD2BWP -location to</nobr></pre>
</dl>  <li value="2"><p><a name="1083055"> </a>To specify the location or the type of isolation cells to be used, use the <code><a href="../cpf_ref/reference.html#update_isolation_rules">update_isolation_rules</a></code> command:</p>
<dl>
<pre><a name="1083057"></a><nobr>update_isolation_rules -names <code><em>rule_list<br></code></em>&nbsp; &nbsp;	 { -location {from | to | parent | any}<br>&nbsp; &nbsp;	 | -within_hierarchy<code><em> instance<br></code></em>&nbsp; &nbsp;	 | -cells <code><em>cell_list<br></code></em><code>&nbsp; &nbsp;	 | -prefix </code><code><em>string<br></code></em><code>&nbsp; &nbsp;	 | -open_source_pins_only}...</code></nobr></pre>
</dl><dl>
<p>
  <a name="1083061"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, only one isolation rule was created and this rule was updated.</p>


<p>
  <a name="1083062"> </a>The following command specifies that for rule <code>ISORULE</code> only cell <code>LVLLHCD2BWP</code> can be used and all isolation cells must be placed in the destination power domain.</p>

</dl><dl>
<pre><a name="1083063"></a><nobr>update_isolation_rules -names ISORULE -cells LVLLHCD2BWP -location to </nobr></pre>
</dl>  <li value="3"><p><a name="1083064"> </a>To append the specified rules for state retention logic with implementation information, use the <code><a href="../cpf_ref/reference.html#update_state_retention_rules">update_state_retention_rules</a></code> command:</p>
<dl>
<pre><a name="1083066"></a><nobr>update_state_retention_rules <br>&nbsp; &nbsp;	 -names <code><em>rule_list <br></code></em>&nbsp; &nbsp;	 { -cell_type <code><em>string</code></em> <br>&nbsp; &nbsp;	 | -cells <code><em>cell_list</code></em>&nbsp; &nbsp;	 | -set_reset_control} ...</nobr></pre>
</dl><dl>
<p>
  <a name="1083070"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, only one state retention rule was created and this rule was updated.</p>


<p>
  <a name="1083071"> </a>The following command specifies that for rule <code>SRPG_TDSP</code>, only the following state retention cell <code>RSDFCSRHD2BWP</code> from library set <code>tdsp_wc_0v792</code> can be used.</p>

</dl><dl>
<pre><a name="1083072"></a><nobr>update_state_retention_rules -names SRPG_TDSP \<br>&nbsp; &nbsp;	 -cell RSDFCSRHD2BWP -library_set tdsp_wc_0v792</nobr></pre>
</dl></ol>



<h4>
  <a name="1082916"> </a>Specifying the Global Power and Ground Nets</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1082917"> </a>	 To declare (or create) the nets connected to the ground and power supplies, use the <code><a href="../cpf_ref/reference.html#create_ground_nets">create_ground_nets</a></code> and <code><a href="../cpf_ref/reference.html#create_power_nets">create_power_nets</a></code> commands:</td>
</table>

     <dl><dl>
<pre><a name="1082920"></a><nobr>create_ground_nets -nets <code><em>net_list <br></code></em>&nbsp; &nbsp;	 [-voltage <code><em>string</code></em>]<br>&nbsp; &nbsp;	 [-external_shutoff_condition <code><em>expression</code></em> | -internal]<br>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]<br>&nbsp; &nbsp;	 [-peak_ir_drop_limit <code><em>float</code></em>] &nbsp; &nbsp;	 <br>&nbsp; &nbsp;	 [-average_ir_drop_limit <code><em>float</code></em>] </nobr></pre>

<pre><a name="1082921"></a><nobr>create_power_nets -nets <code><em>net_list <br></code></em>&nbsp; &nbsp;	 [-voltage <code><em>string</code></em>]<br>&nbsp; &nbsp;	 [-external_shutoff_condition <code><em>expression</code></em> | -internal]<br>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]<br>&nbsp; &nbsp;	 [-peak_ir_drop_limit <code><em>float</code></em>] <br>&nbsp; &nbsp;	 [-average_ir_drop_limit <code><em>float</code></em>] </nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1082922"> </a>Power and ground nets referenced in an <code>update_power_domain</code> command can be either always on or can be switchable power nets depending on the power domain specification. Other power and ground nets are considered to be always on unless you specify the <code>-external_shutoff_condition</code> option<code>.</code>
</p>

<p>
  <a name="1082926"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, four power nets and two ground nets are declared. One power net is connected to the variable power supply. One power net is needed for the <code>PLL</code> power domain. Two power nets are needed for the <code>TDSPCore</code> power domain: one power net can be switched off, another power net is needed to retain the states of the state retention cells.</p>


<p>
  <a name="1082927"> </a>The following command declares power net <code>VDD</code>. This net is connected to a power supply that can vary from 0.792 V to 0.99V in increments of 0.198V. This power net belongs to power domain <code>AO</code> because that is the power domain whose voltage can be dynamically scaled.</p>


<pre><a name="1082928"></a><nobr>create_power_nets -nets VDD -voltage {0.792:0.99:0.198}</nobr></pre>



<h4>
  <a name="1082962"> </a>Specifying the Global Connections</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1082963"> </a>	 To specify how to connect global nets, such as power and ground nets to the cell pins, use the <code><a href="../cpf_ref/reference.html#create_global_connection">create_global_connection</a></code> command:</td>
</table>

     <dl><dl>
<pre><a name="1082965"></a><nobr>create_global_connection <br>&nbsp; &nbsp;	 -net <code><em>net <br></code></em>&nbsp; &nbsp;	 -pins <code><em>pin_list</code></em> <br>&nbsp; &nbsp;	 [-domain<code><em> domain</code></em> | -instances<code><em> instance_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
  <a name="1082966"> </a>If you omit the <code>-domain</code> or <code>-instances</code> option, the global connection applies to the specified pins of the entire design. </p>


<p>
  <a name="1082967"> </a>If you combine <code>-pins</code> and <code>-domain</code> options, only those pins in the specified list that also belong to the specified power domain are connected.</p>


<p>
  <a name="1082968"> </a>If you combine <code>-pins</code> and <code>-instances</code> options, only those pins in the specified list that also belong to the specified instances are connected.</p>


<p>
  <a name="1082972"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, eleven global connections were specified.</p>


<p>
  <a name="1082973"> </a>The following command specifies that net <code>VDD</code> must be connected to all cell pins named <code>VDD</code> in power domain <code>AO</code>.</p>


<pre><a name="1082974"></a><nobr>create_global_connection -domain AO -net VDD -pins VDD</nobr></pre>



<h4>
  <a name="1087885"> </a>Specifying the Rules for the Power Switch Logic</h4>

<ol type="1">
  <li value="1"><p><a name="1087886"> </a>To specify how a single power switch must connect the external and internal power or ground nets for the specified power domain, use the <code><a href="../cpf_ref/reference.html#create_power_switch_rule">create_power_switch_rule</a></code> command.</p>
<dl>
<pre><a name="1087888"></a><nobr>create_power_switch_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -domain <code><em>power_domain<br></code></em>&nbsp; &nbsp;	 {-external_power_net <code><em>net</code></em> | -external_ground_net <code><em>net</code></em>}</nobr></pre>
</dl><dl>
<p>
  <a name="1087889"> </a>You can specify one or more commands for a power domain depending on whether you want to control the switchable power domain by a single switch or multiple switches.</p>

</dl>  <li value="2"><p><a name="1087901"> </a>To append the specified rules for power switch logic with implementation information, use the <code><a href="../cpf_ref/reference.html#update_power_switch_rule">update_power_switch_rule</a></code> command:</p>
<dl>
<pre><a name="1087903"></a><nobr>update_power_switch_rule <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 { -enable_condition_1 <code><em>expression</code></em> [-enable_condition_2 <code><em>expression</code></em>]<br>&nbsp; &nbsp;	 | -acknowledge_receiver_1 <code><em>express</code></em> [-acknowledge_receiver_2 <code><em>express</code></em>]<br>&nbsp; &nbsp;	 | -cells <code><em>cell_list <br></code></em>&nbsp; &nbsp;	 | -gate_bias_net <code><em>power_net<br></code></em><code>&nbsp; &nbsp;	 | -prefix </code><code><em>string</code></em><code> <br></code>&nbsp; &nbsp;	 | -peak_ir_drop_limit <code><em>float<br></code></em>&nbsp; &nbsp;	 | -average_ir_drop_limit <code><em>float </code></em><code>} ...</code></nobr></pre>
</dl></ol>

<p>
  <a name="1087938"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, one rule was created. Because this design has only one power domain that is powered down, power switch rules are only needed for this power domain.</p>


<p>
  <a name="1087928"> </a>The first command creates a power switch rule for power domain <code>TDSPCore</code> and specifies that the source pin of the power switch must be connected to net <code>VDD_TDSP_R</code>.</p>


<p>
  <a name="1087948"> </a>The second command specifies that for rule <code>TDSPCore_SW</code>, only cell <code>HDRDID1BWPHVT</code> can be used. The command also specifies to use the <code>CDN_SW_</code> prefix for the created logic and to connect the <code>switch_en_out</code> pin to the output pin of the power switch cell.</p>


<pre><a name="1087929"></a><nobr>create_power_switch_rule -name TDSPCore_SW -domain TDSPCore \<br>&nbsp; &nbsp;	 -external_power_net VDD_TDSP_R</nobr></pre>

<pre><a name="1087910"></a><nobr>update_power_switch_rule -name TDSPCore_SW -cells HDRDID1BWPHVT \<br>&nbsp; &nbsp;	 -prefix CDN_SW_ -acknowledge_receiver_1 switch_en_out</nobr></pre>



<h4>
  <a name="1082976"> </a>Specifying Additional Information for Power and Ground Routing</h4>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1082977"> </a>	 To specify additional information that applies to power and ground routing, use the <code><a href="../cpf_ref/reference.html#update_power_domain">update_power_domain</a></code> command with one of the following options:</td>
</table>

     <dl><dl>
<pre><a name="1082978"></a><nobr>update_power_domain<br>&nbsp; &nbsp;	 -name <code><em>domain<br></code></em>&nbsp; &nbsp;	 { -primary_power_net <code><em>net <br></code></em>&nbsp; &nbsp;	 | -primary_ground_net <code><em>net</code></em> &nbsp; &nbsp;	 | -equivalent_power_nets <code><em>power_net_list</code></em> <br>&nbsp; &nbsp;	 | -equivalent_ground_nets <code><em>ground_net_list<br></code></em>&nbsp; &nbsp;	 | -pmos_bias_net <code><em>net</code></em> | -nmos_bias_net <code><em>net</code></em>&nbsp; &nbsp;	 <br>&nbsp; &nbsp;	 | -user_attributes <code><em>string_list</code></em>} ...</nobr></pre>
</dl>     </dl>
<p>
  <a name="1082982"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, three <code>update_power_domain</code> commands were specified.</p>


<p>
  <a name="1082983"> </a>The following command specifies that <code>AVDD</code> is the main power net for all functional gates in power domain <code>PLL</code>, while <code>Avss</code> is the ground net.</p>


<pre><a name="1082984"></a><nobr>update_power_domain -name PLL -primary_power_net Avdd -primary_ground_net Avss</nobr></pre>

<pre><a name="1082960"></a><nobr></nobr></pre>



<h4>
  <a name="1065809"> </a>Specifying the Operating Corners</h4>


<p>
  <a name="1066135"> </a>The design must be able to perform under different sets of operating conditions (process, voltage, and temperature values). Because the timing and power characteristics of the cells depend on the operating conditions, different library sets that contain the characterization information for the different conditions are used. An operating corner shows which library set to use for a given operating condition. </p>


  <a name="1066122"> </a><table border="0"><tr><td valign="top"><img src="../support/tip.gif"></td><td>Different portions of the design can operate at the same voltage and yet use dedicated library sets. In this case, it is possible to have multiple operating corners with the same operating conditions. <a href="create_cpf.html#1068157">Table 2-7</a> illustrates this case.</td></table>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1065959"> </a>	 To define an operating corner, use the <code><a href="../cpf_ref/reference.html#create_operating_corner">create_operating_corner</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1065875"></a><nobr>create_operating_corner<br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -voltage <code><em>float </code></em>[-ground_voltage<code><em> float</code></em>]<br>&nbsp; &nbsp;	 [-process <code><em>float</code></em>]<br>&nbsp; &nbsp;	 [-temperature <code><em>float</code></em>]<br>&nbsp; &nbsp;	 -library_set <code><em>library_set</code></em></nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1080426"> </a>The -<code>pmos_bias_voltage</code> and <code>-nmos_bias_voltage</code> options of <code>create_operating_corner</code> are irrelevant for a design not using substrate biasing.
</p>

<p>
  <a name="1065865"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, six operating corners were specified.</p>


<p>
  <a name="1065860"> </a>The following command specifies to use library set <code>ao_wc_0v99</code> for operating corner <code>WCCOM_AO</code>. The process value of the operating corner is 1, the temperature is 125&#176;C and the operating voltage is 0.99V. This operating corner is defined for worst case conditions.</p>


<pre><a name="1065814"></a><nobr>create_operating_corner -name WCCOM_AO \<br>&nbsp; &nbsp;	 -process 1 -temperature 125 -voltage 0.99 -library_set ao_wc_0v99</nobr></pre>



<h4>
  <a name="1065888"> </a>Specifying the Analysis Views</h4>


<p>
  <a name="1068045"> </a>The design must function correctly in each power mode not only under typical conditions, but also under extreme conditions. Typically a multi-mode multi-corner timing analysis will be done for the worst case and the best case conditions.</p>


<p>
  <a name="1065909"> </a>An analysis view associates a specific operating corner with each power domain in the specified power mode. You need to make sure that all operating corners for a view correspond to either best or worst case conditions. </p>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1066140"> </a>	 To define an analysis view, use the <code><a href="../cpf_ref/reference.html#create_analysis_view">create_analysis_view</a></code> command.</td>
</table>

     <dl><dl>
<pre><a name="1080443"></a><nobr>create_analysis_view <br>&nbsp; &nbsp;	 -name <code><em>string<br></code></em>&nbsp; &nbsp;	 -mode <code><em>mode<br></code></em>&nbsp; &nbsp;	 -domain_corners <code><em>domain_corner_list<br></code></em>&nbsp; &nbsp;	 [-user_attributes <code><em>string_list</code></em>]</nobr></pre>
</dl>     </dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1066152"> </a>The <code>-group_views</code> option of <code>create_analysis_view</code> is only relevant in a hierarchical flow. For more information, refer to <a href="hierarchical.html#1035250">Chapter 4, "Hierarchical Flow."</a>
</p>
<p>
<a name="1066158"> </a>Use the following format to specify a domain corner:</p>
<p>
<a name="1066159"> </a><code><em>domain_name</code></em>@<code><em>corner_name</code></em></p>

  <a name="1074783"> </a><table border="0"><tr><td valign="top"><img src="../support/tip.gif"></td><td>The CPF file can contain several analysis views with the same domain and corner information for a power mode. For a multi-mode multi-corner analysis, some implementation and timing analysis tools need unique views to associate with different parasitic corners.</td></table>


<p>
  <a name="1074794"> </a>For the design in <a href="create_cpf.html#1048567">Figure 2-7</a>, eight analysis views were specified.</p>


<p>
  <a name="1074787"> </a>The following command specifies analysis view <code>AV_full_MIN_RC1</code> for power mode <code>full</code>. For this view the operating corners for the best case operating conditions are associated with the three power domains.</p>


<pre><a name="1066998"></a><nobr>create_analysis_view -name AV_full_MIN_RC1 -mode full \<br>&nbsp; &nbsp;	 -domain_corners {AO@BCCOM_AO PLL@BCCOM_AO TDSPCore@BC08COM_TDSP}</nobr></pre>
     <dl><dl>
<pre><a name="1083034"></a><nobr></nobr></pre>
</dl>     </dl>
  

</blockquote>

<br>
<a href="#pagetop">Return to top of page</a>
<hr>
<p>
<!-- Begin Buttons -->
<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="cpf_userTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><img src="../support/nav2_index_b.gif" border="0" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="intro.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="methodology.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="cpf_user.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><a href="/search.htm"><img src="../support/nav2_search.gif" border="0"  alt="Search Cadence Library" height="20" width="61"></a></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
</table>
<!-- End Buttons -->
<p>
<p>


<!-- NOTES; -->

<!-- /address -->
<p>
<br>
<font size="-1">
For support, see <a href=http://www.cadence.com/support>http://www.cadence.com/support</a>
or try Cadence's <a href=http://sourcelink.cadence.com target=_blank>SourceLink</a> service.
<br><br>
<i>Copyright &#169; 2012, <a href=http://www.cadence.com>Cadence Design Systems, Inc.</a></i> 
<br>
All rights reserved.
<br>
<a href="titlecopy.html">Legal notices and trademark attributions</a>
<br>
<!-- This file was created with Quadralay WebWorks Publisher AutoMap 6.0.7 -->
<!-- -->
<!-- Last updated: Tue Oct 16 15:27:15 2012 -->
</font>
</body>
</html>


