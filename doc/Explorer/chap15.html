
<html><head><title>Working with AMS Simulator </title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2023-10-27" />
<meta name="CreateTime" content="1698403520" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features of Virtuoso ADE Explorer" />
<meta name="DocTitle" content="Virtuoso ADE Explorer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Working with AMS Simulator" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="Explorer" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-27" />
<meta name="ModifiedTime" content="1698403520" />
<meta name="NextFile" content="chap17.html" />
<meta name="Order" content="0" />
<meta name="Group" content="ADE Explorer" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap14.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE Explorer User Guide -- Working with AMS Simulator" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="ExplorerIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ExplorerTOC.html">Contents</a></li><li><a class="prev" href="chap14.html" title="Helping Simulations to Converge">Helping Simulations to Converg ...</a></li><li style="float: right;"><a class="viewPrint" href="Explorer.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap17.html" title="Working with HSPICE Simulator">Working with HSPICE Simulator </a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE Explorer User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>15
<a id="pgfId-1022908"></a></h1>
<h1>
<a id="pgfId-1022910"></a><hr />
<a id="93612"></a>Working with AMS Simulator <hr />
</h1>

<p>
<a id="pgfId-1016456"></a><a id="AMSSimulator"></a>ADE Explorer and ADE Assembler provide seamless integration of the Spectre AMS Designer and Xcelium Mixed-Signal simulator. The integration of the Spectre AMS Designer simulator with ADE Explorer or ADE Assembler creates a design environment with the look and feel expected by the analog and mixed-signal designers who already use these tools. When using this integration, you can access designs using the same tools you currently use for pure analog and mixed-signal designs. </p>
<p>
<a id="pgfId-1016457"></a>You can use the Virtuoso&#174; Hierarchy Editor to specify the cellviews that you want to use in your design. A configuration (config) is a set of binding rules that defines which cellviews are part of the design for a given purpose (such as netlisting and simulation). Using the Virtuoso Hierarchy Editor, you can view the hierarchy of these cellviews and apply view switching to mix and match abstraction levels depending upon which phase of the design cycle you are performing. </p>
<p>
<a id="pgfId-1027574"></a>To simulate your design with AMS Designer in ADE Explorer or ADE Assembler, you must specify a top-level config cellview for your design hierarchy. The design can contain other config cellviews at lower levels in the hierarchy. See <a href="chap15.html#54855">Creating a Configuration Cellview</a> for information on how to create a config view</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1064862"></a>You can use the variable <code>TESTBENCH_TOPCELL</code> to access the top cell name of a testbench and to backannotate the SDF delays. This variable is automatically saved in the <code>runSimulation</code> script generated by AMS Designer. </div>
<p>
<a id="pgfId-1065053"></a>For example:</p>
<p>
<a id="pgfId-1065083"></a>The top cell name is written into the <code>TESTBENCH_TOPCELL</code> variable through the <code>runSimulation</code> script as follows.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065257"></a>export TESTBENCH_TOPCELL=&quot;test_sim&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065233"></a>xrun -f xrunArgs</pre>

<p>
<a id="pgfId-1065056"></a>The following <code>xrun</code> option is specified with a file that uses this variable. On running a simulation, it backannotates the SDF delays and writes them to the log file <code>sdf.log</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065032"></a>-sdf_cmd_file c_sdf</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065464"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065034"></a>cat c_sdf </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065035"></a>COMPILED_SDF_FILE = &quot;${CDIR}/top_cell.sdf.X&quot;,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065036"></a>SCOPE = &quot;${TESTBENCH_TOPCELL}.I0&quot;,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065028"></a>LOG_FILE = &quot;sdf.log&quot;</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1027579"></a>When ADE Explorer is running a single-point simulation, you can use the &#8216;Optimize Single Point Run&#8217; option on the job policy setting form to optimize the run. For more details, refer to the section <a actuate="user" class="URL" href="../Explorer/chap7.html#optimizeSingleRun" show="replace" xml:link="simple">Optimizing a Single Point Run</a>.</div>
<p>
<a id="pgfId-1016447"></a>This chapter covers the following topics: </p>
<ul><li>
<a id="pgfId-1016589"></a><a href="chap15.html#54855">Creating a Configuration Cellview</a></li><li>
<a id="pgfId-1020674"></a><a href="chap15.html#24463">ADE Explorer and AMS Integration</a></li><li>
<a id="pgfId-1021279"></a><a href="chap15.html#43040">Setting up AMS Options</a></li><li>
<a id="pgfId-1020695"></a><a href="chap15.html#52633">About the AMS Unified Netlister</a></li><li>
<a id="pgfId-1020793"></a><a href="chap15.html#92568">Setting Up the AMS Netlister Options</a></li><li>
<a id="pgfId-1057688"></a><a href="chap15.html#16741">Using the runams Command</a></li><li>
<a id="pgfId-1022756"></a><a href="chap15.html#85521">Viewing the Output Log for AMS</a></li><li>
<a id="pgfId-1022766"></a><a href="chap15.html#31319">Viewing the Error Explanation for AMS</a></li><li>
<a id="pgfId-1022776"></a><a href="chap15.html#21663">Using the SimVision Debugger</a></li></ul>









<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1044422"></a>
For an overview of the above steps, see the <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?pageName=ArticleContent&amp;id=a1O0V000009MnsBUAS" show="replace" xml:link="simple">Running AMS Simulation in ADE Explorer</a> video on Cadence Online Support.</div>
<h2>
<a id="pgfId-1016590"></a><a id="54855"></a>Creating a Config<a id="configCreation"></a>uration Cellview</h2>

<p>
<a id="pgfId-1016591"></a>A configuration (or config) is a view of the cell (or cellview). You can have different config cellviews for different purposes. </p>

<p>
<a id="pgfId-1016533"></a></p>
<div class="webflare-div-image">
<img width="668" height="230" src="images/chap15-3.gif" /></div>

<p>
<a id="pgfId-1016534"></a>To simulate your design in the AMS Designer Virtuoso ADE Explorer environment, you must have a top-level config cellview. The top-level config cellview can be a HDL text module or a schematic. The top-level config can contain other config cellviews lower in the hierarchy. </p>
<p>
<a id="pgfId-1016535"></a>Configurations let you bind to different cellviews as your design evolves from concept to finish. For example, you might begin the design process using high-level behavioral models of your design components; later, you might insert modules into test fixtures; you might replace behavioral descriptions with schematics and finally, add post-layout views, as the design process approaches implementation. </p>
<p>
<a id="pgfId-1016536"></a>You can create configuration rules that define what views to include in the hierarchy at three different levels: </p>

<p>
<a id="pgfId-1016550"></a></p>
<table class="webflareTable" id="#id1016537">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016539"></a>Global level</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016541"></a>Using a global view list and stop list</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016543"></a>Cell level</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016545"></a>Using cell-based view lists &#8212; which affect the cell as well as the structures below the cell in the hierarchy &#8212; and cell bindings</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016547"></a>Instance level</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1016549"></a>Using instance-based view lists &#8212; which affect the instance as well as structures lower in the hierarchy &#8212; and instance bindings.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1016553"></a>You can use the Virtuoso&#174; Hierarchy Editor to create a configuration (config) cellview as follows: </p>
<ol><li>
<a id="pgfId-1016554"></a>Choose <em>File</em> &#8212; <em>New</em> <em>Config</em> to view the <em>New Configuration</em> form.</li><li>
<a id="pgfId-1016555"></a>On the <em>New Configuration</em> form, click <em>Use Template</em>.<br />
<a id="pgfId-1016556"></a>The <em>Use Template</em> form appears.</li><li>
<a id="pgfId-1016557"></a>Select <em>AMS</em> from the <em>Name</em> drop-down list.<br />
<a id="pgfId-1016558"></a>The resulting view list is:<br />
<a id="pgfId-1016559"></a><code>verilogams veriloga behavioral functional schematic symbol</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1016560"></a>Symbol views must have associated underlying models that describe the represented device for AMS simulation. </div></li><li>
<a id="pgfId-1016561"></a>Click <em>OK</em>.<br />
<a id="pgfId-1016562"></a>All design instances and their cell bindings appear in the Virtuoso Hierarchy Editor window.</li><li>
<a id="pgfId-1016563"></a>(Optional) In the <em>Global Bindings</em> group box, you can type directly in the fields to edit the lists as required. For example, VHDL users might want to add a wildcard asterisk to View List. </li><li>
<a id="pgfId-1016564"></a>Choose <em>View</em> - <em>Update</em> to check and save the new configuration.</li></ol>











<p>
<a id="pgfId-1016565"></a>An <em>Update</em> prompt appears.</p>

<ol><li>
<a id="pgfId-1016566"></a>Click <em>OK</em> to save the config view.</li></ol>

<h3>
<a id="pgfId-1069954"></a>Sett<a id="defaultSimulator"></a>ing Up the Default Simulator for a Configuration</h3>

<p>
<a id="pgfId-1069719"></a>By default, a configuration uses the default simulator which is set using the variable <a href="../cdshiereditor/appA_re_setAmsSimulator.html">asimenv.startup simulator</a>. </p>
<p>
<a id="pgfId-1070021"></a>To use a specific simulator for a particular configuration,</p>
<ol><li>
<a id="pgfId-1069809"></a>Set the variable <a href="../cdshiereditor/appA_re_setAmsSimulator.html">hed.ade setAmsSimulator</a> to <code>nil</code>.</li><li>
<a id="pgfId-1070029"></a>Define a constant named <code>simulator</code> through the Edit Constants form in Virtuoso Hierarchy Editor.</li><li>
<a id="pgfId-1070034"></a>Specify a simulator name as the constant value.<br />
<a id="pgfId-1068090"></a>For example, setting the value <code>spectre</code> for the constant <code>simulator</code>, will set Spectre as the default simulator for the config view.<br />
<a id="pgfId-1068268"></a><div class="webflare-div-image">
<img width="668" height="383" src="images/chap15-4.gif" /></div>
<a id="pgfId-1069929"></a>Here, the value of the <code>simulator</code> constant will override the default simulator, set using <code>asimenv.startup</code> <code>simulator</code>. If the simulator constant is invalid, an error message is displayed in the CIW and the default simulator, Spectre, is used.<br />
<a id="pgfId-1028100"></a>For more information about adding constants, see <a actuate="user" class="URL" href="../cdshiereditor/chap3_tk_Creating_and_Editing_Constants.html" show="replace" xml:link="simple">Using Constants</a>.</li></ol>










<h3>
<a id="pgfId-1028109"></a>Setting <a id="configVSETE"></a>Up a Config Cellview Using Virtuoso Schematic Editor or Virtuoso Text Editor</h3>

<p>
<a id="pgfId-1028503"></a>While working on a schematic cellview or a text cellview, you can set up a corresponding config cellview directly from Virtuoso Schematic Editor (VSE) or Virtuoso Text Editor. </p>
<p>
<a id="pgfId-1028504"></a>To view the <em>Configuration</em> menu in VSE and Text Editor, </p>

<ul><li>
<a id="pgfId-1028505"></a>Open VSE or Text Editor and choose <em>Launch</em> &#8211; <em>Plugins</em> &#8211; <em>Mixed Signal Options</em> &#8211; <em>Configuration.</em> <br />
<a id="pgfId-1028113"></a><div class="webflare-div-image">
<img width="598" height="47" src="images/chap15-5.gif" /></div></li></ul>



<p>
<a id="pgfId-1028530"></a>The <em>Configuration</em> menu includes the following options:</p>
<ul><li>
<a id="pgfId-1028531"></a><em>Auto Create Configuration&#8212;</em>Creates a new config cellview automatically<em>.</em> By default, the name of this new config cellview is <code>auto_config</code>. However, you can specify a different name for this cellview using the <a href="appA.html#">autoConfigNameForConfigCreation</a> environment variable.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034334"></a>If you try to create a new cellview automatically when the cellview <code>auto_config</code> already exists, it creates a new cellview <code>auto_config_0</code>. These <code>auto_config</code> cellviews are created incrementally. The added cellviews can be seen in the View column of Library Manager.</div>
<a id="pgfId-1034385"></a><div class="webflare-div-image">
<img width="639" height="534" src="images/chap15-6.gif" /></div></li><li>
<a id="pgfId-1028131"></a><em>Setup Configuration&#8211;</em>Sets up a config cellview. When you select this option, the Setup Configuration form appears as shown in the figure below:<br /><ffi2-fig-frame-in-2 id="#id1028132">
<a id="pgfId-1028132"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="661" height="398" src="images/chap15-7.gif" /></div>
<a id="pgfId-1028565"></a>In this form, you can create a new config cellview and specify global bindings options for this new cellview. If the config cellview already exists, you can use this form to modify these options. <br />
<a id="pgfId-1028566"></a>Specify the following form fields to set up a config cellview. Depending upon whether a config cellview already exists or not, perform the following steps:<ol><li>
<a id="pgfId-1028567"></a>In the <em>Available Configurations</em> drop-down list, select a config cellview. <ul><li>
<a id="pgfId-1028568"></a>If a config cellview does not exist, the<em> Available Configurations</em> field still displays a config cellview name, <code>auto_config</code>, and a new config with this name is created when you click <em>OK</em>. </li><li>
<a id="pgfId-1028569"></a>If a config cellview exists and you want to create a new config cellview using the settings from the existing cellview, select the <em>Automatically generate new configuration name</em> check box. The config cellview is created with the specified name when you click <em>OK</em>.</li><li>
<a id="pgfId-1028570"></a>If a config cellview exists and you do not select the <em>Automatically generate new configuration name</em> check box, the selected config cellview is modified when you click <em>OK</em>.</li></ul></li><li>
<a id="pgfId-1028571"></a>The <em>Top Cell </em>section displays the name of the library, cell, and cellview used as the top cellview of your design. </li><li>
<a id="pgfId-1028572"></a>The <em>Configuration</em> section displays the name of the library and cell in which the selected config cellview is to be placed, along with the name of the config cellview</li><li>
<a id="pgfId-1028573"></a>In the<em> Global Bindings</em> section, specify the following options:<ul><li>
<a id="pgfId-1028574"></a><em>Library List </em>&#8211; Specify the libraries for cells that do not have fixed library bindings. List the libraries in the order you want them to be searched.</li><li>
<a id="pgfId-1028575"></a><em>View List</em> &#8211; Specify the views you want to open/display (something is missing here) in your configuration. The view list applies to every level of the configuration and determines which view is selected for each object in the design, unless overridden by a cell or instance binding. You can use the asterisk character (<code>*</code>) as a wildcard in the <em>View List </em>field. The default view list is determined by the value of the <a href="appA.html#43601">viewListForConfigCreation</a>environment variable.</li><li>
<a id="pgfId-1028579"></a><em>Stop List</em> &#8211; Specify a list of views that are to be treated as leaf nodes, that is, not to be expanded. This field is optional. The default stop list is determined by the value of the <a href="appA.html#81225">stopListForConfigCreation</a>environment variable.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1028583"></a>You can use constants in the <em>View List </em>and <em>Stop List </em>fields. A constant is a symbolic name used to represent a set of views. For information about creating and using constants, see <a actuate="user" class="URL" href="../cdshiereditor/chap3_tk_Creating_and_Editing_Constants.html" show="replace" xml:link="simple">Using Constants</a> in the <em>Virtuoso Hierarchy Editor User Guide</em>.</div></li><li>
<a id="pgfId-1028585"></a><em>Constraint List</em> &#8211; Specifies a list of constraint views that apply to the design. This field is optional. The default constraint list is determined by the value of the <a href="appA.html#63858">constraintListForConfigCreation</a> environment variable.</li></ul><br />
<a id="pgfId-1028589"></a>List the entries in each list in order of preference; separate entries with spaces.</li><li>
<a id="pgfId-1028590"></a>Click <em>OK</em>. <br />
<a id="pgfId-1028609"></a>The config cellview with the specified name and settings is added in Library Manager. You can double-click the cellview to open and edit the configuration in Virtuoso Hierarchy Editor.</li></ol></li></ul>

































<p>
<a id="pgfId-1028615"></a>For more information, see:</p>
<ul><li>
<a id="pgfId-1028617"></a><a actuate="user" class="URL" href="../cdshiereditor/chap2_tk_Editing_Configurations_in_Hierarchy_Editor.html" show="replace" xml:link="simple">Editing Configurations</a> in the <em>Virtuoso Hierarchy Editor User Guide. </em></li><li>
<a id="pgfId-1028642"></a>Saving Configurations<a id="marker-1028618"></a> in the <em>Virtuoso Hierarchy Editor User Guide.</em></li></ul>


<h4>
<a id="pgfId-1028102"></a>Using VHDL Design Units in a Configuration</h4>

<p>
<a id="pgfId-1022941"></a>To instantiate a VHDL design unit in a text module or schematic, bind to the <code>architecture</code> view of the VHDL design unit in the configuration. You can also instantiate Verilog-AMS modules in VHDL modules.</p>

<h4>
<a id="pgfId-1022943"></a>Netlisting to Make the HDL Design Unit Information Current</h4>

<p>
<a id="pgfId-1016601"></a>If you edit an HDL design unit through Virtuoso (such as a SystemVerilog text module ) using the text editor (such as vi), you must netlist your design to ensure that the Virtuoso&#174; Hierarchy Editor has up-to-date information. Otherwise, design expansion might not result in what you expect.</p>
<p>
<a id="pgfId-1016604"></a>The integration of the AMS Designer simulator and Virtuoso ADE Explorer has the following features:</p>
<ul><li>
<a id="pgfId-1016605"></a>Connect Rules<br />
<a id="pgfId-1016606"></a>You can point to existing connect rules or create your own by parameterizing existing rules. The form allows you to work with multiple connect rules and auto-compiles all the built in or modified rules. </li><li>
<a id="pgfId-1016610"></a>MATLAB/Simulink. <br />
<a id="pgfId-1016868"></a>The ability to run a co-simulation using MATLAB/Simulink with AMS is now available in ADE Explorer. You can start MATLAB<sup>&#174;</sup> before AMS starts by setting specified waiting time and run the cosimulation with general analog simulation flow in Explorer. You can also start MATLAB independently and run the cosimulation. For more information, see <a href="chap15.html#49933">Using MATLAB/Simulink</a> </li><li>
<a id="pgfId-1016615"></a>Global Signals <br />
<a id="pgfId-1016616"></a>You can use the Global Signals form to declare a signal that is used as an out-of-module signal reference. For more information, see <a href="chap15.html#76095">Working with Global Signals in AMS</a>.</li><li>
<a id="pgfId-1016620"></a>SimVision Integration <br />
<a id="pgfId-1016621"></a>You can run simulations interactively using the SimVision debugger, by changing the run mode to interactive. Cross-probing from schematics works with the SimVision integration. For more information, see <a href="chap15.html#21663">Using the SimVision Debugger</a>.</li><li>
<a id="pgfId-1016625"></a>LogFile Utility<br />
<a id="pgfId-1016626"></a>You can look at all the individual log files, opened in an xterm window, or you can use the XMBrowse logfile utility that matches a particular error in a logfile back to the original source. For more information, see <a href="chap15.html#85521">Viewing the Output Log for AMS</a>.</li><li>
<a id="pgfId-1016630"></a>Error Explanation<br />
<a id="pgfId-1016631"></a>You can view detailed explanation of the error for AMS in the Error Explanation form. To view an error, you need to enter the error string. However, the errors displayed for AMS are the ones that are present in the log files that are created in the psf directory while a session is being run. For more information, see <a href="chap15.html#31319">Viewing the Error Explanation for AMS</a>.</li><li>
<a id="pgfId-1016635"></a>Default Disciplines<br />
<a id="pgfId-1016636"></a>You can specify disciplines on a library, cell, cell terminal, instance, instance terminal and net from the Composer UI. You can autocreate a discrete discipline and Explorer auto-compiles the discipline for you. For more information, see <a href="chap15.html#15125">Default Digital Discipline Selection</a>. </li><li>
<a id="pgfId-1016640"></a>Advanced Analyses<br />
<a id="pgfId-1016641"></a>Advanced Analyses such as parametric analysis works with AMS. </li><li>
<a id="pgfId-1016649"></a>Available Analyses<br />
<a id="pgfId-1016650"></a>Transient, AC, DC, Noise, and Envelope analyses are available when you use the AMS simulator with Explorer. You can save the DC operating point.</li><li>
<a id="pgfId-1016653"></a>Outputs<br />
<a id="pgfId-1016654"></a>Use the Explorer <em>Output</em> options to <em>Save All Signals</em> or to <em>Select Specific Signals</em>. You cannot save AC currents. </li><li>
<a id="pgfId-1016655"></a>Single Button <em>Netlist and Run</em> <br />
<a id="pgfId-1016656"></a>Netlist files must be compiled and elaborated before they can be simulated. When you press <em>Netlist and Run</em> a sequence of tools is invoked including the simulator. <ul><li>
<a id="pgfId-1016657"></a>Schematics are translated to Verilog-AMS netlists </li><li>
<a id="pgfId-1016658"></a>Netlists are compiled </li><li>
<a id="pgfId-1016659"></a>Elaboration runs </li><li>
<a id="pgfId-1016660"></a>Simulation runs</li></ul><br />
<a id="pgfId-1016661"></a>Each tool produces a separate log file. When any tool fails, the CIW displays a failure message. Look in the tool&#8217;s log file for descriptive error messages. For details, refer to the section <a href="chap15.html#85521">Viewing the Output Log for AMS</a>.</li><li>
<a id="pgfId-1016665"></a>Full Support for Virtuoso ADE Explorer Display Tools<br />
<a id="pgfId-1016666"></a>The integration of the AMS Designer simulator and ADE Explorer makes the full set of available tools. In particular, you can examine waveforms with the Virtuoso Visualization and Analysis XL tool and take advantage of their superior performance for large mixed-signal designs as well as analog-centric capabilities. You can also bring up SimVision as a simple waveform tool after simulation as well. You can backannotate DC and transient operating point information to the schematic. You can use data access features, such as Calculator, Results Browser, and the Direct Plot form. </li><li>
<a id="pgfId-1016667"></a>OCEAN<br />
<a id="pgfId-1016668"></a>Ocean provides full support for the AMS Designer simulator including several new commands such as <code>connectRules()</code>. For details of the commands, refer to <em><a actuate="user" class="URL" href="../oceanref/oceanrefTOC.html#firstpage" show="replace" xml:link="simple">OCEAN Reference</a></em>.</li><li>
<a id="pgfId-1016670"></a>Distributed and Remote Simulations <br />
<a id="pgfId-1016671"></a>Use network mode for distributed AMS simulations. </li><li>
<a id="pgfId-1016672"></a>Visual Display of Signal Domains<br />
<a id="pgfId-1016673"></a>In the schematic window, you can highlight analog nets and digital nets in different colors, with indicators showing the location of automatically inserted connect modules. Visualization of a mixed-signal design can help you tune the design for desired characteristics.</li><li>
<a id="pgfId-1016674"></a>Display Partition<br />
<a id="pgfId-1016678"></a>The <a href="chap15.html#56340">Display Partition</a> capability of the AMS environment and simulator in Virtuoso ADE Explorer is similar to the display partition capability used in verimix. </li></ul>




































<p>
<a id="pgfId-1016679"></a>To read some frequently asked questions about AMS-in-ADE Explorer, choose <em>Session &#8211; FAQ </em>from the ADE Explorer window.</p>

<h2>
<a id="pgfId-1016680"></a><a id="24463"></a>ADE Explorer and AMS Integration</h2>

<p>
<a id="pgfId-1016682"></a>Following significant differences are introduced with the AMS integration: </p>
<ul><li>
<a id="pgfId-1016683"></a>AMS brings a new and complete Unified Netlisting (UNL) solution to Virtuoso ADE Explorer. The AMS UNL flow adds increased speed, flexibility, and capacity to Virtuoso ADE Explorer and maintains the netlisting compatibility between Explorer and AMS. For more information about the AMS UNL flow, see <a href="chap15.html#52633">About the AMS Unified Netlister</a>.</li><li>
<a id="pgfId-1016687"></a>Both the <em>Netlist </em>command and the <em>Netlist and Run</em> command can potentially call several tools to:<ul><li>
<a id="pgfId-1016688"></a>Compile updated text views </li><li>
<a id="pgfId-1016689"></a>Netlist updated configurations and cellviews </li><li>
<a id="pgfId-1016690"></a>As necessary, call several additional tools <ul><li>
<a id="pgfId-1016691"></a><em>xmvlog</em> or <em>xmvhdl</em> to compile </li><li>
<a id="pgfId-1016692"></a><em>xmelab</em> to elaborate </li><li>
<a id="pgfId-1016693"></a><em>xmsim</em> to simulate </li></ul></li></ul><br />
<a id="pgfId-1016694"></a>Messages in the CIW indicate which tool is running. Each tool writes its own log file.</li><li>
<a id="pgfId-1016701"></a>You cannot directly use the following in designs:<ul><li>
<a id="pgfId-1016702"></a>Parameters declared in model files. This is due to language boundary issues in Spice and Spectre. </li><li>
<a id="pgfId-1016703"></a>Parameters defined in definition files. This is due to language boundary issues in VerilogAMS. </li></ul></li><li>
<a id="pgfId-1016704"></a>You can specify a text block as the top level in your configuration, as follows: <ol><li>
<a id="pgfId-1016705"></a>Compile your top-level module manually, for example, by running this command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1016706">
<a id="pgfId-1016706"></a>cdsTextTo5x -LIB lib1 -SYMBOL symbol textTop.v</pre>
<a id="pgfId-1037408"></a>After you run this command:<ul><li>
<a id="pgfId-1037409"></a>A new library, <code>lib1</code>, is created if it does not exist.</li><li>
<a id="pgfId-1037410"></a>A 5x structure for cellview <code>lib1.textTop:verilog</code> is created.</li><li>
<a id="pgfId-1037411"></a>A new cellview <code>lib1</code>/<code>textTop</code>/<code>symbol</code> is created.</li></ul></li><li>
<a id="pgfId-1016713"></a>In the Hierarchy Editor, create a config view with this text, <code>textTop.v</code>, as top.</li><li>
<a id="pgfId-1016714"></a>Open an ADE Explorer session with the newly created config view.</li></ol></li></ul>























<h4>
<a id="pgfId-1016809"></a>cds_alias</h4>

<p>
<a id="pgfId-1016810"></a>cds_alias is a simple cell which is defined in the library <code>&quot;basic&quot;</code>. This cell is required only if your design contains the <code>cds_alias</code> instances. If the design that you are using contains <code>cds_alias</code> and you have not defined a library &quot;basic&quot; in your <code>cds.lib</code>, then a default <code>cds_alias</code> cell is created under the top design.</p>
<p>
<a id="pgfId-1016811"></a>For example, if the cell, <code>cds_alias</code> is in library <code>&quot;basic&quot;</code>, you need not do anything. It will be compiled under <code>implicit_tmp_dir/basic/cds_alias/functional</code>. However, if the library <code>&quot;basic&quot;</code> is not present in <code>cds.lib</code>, AMS-ADE Explorer will itself compile it in <code>implicit_tmp_dir/&lt;design_lib&gt;/cds_alias/functional</code>.</p>

<h2>
<a id="pgfId-1020870"></a><a id="43040"></a>Setting u<a id="amsSimOptions"></a>p AMS Options </h2>

<p>
<a id="pgfId-1027749"></a>By default, wh<a id="solver"></a>en you select <em>ams</em> as your simulator, Spectre is selected as the solver for the simulation. But you can select the UltraSim solver by clicking the <em>Simulation</em> - <em>Solver</em> menu option, and selecting <em>UltraSim</em> from the Choose Solver form. After selecting the solver, you can set Spectre AMS Designer and Xcelium Mixed-Signal simulator options by choosing the appropriate option from the <em>Simulation &#8211; Options </em>submenu.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1052684"></a>Starting Xcelium 20.03, the AMS simulator does not support the UltraSim solver.</div>

<h4>
<a id="pgfId-1027750"></a>Choosing a Solver</h4>

<p>
<a id="pgfId-1027752"></a>Cho<a id="solver"></a>ose <em>Simulation &#8211; Solver</em> to open the Choose Solver form, in which you can select either <em>Spectre or UltraSim</em> as the solver.</p>

<p>
<a id="pgfId-1027756"></a></p>
<div class="webflare-div-image">
<img src="images/AMS_Solver.gif" /></div>

<p>
<a id="pgfId-1027757"></a>Your choice appears next to the name of the selected simulator below the title bar as highlighted in the snapshot below.</p>

<p>
<a id="pgfId-1027884"></a></p>
<div class="webflare-div-image">
<img width="252" height="24" src="images/chap15-9.gif" /></div>

<p>
<a id="pgfId-1027763"></a>If you are using the Spectre AMS Designer Simulator in IUS 8.1 or later releases, and have selected Spectre as the solver, you can choose <em>Setup &#8211; Performance</em> to specify performance options. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1027767"></a>When you change the solver, the values in all GUI fields will be reset to the default values for that solver.</div>

<h4>
<a id="pgfId-1027768"></a>Analog (Spectre)</h4>

<p>
<a id="pgfId-1027769"></a>Choose <em>Simulation &#8211; Options &#8211; Analog (Spectre).</em> The Simulator Options form appears.</p>

<p>
<a id="pgfId-1027773"></a></p>
<div class="webflare-div-image">
<img src="images/AMSSimulatorOptions.gif" /></div>

<p>
<a id="pgfId-1027775"></a>For details, refer to the<h-hot> <a actuate="user" class="URL" href="../spectreref/chap3.html#options" show="replace" xml:link="simple">Immediate Set Options</a></h-hot> in the <em>Spectre Circuit Simulator </em><em>Reference.</em></p>

<h4>
<a id="pgfId-1027777"></a><a id="fastspiceOptions"></a>FastS<a id="fastspiceOptions"></a>PICE (UltraSim)</h4>

<p>
<a id="pgfId-1027778"></a>Choose <em>Simulation &#8211; Options &#8211; FastSPICE (UltraSim).</em> The FastSPICE (UltraSim) Options form appears.</p>

<p>
<a id="pgfId-1064131"></a></p>
<div class="webflare-div-image">
<img src="images/fastSpiceUltrasimOptionsform.gif" /></div>

<p>
<a id="pgfId-1027784"></a>For more details about the Virtuoso UltraSim simulator options, refer to the <em><a actuate="user" class="URL" href="../UltraSim_User/UltraSim_UserTOC.html#firstpage" show="replace" xml:link="simple"></a>Virtuoso UltraSim Simulator User Guide</em>.</p>

<h4>
<a id="pgfId-1027814"></a>AMS Sim<a id="AMSOptionsForm"></a>ulator</h4>

<p>
<a id="pgfId-1020876"></a>You can set the AMS options using the <em>AMS</em> <em>Options</em> form. To open this form, choose <em>Simulation &#8211; Options &#8211; AMS Simulator</em>.</p>
<p>
<a id="pgfId-1020905"></a>The next sections explain the tabs in the <em>AMS</em> <em>Options</em> form.</p>
<p>
<a id="pgfId-1020912"></a>Main tab:</p>

<p>
<a id="pgfId-1020919"></a><em></em></p>
<div class="webflare-div-image">
<img src="images/amsunl/AMS_options_main.gif" /></div>

<p>
<a id="pgfId-1025831"></a>In the <a id="amscompileroptions"></a><em>Main</em> tab, you can specify INCLUDE, TIMESCALE, DISCIPLINE, LIBRARY COMPILATION, and OTHER options. </p>
<ul><li>
<a id="pgfId-1030397"></a>Click the <em>Include Option Settings</em> button. The Include Options Setup form appears.<a id="includeoptsform"></a><br />
<a id="pgfId-1025832"></a><div class="webflare-div-image">
<img width="610" height="355" src="images/chap15-13.gif" /></div>
<a id="pgfId-1030416"></a>In the <em>Libraries Files/Directories</em> tab on the Include Options Setup form, specify the following:<ul><li>
<a id="pgfId-1030417"></a><em>Library files (-v) </em>&#8212; Specify the Verilog files to be included for compilation. This field is equivalent to the <code>-v</code> command-line option.</li><li>
<a id="pgfId-1030418"></a><em>Library directories (-y)</em> &#8212; Specify the library directories from which the Verilog (.v) files are to be included for compilation. This field is equivalent to the <code>-y</code> command-line option. The filenames must match Verilog module names in order to be properly found.</li><li>
<a id="pgfId-1030419"></a><em>Lib Extension</em> <em>(for -y only)</em> &#8212; Specify the extension of Verilog files present in the specified library directories that are to be included for compilation. By default, only <code>.v</code> files are included for compilation. Specify the file extensions with a comma-separated list with no space between the entries (<code>.v,.sv </code>). This field is equivalent to the -<code>libext</code> command-line option.</li></ul><br />
<a id="pgfId-1030420"></a>In the <em>Include Options</em> tab on the Include Options Setup form, specify the following:<br />
<a id="pgfId-1034024"></a><div class="webflare-div-image">
<img width="666" height="494" src="images/chap15-14.gif" /></div><ul><li>
<a id="pgfId-1030421"></a><em>Options file(-f) </em>&#8212; Specify the absolute path of the file from which the command-line options are to be read. This field is equivalent to the <code>-f</code> command-line option.</li><li>
<a id="pgfId-1031326"></a><em>Options file(-F) </em>&#8212; Specify the relative path of the file from which the command-line options are to be read. This field is equivalent to the <code>-F</code> command-line option.</li><li>
<a id="pgfId-1030422"></a><em>Files on xrun command line</em> &#8212; Specify the files to be added to the xrun command.</li><li>
<a id="pgfId-1030423"></a><em>Include paths (-incdir)</em> &#8212; Specify the directory in which the include files are to be searched. This field is equivalent to the <code>-incdir</code> command-line option.</li></ul></li></ul>

















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1043499"></a>You can manually reorder the specified files with the up and down arrows.</div>
<ul><li>
<a id="pgfId-1030445"></a>In the TIMESCALE OPTIONS section, specify the following:<ul><li>
<a id="pgfId-1030446"></a><em>Global sim time</em> &#8212; Specify the global simulation time.</li><li>
<a id="pgfId-1030447"></a><em>Units for global sim time</em> &#8212; Specify the unit to be used for global simulation time.</li><li>
<a id="pgfId-1030448"></a><em>Global sim precision</em> &#8212; Specify the global simulation precision.</li><li>
<a id="pgfId-1030449"></a><em>Units for global sim precision</em> &#8212; Specify the unit to be used for global simulation precision.</li></ul></li><li>
<a id="pgfId-1034052"></a>In the DISCIPLINE OPTIONS section, specify the following:<ul><li>
<a id="pgfId-1030450"></a><em>Default discipline</em> &#8212; Specify the default discipline.</li><li>
<a id="pgfId-1030451"></a><em>Use detailed discipline resolution</em> &#8212; Specify whether or not you want to use the detailed discipline resolution algorithm. </li></ul></li></ul>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025846"></a>For the <em>AMS Unified Netlister with xrun </em>mode, the LIBRARY COMPILATION OPTIONS section is displayed in the <em>Main</em> tab.</div>
<ul><li>
<a id="pgfId-1025847"></a>In the <em>LIBRARY COMPILATION OPTIONS,</em> specify the following options:<ul><li>
<a id="pgfId-1025848"></a><em>Pre-compiled libraries (-reflib) Settings: </em>Specifies the library directory containing precompiled source files that can be referenced during simulation. When you click <em>Pre-compiled libraries (-reflib) Settings</em> the <em>Pre-compiled libraries (-reflib) </em>form appears where you can add the path to the library directory and specify the logical library name. While specifying reference libraries, you can also use wildcard characters, such as an asterisk (<code>*</code>) or a question mark (<code>?</code>), to select multiple libraries with similar names.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025849"></a>Ensure that the precompiled libraries that you are using are compatible with the bit version of Virtuoso. A 32-bit Virtuoso release requires 32-bit xrun precompiled libraries, whereas a 64-bit Virtuoso release requires 64-bit xrun precompiled libraries. </div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025965"></a>Using <code>-reflib</code> settings assume that the text libraries were precompiled external to Virtuoso using the <code>xrun -makelib</code> command.</div>
<a id="pgfId-1025966"></a><div class="webflare-div-image">
<img width="649" height="376" src="images/chap15-15.gif" /></div>
<a id="pgfId-1025967"></a>Select the <em>enable -mixesc</em> check box to make AMS UNL add the xmelab -<code>mixesc</code> option for VHDL text precompiled as mixed-case entity and architecture naming conventions and properly escaped to indicate the special mixed-case syntax. It is important to properly &quot;escape&quot;(\) entity and architecture design unit names within VHDL source code so as to allow proper name mapping in the Virtuoso environment.</li><li>
<a id="pgfId-1025931"></a><em>Run-time library compiling (-makelib) Settings: </em>Precompiles design units in the specified files into a reference library. When you click <em>Run-time library compiling (-makelib) Settings</em>, the <em>Runtime Library Compilation Settings (-makelib)</em> form appears, where you can specify the filename(s) containing the design units and the reference library name. While specifying the makelib source files, you can also use wildcard characters, such as an asterisk (<code>*</code>) or a question mark (<code>?</code>), to select multiple source files with similar names for a single library. Use the makelib options to add library and file specific options needed to compile the design units. If multiple source files have the same library path and makelib options specified in the form, they are added to a single <code>xrun &#8211;makelib</code> command.<br />
<a id="pgfId-1025932"></a><div class="webflare-div-image">
<img width="648" height="375" src="images/chap15-16.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030491"></a>Ensure that the makelib options are correctly specified for each makelib source file in the <em>Runtime Library Compilation Settings (-makelib)</em> form. </div>
<a id="pgfId-1030492"></a>Select the <em>enable -smartorder</em> check box to invoke a smart compile order algorithm for order-dependent file compilations.</li></ul></li></ul>

















<p>
<a id="pgfId-1035885"></a>In the <em>OTHER OPTIONS</em> section<em>,</em> specify the following:</p>
<ul><li>
<a id="pgfId-1035886"></a><em>Enable line debug to use with SimVision</em> &#8212; Select this check box to add the <code>-linedebug</code> option to the <code>xrun</code> command, which enables the support for setting breakpoints at various lines of the code when the <em>Interactive</em> simulation mode is selected in the Netlist and Run option form.</li><li>
<a id="pgfId-1035887"></a><em>Enable ViVA plotting for pure digital logic simulation </em>&#8212; Select this check box to add the -<code>ade</code> option to the <code>xrun</code> command, which enables support for plotting pure digital simulation results with Virtuoso Visualization and Analysis XL. It is enabled as a default setting.</li><li>
<a id="pgfId-1035888"></a><em>Additional Arguments</em> &#8212; Displays the Additional Arguments form that lets you add additional control statements that cannot be specified in the AMS Options form. Arguments entered here appear in the same way as in the generated <code>xrunArgs</code>.<ul><li>
<a id="pgfId-1030496"></a>If the shell environment variable <code>DO_NOT_MIGRATE_ADDARG</code> is set as <code>YES</code>, then the string value in <em>Additional Argument</em> (before IC6.1.7 ISR17 releases) will no longer be migrated to the <em>Additional Arguments </em>form. </li></ul></li></ul>



<p>
<a id="pgfId-1027067"></a><a id="netlister"></a>Netlister Tab:</p>

<p>
<a id="pgfId-1027311"></a></p>
<div class="webflare-div-image">
<img width="538" height="639" src="images/chap15-17.gif" /></div>

<p>
<a id="pgfId-1030510"></a>In the <em>Netlister</em> tab, you can specify DEFAULT GLOBAL SIGNALS DECLARATION and NETLISTER OPTIONS. The following options are available in this tab:</p>
<ul><li>
<a id="pgfId-1030512"></a><em>Default Global Signals Declarations</em> &#8212; Enter a space-separated list of names of global signals in the fields according to how you want to declare them:<ul><li>
<a id="pgfId-1030513"></a>In the <em>supply0</em> field, type names of global signals that you want to declare as type <code>supply0</code>.</li><li>
<a id="pgfId-1030514"></a>In the <em>supply1</em> field, type names of global signals that you want to declare as type <code>supply1</code>.</li><li>
<a id="pgfId-1030515"></a>In the <em>ground</em> field, type names of global signals that you want to declare as type <code>ground</code>.</li></ul></li><li>
<a id="pgfId-1035911"></a><em>Port connection by</em> &#8212;<strong> </strong>Select the type of port connection.<ul><li>
<a id="pgfId-1035912"></a><em>name &#8212; </em>Select this if you want an explicit connection. Using this option, the terminal names are printed on the primitive or subcircuit terminals and the net name on the corresponding instance terminal in <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>termName</em></span><code>&gt;=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>netName</em></span><code>&gt;</code> format.</li><li>
<a id="pgfId-1035913"></a><em>order &#8212; </em>Select this if you want an implicit connection. Using this option, the nets connected to instance terminals appear separated by white spaces and in the same order in which master subcircuit or primitive terminals are printed.</li></ul></li><li>
<a id="pgfId-1035914"></a><em>Port Drilling &#8212; </em>This<em> </em>feature is enabled to generate a hierarchical transistor-level netlist of the design in which inherited connections are converted into explicit power ports throughout the hierarchy. In the scenarios like AMS LP Simulations and current-probing of sub-blocks, and so on, it is beneficial to have explicit power routing through the hierarchy, instead of routing it through inherited connections.<br />
<a id="pgfId-1035915"></a>It has two options: <code>all</code> and <code>except top</code>.</li></ul>








<p>
<a id="pgfId-1035916"></a>The following scenarios apply to its flow:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1035917"></a>Cellview containing inherited connections are inside the schematic switch-master</li></ul></li></ul><ul><li class="skip" style="list-style-type:none"><br />
<a id="pgfId-1035920"></a>When you select <code>all </code>and generate a netlist, then the inherited connections coming from the top hierarchy will be created as explicit ports on the <code>verilogams</code> module of the top cell. When you select <code>except top</code>, then no explicit port will be drilled on the top cell.</li><ul><li>
<a id="pgfId-1035921"></a>The top cell is a digital cellview</li></ul><li class="skip" style="list-style-type:none"><br />
<a id="pgfId-1035922"></a>Explicit ports are not drilled on the digital cellviews.</li><ul><li>
<a id="pgfId-1035923"></a>The middle cell is text a cellview.</li></ul><li class="skip" style="list-style-type:none"><br />
<a id="pgfId-1035924"></a>Explicit ports are not drilled on the text cellviews.</li><li class="skip" style="list-style-type:none"><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035925"></a>If there are some inherited connections inside a schematic that is below a text cellview in the hierarchy cone, then you should set its net set property on its instance. Virtuoso considers such scenarios as unsupported configuration.</div></li><li>
<a id="pgfId-1044550"></a><em>Netlist using Spectre&#8212;</em> Specifies whether Spectre can be used to netlist the selected type of cellviews - <em>Pure Analog Cellviews </em>or <em>Extracted View</em>s in a design, even though the AMS simulator has been set for simulation. Select the either of the following cellview for Analog Only Netlisting.</li><ul><li>
<a id="pgfId-1044551"></a><em>Pure Analog Cellviews</em></li><li>
<a id="pgfId-1044546"></a><em>Extracted Views</em></li></ul><li>
<a id="pgfId-1088985"></a><em>Generate iprobe in</em>&#8212; Specifies where the iprobe statements must be generated. </li><ul><li>
<a id="pgfId-1089464"></a><em>Spectre</em>: Generates the iprobe statements in the directory <code>netlist/analog/ihnl/cds0/iprobeLine.scs</code> and the iprobe binding information in the directory <code>netlist/analog/iprobeAmsd.scs</code>. The binding file is then included in the <code>spiceModels.scs</code> file.<br />
<a id="pgfId-1089675"></a>This is the default selection.<br />
<a id="pgfId-1089466"></a>The following examples demonstrate how the iprobe statements are generated:<ul><li>
<a id="pgfId-1089592"></a>In the <code>netlist/analog/iprobeAmsd.scs</code> directory</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1089597">
<a id="pgfId-1089597"></a> amsd {
 config scope=&quot;pl_lib.tb_cell3:schematic&quot; model=&quot;analog/ihnl/cds0/ iprobeLines.scs&quot;}</pre><ul><li>
<a id="pgfId-1089611"></a>In <code>spiceModels.scs</code> file</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1089616">
<a id="pgfId-1089616"></a> simulator lang=spectre
 include &quot;analog/iprobeAmsd.scs&quot;
 include &quot;models/spectre/gpdk045.scs&quot; section=mc amsd_subckt_bind=yes
 netlist/analog/ihnl/cds2/iprobeLines.scs</pre></li><li>
<a id="pgfId-1089109"></a><em>netlist.vams</em>: Generates the iprobe statements in the <code>netlist.vams</code> file. </li><li>
<a id="pgfId-1089124"></a><em>netlist.vams with OOMR</em>: Generates the iprobe statements in the <code>netlist.vams</code> file and sets the shell variable <code>ASSEMBLER_SUPPORT_OOMR</code> to <code>YES</code>.</li></ul><li>
<a id="pgfId-1051931"></a><em>Use</em> <em>symbols</em> <em>for</em> <em>blackboxes</em> <em>bound</em> <em>to</em> <em>external</em> <em>HDL&#8212;</em>Select this check box to allow the netlist to use a symbol view to generate an instance line for a blackbox in an extracted view. This blackbox must have the external HDL properties set in the <em>HED</em> (<em>Hierarchy</em> <em>Editor</em>). </li><li class="skip" style="list-style-type:none"><br />
<a id="pgfId-1052533"></a>Related environment variable: <a actuate="user" class="URL" href="../anasimhelp/appA.html#netlistBlackboxWithExtHdl" show="replace" xml:link="simple">netlistBlackboxWithExtHdl</a></li><li>
<a id="pgfId-1043032"></a><em>Run CDF netlister procedure for schematic instance &#8212; </em>Select this check box to enable the Unified Netlister to run a netlister procedure on a schematic. For this ensure that a netlister procedure is specified in spectre simInfo in the CDF parameters of the selected cell.</li><li>
<a id="pgfId-1036253"></a><em>Create Spectre subcircuit for extracted view &#8212; </em>Select this check box to enable Unified Netlister to generate the Spectre subckt definition for the extracted view into the <code>pureAnalog.scs</code> file passed to the simulator with the <code>netlist.vams</code> file.</li><li class="skip" style="list-style-type:none"><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036254"></a>This feature is available only for analog netlisting on the extracted view.</div></li><li class="skip" style="list-style-type:none">
<a id="pgfId-1036255"></a>The following scenarios apply to this flow:</li><ul><li>
<a id="pgfId-1036256"></a>If the extracted view is a pure analog cell, the Spectre subckt definitions are printed in the <code>pureAnalog.scs</code> file.</li><li>
<a id="pgfId-1036257"></a>If the extracted view contains an instance bound to a pure analog hierarchical view, the Spectre subckt definitions for all the hierarchical cells in the partial hierarchy are printed in the <code>pureAnalog.scs</code> file.</li><li>
<a id="pgfId-1036237"></a>If the extracted view contains an instance bound to a digital view, the netlister prints an error message and does not create the netlist.</li></ul><li>
<a id="pgfId-1041371"></a><em>Ignore netType property on schematic nets &#8212; </em>Select this check box to stop printing the <code>netType</code> property from the design schematic to the <code>netlist.vams </code>file.</li><li>
<a id="pgfId-1030519"></a><em>Enable package importing in AMS unified Netlister </em>&#8212; Select this check box to enable the auto-package handling feature. It allows Unified Netlister to automatically search and find the <code>systemverilog</code>/<code>vhdl</code>/<code>vhdlams</code> package files on which the <code>systemverilog</code>/<code>vhdl</code>/<code>vhdlams</code> modules in the design depend.</li><li>
<a id="pgfId-1030520"></a><em>Check Terminal Number Mismatch</em> &#8212; Specify the type of message to be generated when the number of terminals on the module or cellview and the number of terminals on the instance do not match. It can be set to the following:</li><ul><li>
<a id="pgfId-1030521"></a><em>ignore </em>&#8212; If selected, all error messages and warnings are ignored. This is selected by default. </li><li>
<a id="pgfId-1030522"></a><em>warning </em>&#8212; If selected, generates a warning message. The netlister does not stop netlisting if a warning message is generated.</li><li>
<a id="pgfId-1030523"></a><em>error </em>&#8212; If selected, generates an error message. The netlister stops netlisting when an error message is generated.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030524"></a>For instances with a master text cellview, UNL netlists only those terminals that are needed according to the master cellview. And the type of the message to be generated is determined by the value of the <code>simCheckTermMismatchAction</code> variable specified in the<code> </code>.<code>simrc</code>.</div></li></ul><li>
<a id="pgfId-1030525"></a><em>Check Terminal Direction Mismatch </em>&#8212; Specify the type of message to be generated when the direction of cellview ports and the connection on the instance do not match. It can be set to the following:</li><ul><li>
<a id="pgfId-1030526"></a><em>ignore</em>&#8212;If selected, all error messages and warnings are ignored. This is selected by default.</li><li>
<a id="pgfId-1030527"></a><em>warning</em>&#8212;If selected, generates a warning message. The netlister does not stop netlisting if a warning message is generated.</li><li>
<a id="pgfId-1030528"></a><em>error</em>&#8212;If selected, generates an error message. The netlister stops netlisting when an error message is generated.</li></ul><li>
<a id="pgfId-1030529"></a><em>Design Vars to be netlisted as integer</em><strong> </strong>&#8212; Specify the list of design variables that should be processed as integers.</li><li>
<a id="pgfId-1030530"></a><em>Include files </em>&#8212; This field allows you to include the contents of the specified files that are required for the design to simulate. Click the ellipses button to select the files.</li><li>
<a id="pgfId-1030531"></a><em>Maximum number of warnings</em> &#8212; Set the maximum number of warnings issued by the netlister before it stops processing the design.</li><li class="skip" style="list-style-type:none"><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030532"></a>You can also specify the maximum number of warnings using the <em><a actuate="user" class="URL" href="../anasimhelp/appA.html#netlistMaxWarn" show="replace" xml:link="simple">netlistMaxWarn</a></em> environment variable.</div></li><li>
<a id="pgfId-1030534"></a><em>Suppress specific netlister info/warnings</em> &#8212; Specify a space-separated list of message IDs, such as <code>AMS-2000 AMS-2171 AMS-2174</code>, that you want to suppress while processing the design.</li><li class="skip" style="list-style-type:none"><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030535"></a>You can also suppress the information or warning messages by using the <em><a actuate="user" class="URL" href="../anasimhelp/appA.html#netlistNoWarn" show="replace" xml:link="simple">netlistNoWarn</a></em> environment variable.</div></li><li>
<a id="pgfId-1030537"></a><em>Upgrade specific netlister messages to WARNING</em><strong> </strong>&#8212; Specify a space-separated list of information message IDs, such as <code>AMS-1244 AMS-1246</code>, that you want to be treated as warning messages while processing the design.</li><li class="skip" style="list-style-type:none"><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030538"></a>You can also upgrade the information messages to warning messages by using the <em><a actuate="user" class="URL" href="../anasimhelp/appA.html#upgradeMsgSevWarn" show="replace" xml:link="simple">upgradeMsgSevWarn</a></em> environment variable.</div></li><li>
<a id="pgfId-1030540"></a><em>Upgrade specific netlister messages to ERROR</em><strong> </strong>&#8212; Specify a space-separated list of information and warning message id, such as <code>AMS-2171 AMS-2174</code>, that you want to be treated as error messages during the processing of the design.</li><li class="skip" style="list-style-type:none"><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030541"></a>You can also upgrade the warning messages to error messages by using the <em><a actuate="user" class="URL" href="../anasimhelp/appA.html#upgradeMsgSevError" show="replace" xml:link="simple">upgradeMsgSevError</a></em> environment variable.</div></li><li>
<a id="pgfId-1030543"></a><em>Netlist using spectre CDF simInfo </em>&#8212; Specify view names that will be treated as analog cells during netlisting. The specified view names are netlisted using the cell&#8217;s spectre CDF simInfo and are processed as analog stopping view or analog leaf-level primitive.</li><li>
<a id="pgfId-1030544"></a><em>Header text</em><strong> </strong>&#8212; This field allows you to specify header text that you want the AMS netlister to insert in every Verilog-AMS. </li><ul><li>
<a id="pgfId-1030545"></a><em>file &#8212; </em>Select this option to include header text from a particular file.</li><li>
<a id="pgfId-1030546"></a><em>script &#8212; </em>Select this option to include header text that results from a script file.</li></ul><li>
<a id="pgfId-1030549"></a><em>Global Signals</em> &#8212; This button brings up the Global Signals form, which is described in the next topic.</li></ul>































































<h3>
<a id="pgfId-1021031"></a><a id="76095"></a>Working with Global Signals in AMS</h3>

<p>
<a id="pgfId-1021033"></a>A g<a id="globalsignals"></a>lobal signal is a signal that is connected by name across all levels of a design hierarchy without using pins. Global signals can come from schematic data or from text modules. AMS is aware of only global signals that come from schematic data. You can use the Global Signals form to declare a signal that is used as an out-of-module signal reference.</p>
<p>
<a id="pgfId-1021034"></a>To add a global signal,</p>
<ol><li>
<a id="pgfId-1021035"></a>In the AMS Options form, on the Netlister tab, click the <em>Glo</em><em>bal Signals</em> button.<br />
<a id="pgfId-1021037"></a>The Global <a id="globalSignals"></a>Signals form appears. If the design has not been netlisted after recent changes, you are prompted to netlist the design so that the Global Signals form can display the latest data. <br /><ffi2-fig-frame-in-2 id="#id1021041">
<a id="pgfId-1021041"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/amsunl/formGlobalSignals.gif" /></div></li><li>
<a id="pgfId-1021042"></a>Global signals are displayed in a tabular format. It includes the following information. <ul><li>
<a id="pgfId-1021043"></a>The first column indicates the alias of aliased signals. They represent:<ul><li>
<a id="pgfId-1021044"></a>The beginning of the aliased set: <code>/--</code></li><li>
<a id="pgfId-1021045"></a>The aliased signals in between: <code>|--</code></li><li>
<a id="pgfId-1021046"></a>The end of the aliased set: <code>\--</code></li></ul></li><li>
<a id="pgfId-1021047"></a>The <em>Origin</em> column is either blank if the signal was added using the Global Signals form, or it has the value <code>D</code> to indicate that a signal has been extracted from the design. </li><li>
<a id="pgfId-1021048"></a>The <em>Signal</em> column shows the name of the signal.</li><li>
<a id="pgfId-1021049"></a>The <em>Namespace</em> column displays the namespace in which the signal was created.</li><li>
<a id="pgfId-1021050"></a>The <em>Wire Type</em> column shows the wire type of the signal.</li><li>
<a id="pgfId-1021051"></a>The <em>Discipline</em> column shows the discipline of the signal. </li><li>
<a id="pgfId-1021052"></a>The <em>Ground</em> column indicates if the global signal is used as a ground reference.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021053"></a>Netlisting extracts the signals in the design and merges them with the signals created using the Global Signals form. If you open the form without netlisting, it would be empty.</div></li></ul></li><li>
<a id="pgfId-1021054"></a>The input fields below the report get populated by signal details when you select any signal. To change these values, you can either type over them or select values from the cyclic lists and then click the <em>Change</em> button.</li><li>
<a id="pgfId-1021055"></a>To add new global signals, <ol><li>
<a id="pgfId-1021056"></a>Type a unique name for the signal in the <em>Signal</em> field. You can specify a range such as <code>&lt;5:8&gt;</code> by post-fixing it to the name.</li><li>
<a id="pgfId-1021057"></a>Select the namespace as <em>CDBA</em>, <em>Spectre</em>, <em>Spice</em> or <em>Verilog-AMS</em> from the <em>Namespace</em> cyclic list. </li><li>
<a id="pgfId-1021058"></a>Select one of these from the <em>Wire Type</em> cyclic list: <em>wire, supply0, supply1, tri, tri0, tri1, triand, trior, trireg, wand, wor, </em>or <em>wreal.</em><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021059"></a>If the signal name you specify is included in the <em>supply0</em> or <em>supply1</em> field of the Netlister Options form, the default value for wire type would be changed to <em>supply0</em> and <em>supply1</em> accordingly. </div></li><li>
<a id="pgfId-1021060"></a>Type a discipline name for the signal in the <em>Discipline</em> field. </li><li>
<a id="pgfId-1021061"></a>If you want to use the global signal as a ground reference, select the <em>Ground</em> option. You can select this option only for signals that have the wire type <em>wire</em> or <em>tri</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021062"></a>If the signal name you specify is included in the <em>ground</em> field of the Netlister Options form, this field appears selected by default. </div></li><li>
<a id="pgfId-1021063"></a>Click the <em>Add</em> button. <br />
<a id="pgfId-1021064"></a>The new global signal appears in the list of global signals.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021065"></a>You can create a new global signal from an existing one by selecting one, modifying its values and clicking <em>Add</em>.</div></li></ol></li><li>
<a id="pgfId-1021066"></a>To delete one or more signals, select them and click the <em>Delete</em> button.<br />
<a id="pgfId-1021067"></a>You cannot delete a global signal that is extracted from the design. If you select such a signal, the Namespace and Name fields appear non-editable. If you change any of the other values, the <em>Database Values</em> button is enabled, using which you can set the fields back to their original values from the database. </li><li>
<a id="pgfId-1021068"></a>You can alias global signals into groups. Aliased signals in a group are electrically equivalent, as if they are joined by a wire. To alias global signals, select the signals to be aliased and click the <em>Alias</em> button.<br />
<a id="pgfId-1021069"></a>To select signals listed consecutively, hold down the <code>Shift</code> key while you click the signal names to be aliased. To select signals that are not listed sequentially, hold down the <code>Ctrl</code> key while you click the signal names.<br />
<a id="pgfId-1021070"></a>When you alias signals, they redisplay consecutively in the global signal list, joined by a vertical connecting bar. If you alias signals belonging to separate aliased signal groups, all of the signals in the groups are aliased.</li><li>
<a id="pgfId-1021071"></a>To unalias signals, select the signals to be unaliased from the group, and click the <em>Unalias</em> button. If an alias set has only two signals, and you unalias one, the other also gets automatically unaliased.</li><li>
<a id="pgfId-1021072"></a>When you have finished editing the list of global signals, click <em>OK</em>.</li></ol>






































<p>
<a id="pgfId-1021073"></a>You need to regenerate the netlist so that the changes made in this form reflect in the netlist and cds_globals module is regenerated. If you try to create or re-create the netlist without applying the changes in the Global Signals form, your changes get overwritten by the netlist. This is the reason a prompt appears as follows: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1021074"></a>While netlisting, the globals would again be extracted from the design and the globals form would be updated. Unsaved changes, if any on the globals form would be lost. Proceed with netlisting? </pre>

<p>
<a id="pgfId-1021075"></a>Netlisting includes the following actions:</p>
<ol><li>
<a id="pgfId-1021076"></a>It extracts information about all the global signals and design variables from the design.</li><li>
<a id="pgfId-1021077"></a>Information about variables is merged with the design and written as it is to the <code>verilog.vams</code> file. </li><li>
<a id="pgfId-1021078"></a>The global signals information is updated with any new extracted global signals that you modified in the current session. </li><li>
<a id="pgfId-1021079"></a>If an extracted global signals exists in the global signals information and its origin is marked as D, and it has not been modified in the design, it is not copied.</li><li>
<a id="pgfId-1021080"></a>If an extracted global signals exists in the global signals information and its origin is marked as D, and you modified it using the Global Signals form in the current session, the values are copied over and a message appears saying so.</li><li>
<a id="pgfId-1021081"></a>If it exists in the global signals information for the session and the Origin is not marked as &#8216;D&#8217;, a prompt appears as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1021082">
<a id="pgfId-1021082"></a>A global with the name &#8216;%s&#8217; already exists in the session and is now also found in the design. Using the one that exists in the session.</pre></li></ol>






<p>
<a id="pgfId-1021083"></a>The Global Signals form appears updated the next time it is opened.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1027285"></a><a id="vms_EnvironmentOption"></a>The <em>Mixed Signal Netlisting Options</em> are available in the <em>Netlister</em> tab of the <em>AMS Options</em> form for AMS simulator only when the <em>AMS Unified Netlister with xrun</em> option is selected from the <em>Netlist and Run Options</em> form.</div>
<p>
<a id="pgfId-1027286"></a></p>

<div class="webflare-div-image">
<img src="images/amsunl/mixedSignalNetlistingOptions.gif" /></div>

<p>
<a id="pgfId-1027287"></a>These options enable the Embedded Module Hierarchy (EMH) CDL netlister to generate the digital and analog CDL netlists, simultaneously.</p>
<p>
<a id="pgfId-1027195"></a>The <em>Use maskLayout views for binding digital instances</em> field allows you to enable the EMH netlisting.</p>
<p>
<a id="pgfId-1027196"></a>The <em>Digital Netlist File Name</em> field allows you to specify the name of the output file.</p>
<p>
<a id="pgfId-1027197"></a>The <em>Print power/ground connectivity</em> field allows you to print the power or ground connectivity across the digital module hierarchy. This does not impact the top-level netlist.</p>
<p>
<a id="pgfId-1027198"></a>The <em>List of digital instance in schematic hierarchy</em> field allows you to specify the list of digital instances in the design.</p>
<p>
<a id="pgfId-1027199"></a>This field is automatically populated if the top-level design contains instances with the <code>lxEMHStart</code> property. You will need to update the mapped name to ensure the mapping is correct. For example, <code>(&#8220;L/C/Sch&#8221; &#8220;I0&#8221; &#8220;L/C/Lay&#8221;)</code> should be replaced with <code>(&#8220;L/C/Sch&#8221; &#8220;I0&#8221; &#8220;L/C/Lay&#8221; &#8220;|I0&#8221;)</code>.</p>
<p>
<a id="pgfId-1027200"></a>If the top-level design does not contain any instance having the <code>lxEMHStart</code> Boolean property, the <em>List of digital instances in schematic hierarchy</em> text box is automatically populated without the instance names. For example, if <code>(&#8220;DemoLib/top/schematic&#8221; &#8220;&#8221; &#8220;DemoLib/top/layout&#8221;)</code>, you need to update the instance names in this text box.</p>
<p>
<a id="pgfId-1027201"></a>It is recommeded that before generating a netlist, you review the list to verify that it contains only valid SKILL forms and update accordingly. You can choose to generate the netlist in any one of the following way:</p>
<ul><li>
<a id="pgfId-1027202"></a>Generate the netlist for the entire EMH contained in the specified layout view.</li><li>
<a id="pgfId-1027203"></a>Generate the netlist for the module hierarchy corresponding to the digital instances listed in this text box.</li></ul>

<p>
<a id="pgfId-1027204"></a>Sample inputs:</p>
<ul><li>
<a id="pgfId-1027205"></a><code>I0</code> and <code>I1</code> are two digital instances in the schematic hierarchy</li></ul>
<p>
<a id="pgfId-1027206"></a><code>((&quot;DemoLib/top/schematic&quot; &quot;I1&quot; &quot;DemoLib/block/layout&quot;) (&quot;DemoLib/mid/schematic&quot; &quot;I0&quot; &quot;DemoLib/top/layout&quot;))</code></p>
<ul><li>
<a id="pgfId-1027207"></a><code>I0</code> is a digital instance in schematic, but has a mapped name <code>I0</code> in the target layout cellview. This means that <code>I0</code> is bound to the master module of the instance <code>I0</code> in the layout module hierarchy.</li></ul>
<p>
<a id="pgfId-1027208"></a><code>((&quot;DemoLib/top/schematic&quot; &quot;I0&quot; &quot;DemoLib/block/layout&quot;&#160;&#160;&#8220;|I0&#8221;))</code></p>
<ul><li>
<a id="pgfId-1027209"></a><code>I0</code> is a digital instance in top-level schematic, and is bound to the top-level module in the layout-embedded module hierarchy.</li></ul>
<p>
<a id="pgfId-1027210"></a><code>((&quot;DemoLib/block/schematic&quot; &quot;I0&quot; &quot;DemoLib/block/layout&quot;&#160;&#160;t))</code></p>
<p>
<a id="pgfId-1027211"></a>The <em>Print physical only instances in digital hierarchy</em> field allows you to print the physical only instances in digital module hierarchy.</p>
<p>
<a id="pgfId-1027212"></a>The <em>Print definition of leaf cells in digital hierarchy</em> field prints the empty standard cells in the digital netlist.</p>
<p>
<a id="pgfId-1027213"></a>The digital module hierarchy in the layout contains instances of standard cells. By default, these instances are considered as stopping instances, and the mixed-signal netlister does not print the subcircuit definition for standard cells. If you have the standard cell definitions available from the foundry, you can directly include these definitions during LVS or SVS.</p>
<p>
<a id="pgfId-1027214"></a>However, if the <em>Print definition of leaf cells in digital hierarchy</em> option is selected, the mixed-signal netlister prints the empty standard cell definitions in the digital netlist.</p>
<p>
<a id="pgfId-1027215"></a>The <em>Only include instances of these physical cells</em> field allows you to specify the physical instances that need to be printed in the netlist. If you do not specify a cell name, then all the physical instances are printed in the netlist.</p>
<p>
<a id="pgfId-1027216"></a>You can also use <code>*</code> wildcard as a suffix when specifying cell names, such as <code>FILL*</code>, <code>MFILL*</code>. The physical instances of cells matching the specified pattern are printed in the netlist. However, other physical-only instances are ignored.</p>
<p>
<a id="pgfId-1027217"></a>The <em>Netlist macro instances from these libraries</em> field allows you to specify the libraries from the <code>cds.lib</code> file. The instances of analog schematic cells from the specified libraries are considered hierarchial instances and are netlisted hierarchically by the mixed-signal netlister.</p>
<p>
<a id="pgfId-1027187"></a></p>

<h4>
<a id="pgfId-1019685"></a><a id="amsmessagesoptions"></a>Messages Tab</h4>
<p>
<a id="pgfId-1019689"></a></p>
<div class="webflare-div-image">
<img width="624" height="419" src="images/chap15-20.gif" /></div>

<p>
<a id="pgfId-1019690"></a>Using the <em>Messages</em> tab, you can control the messages for xmvlog, xmelab, xmsim and xrun. In this tab, you can specify the following options:</p>

<p>
<a id="pgfId-1019691"></a><em>Maximum number of errors</em>: Number of error messages for xmvlog, xmelab, and xmsim.</p>

<p>
<a id="pgfId-1019692"></a><em>Print informational messages:</em> If selected, displays the message from the tool.</p>
<p>
<a id="pgfId-1019693"></a><em>Display runtime status: </em>If selected, displays the runtime status.</p>
<p>
<a id="pgfId-1019694"></a><em>Suppress all warnings:</em> Suppresses all warnings. If this field is selected, the <em>Suppress all</em> warnings field is disabled.</p>
<p>
<a id="pgfId-1019695"></a><em>Suppress specific warnings:</em> Suppresses warnings with a code.</p>
<p>
<a id="pgfId-1019696"></a><em>Print Messages about resolving instances:</em> This option prints informative messages during execution.</p>
<p>
<a id="pgfId-1019697"></a><em>Suppress e-pulse error messages:</em> This option suppresses pulse control error messages.</p>
<p>
<a id="pgfId-1019698"></a><em>Print extended VHDL assert messages: </em>This option displays VHDL assert messages with additional information specifying the location in code from where the function or procedure is being called.</p>
<p>
<a id="pgfId-1019700"></a>Select the <em>PLI</em><a id="amsplioptions"></a> tab.</p>

<p>
<a id="pgfId-1019704"></a></p>
<div class="webflare-div-image">
<img width="520" height="277" src="images/chap15-21.gif" /></div>

<p>
<a id="pgfId-1020109"></a>In the <em>PLI</em> tab, you can specify the following options:</p>
<p>
<a id="pgfId-1020110"></a><em>Dynamically load VPI libraries:</em> Dynamically loads the specified VPI application.</p>
<p>
<a id="pgfId-1020111"></a><em>Dynamically load PLI libraries: </em>Dynamically loads the specified PLI application.</p>
<p>
<a id="pgfId-1020112"></a><em>Enable delay annotation at simulation time: </em>This option disables the optimization in the simulator that take delays into account. Use this option if you intend to modify delays at simulation time. Using this option sets the default access to simulation objects to read/write when the design is elaborated.</p>
<p>
<a id="pgfId-1020113"></a><em>Suppress VPI/PLI warning and error messages:</em> Disables printing of PLI warning and error messages.</p>
<p>
<a id="pgfId-1020114"></a><em>Suppress VPI/PLI messages caused by optimizations:</em><strong> </strong>Prints a warning message only the first time that a PLI read, write, or connectivity access violation is detected.</p>
<p>
<a id="pgfId-1020115"></a><em>Disable constraint checking in VDA applications: </em>The VDA library is a C interface library that provides a mechanism for interaction between other C interface libraries and the objects, scopes, and data types in the VHDL model. VDA also contains routines for examining and manipulating the values of VHDL objects, as well as for setting up callbacks on signal events and simulation times. See <em>Chapter 6, The VHDL Design Access Library</em>, in the <em>Cadence NC-VHDL Simulator C Interface</em> User Guide for details on VDA functions.</p>

<h4>
<a id="pgfId-1020117"></a><a id="amssdfoptions"></a>SDF Tab</h4>
<p>
<a id="pgfId-1020121"></a></p>
<div class="webflare-div-image">
<img width="613" height="549" src="images/chap15-22.gif" /></div>

<p>
<a id="pgfId-1020122"></a>In the <em>SDF</em> tab, you can specify the following options:</p>
<p>
<a id="pgfId-1020123"></a><em>Use SDF command file:</em> Specifies the command file to be used. </p>
<p>
<a id="pgfId-1020124"></a><em>Delay type:</em> Enables you to select the delay type. By default, it is set to None.</p>
<p>
<a id="pgfId-1020125"></a><em>Suppress SDF warnings: </em>Disables the SDF warnings. </p>
<p>
<a id="pgfId-1020126"></a><em>Allow unique delays for each source-delay path: </em>Enables or disables unique delays for each source-delay path.</p>
<p>
<a id="pgfId-1020127"></a><em>Include detailed information in SDF log file: </em>Allows you to print information in SDF log file. </p>
<p>
<a id="pgfId-1020128"></a><em>Round precision of timing in SDF file:</em> Allows for precision of timing in SDF file. </p>
<p>
<a id="pgfId-1020129"></a>In VERILOG section, you can specify the following options:</p>
<p>
<a id="pgfId-1020130"></a><em>Suppress SDF cmd file info msgs (Verilog):</em> Allows printing of command file information messages.</p>
<p>
<a id="pgfId-1020131"></a><em>Disable celltype validation (Verilog)</em>: Enable or disable celltype validation. </p>
<p>
<a id="pgfId-1020132"></a><em>Allow SDF worst-case rounding (Verilog):</em> Allows for worst-case rounding of SDF.</p>
<p>
<a id="pgfId-1020133"></a><em>Do not run $sdf_annotate tasks automatically (Verilog):</em> Allows you to disable the automatic sdf_annotation tasks. </p>
<p>
<a id="pgfId-1020134"></a>In VHDL section, you can specify the following option:</p>
<p>
<a id="pgfId-1020135"></a><em>Select delay value for VitalInterconnectDelays (VHDL):</em><strong> </strong>Specifies minimum or maximum delay value to be used during VITAL SDF annotation.</p>

<h4>
<a id="pgfId-1021172"></a><a id="amstimingoptions"></a>Timing Tab</h4>
<p>
<a id="pgfId-1021183"></a></p>
<div class="webflare-div-image">
<img width="441" height="784" src="images/chap15-23.gif" /></div>
<p>
<a id="pgfId-1021176"></a></p>
<div class="webflare-div-image">
<img width="417" height="794" src="images/chap15-24.gif" /></div>

<p>
<a id="pgfId-1019742"></a>In the <em>Timing</em> tab, you can specify the timing options for VERILOG and VHDL.</p>

<h4>
<a id="pgfId-1019745"></a><a id="amsmiscoptions"></a>Misce<a id="amsmiscoptions"></a>llaneous Tab</h4>
<p>
<a id="pgfId-1031888"></a></p>
<div class="webflare-div-image">
<img width="648" height="783" src="images/chap15-25.gif" /></div>

<ul><li>
<a id="pgfId-1031893"></a>The<em> View Probe Tcl file</em> button helps you view the probe and xmsim Tcl options, such as setting assertion commands, before running the simulation.<br />
<a id="pgfId-1019749"></a>When you select a Tcl file in the <em>Probe Tcl file</em> field, the following window appears:<br />
<a id="pgfId-1042646"></a><div class="webflare-div-image">
<img width="589" height="353" src="images/chap15-26.gif" /></div></li><li>
<a id="pgfId-1042648"></a>The <em>Enable Maestro Tcl file</em> check box enables editing the custom maestro Tcl file. If you select <code>on</code>, the <em>Edit Maestro Tcl file</em> button is enabled and allows you to open Virtuoso editor to edit <code>maestroDo.TCL</code> file. This file is saved at <code>lib/cell/view</code> directory. If you select <code>off</code>, the <em>Edit Maestro Tcl file</em> button is disabled.</li></ul>






<p>
<a id="pgfId-1019750"></a></p>

<div class="webflare-div-image">
<img width="559" height="491" src="images/chap15-27.gif" /></div>

<p>
<a id="pgfId-1030601"></a>In the <em>Miscellaneous</em> tab, you can specify INCLUDE options used by <em>xmvlog</em>, ACCESS options used by <em>xmelab</em> and PROFILER options used by <em>xmsim</em>. You can also specify few other VHDL options used by <em>xmvhdl</em>.</p>
<p>
<a id="pgfId-1027435"></a>You can select the <em>Linter check</em> option to turn on the AHDL linter feature that enables you to detect modeling issues in analog/mixed-signal Hardware Description Languages (AHDL). The AHDL linter feature comprises of static and dynamic lint checks. Static lint checks are performed before analysis. Dynamic lint checks are performed during analysis for dynamic modeling issues. Choose <em>Simulation &#8211; Linter Log</em> in the simulation window to view the AHDL Linter report.</p>
<p>
<a id="pgfId-1027448"></a>For more information about the AHDL Linter feature, refer to the description of <h-hot>AHDL Linter</h-hot> in the <em>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide</em>.</p>
<p>
<a id="pgfId-1045944"></a>You can select custom AHDL library by specifying the directory path in <em>AHDL Library Directory.</em> If it is left empty, the default <code>-ahdllibdir</code> value is used.</p>

<h3>
<a id="pgfId-1078708"></a>Additional Arguments Form</h3>

<p>
<a id="pgfId-1078784"></a>The Additional Arguments form lets you add additional arguments that cannot be specified in the AMS Options form.</p>
<table class="webflareTable" id="#id1078806">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1078808">
<a id="pgfId-1078808"></a>Field/Column
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1078810">
<a id="pgfId-1078810"></a>Description
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078870"></a><strong><em>Additional Arguments</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078872"></a>This table lets you specify additional arguments that cannot be specified in the AMS Options form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079004"></a><em>Enable</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079006"></a>Enables or disables the specified argument.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079257"></a><em>Argument Type</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079259"></a>Specifies whether the given argument is a Spectre or xrun argument.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079253"></a><em>Additional Argument</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079255"></a>Lets you specify additional arguments that cannot be specified in the AMS Options form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079249"></a><em>Pre-commands for xrun</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079593"></a>Controls the availability of the fields <em>KSH Commands being included </em>and <em>KSH File including commands</em>.</p>

<ul><li>
<a id="pgfId-1079251"></a><code>none</code>: Disables the fields <em>KSH Commands being included </em>and <em>KSH File including commands</em>.<br />
<a id="pgfId-1079685"></a>This is the default.</li><li>
<a id="pgfId-1079603"></a><code>command</code>: Enables the field <em>KSH Commands being included</em>.</li><li>
<a id="pgfId-1079613"></a><code>file</code>: Enables the field <em>KSH File including commands</em>.</li></ul>




</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079245"></a><em>KSH Commands being included</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079247"></a>Specifies the ksh commands to be added to the <code>runsimulation</code> file, before the <code>xrun -f </code>command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079241"></a><em>KSH File including commands</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1079243"></a>Specifies a file containing Ksh commands that are then copied to the <code>runSimulation</code> file, before the <code>xrun -f</code> command.</p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1027002"></a>Setting up E<a id="amsOpts"></a>nvironment Options</h3>

<p>
<a id="pgfId-1027003"></a>To set the environment options for the AMS simulator:</p>

<ul><li>
<a id="pgfId-1026383"></a>Choose <em>Setup &#8211; Environment</em>. <br />
<a id="pgfId-1024404"></a>The Environment Options form appears.<br />
<a id="pgfId-1024414"></a><div class="webflare-div-image">
<img src="images/AMS_EnvOpts.gif" /></div>
<a id="pgfId-1024430"></a>For information about these options, see <a href="chap2.html#46941">Setting up Simulator Environment Options</a>.</li></ul>








<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1020204"></a>
<a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000007MSoOEAW&amp;pageName=ArticleContent&amp;sq=005d0000001T44HAAS_201711610362562" show="replace" xml:link="simple">Configuring IE card information using IE card setup in ADE Explorer</a></div>
<h4><em>
<a id="pgfId-1020206"></a>Setting IE Car<a id="iecard"></a>ds</em></h4>

<p>
<a id="pgfId-1017051"></a>The interface element (IE) card specifies the parameters, optionally, for a particular design unit. If you do not specify a design unit, the elaborator applies the parameter settings to all IEs globally.</p>
<p>
<a id="pgfId-1017052"></a>You can use an IE card to automate the process of creating a custom discipline and connect rule for connecting the custom discipline to the electrical discipline. The software applies the custom discipline to domainless nets in your design. So, if you have digital modules with undeclared port disciplines, you can use an IE card to specify a discrete discipline for domainless nets and the elaborator will insert the appropriate connect module automatically. </p>
<p>
<a id="pgfId-1017053"></a>To set the IE card parameters:</p>
<ol><li>
<a id="pgfId-1017054"></a>In the ADE Explorer window, choose <em>Setup &#8211; Connect Rules/IE Setup.</em><br />
<a id="pgfId-1017056"></a>The <em>Interface Element (IE) Setup </em><a id="connrulform"></a>form appears.<br />
<a id="pgfId-1023761"></a><br /><div class="webflare-div-image">
<img width="682" height="215" src="images/chap15-29.gif" /></div>
<a id="pgfId-1023763"></a>The <em>Interface Element (IE) Setup</em> form enables you to add an interface element and its parameters. Each row in the table contains the following information:<ul><li>
<a id="pgfId-1017072"></a><em>Enable</em>: If selected, adds the IE card information in the <code>amsd</code> control block. You can select the check box in the <em>Enable</em> column to add an IE card.</li><li>
<a id="pgfId-1017073"></a><em>Scope</em>: Specifies the scope for the IE card. By default, <em>global</em> is selected as the scope. However, you can select the following scopes from the drop-down list: <em>lib</em>, <em>cell</em>, <em>celluport</em>, <em>cellport</em>, <em>inst</em>, <em>instport</em>, <em>net</em>.</li><li>
<a id="pgfId-1023847"></a><em>Scope Applied To</em>: Specifies the name of the instance/port/net/library/cellname, based on value selected from the <em>Scope</em> drop-down list, to which the scope is applied. You can either type a value in this field or click the table cell and then click the browse button (<img width="32" height="24" src="images/chap15-30.gif" />
) to select the instance/port/net/library/cellname from the schematic or Library Manager. Alternatively, you can click the schematic button(<img width="41" height="27" src="images/chap15-31.gif" />
) to select a value from the schematic or LibraryManager. This field is editable and can also accept wild cards to specify designated multiple instances/nets/ports. You can specify multiple entries with each entry separated by a semicolon (;) as the delimiter.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017083"></a>All scope types, except <em>global</em>, require a value to be specified in the <em>Scope Applied To</em> field to generate the IE card.</div></li><li>
<a id="pgfId-1034596"></a><em>Supply Type</em>: Specifies the voltage power supply type, based on the value selected from the Supply Type drop-down list, namely, <em>Value</em>, <em>DVS NET</em> and <em>Hier-DVS NET</em>. If you set this field to <em>Value</em>, then the <em>Supply Value/Net</em> field will accept a Supply voltage value. If you set this field to <em>Hier-DVS NET</em> then the <em>Supply Value/ Net</em> field will accept a hierarchical path to a net as a value.</li><li>
<a id="pgfId-1026093"></a><em>Supply Value/Net</em><a id="vsup"></a>: Specifies the voltage power supply value. You can either specify a constant value, a design variable by using the VAR syntax, or type the hierarchical path to a net in this field. Alternatively, you can click the table cell and then click the browse button (<img width="32" height="22" src="images/chap15-32.gif" />
) to select the net from the schematic. A net selected from the schematic automatically becomes a VDD net. Based on the value that you specify on this field, the <em>connrule</em> parameter value in the <em>Extended</em> tab automatically changes to <em>CR_full_fast</em> versus <em>CR_dynsup_full_fast</em> and the respective supply parameter receives the value <code>vsup</code> or <code>vddnet</code> on the respecitive connect rules. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025522"></a>The <em>CR_dynsup_full_fast</em> connect rule is available in INCISIV 15.1 or a later release. Therefore, to access dynamic voltage supply feature, you need to set the appropriate INCISIV release.</div>
<a id="pgfId-1025523"></a>For example, a numeric value or design variable leads to the selection of the <em>CR_full_fast</em> connect rule, whereas a hierarchical net will lead to the selection of the <em>CR_dynsup_full_fast</em> connect rule.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025524"></a>When the <em>CR_dynsup_full_fast</em> connect rule is selected, you must specify a value for the mandatory parameter, <em>vssnet,</em> which is displayed on the <em>Basic</em> tab. </div>
<a id="pgfId-1025525"></a>You must specify a value in the <em>Supply Value/Net </em>field whenever a connect rule associated with selected IE card needs voltage supply. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1026128"></a>When the <code>CR_dynsup_full_fast</code> connect rule is selected, the <em>Supply Value/Net</em> field only accepts a hierarchical path to a net as a value.</div>
<a id="pgfId-1025526"></a>The default connect rule for the IE card is <em>CR_full_fast</em>, which has <code>vsup</code> as the supply parameter with a default value of <code>1.8V</code>. Therefore, by default, <code>1.8V</code> is specified for this field. There are some other connect rules for which <code>vsup</code> is not required. For such connect rules, this field does not contain any value. <br />
<a id="pgfId-1025527"></a>If you have two IE cards that have the same discipline, you must specify the same supply voltage for them. </li><li>
<a id="pgfId-1025458"></a><em>Updated Parameters</em>: Displays the IE card parameters that have been updated.<br />
<a id="pgfId-1017097"></a>You can move an IE card up or down the table by clicking the up (<img width="39" height="27" src="images/chap15-33.gif" />
) and down (<img width="39" height="26" src="images/chap15-34.gif" />
) arrow buttons. You can view the connect rule associated with the selected IE card by clicking (<img width="40" height="26" src="images/chap15-35.gif" />
). You can delete an IE card by clicking the delete (<img width="36" height="26" src="images/chap15-36.gif" />
) button.</li></ul><br />
<a id="pgfId-1017107"></a>You can also select some of the above options by clicking the right mouse button on the selected IE card and selecting the required option from the context menu, as shown below.<br />
<a id="pgfId-1017111"></a><div class="webflare-div-image">
<img width="320" height="95" src="images/chap15-37.gif" /></div>
<a id="pgfId-1017112"></a>You can select the <em>Advanced Setup</em> option to change the IE card parameters for the selected scope. When you select the <em>Advanced Setup</em> check box, the <em>Interface Element (IE) Setup</em> form expands to display the IE card parameters that you can modify for the selected IE card in the IE cards table.<br />
<a id="pgfId-1017116"></a><div class="webflare-div-image">
<img width="622" height="547" src="images/chap15-38.gif" /></div>
<a id="pgfId-1018978"></a>The <em>IE control and parameters</em> section consists of three tabs, <em>Basic</em>, <em>Extended</em>, and <em>EEnet</em> listing the parameters with their default values. You can modify a parameter by changing the value as per your requirements. You can place the mouse pointer over a parameter name to display a tooltip that provides a brief description about the parameter and its default value in the associated connect rule, which can be changed using the <em>Extended</em> tab. <br />
<a id="pgfId-1018983"></a><div class="webflare-div-image">
<img width="691" height="551" src="images/chap15-39.gif" /></div>
<a id="pgfId-1018984"></a>In the <em>Extended</em> tab, you can set the following parameters:<ul><li>
<a id="pgfId-1017123"></a><em>mode</em> - Enables you to insert the interface element as splitted or merged.</li><li>
<a id="pgfId-1075808"></a><em>connrule</em> - Enables you to select a connect rule for the associated IE card in the IE cards table from the drop-down list. The default connect rule is <em>CR_full_fast</em>.<br />
<a id="pgfId-1076714"></a>Select the <em>&lt;Using UCM&gt;</em> option to set up IE cards using the Universal Connect Module (UCM) and to view the options <em>accuracy</em> and <em>supply</em>.</li><li>
<a id="pgfId-1075813"></a><em>discipline</em>: Enables you to select the discrete discipline associated with the automatically chosen connect module from the selected connect rule. Default is an empty discipline which causes xmelab to automatically generate a discipline, however, if you have your own discipline then you can specify it in this field. The drop-down list contains built-in disciplines in addition to any other predefined disciplines that are specified using the <code>.cdsinit disciplinesList</code> variable. For example, <code>envSetVal(&quot;ams.envOpts&quot; &quot;disciplinesList&quot; &#39;string &quot;discipline1 discipline2&quot;)</code> in the <code>.cdsinit</code> file will add <code>discipline1</code> and <code>discipline2</code> along with the built-in disciplines in the <em>discipline</em> drop-down list.<br />
<a id="pgfId-1017126"></a>In addition, you can change other IE parameters such as <code>vto</code>, <code>rz</code>, <code>vdelta</code>, <code>vtoldelta</code> and so on.</li><li>
<a id="pgfId-1027994"></a><em>Enable IE Report</em>: Generates a detailed IE report containing information about IE, port discipline, sensitivity, and so on. This option is also presented under the <em>Miscellaneous</em> tab of the <em>AMS Options</em> form. You can choose <em>Simulation</em> &#8211; <em>Output Log</em> &#8211; <em>IE Report i</em>n the ADE Explorer window to view the IE report.</li><li>
<a id="pgfId-1075825"></a><em>Always Use IE-card Based Setup</em>: Disables the options <em>Interface Element/lE-card Based Setup(OSS/UNL)</em> and <em>Connect Rule/Connect Module Based Setup</em> and displays only the options available for IE-card based setups. </li><li>
<a id="pgfId-1076045"></a>Use UCM as Default: Specifies that by default, any new IE cards must be inserted using the UCM. UCM consolidates and replaces the existing connect modules in <code>connectLib</code> in the Xcelium installation. The IE cards are then created with the default UCM configuration unless the parameter values are specified explicitly. This means that by default, the values for the parameters <code>accuracy</code> and <code>supply</code> are set to <code>moderate</code> and <code>Const/LPS</code> respectively.<br />
<a id="pgfId-1078321"></a>Note the following:<ul><li>
<a id="pgfId-1077066"></a>This check box is selected automatically when the simulation performance mode is set to Spectre FX.</li><li>
<a id="pgfId-1076419"></a>Selecting this check box does not affect the existing IE cards in the table.</li><li>
<a id="pgfId-1078352"></a>Cadence recommends that you enable this feature by using the environment variable <a actuate="user" class="URL" href="../Explorer/appA.html#ieUseUcmAsDefault" show="replace" xml:link="simple">ams.envOpts ieUseUcmAsDefault</a> while setting up a maestro session.</li></ul></li></ul></li></ol>































































<p>
<a id="pgfId-1025256"></a>Click the <em>Default </em>button to change the values of all IE parameters back to their default values.</p>
<p>
<a id="pgfId-1025260"></a>Click the <em>View Connect Rule File</em> button to open the connect rule file. </p>
<p>
<a id="pgfId-1025245"></a>The connect rule file opens in a text editor. Click any hyperlink provided in the connect rules file to view the associated connect module file, as shown below:</p>

<p>
<a id="pgfId-1025288"></a></p>
<div class="webflare-div-image">
<img width="552" height="717" src="images/chap15-40.gif" /></div>

<p>
<a id="pgfId-1025330"></a>The connect module file opens in a text editor.</p>

<h4><em>
<a id="pgfId-1025332"></a><a id="70209"></a>connectRules_newIE.il file</em></h4>

<p>
<a id="pgfId-1025333"></a>The <code>connectRules_newIE.il </code>file contains the built-in connect rules which are displayed in the <em>connrule</em> drop-down list box. </p>
<p>
<a id="pgfId-1074378"></a>ADE Explorer searches for the <code>connectRules_newIE.il</code> file in the following locations:</p>
<ul><li>
<a id="pgfId-1074511"></a>All libraries defined in the <code>cds.lib</code> file</li><li>
<a id="pgfId-1074406"></a>Path specified by the c<code>onnectRulesPath</code> variable in the .cdsenv file.</li></ul>

<p>
<a id="pgfId-1074518"></a>If multiple <code>connectRules_newIE.il</code> files are located, their contents are concatenated and displayed in the Interface Element (IE) Setup form.</p>
<p>
<a id="pgfId-1074435"></a>All Cadence-supplied connect rules or connect modules are stored in the <code>connectRules_newIE.il</code> file located in the <code>/tools/affirma_ams/etc/connect_lib/connectLib</code> directory in your Cadence Incisive Unified Simulator (IUS) installation directory.</p>
<p>
<a id="pgfId-1025334"></a>You can use the <code>genIeConnRulesFile</code> command to invoke automatic compilation of your user-defined connect rules into a custom <code>connectRules_newIE.il</code> file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025335"></a>genIeConnRulesFile [-help] [-destpath &lt;destination path&gt;] -lib &lt;lib1&gt; &lt;file1&gt; <br />[file2 ...] [-lib &lt;lib2&gt; &lt;file3&gt; [file4 ...]] [-rulefile &lt;rulesFile&gt;] [-rule &lt;ruleName1&gt; [ruleName2 ...]]</pre>

<p>
<a id="pgfId-1025336"></a>Here:</p>
<ul><li>
<a id="pgfId-1025337"></a><code>-help</code> displays the help for the <code>genIeConnRulesFile</code> command.</li><li>
<a id="pgfId-1025338"></a><code>-destpath </code>&lt;<span class="webflare-courier-new" style="white-space:pre"><em>destination path</em></span>&gt; specifies the directory in which the <code>connectRules_newIE.il</code> file will be created.</li><li>
<a id="pgfId-1025339"></a><code>-lib</code> &lt;<span class="webflare-courier-new" style="white-space:pre"><em>lib1</em></span>&gt; &lt;<span class="webflare-courier-new" style="white-space:pre"><em>file1</em></span>&gt; [<span class="webflare-courier-new" style="white-space:pre"><em>&lt;file2&gt;</em></span> ...] specifies the libraries in which the connect rule files exist and the connect rule files that need be parsed. All the connect rules in the specified rule files are included in the <code>connectRules_newIE.il</code> file.<br />
<a id="pgfId-1025340"></a>For example, to include all the connect rules in the <code>crules1.vams</code> and <code>crules2.vams</code> rule files that exist in the <code>mylib</code> library, use the following command:<pre class="webflare-pre-block webflare-courier-new" id="#id1025341">
<a id="pgfId-1025341"></a>genIeConnRulesFile -destpath . -lib mylib mylib/crules1.vams mylib/crules2.vams</pre>
<a id="pgfId-1025342"></a>In this example, the <code>connectRules_newIE.il</code> file is created in the current directory.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025343"></a>If you use the <code>-rulefile</code> or <code>-rule</code> option, only the rules specified by the <code>-rulefile</code> or <code>-rule</code> option will be included in the <code>connectRules_newIE.il</code> file. </div></li><li>
<a id="pgfId-1025344"></a><code>-rulefile &lt;rulesFile&gt;</code> specifies the name of a file which contains the list of connect rules that need to be included in the <code>connectRules_newIE.il</code> file. <br />
<a id="pgfId-1025345"></a>For example, to include only the connect rules named <code>cr1</code>, <code>cr2</code>, <code>cr8</code> and <code>cr9</code> in the <code>connectRules_newIE.il</code> file, do the following:<ol><li>
<a id="pgfId-1025346"></a>Create a file named <code>myrules</code> with the following text:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025347">
<a id="pgfId-1025347"></a>cr1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1025348">
<a id="pgfId-1025348"></a>cr2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1025349">
<a id="pgfId-1025349"></a>cr8</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1025350">
<a id="pgfId-1025350"></a>cr9</pre></li><li>
<a id="pgfId-1025351"></a>Use the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025352">
<a id="pgfId-1025352"></a>genIeConnRulesFile -destpath . -lib mylib mylib/crules1.vams mylib/crules2.vams -rulefile mylib/myrules</pre></li></ol>
<a id="pgfId-1025353"></a>In this example, even though the <code>-lib</code> option specifies the <code>crules1.vams</code> and <code>crules2.vams</code> rule files, only the rules listed in the <code>myrules</code> file are included in the <code>connectRules_newIE.il</code> file.</li><li>
<a id="pgfId-1025354"></a><code>-rule &lt;ruleName1&gt; [&lt;ruleName2&gt; ...]</code> specifies the names of the rules in the specified rule files that need to be included in the <code>connectRules_newIE.il</code> file. <br />
<a id="pgfId-1025355"></a>For example, to include only the connect rules <code>cr1</code> and <code>cr2</code> in the <code>crules1.vams</code> rules file and the connect rules <code>cr8</code> and <code>cr9</code> in the <code>crules2.vams</code> rules file, use the following command:<pre class="webflare-pre-block webflare-courier-new" id="#id1025356">
<a id="pgfId-1025356"></a>genIeConnRulesFile -destpath . -lib mylib mylib/crules1.vams mylib/crules2.vams -rule cr1 cr2 cr8 cr9</pre>
<a id="pgfId-1025357"></a>In this example, even though the <code>-lib</code> option specifies the <code>crules1.vams</code> and <code>crules2.vams</code> rule files, only the rules specified using the <code>-rule</code> option are included in the <code>connectRules_newIE.il</code> file.</li></ul>
























<p>
<a id="pgfId-1025358"></a>When importing user-defined connect rules from a connect rule file or a pre-compiled connect library, ADE compiles the connect rule file and generates the <code>connectRules_newIE.il</code> file under the <code>/tmp</code> directory and then it merges the imported connect rules with the existing connect rules in the IE Setup form. The connect rule file from pre-compiled connect library is searched under the selected library, cell, and view.</p>
<p>
<a id="pgfId-1025359"></a><strong>A few points to note</strong>:</p>
<ul><li>
<a id="pgfId-1025360"></a>The parameters specified in the Basic parameters section in the connect rule file, which is the section below the <code>//Basic parameters</code> statement, appear in the <em>Basic</em> tab of the Interface Element (IE) Setup form.</li><li>
<a id="pgfId-1025361"></a>The parameters specified in the Extended parameters section in the connect rule file, which is the section below the <code>//Extended parameters</code> statement, appear in the <em>Extended</em> tab of the Interface Element (IE) Setup form.</li><li>
<a id="pgfId-1025362"></a>The parameters that are not defined in either of the two sections, Basic parameters or Extended parameters, are parsed and merged in the <em>Basic</em> and <em>Extended</em> tab.</li><li>
<a id="pgfId-1025363"></a>The words <code>vsupmin</code>, <code>vsup</code>, <code>tr</code>, <code>rout</code>, <code>vddnet</code>, and <code>vssnet</code> are considered as keywords. If any of these words are present in the file, they are displayed in the <em>Basic</em> tab. All the other parameters are displayed in the <em>Extended</em> tab.</li><li>
<a id="pgfId-1025364"></a>Parameters in both the tabs, <em>Basic</em> and <em>Extended</em>, are arranged in alphabetical order.</li><li>
<a id="pgfId-1025365"></a>Parameter names are not case sensitive. </li><li>
<a id="pgfId-1025366"></a>If a parameter is defined with the same name more can once, then the last specified value of the parameter is used.</li></ul>







<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1025322"></a>
For an overview of IE Card Setup, see the <a actuate="user" class="URL" href="http://support.cadence.com/wps/myportal/cos/!ut/p/a0/HYy9DsIwEIOfhSEraWFjg5SBHVXQpYqSo5yaXEJ-Wnh7ki62P8k2H_iDDyQXnGRCR9IUfmoAb5Bmi3TqUYPrEVYIrD1eYlDFutVX-NS4FVgjckzOjjcxdhBxItYsugiCkkFHSNmP1683LkDYv5M1dd85lS1Quv881Ktlu2oPglxQL5CJ-_m8-wNY9WqH/" show="replace" xml:link="simple">Configuring IE Card Information Using IE Card Setup in ADE Explorer </a>demonstration available on Cadence Online Support.</div>
<h4><em>
<a id="pgfId-1017128"></a>Setting Connect Rules</em></h4>

<p>
<a id="pgfId-1017130"></a>A c<a id="connrules"></a>onnect rule specification is used to insert selected connect modules within a mixed signal scope. A connect module is a module that is automatically inserted to connect the continuous and discrete domains through disciplines (mixed-signal nets) of the design hierarchy, together. For more information, see the <em>Connect Modules </em>section in the &#8220;Mixed-Signal Aspects of Verilog-AMS&#8221;<em> </em>chapter of the <h-hot><a actuate="user" class="URL" href="../verilogamsref/verilogamsrefTOC.html#firstpage" show="replace" xml:link="simple">Cadence Verilog-AMS Language Reference</a></h-hot>.</p>
<p>
<a id="pgfId-1017132"></a>To set connect rules,</p>
<ol><li>
<a id="pgfId-1017133"></a>In the ADE Explorer window, choose <em>Setup &#8211; Connect Rules/IE Setup.</em><br />
<a id="pgfId-1017135"></a>The <em>Interface Element (IE) Setup </em><a id="connrulform"></a>form appears.<br />
<a id="pgfId-1017139"></a><div class="webflare-div-image">
<img width="692" height="521" src="images/chap15-41.gif" /></div></li><li>
<a id="pgfId-1017140"></a>Choose the <em>Connect Rule/Connect Module Based Setup</em> option.<br />
<a id="pgfId-1017141"></a>The form displays a list of connect rules used in the simulation that are passed to the elaborator. For using the default set of connect rules, you can set an environment variable called <code>connectRulesList</code> in .cdsinit. <ul><li>
<a id="pgfId-1017145"></a>The <em>List of Connect Rules Used in Simulation</em> table displays the connect rules that will be used when the run mode is <em>AMS Unified Netlister with xrun</em>. For more information about the <em>AMS Unified Netlister with xrun</em> run mode, see <a href="chap15.html#92568">Setting Up the AMS Netlister Options</a>.<br />
<a id="pgfId-1017149"></a>Each row in the table has the following details:<ul><li>
<a id="pgfId-1017150"></a><em>Type</em>&#8212;Displays the type of the connect rule as <code>Built-in</code>, <code>User-defined</code> or <code>Modified built-in</code>. </li><li>
<a id="pgfId-1017151"></a><em>Rules Name </em>&#8212;Displays the name of the rule, which is the cell name.</li><li>
<a id="pgfId-1017152"></a><em>Details</em>&#8212;Displays the name of the library in which the rule exists and the view name for the rule.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017153"></a>You can use the <code>genConnRulesFile</code> command utility to have your user-defined rules displayed as built-in rules from the <em>Built-in rules </em>group box. For more information about the <code>genConnRulesFile</code> command, see <a href="chap15.html#35440">connectRules.il File</a>.</div></li></ul></li></ul></li></ol>
















<h4><em>
<a id="pgfId-1017157"></a>Adding Connect Rules</em></h4>

<p>
<a id="pgfId-1017158"></a>You can add built-in or user-defined connect rules. To add a built-in connect rule, choose the built-in connect rule from the <em>Rules Name</em> drop-down list and click <em>Add</em>.</p>
<ul><li>
<a id="pgfId-1017160"></a>I<a id="connrulfile"></a>f you want to view the rule, click the <em>View</em> button to open the connect rules file in a text editor.<br /><ffi2-fig-frame-in-2 id="#id1017164">
<a id="pgfId-1017164"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/amsunl/connectRules_txtFile.gif" /></div></li><li>
<a id="pgfId-1017165"></a>If you want to customize the rule, click the <em>Customize</em> button. </li></ul>





<p>
<a id="pgfId-1017168"></a>For more information about customizing built-in rules, see <a href="chap15.html#24786">Customizing Built-in Rules</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017170"></a>When you customize a built-in rule, its type appears as <em>Modified built-in</em> and a number is suffixed to its name. For example, a built-in rule <code>ConnRules_3V_mid</code>, when customized, is renamed to <code>ConnRules_3V_mid1</code>. </div>
<ul><li>
<a id="pgfId-1017171"></a>Click the <em>Add</em> button to add the rule.</li><li>
<a id="pgfId-1017172"></a>To add a user-defined connect rule to be used when the run mode is <em>AMS Unified Netlister with xrun</em>, do the following:<ul><li>
<a id="pgfId-1017176"></a>In the <em>Rules Names</em> field, enter the name of the connect rule to be used by xrun.</li><li>
<a id="pgfId-1017177"></a>In the <em>Connect Rules/Modules Files</em> field, enter the filename and path of the connect rule and connect module files in which the specified rule and used connect module exist. You can use the <em>Browse</em> button to select the file and click <em>Open</em> to add them in the field.<br />
<a id="pgfId-1017178"></a>The connect rule is displayed in the <em>List of Connect Rules Used in Simulation</em> table.<br />
<a id="pgfId-1017179"></a>You can also use environment variables to specify the path to the file. For example, you can specify the path as:<pre class="webflare-pre-block webflare-courier-new" id="#id1017180">
<a id="pgfId-1017180"></a><code>$CONNECT_FILES/myrules.vams</code></pre></li></ul>
<a id="pgfId-1017181"></a>Note the following:<ul><ul><li>
<a id="pgfId-1017182"></a>If you try to enter more than one rule at a time, you will get a pop-up error saying that you can enter only one rule name at a time. </li><li>
<a id="pgfId-1017183"></a>If a rule with the same name exists in more than one connect rule file, the rule that exists in the first connect rule file displayed in the <em>Connect Rules/Modules Files</em> field will be used.</li><li>
<a id="pgfId-1017184"></a>If you do not specify a rule name in the <em>Rules Names</em> field, the first rule in the first connect rule file specified in the <em>Connect Rules/Modules Files</em> field will be used.</li><li>
<a id="pgfId-1017185"></a>The user-defined connect rules specified in the <em>Rules Names</em> field will not be displayed in the <em>List of Connect Rules Used in Simulation</em> table. </li></ul></ul></li><li>
<a id="pgfId-1017186"></a>The built-in connect rules displayed in the <em>List of Connect Rules Used in Simulation</em> table and the connect rules specified in the <em>User-defined rules for xrun</em> group box will be used in the simulation. So you can have a mixture of both built-in and user-defined rules in one simulation.</li></ul>















<h4><em>
<a id="pgfId-1017187"></a>Renaming Connect Rules</em></h4>

<p>
<a id="pgfId-1017189"></a>T<a id="renconn"></a>o rename a rule in the <em>List of Connect Rules Used in Simulation</em> table,</p>
<ol><li>
<a id="pgfId-1017190"></a>Select a rule from the table.</li><li>
<a id="pgfId-1017191"></a>Click the <em>Rename</em> button.<br />
<a id="pgfId-1017192"></a>The Rename Connect Rules pop-up box appears.<br /><ffi2-fig-frame-in-2 id="#id1017196">
<a id="pgfId-1017196"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/amsunl/connectRules_rename.gif" /></div></li><li>
<a id="pgfId-1017197"></a>Specify a unique name for the selected connect rule and click <em>OK</em> or <em>Apply</em>.<br />
<a id="pgfId-1017198"></a>If a rule by the same name exists in the Connect Rules table, an error message appears and the pop-up remains open.<br />
<a id="pgfId-1017199"></a>The list of rules in the Select Connect Rules from also shows the modified connect rule name.</li></ol>










<h4><em>
<a id="pgfId-1017200"></a>Deleting Connect Rules</em></h4>

<p>
<a id="pgfId-1017201"></a>To delete a rule in the <em>List of Connect Rules Used in Simulation</em> table,</p>
<ol><li>
<a id="pgfId-1017202"></a>Select one or more rules in the <em>List of Connect Rules Used in Simulation</em> table.</li><li>
<a id="pgfId-1017203"></a>Click the <em>Delete</em> button.</li></ol>


<h4><em>
<a id="pgfId-1017204"></a>Copying Connect Rules</em></h4>

<p>
<a id="pgfId-1017206"></a>T<a id="copconn"></a>o copy a rule in the <em>List of Connect Rules Used in Simulation</em> table,</p>
<ol><li>
<a id="pgfId-1017207"></a>Select a rule in the <em>List of Connect Rules Used in Simulation</em> table.</li><li>
<a id="pgfId-1017208"></a>Click the <em>Copy</em> button.<br />
<a id="pgfId-1017209"></a>The <em>Copy Connect Rules</em> form appears.<br /><ffi2-fig-frame-in-2 id="#id1017213">
<a id="pgfId-1017213"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/amsunl/connectRules_copy.gif" /></div></li><li>
<a id="pgfId-1017214"></a>Select either <em>Library</em> or <em>File</em> in the <em>Copy to</em> pull-down box to indicate where you want the rule copied to. <br />
<a id="pgfId-1017215"></a>If your choice is <em>Library</em>, the <em>Library</em> and <em>Rules Name</em> fields are enabled and you need to specify the relevant values in them. You may either type in these values or select them using the <em>Browse</em> button. If your choice is <em>File</em>, the <em>File</em> field is enabled and you need to specify a filename for the rule to be copied into. You can specify a filename indicating the path. If you specify a filename without a path, it implies that it is in the current working directory. If you specify a name for a file on which you do not have read permission, you will see an error message saying so.<br />
<a id="pgfId-1017216"></a>The Browse button brings up the library browser if you select <em>Library</em> and the file browser if you select <em>File</em>.</li><li>
<a id="pgfId-1017217"></a>Click <em>OK</em>.<br />
<a id="pgfId-1017218"></a>The new copied rule appears in the connect rules table. This is a convenient way to copy your modified connect rule to a permanent location in your library. The connect rules will be saved in your state files, but you may want to save it to a permanent library as well.</li></ol>












<h4><em>
<a id="pgfId-1017219"></a>Changing the Sequence of Connect Rules</em></h4>

<p>
<a id="pgfId-1017220"></a>To change the sequence of the rules displayed in the <em>List of Connect Rules Used in Simulation</em> table,</p>
<ol><li>
<a id="pgfId-1017221"></a>Select a rule in the <em>List of Connect Rules Used in Simulation</em> table.</li><li>
<a id="pgfId-1017222"></a>Click the <em>Up</em> or <em>Down </em>buttons.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017223"></a>All the selected rules are auto-compiled. They are passed to the elaborator for processing. If two rows have a matching statement, the first of these rows is used. If two rules in a particular row have a matching statement, the last of these statements is used. </div></li><li>
<a id="pgfId-1017224"></a>Click <em>OK</em> to save the settings in the current session. </li></ol>




<h4>
<a id="pgfId-1017230"></a><a id="35440"></a>connectRules.il File</h4>

<p>
<a id="pgfId-1017231"></a>The <code>connectRules.il</code> file contains the built-in connect rules that were specified when running the <code>genConnRulesFile</code> and are displayed in the Select Connect Rules form. </p>
<p>
<a id="pgfId-1017233"></a>ADE Explorer searches for the <code>connectRules.il</code> file in the following locations:</p>
<ul><li>
<a id="pgfId-1017234"></a>All libraries defined in the <code>cds.lib</code> file</li><li>
<a id="pgfId-1017235"></a>Current work directory</li><li>
<a id="pgfId-1017236"></a><code>$HOME</code> directory</li><li>
<a id="pgfId-1017237"></a><code>$CDS/share/cdssetup/ams/</code></li><li>
<a id="pgfId-1017238"></a>Path specified by the <code>connectRulesPath</code> variable in the <code>.cdsenv</code> file</li></ul>




<p>
<a id="pgfId-1074535"></a>If multiple <code>connectRules.il</code> files are located, their contents are concatenated and displayed in the Select Connect Rules form.</p>
<p>
<a id="pgfId-1017239"></a>All Cadence-supplied connect rules/ connect modules are stored in the <code>connectRules.il</code> file located in the <code>/tools/affirma_ams/etc/connect_lib</code>/<code>connectLib</code> directory in your Cadence Incisive Unified Simulator (IUS) installation directory. </p>
<p>
<a id="pgfId-1017240"></a>You can use the <code>genConnRulesFile</code> command to invoke automatic compilation of your user-defined connect rules into a custom <code>connectRules.il</code> file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1017241"></a>genConnRulesFile [-help] [-destpath &lt;destination path&gt;] -lib &lt;lib1&gt; &lt;file1&gt; <br />[file2 ...] [-lib &lt;lib2&gt; &lt;file3&gt; [file4 ...]] [-rulefile &lt;rulesFile&gt;] [-rule &lt;ruleName1&gt; [ruleName2 ...]]</pre>

<p>
<a id="pgfId-1017242"></a>where:</p>
<ul><li>
<a id="pgfId-1017243"></a><code>-help</code> displays the help for the <code>genConnRulesFile</code> command.</li><li>
<a id="pgfId-1017244"></a><code>-destpath </code>&lt;<span class="webflare-courier-new" style="white-space:pre"><em>destination path</em></span>&gt; specifies the directory in which the <code>connectRules.il</code> file will be created.</li><li>
<a id="pgfId-1017245"></a><code>-lib</code> &lt;<span class="webflare-courier-new" style="white-space:pre"><em>lib1</em></span>&gt; &lt;<span class="webflare-courier-new" style="white-space:pre"><em>file1</em></span>&gt; [<span class="webflare-courier-new" style="white-space:pre"><em>&lt;file2&gt;</em></span> ...] specifies the libraries in which the connect rule files exist and the connect rule files that need be parsed. All the connect rules in the specified rule files are included in the <code>connectRules.il</code> file.<br />
<a id="pgfId-1017246"></a>For example, to include all the connect rules in the <code>crules1.vams</code> and <code>crules2.vams</code> rule files that exist in the <code>mylib</code> library, use the following command:<pre class="webflare-pre-block webflare-courier-new" id="#id1017247">
<a id="pgfId-1017247"></a>genConnRulesFile -destpath . -lib mylib mylib/crules1.vams mylib/crules2.vams</pre>
<a id="pgfId-1017248"></a>In this example, the <code>connectRules.il</code> file is created in the current directory.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017249"></a>If you use the <code>-rulefile</code> or <code>-rule</code> option, only the rules specified by the <code>-rulefile</code> or <code>-rule</code> option will be included in the <code>connectRules.il</code> file. </div></li><li>
<a id="pgfId-1017250"></a><code>-rulefile &lt;rulesFile&gt;</code> specifies the name of a file which contains the list of connect rules that need to be included in the <code>connectRules.il</code> file. <br />
<a id="pgfId-1017251"></a>For example, to include only the connect rules named <code>cr1</code>, <code>cr2</code>, <code>cr8</code>, and <code>cr9</code> in the <code>connectRules.il</code> file, do the following:<ol><li>
<a id="pgfId-1017252"></a>Create a file named <code>myrules</code> with the following text:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1017253">
<a id="pgfId-1017253"></a>cr1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1017254">
<a id="pgfId-1017254"></a>cr2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1017255">
<a id="pgfId-1017255"></a>cr8</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1017256">
<a id="pgfId-1017256"></a>cr9</pre></li><li>
<a id="pgfId-1017257"></a>Use the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1017258">
<a id="pgfId-1017258"></a>genConnRulesFile -destpath . -lib mylib mylib/crules1.vams mylib/crules2.vams -rulefile mylib/myrules</pre></li></ol>
<a id="pgfId-1017259"></a>In this example, even though the <code>-lib</code> option specifies the <code>crules1.vams</code> and <code>crules2.vams</code> rule files, only the rules listed in the <code>myrules</code> file are included in the <code>connectRules.il</code> file.</li><li>
<a id="pgfId-1017260"></a><code>-rule &lt;ruleName1&gt; [&lt;ruleName2&gt; ...]</code> specifies the names of the rules in the specified rule files that need to be included in the <code>connectRules.il</code> file. <br />
<a id="pgfId-1017261"></a>For example, to include only the connect rules <code>cr1</code> and <code>cr2</code> in the <code>crules1.vams</code> rules file and the connect rules <code>cr8</code> and <code>cr9</code> in the <code>crules2.vams</code> rules file, use the following command:<pre class="webflare-pre-block webflare-courier-new" id="#id1017262">
<a id="pgfId-1017262"></a>genConnRulesFile -destpath . -lib mylib mylib/crules1.vams mylib/crules2.vams -rule cr1 cr2 cr8 cr9</pre>
<a id="pgfId-1017263"></a>In this example, even though the <code>-lib</code> option specifies the <code>crules1.vams</code> and <code>crules2.vams</code> rule files, only the rules specified using the <code>-rule</code> option are included in the <code>connectRules.il</code> file.</li></ul>
























<p>
<a id="pgfId-1017264"></a>If you place your custom <code>connectRules.il</code> files in one of the locations where ADE Explorer searches for the <code>connectRules.il</code> files, the connect rules defined in the custom files are also displayed as built-in rules in the Select Connect Rules form.</p>

<h4>
<a id="pgfId-1017267"></a><a id="24786"></a>Customizing Built-in Rules</h4>

<p>
<a id="pgfId-1017269"></a>Th<a id="custconn"></a>is form appears when you click the <em>Customize</em> button in the Select Connect Rules form.</p>

<p>
<a id="pgfId-1017273"></a></p>
<div class="webflare-div-image">
<img src="images/amsunl/connectRules_custBuiltin.gif" /></div>

<p>
<a id="pgfId-1017274"></a>You use this form as follows:</p>
<ol><li>
<a id="pgfId-1017275"></a>Specify a description for the rule in the <em>Description</em> field. This replaces the contents of the corresponding non-editable field in the Select Connect Rules form. </li><li>
<a id="pgfId-1017276"></a>The <em>Connect Module Declarations</em> table displays the following information about the modules in the selected connect rule:<ul><li>
<a id="pgfId-1017277"></a><em>Module</em> shows the name of a connect module.</li><li>
<a id="pgfId-1017278"></a><em>Mode</em> can be blank or have either of the values <code>merged</code> or <code>split</code>. When it is blank, it indicates that there is only one port of discrete discipline on the signal. The split value indicates that there should be one connect module inserted for each port. The merged value, which is the default, specifies that only one connect module should be inserted for all the ports on a signal.</li><li>
<a id="pgfId-1017279"></a><em>Parameter/Values</em> shows a list of parameter values. </li><li>
<a id="pgfId-1017280"></a>The direction of the first port appears in the <em>Direction1</em> column and for the second port in the <em>Direction2</em> column. These columns can be blank or have one of these values: <code>input</code>, <code>output</code> or <code>inout</code>. <br />
<a id="pgfId-1017281"></a>You may need to scroll to the right to see these and the remaining columns.</li><li>
<a id="pgfId-1017282"></a>The discipline information for the first port appears in the <em>Discipline1</em> column and for the second port under <em>Discipline2</em>. These columns may be blank for modules that do not have them specified.</li></ul><br />
<a id="pgfId-1017283"></a>Select a module by clicking on the related row.</li><li>
<a id="pgfId-1017284"></a>When a module is selected, these fields get populated with the related values: <em>Mode</em>, <em>Direction1</em>, <em>Direction2</em>, <em>Discipline1</em>, and <em>Discipline2</em>. After you modify one or more values, click the <em>Change</em> button just below the <em>Connect Module Declarations</em> table. The changes are reflected in the table. If you select multiple rows, this <em>Change</em> button appears disabled. <br />
<a id="pgfId-1017285"></a>When you select a row, the <em>Parameters</em> table is also populated. You can change values by selecting a row in this table, modifying the <em>Value</em> and clicking the <em>Change</em> button next to it. </li><li>
<a id="pgfId-1017286"></a>If you want to see the connect module file, click the <em>View connect module</em> button. <br />
<a id="pgfId-1017288"></a>T<a id="connmodfile"></a>his brings up the related connect modules file as shown below.<br />
<a id="pgfId-1017292"></a><div class="webflare-div-image">
<img src="images/amsunl/connect_moduleFile.gif" /></div>
<a id="pgfId-1017293"></a>If a corresponding file does not exist, an error message appears.</li><li>
<a id="pgfId-1017294"></a>When you select only one module in the <em>Connect Module Declarations</em> table, the related parameters and values are listed in the <em>Parameters</em> table. You can select a parameter and change its value by typing over it in the <em>Value</em> field and clicking the <em>Change</em> button next to it.<br />
<a id="pgfId-1017295"></a>When you select multiple rows in the <em>Connect Module Declarations</em> table, a union of all the parameters is shown in the <em>Parameters</em> table with their values. If a parameter has different values in different modules, its value is shown as blank. You can specify a value to be used for a particular parameter in the <em>Value</em> field and click the <em>Change</em> button next to it. The specified value applies to all the selected modules. </li><li>
<a id="pgfId-1017296"></a>The <em>Direction1</em> and <em>Direction2</em> fields are blank by default. The possible combinations of values you may specify are:<ul><li>
<a id="pgfId-1017297"></a><em>input</em>, <em>output</em></li><li>
<a id="pgfId-1017298"></a><em>output</em>, <em>input</em></li><li>
<a id="pgfId-1017299"></a><em>inout</em>, <em>inout</em></li></ul></li><li>
<a id="pgfId-1017300"></a>The <em>Discipline1</em> and <em>Discipline2</em> fields are also blank by default. They may remain blank or you may specify a discipline-pair for the selected module. <br />
<a id="pgfId-1017301"></a>You can also create discrete disciplines and specify them in these fields by clicking the <em>Disciplines</em> button, which brings up the <em>Create Discrete Disciplines</em><a id="discrete"></a> form. <br />
<a id="pgfId-1017306"></a><div class="webflare-div-image">
<img src="images/amsunl/createDisciplines.gif" /></div>
<a id="pgfId-1017307"></a>It shows a list of disciplines. You may type in a name in the <em>Discipline Name</em> field and click <em>Add</em> to create a new discipline. The name should be a legal verilog identifier. You may select one or more discipline names listed in the table and click the <em>Delete</em> button to delete them. This information is saved for the session when you click <em>OK</em> and is included in the connect modules information saved in a state file. </li><li>
<a id="pgfId-1017312"></a>T<a id="connres"></a>he <em>Connect Resolutions</em> button brings up the <em>Connect Resolutions</em> form.<br />
<a id="pgfId-1017316"></a><div class="webflare-div-image">
<img src="images/amsunl/connect_resolutions.gif" /></div>
<a id="pgfId-1017317"></a>It shows a list of <em>Resolved Disciplines</em> and <em>Equivalent Disciplines</em>. You can specify a discipline to be used when multiple nets with compatible disciplines are part of the same domain net. <ul><li>
<a id="pgfId-1017318"></a>You can add a new association by specifying a <em>Resolved Discipline</em> and an <em>Equivalent Discipline</em> and clicking the Add button.</li><li>
<a id="pgfId-1017319"></a>You can modify an association by selecting a row, modifying the values in the <em>Resolved Discipline</em> and <em>Equivalent Discipline</em> fields and clicking the <em>Change</em> button.</li><li>
<a id="pgfId-1017320"></a>You can select one or more rows and delete them by clicking the <em>Delete</em> button. </li></ul></li><li>
<a id="pgfId-1017321"></a>Click the <em>OK</em> button to update the connect rules information with the changes made for connect resolutions.</li><li>
<a id="pgfId-1017322"></a>Click the <em>OK</em> button in the Customize Built-in Rules form to update the connect rules information for the session.</li></ol>












































<h4>
<a id="pgfId-1017324"></a><a id="49933"></a>Using MAT<a id="cosimulation"></a>LAB/Si<a id="matlab"></a>mulink</h4>

<p>
<a id="pgfId-1017325"></a>The ability to run a cosimulation using MATLAB<sup>&#174;</sup>/Simulink <sup>&#174;</sup>with AMS is now available. There are three use models to choose from:</p>
<ul><li>
<a id="pgfId-1017326"></a>From ADE Explorer: You can start MATLAB from ADE Explorer.</li><li>
<a id="pgfId-1017327"></a>Separate: DFII/ADE Explorer is started and then MATLAB  is separately started in standalone mode and then the two communicate for the co-simulation.</li><li>
<a id="pgfId-1017328"></a>From MATLAB: AMS is started from MATLAB via the runSimulation script. </li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017330"></a>MATLAB and Simulink are registered trademarks of The MathWorks, Inc.</div>

<h4>
<a id="pgfId-1017332"></a>Setting up the <a id="matlabcosimulation"></a>AMS/MATLAB Co-simulation </h4>

<p>
<a id="pgfId-1017333"></a>In order to cosimulate between AMS and Simulink<sup>&#174;</sup>, coupler modules are required for both AMS and Simulink. For AMS, the coupler module, will be placed as part of your design in the schematic. Associated with each coupler is a verilog.vams file that contains the coupler module. This coupler module contains the system calls:<code> $couple_init </code>which calls the VPI code that will be used to communicate with Simulink. The system task <code>$set_access_readwrite</code> ensures that the proper read/write access is set for the coupler module.</p>
<p>
<a id="pgfId-1017334"></a>There are two types of coupler cells to choose from: fixed cell coupler or Pcell coupler. The Pcell coupler is located in analogLib. For more information, see description for <h-hot><a actuate="user" class="URL" href="../analoglibref/analysis.html#firstpage" show="replace" xml:link="simple">simulinkCoupler in Analog Library Reference</a></h-hot>. You can place the Pcell coupler and configure the number of input and output pins along with other options described below. You can create the matching <code>verilog.vams</code> file that contains the correct inputs/outputs as configured in the Pcell on the schematic by using the GUI in ADE Explorer as described below.</p>
<p>
<a id="pgfId-1017336"></a>If there are specific input/output configurations that you know you will use frequently, you can create a fixed cell coupler and use that fixed cell in your schematic rather than a Pcell. The <code>verilog.vams</code> file will be created for the fixed cell when the fixed cell is created. To create a fixed cell coupler:</p>
<ol><li>
<a id="pgfId-1017337"></a>In the schematic, choose <em>Launch &#8211; Plugins &#8211; Mixed Signal Options &#8211; AMS</em>. <br />
<a id="pgfId-1017338"></a>This results in the AMS menu being added to the Composer banner. </li><li>
<a id="pgfId-1017339"></a>Select <em>AMS - Simulink Coupler Creation</em>. <br />
<a id="pgfId-1017340"></a>The Simulink Coupler Fixed Cell Creation form opens.<br />
<a id="pgfId-1017344"></a><div class="webflare-div-image">
<img src="images/amsunl/simulinkCouplerCreation.gif" /></div></li><li>
<a id="pgfId-1017345"></a>Enter the Library name where you want the fixed coupler to be placed. You may want to create a coupler library for all the fixed couplers that you would require or create them in your design libraries. Enter the coupler domain, Number of input and output pins and click the <em>Generate Fixed Coupler </em>button to generate a fixed coupler that can be used in any future design. A fixed cell coupler is created in the library that you specify. The name of the fixed cell coupler that gets created is:<code> coupler_&lt;numInputPorts&gt;_&lt;numOutputPorts&gt;_[d,a]</code></li></ol>









<h4>
<a id="pgfId-1017346"></a>Starti<a id="matlabStart"></a>ng MATLAB</h4>

<p>
<a id="pgfId-1017348"></a><a id="pcellcoupler"></a>You can start MATLAB directly from ADE Explorer. If your design is using Pcell coupler blocks, then you need to create a verilog.ams file for the Pcell coupler block before netlisting. In the simulation window, choose Setup <em>&#8211; MATLAB/Simulink &#8211; Create Pcell Coupler File. </em>The Create Pcell Coupler File form appears.</p>

<p>
<a id="pgfId-1017352"></a></p>
<div class="webflare-div-image">
<img src="images/amsunl/PcellCouplerFile.gif" /></div>

<ul><li>
<a id="pgfId-1017353"></a>You can either directly enter the Coupler instance or select the same from the schematic by clicking the <em>Select</em> button. </li></ul>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017354"></a>If the block selected on the schematic is not a Pcell coupler block, the message about an incorrect selection appears in CIW.</div>
<ul><li>
<a id="pgfId-1017355"></a>When you click <em>Generate Verilog-AMS</em> button, a Verilog-AMS file is created for Pcell coupler block. </li><li>
<a id="pgfId-1017356"></a>The Verilog-AMS file generated from this form is placed in the netlist directory by default. You can specify another location in the Verilog-AMS filename field.</li><li>
<a id="pgfId-1017357"></a>You can also Edit the Verilog-AMS file and save it at its original location.</li></ul>


<p>
<a id="pgfId-1017358"></a>After creating the verilog.vams file for the Pcell coupler, or if you are using a fixed cell coupler, choose <em>Setup</em> <em>&#8211; MATLAB/Simulink &#8211; Start.</em></p>
<p class="webflare-indent1">
<a id="pgfId-1017360"></a><a id="matlab"></a>The Setup MATLAB form appears.</p>

<p class="webflare-indent1">
<a id="pgfId-1017364"></a></p>
<div class="webflare-div-image">
<img src="images/amsunl/MATLABSetup.gif" /></div>

<ol><li>
<a id="pgfId-1017365"></a>Enter the command for starting MATLAB using MATLAB start command field. The default command to start MATLAB is <code>&#8220;matlab&#8221;</code>. You can enter any other command along with the command-line argument. </li><li>
<a id="pgfId-1017366"></a>Enter the path to the directory where matlab is launched in the MATLAB startup directory field. </li><li>
<a id="pgfId-1017367"></a>Enter the path to the MATLAB design in the <em>MATLAB design name</em> field.</li><li>
<a id="pgfId-1017368"></a>Enter simulation initialization timeout in AMS delay to allow MATLAB initialization. It is required to give Simulink a chance to start up before AMS. After Simulink is initialized, you can run the simulation. </li><li>
<a id="pgfId-1017369"></a>Do one of the following:<br />
<a id="pgfId-1017681"></a><table class="webflareTable" id="#id1017664">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1017666">
<a id="pgfId-1017666"></a>Select</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1017668">
<a id="pgfId-1017668"></a>IF</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017670"></a>no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017672"></a>If you select the <em>no</em> option for Start MATLAB, MATLAB will not be started. This may be useful if you want to keep same form setup but do not want to run cosimulation or if you want to start MATLAB yourself, independent of ADE Explorer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017674"></a>before AMS starts</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017676"></a>If you want to start the MATLAB automatically, select the before <em>AMS starts</em> check box in Start MATLAB section. When you select the before AMS starts option, all the fields in the form are enabled. To run Simulink simulation automatically when AMS starts, you need to have a startup.m file that contains the sim() command in the directory, which is specified in the MATLAB startup directory field.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017678"></a>now</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1017680"></a>If you want to launch MATLAB manually, select the <em>now</em> option in <em>Start MATLAB</em>. The <em>Start</em> button appears and the AMS delay to allow MATLAB initialization is disabled. Click Start button to launch MATLAB.</p>
</td>
</tr>
</tbody></table></li></ol>







<h2>
<a id="pgfId-1017691"></a>About the <a id="52633"></a>AMS Unified Netlister<a id="ams_unl"></a></h2>

<p>
<a id="pgfId-1029348"></a>AMS Unified Netlister (AMS UNL) provides a comprehensive netlisting and binding framework for the Spectre AMS Designer Virtuoso use model (AVUM).</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1064632"></a>On using AMS UNL with Xcelium 21.02 a001 or a higher release version, ensure that the environment variable <code>$PATH</code> has the Spectre 19.1 ISR15 installation path specified in it.</div>
<p>
<a id="pgfId-1038507"></a>The following flowchart describes the AMS UNL flow:</p>

<p>
<a id="pgfId-1038522"></a></p>
<div class="webflare-div-image">
<img width="666" height="663" src="images/chap15-52.gif" /></div>
<p>
<a id="pgfId-1038533"></a></p>
<div class="webflare-div-image">
<img width="643" height="814" src="images/chap15-53.gif" /></div>
<h3>
<a id="pgfId-1029351"></a><a id="74509"></a>Benefits of AMS UNL<a id="oss_ams_netlister_benefits"></a></h3>

<p>
<a id="pgfId-1029352"></a>Some of the important benefits of AMS UNL are:</p>
<ul><li>
<a id="pgfId-1029353"></a>It supports simulation using the new <code>xrun</code> command of the Spectre AMS Designer and Xcelium Mixed-Signal simulator. For more information about the xrun command, see the <em>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide</em>.</li><li>
<a id="pgfId-1029354"></a>The <code>runams</code> command provides command-line support for netlisting the design using AMS UNL and running the simulation using xrun.</li><li>
<a id="pgfId-1029356"></a>It allows better text integration and seamless migration with xrun digital-based flows using xrun external text referencing (see <a href="chap15.html#56825">External Text Referencing (BDUs for Verilog/VHDL)</a>) capabilities.</li><li>
<a id="pgfId-1029361"></a>It needs spectre CDFs and Spectre netlist procedures to netlist instances of analog primitives. </li><li>
<a id="pgfId-1029362"></a>It generates a single netlist comprised of all configuration cellviews that require netlisting, that is, schematic, layout, and so on. The netlist format is comprised of verilogAMS structural netlists representing the OA cellviews. The netlist can be passed to the simulator as a standalone file along with the text cellview definition file. If the simulator reports an error, you can edit the netlist file and simulate it again. </li><li>
<a id="pgfId-1029363"></a>It directly parses SystemVerilog, VHDL-AMS, and VerilogAMS text-based models.<code></code></li></ul>






<h3>
<a id="pgfId-1029365"></a>Things to Know When Using the AMS UNL Flow</h3>

<ul><li>
<a id="pgfId-1029625"></a>AMS UNL uses the Virtuoso Hierarchy Editor (HED) to configure the design units. The design units can be any of the following:<ul><li>
<a id="pgfId-1029626"></a>Netlists from DFII schematics</li><li>
<a id="pgfId-1071898"></a>Text views imported into DFII </li></ul><br />
<a id="pgfId-1029628"></a>In the AMS UNL flow, the following two types of configurations are possible:<ul><li>
<a id="pgfId-1029629"></a>Schematic on top</li><li>
<a id="pgfId-1071909"></a>Text on top</li></ul><br />
<a id="pgfId-1029631"></a>You can use the <em>config</em> view in HED to specify the top-level design unit. The rest of the design units can be configured by determining whether or not the design units are visible in HED. You can also set cellview bindings separately for individual bits of an iterated instance in HED. For more information, Refer to HED user guide.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029632"></a>If your design requires the use of two or more top-level design units, the additional top-level module(s) can be used in parallel to your HED configuration and externally referenced by specifying the module file(s) in the <em>Additional files on xrun command line</em> field of the <em>AMS Options</em> form. You must also specify the additional top-level module(s) using the <code>-top &lt;topLevelModule&gt;</code> option in the <em>Additional Arguments</em> field of the <em>AMS Options</em> form.</div>
<a id="pgfId-1029633"></a>Based on the HED configuration visibility, the design units can be classified as:<br />
<a id="pgfId-1029634"></a>Whitebox design units (WDUs): WDUs refer to the design units that are present in the DFII Library database and visible to HED. These can be schematics, layouts, or hierarchical text views. Such design units can be configured for proper cell, instance, or occurrence binding using HED.<br />
<a id="pgfId-1029635"></a>Blackbox design units (BDUs): BDUs refer to the design units that are text views where the parent-level text cellview and its hierarchy (if there is any) is invisible to HED access and netlisting. For such design units, you can configure the parent-level text cellview in HED as a stopping view. The parent-level text cellview and its hierarchy needs to be configured using xrun external text referencing specifications. The specifications for digital text referencing could be through typical xrun options, such as <code>-v</code>, <code>-y</code>, <code>-f</code>, and <code>-reflib</code>.</li><li>
<a id="pgfId-1071884"></a>If you want AMS UNL to netlist verilog hierarchical property (hierProp) parameters for stopping non-text cells, the name of those parameters must be added in the value for the paramOrder property.<br />
<a id="pgfId-1074293"></a><div class="webflare-div-image">
<img width="668" height="369" src="images/chap15-54.gif" /></div></li></ul>














<h4>
<a id="pgfId-1029636"></a>AMS UNL Architecture</h4>

<p>
<a id="pgfId-1029637"></a>The following figure describes the AMS UNL architecture:</p>

<p>
<a id="pgfId-1029641"></a></p>
<div class="webflare-div-image">
<img width="681" height="513" src="images/chap15-55.gif" /></div>

<p>
<a id="pgfId-1029642"></a>The Simulator Environment Interface processes the design and configuration information specified using ADE Explorer and provides the following information to the simulator (xrun):</p>
<ul><li>
<a id="pgfId-1029643"></a>Top-level design units: These can be the top-level design units specified in the <em>config</em> view of HED.</li><li>
<a id="pgfId-1029644"></a>Design Information: The design information is either in the form of netlists (from schematic) and/or user-specified text files. The design units can be:<ul><li>
<a id="pgfId-1029645"></a>Configured WDUs: There can be two types of configured WDUs:<ul><li>
<a id="pgfId-1029646"></a>AMS netlists: Generated by OSSN, based on the information in HED and DFII databases. These contain the design units to be simulated by xrun. </li><li>
<a id="pgfId-1029647"></a>Text view BDUs: These already contain the design units to be simulated (and maybe more). They can be mixed or pure digital blocks. The configuration of the design units in the text view is visible to HED.</li></ul></li></ul></li><li>
<a id="pgfId-1029648"></a>Text view BDUs: These text views already contain the design units to be simulated. Text is referenced natively. For such text views, only the parent cellview design unit is visible to HED and bound to a stopping view (<em>External HDL</em>). These can be:<ul><li>
<a id="pgfId-1029649"></a>Digital blocks (Verilog: <code>-v</code>/<code>-y</code>, V2001, V2005, <code>-reflib</code>, <code>-makelib</code>)</li><li>
<a id="pgfId-1029650"></a>Digital blocks (VHDL: <code>-f</code>, <code>-reflib</code>, <code>-makelib</code>)</li><li>
<a id="pgfId-1029651"></a>Analog blocks (SPICE blocks - specified using <code>sourcefile</code> property)</li><li>
<a id="pgfId-1029652"></a>Verilog-A blocks (specified using <code>ahdl_include</code>)</li><li>
<a id="pgfId-1029653"></a>Precompiled libraries (pure, digital, or mixed: <code>-reflib</code>)</li></ul></li></ul>











<h4>
<a id="pgfId-1029654"></a>AMS UNL Methodology</h4>
<h4><em>
<a id="pgfId-1029656"></a><a id="26255"></a>Hierarchy Editor</em></h4>

<p>
<a id="pgfId-1029657"></a>The AMS UNL flow is sensitive to the HED configuration settings &#8212; <em>Library List</em>, <em>View List</em>, and <em>Stop List</em> &#8212; that are available in the <em>Global Bindings</em> section of HED. Therefore, you must ensure the following while setting these options:</p>

<h4><em>
<a id="pgfId-1029658"></a>Library List </em></h4>

<p>
<a id="pgfId-1029659"></a>You must specify all the DFII 5x libraries used in the design in the <em>Library List</em> field. It is recommended to specify the libraries in the order of preferred precedence. The order can be used to influence the binding search order if there are same cells from multiple libraries.</p>

<h4><em>
<a id="pgfId-1029660"></a>View List</em></h4>

<p>
<a id="pgfId-1029661"></a>You must specify all the view types used in the design in the <em>View List</em> field. It is recommended to specify the cellviews in the order of preferred precedence. The order in the list determines what a particular cell uses as its default <em>View To Use</em>. If you do not explicitly set any view for a cell, the default <em>View To Use</em> is considered as the first existing view in the list. For VHDL, add the VHDL architecture names to the HED <em>View List</em>, and bind the VHDL cellviews to the VHDL architecture names and not the entity names. </p>

<h4><em>
<a id="pgfId-1029662"></a>Stop List</em></h4>

<p>
<a id="pgfId-1029663"></a>You must specify only the view names for which you wish the netlister to stop traversing the cell&#39;s hierarchy in the <em>Stop List</em> field. A hierarchical text cellview used as a stopping view in HED <em>Stop List</em> generates an error during elaboration. Stopping views must have no hierarchy or must be leaf-level. It is recommended to use <em>symbol</em> view, or a copy thereof, for text stopping views. A stopping view that has hierarchy assumes that the leaf-level hierarchical content will be found using other ways external to DFII. By default, <em>spectre</em> is considered the analog stop view and <em>symbol</em> is considered the digital stop view.</p>
<p>
<a id="pgfId-1029664"></a>When adding or removing views from <em>Stop List</em>, configuration binding gets refreshed immediately upon an HED update. For example, when a symbol is added and a cell&#39;s <em>View To Use</em> is changed to <em>symbol</em>, the 5x hierarchy of the cell is removed from HED and is no longer visible. This assumes a blackbox condition and expects the cell&#39;s hierarchy (if there is any) to come from external sources, such as xrun external HDL specification (<code>-v</code>, <code>-y</code>, <code>-f</code>, and so on).</p>
<p>
<a id="pgfId-1029665"></a>In addition to setting the fields in the <em>Global Bindings</em> section, ensure that all cellviews that are displayed as &#8220;red&#8221; in HED are properly resolved. You should either fix the unresolved cells in &#8220;red&#8221; manually, or bind them to an <em>External HDL</em> setting for proper blackbox resolution. This can be done by right-clicking a cell in the <em>Cell Bindings</em> section of HED and selecting the <em>Set Cell View</em> - <em>Mark as External HDL Text (AMS UNL only)</em> option from the context menu.</p>

<h4>
<a id="pgfId-1029666"></a>New Binding Engine</h4>

<p>
<a id="pgfId-1029667"></a>For the AMS UNL flow, a new binding engine has been implemented. The new binding engine:</p>
<ul><li>
<a id="pgfId-1029668"></a>Supports 5x formats with lib/cell/view structure.</li><li>
<a id="pgfId-1029669"></a>Supports explicit library, cell, instance, and occurrence bindings for all cell types and levels in the HED configuration.</li><li>
<a id="pgfId-1029670"></a>Supports Verilog and VHDL name spaces.</li><li>
<a id="pgfId-1029671"></a>Saves time during elaboration by quickly finding all cell/instance/occurrence bindings.</li><li>
<a id="pgfId-1029672"></a>Supports all aspects of Block-based Discipline Resolution (BDR) using the <code>-setdiscipline</code> xrun option.</li><li>
<a id="pgfId-1029673"></a>Supports HED blackbox design units (BDUs) and whitebox design units (WDUs).<br />
<a id="pgfId-1029674"></a>BDUs must retain external text referencing in the digital domain down to the hierarchical leaf level. That is, there is no HED 5x visibility or accessibility.<br />
<a id="pgfId-1029675"></a>WDUs can contain any combination of OA database and/or text hierarchy in HED 5x. That is, there is full visibility and accessibility down to the leaf level with respect to HED and netlisting. <br />
<a id="pgfId-1029676"></a>The AMS UNL flow can predefine text libraries to be either BDU or WDU, but not both.<ul><li>
<a id="pgfId-1029677"></a>A text library cannot be created in WDU and used for BDU external text referencing. </li><li>
<a id="pgfId-1029678"></a>A text library precompiled with prescribed xrun methods for BDU usage cannot be used for WDU referencing.</li><li>
<a id="pgfId-1029679"></a>Any cell imported into DFII (WDU) must be in a separate library as compared to a cell that is referenced external to DFII (BDU). Do not mix 5x WDU cells with non-5x BDU cells within the same library. A library should either be WDU format or BDU format, but not both. </li></ul></li></ul>












<h4>
<a id="pgfId-1029681"></a><a id="85514"></a>Importing Text Views into Virtuoso (WDU Libraries)</h4>

<p>
<a id="pgfId-1029682"></a>The AMS UNL flow supports importing of text views into Virtuoso. You can import a text view into the Cadence 5x library/cell/view structure by using any of the following methods:</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038602"></a>It is recommended that you use the <code>cdsTextTo5x</code> command because it uses xrun in the background. Also, the <code>xmvlog -use5x</code> and <code>xmvhdl -use5x</code> commands have been deprecated.</div>
<ul><li>
<a id="pgfId-1029683"></a>Using the xmvlog or xmvhdl <code>-use5x</code> command-line option.<br />
<a id="pgfId-1029684"></a>It is recommended that the text view is imported before locking the design to read-only status.<br />
<a id="pgfId-1029685"></a>Full 5x WDU VHDL/VHDL-AMS hierarchical support is provided to match the same support as the Verilog namespace. In addition, full hierarchical VHDL text-schematic sandwiching is supported.</li><li>
<a id="pgfId-1029686"></a>Using the cdsTextTo5x command. You can also use this command to generate the symbol views of the imported cellviews. For more information, see <a actuate="user" class="URL" href="../virtuosoImportTools/cdsTextTo5x.html#firstpage" show="replace" xml:link="simple">Importing Design Data by Using cdsTextTo5x</a>.</li><li>
<a id="pgfId-1029688"></a>Choosing <em>Create</em> - <em>Cellview</em> - <em>From Cellview</em> in the schematic editor.</li><li>
<a id="pgfId-1029689"></a>Choosing <em>File</em> - <em>New</em> - <em>Cellview</em> in the command interpreter window (CIW).</li><li>
<a id="pgfId-1029690"></a>Using <code>Verilog</code> <code>In</code> to create Verilog structural gate-level schematics.<br />
<a id="pgfId-1029691"></a><code>pc.db</code> files are not created during the <code>Verilog</code> <code>In</code> process because the shadow database contains only instances for which <code>Verilog</code> <code>In</code> is successfully able to locate the instance masters. If gate-level cells have hierarchy, you need to use the read-only solution to allow the creation of <code>pc.db</code> files within the <code>tmp</code> directory, or manually populate the library with <code>pc.db</code> files by using the xmvlog <code>-use5x</code> command-line option. Another option is to rebind the standard cells to BDU and use external text referencing with <em>External HDL</em> binding (see <a href="chap15.html#56825">External Text Referencing (BDUs for Verilog/VHDL)</a>).</li></ul>








<h4>
<a id="pgfId-1029697"></a><a id="56825"></a>External Text Referen<a id="amsunl1"></a>cing (BDUs for Verilog/VHDL)</h4>

<p>
<a id="pgfId-1029698"></a>The AMS UNL flow supports configuration of text views as stop view or leaf, where the parent-level text view and its entire hierarchy can be made invisible to HED. For such design units, you can configure the parent-level text view in HED to be the stopping view, or use external text referencing with <em>External HDL</em> binding. The parent-level text view and its hierarchy needs to be configured using xrun specifications. AMS UNL supports the following methods:</p>
<ul><li>
<a id="pgfId-1029699"></a>Traditional xrun external text referencing (<code>-v</code>/<code>-y</code>, <code>-f</code>, <code>-reflib</code>, <code>-makelib</code>)</li><li>
<a id="pgfId-1029700"></a>HED stopping cellview binding <br />
<a id="pgfId-1029701"></a>Bind the intended cellviews to the <em>symbol</em> view or a copy thereof. Add the <em>symbol</em> view, or the copy thereof, to the HED <em>Stop List</em> or add a stop point (see <a href="chap15.html#26255">Hierarchy Editor</a>). You can use a new HED option (<em>Mark as External HDL Text (AMS UNL only)</em>) to enable HED binding to an external text view. Cellviews that appear as &#8220;red&#8221; in HED can be considered to be referencing an external text view. This should not be assumed and should be verified and resolved before proceeding.You can use the <em>Mark as External HDL Text (AMS UNL only)</em> option to resolve the binding for such cellviews.</li></ul>



<h4><em>
<a id="pgfId-1029706"></a><a id="84167"></a>Text Referencing Methods</em></h4>

<p>
<a id="pgfId-1029707"></a>A text view can be referenced as follows:</p>
<ul><li>
<a id="pgfId-1029708"></a>Using the <code>-v</code> and <code>-y</code> arguments of xrun (references the Verilog2001 source files and Verilog 2001 Library file directories).</li><li>
<a id="pgfId-1029709"></a>Using the <code>-f</code> argument of xrun that enables you to specify the source text paths and xrun options in a text file. This is a common use model to refer to the external SystemVerilog and VHDL text source code.</li><li>
<a id="pgfId-1029710"></a>Using the <code>-makelib</code> argument of xrun that enables you to precompile the design units in the specified files into a reference library. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029711">
<a id="pgfId-1029711"></a>-makelib path_to_library[:logical_name] source_files -endlib</pre></li><li>
<a id="pgfId-1029712"></a>Using the precompiled libraries with the <code>-makelib</code> / <code>-reflib</code> arguments of xrun (applies to both Verilog and VHDL name spaces). <ul><li>
<a id="pgfId-1029713"></a>You should precompile (recompile if the library is created using the<code>-use5x</code> option) all existing libraries with the xrun digital use model, as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029714">
<a id="pgfId-1029714"></a>xrun -compile -makelib &lt;absolute_path_to_LIB_dir&gt;[:logical_lib_name] &lt;source&gt;&lt;options&gt; -endlib</pre>
<a id="pgfId-1029715"></a>The library directory containing the precompiled source files can then be locked to a read-only state and referenced during simulation, as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id1029716">
<a id="pgfId-1029716"></a>-reflib &lt;absolute_path_to_LIB_dir&gt;[:logical_lib_name]</pre></li><li>
<a id="pgfId-1029717"></a>You can compile all headers, packages, source text, and file-specific compile options within a single <code>-makelib</code> <code>-endlib</code> option. </li><li>
<a id="pgfId-1029718"></a>Multiple <code>-makelib</code> options can be specified within the <code>-f</code> file format. All order-dependent VHDL/SystemVerilog source files can be ordered appropriately in the <code>-f</code> file. The <code>-smartorder</code> option can only be used within a single <code>-makelib</code> option and cannot be used to order files across multiple <code>-makelib</code> options.</li></ul></li><li>
<a id="pgfId-1029719"></a>Migrating external text from an existing digital xrun flow.</li><li>
<a id="pgfId-1029720"></a>Pre-existing digital xrun <code>-f</code> files can be used to perform <code>-makelib</code> compilations or <code>-reflib</code> precompiled library references.</li><li>
<a id="pgfId-1029721"></a>The same <code>-f</code> files can be reused in ADE Explorer as long as the library names used in the files are not the same as the names used in the Virtuoso WDU design libraries.</li></ul>
















<h3>
<a id="pgfId-1042448"></a>Migrating to AMS UNL</h3>

<p>
<a id="pgfId-1042449"></a>If you are migrating from a Cell-Based netlisting flow to the AMS UNL flow, consider the following:</p>
<ul><li>
<a id="pgfId-1042450"></a>Since HED is the master view for a cell, instance, and occurrence bindings, you must resolve all HED bindings before proceeding to the netlisting step (see <a href="chap15.html#26255">Hierarchy Editor</a>).<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042454"></a>The <code>CONFIG_MODELPATH</code> environment variable setting is obsolete in the AMS UNL flow. All HED bindings have precedence over legacy settings. </div></li><li>
<a id="pgfId-1042455"></a>For text modules instantiating the analog primitive models, you can use the HED binding option <em>Add Bind To Open (Skip Cell)</em> to fully unbind the analog primitives and let the default <em>ModelPath</em> library bindings take place. Ensure that there are no digital cells with the same name or with the default binding to the digital version of the cell.<br />
<a id="pgfId-1042456"></a>You can also use the HED binding option <em>Add Bind To Open (Skip Cell)</em> to fully unbind the analog primitives and let the custom netlist procedure operate on removing instances later from the netlist, as required. If you encounter the xmelab error <code>EXANCU</code> on instances known to be later removed with the custom netlist procedure, use the <em>Add Bind To Open (Skip Cell)</em> option in HED for proper behavior.</li><li>
<a id="pgfId-1042459"></a>Verilog Reference File should be at leaf level.<ul><li>
<a id="pgfId-1042460"></a>Backward-compatible migration support is provided until possible deprecation -This is considered as yet another method to specify BDU leaf-level text binding. An xmelab error will occur when a Verilog Reference File has text hierarchy. It must be only leaf-level. Cell-Based flow has allowed this support with error and no guarantee for proper bindings.</li></ul></li><li>
<a id="pgfId-1042461"></a>If you are using <code>hdl.var</code> files from the Cell-Based flow:<ul><li>
<a id="pgfId-1042462"></a>Avoid using <code>modelpath</code> settings</li><li>
<a id="pgfId-1042463"></a>Remove all global settings for <code>-use5x</code> (<code>ncuse5x</code>)</li><li>
<a id="pgfId-1042464"></a>Remove all global settings for <code>-ams</code> (<code>ncams</code>).<br />
<a id="pgfId-1042465"></a>It is recommended to review the ADE-added <code>hdl.var</code> file and its necessity for reuse. In most cases, AMS UNL does not require an <code>hdl.var</code> file. <code>NCVLOGOPTS</code> and <code>XRUNOPTS</code> are valid options to include in an ADE <code>hdl.var</code> file. <br />
<a id="pgfId-1042466"></a>The following search order is followed by AMS UNL to locate the <code>hdl.var</code> file:<ul><li>
<a id="pgfId-1042468"></a>If the path of the <code>hdl.var</code> file is specified in the <em>Miscellaneous</em> tab of the <a href="chap15.html#AMSOptionsForm">AMS Options</a> form, it is honored by AMS UNL.</li><li>
<a id="pgfId-1042470"></a>If the path of the <code>hdl.var</code> file is not specified in the <a href="chap15.html#AMSOptionsForm">AMS Options</a> form, the search order defined in the <code>setup.loc</code> file is followed to locate the file. Following is the default search order defined in the <code>setup.loc</code> file:</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1042471">
<a id="pgfId-1042471"></a>  $CDS_INST_DIR/share/cdssetup/setup.loc
  ;   $CDS_WORKAREA
  ;   $CDS_SEARCHDIR
  ;   &quot;~&quot; (users home directory)
  ;   $CDS_PROJECT
  ;   $CDS_SITE
  ;   $(compute:THIS_TOOL_INST_ROOT)/share</pre><span class="indent-as-level3">
<a id="pgfId-1042472"></a>If the <code>hdl.var</code> file is found at a location specified by the search order, it is honored by AMS UNL and a message appears in the CIW which displays the path of the file.</span><br /><span class="indent-as-level3">
<a id="pgfId-1042473"></a>If the <code>hdl.var</code> file is not found at any location specified in the search order defined in the <code>setup.loc</code> file, no <code>hdl.var</code> file is honored.</span><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042474"></a>If the <code>hdl.var</code> file is present in the Virtuoso launch directory but its path is neither specified in the <a href="chap15.html#AMSOptionsForm">AMS Options</a> form nor in the search order defined in the <code>setup.loc</code> file, it is not honored.</div>
<a id="pgfId-1042476"></a>Avoid using any global <code>NCVLOGOPTS</code> options that control specific parsers, for example, <code>-sv</code>, and <code>-ams</code>. This affects the entire xrun command line and is applied to all source files. Use the automatic xrun extension-driven parser technique. Refer to the <em>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide</em>for more details.</li></ul></li><li>
<a id="pgfId-1042478"></a>Verilog-A cellviews retain the use of shadow for netlisting and are considered as DFII objects. These cellviews must be imported and edited in that same way.</li><li>
<a id="pgfId-1042481"></a>Ensure that the <code>pc.db</code> files do not cause HED to generate any warnings or errors. A modification to a text view stored outside Virtuoso in a read-only library/directory can generate inaccurate text representation within HED and can impact the intended UNL netlisting/binding. Use the <code>pc.db</code> read-only solution explained above to resolve the issues related to <code>pc.db</code> files.</li><li>
<a id="pgfId-1042482"></a>Ensure that the precompiled libraries that you are using are compatible with the bit version of Virtuoso. A 32-bit Virtuoso release requires 32-bit xrun precompiled libraries, whereas a 64-bit Virtuoso release requires 64-bit xrun precompiled libraries. To use both binaries of Virtuoso (32/64-bit), you need to create an xrun precompiled library using both 32-bit as well as 64-bit xrun. A library can contain both xrun binary compiled data at the same time.</li></ul>




























<h3>
<a id="pgfId-1029764"></a>Features of AMS UNL</h3>

<p>
<a id="pgfId-1029765"></a>This section describes the following features of AMS UNL:</p>
<ul><li>
<a id="pgfId-1029769"></a><a href="chap15.html#55930">Creating Text Libraries for use with the Precompiled WDU Supplemental Flow</a></li><li>
<a id="pgfId-1029773"></a><a href="chap15.html#30019">Supporting Parameterized Bits Using a Pcell Symbol</a></li><li>
<a id="pgfId-1029777"></a><a href="chap15.html#69303">Using the Verilog 2001 Configuration</a></li><li>
<a id="pgfId-1029781"></a><a href="chap15.html#81228">Shorting Devices</a></li><li>
<a id="pgfId-1030683"></a><a href="chap15.html#96214">Using the sim_stub Property</a></li><li>
<a id="pgfId-1029785"></a><a href="chap15.html#45591">Creating Simulation Scripts for xrun</a></li><li>
<a id="pgfId-1030816"></a><a href="chap15.html#62985">Reusing an Advanced Testbench</a></li><li>
<a id="pgfId-1044822"></a><a href="chap15.html#27875">Working with DSPF files</a></li></ul>








<h4>
<a id="pgfId-1029787"></a><a id="55930"></a>Creating Text Libraries for use with the Precompiled WDU Supplemental Flow</h4>

<p>
<a id="pgfId-1029788"></a>HDL languages require file/library-specific options/bindings that must stay consistent throughout the design development cycle. The use of VHDL/SV packages need careful attention and are better managed as precompiled objects and shared between all source code requiring them. Design cycles can be better optimized by reusing precompiled objects and sharing them with multiple design groups.</p>
<p>
<a id="pgfId-1029789"></a>The recommended methodology is to precompile the text source/packages code ahead of time with these specific requirements and then lock-down the libraries so as not to disturb the consistent and stable &quot;IP&quot;. At the same time, HED configurations using a visible, 5x WDU approach need to access and use these precompiled &quot;IP&quot; libraries in a &quot;WDU-like&quot; use model. This creates all possible HED 5x possibilities for library and view bindings to externally referenced text in a pseudo-BDU-like use model.</p>
<p>
<a id="pgfId-1029790"></a>The old WDU hierarchical text flow is still the predominant and the recommended use model. This flow is supplemental to the old WDU flow such that it provides the capability to:</p>
<ul><li>
<a id="pgfId-1029791"></a>Add file/library-specific options for compilation </li><li>
<a id="pgfId-1029792"></a>Precompile SV/VHDL packages</li><li>
<a id="pgfId-1029793"></a>Share precompiled objects between design groups</li></ul>


<p>
<a id="pgfId-1029794"></a>If a flow warrants no need for these advantages, then the old WDU 5x hierarchy should be used.</p>
<p>
<a id="pgfId-1029795"></a>By utilizing the existing HED WDU 5x configuration settings within a Virtuoso setup, a normal WDU flow with HED 5x libraries and bindings can be achieved. This flow assumes that all WDU text cellviews visible in HED have already been imported and registered within 5x using the usual methods, that is, by using precompiled xmvlog/xmvhdl <code>-use5x</code> scripts or using traditional DFII import techniques (see <a href="chap15.html#85514">Importing Text Views into Virtuoso (WDU Libraries)</a>).</p>

<h4><em>
<a id="pgfId-1029799"></a>Overview </em></h4>

<ul><li>
<a id="pgfId-1029800"></a>Create a mirror-imaged precompiled, non-5x library of the same 5x DFII equivalent libraries using multiple xrun <code>-compile</code> invocations, each with its own <code>-makelib</code> options. As xrun is not 5x-aware, you need to recompile the same 5x libraries for xrun use.<br />
<a id="pgfId-1029801"></a>The key point here is to isolate the physical location of the 5x and non-5x versions of the same DFII libraries but retain the same logical library names. </li><li>
<a id="pgfId-1029802"></a>From the Virtuoso invoking directory, or from a central project library area accessible to all users, create a separate directory to precompile and store all source text for the duplicated, non-5x version of the same 5x DFII libraries. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029803"></a>The non-5x, precompiled library can be anywhere except in the same Virtuoso invoking directory (<code>cds.lib</code> errors may occur).</div></li><li>
<a id="pgfId-1029804"></a>Place a copy of the <code>cds.lib</code> file from the original Virtuoso invoking directory, except for changes to the physical library paths matching the new location, in the precompiled, non-5x directory just created. Two <code>cds.lib</code> files will exist. One is the original unmodified <code>cds.lib</code> in the Virtuoso invoking directory and the other is the <code>cds.lib</code>, with modified path locations, in the newly created precompiled, non-5x directory location. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029805"></a>The sole purpose of the modified <code>cds.lib</code> file in the non-5x directory is to aid usability in Virtuoso when referencing the precompiled non-5x <code>pak</code> files using runtime <code>-reflib</code> options. These <code>-reflib</code> options can then use the library path and logical library name as arguments when referencing the non-5x libraries using the non-5x <code>cds.lib</code> file. For now, this is a redundant step to ensure that this flow stabilizes properly. Since the ADE Explorer <em>REFLIB</em>/<em>MAKELIB</em> GUI options use both the precompiled non-5x library path AND logical libname for reflib entries, the need for this non-5x version of the <code>cds.lib</code> file will eventually not be required.</div></li></ul>





<p>
<a id="pgfId-1029806"></a>To create a precompiled library, follow these steps:</p>
<ol><li>
<a id="pgfId-1029807"></a>Create a directory with the name <code>precompiledLibs</code> in the current working directory, as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029808">
<a id="pgfId-1029808"></a>mkdir $PWD/precompiledLibs</pre></li><li>
<a id="pgfId-1029809"></a>Set the environment variable XRUN_LIBS, as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029810">
<a id="pgfId-1029810"></a>setenv XRUN_LIBS $PWD/precompiledLibs</pre></li><li>
<a id="pgfId-1029811"></a>Navigate to <code>XRUN_LIBS</code>, as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029812">
<a id="pgfId-1029812"></a>cd XRUN_LIBS</pre></li><li>
<a id="pgfId-1029813"></a>Create the precompiled, non-5x version of the DFII libraries using a script that calls out multiple xrun <code>-compile</code>, <code>-makelib</code> commands, one for each library and/or 
file-specific options. </li><li>
<a id="pgfId-1029814"></a>Create and store this script at the <code>$XRUN_LIBS</code> location along with matching <code>cds.lib</code>.</li><li>
<a id="pgfId-1029815"></a>Allow one <code>-makelib</code> statement per 5x library. Create a compile script <code>preCompileLibs.f</code> containing the following statements:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029816">
<a id="pgfId-1029816"></a>xrun -compile -makelib &lt;path&gt;:&lt;logical_lib_name&gt; &lt;source files&gt; &lt;source file specific options&gt; -endlib </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029817">
<a id="pgfId-1029817"></a>xrun -compile -makelib &lt;path&gt;:&lt;logical_lib_name&gt; &lt;source files&gt; &lt;source file specific options&gt; -endlib</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029818">
<a id="pgfId-1029818"></a>xrun -compile -makelib &lt;path&gt;:&lt;logical_lib_name&gt; &lt;source files&gt; &lt;source file specific options&gt; -endlib</pre>
<a id="pgfId-1029819"></a>where:  <br />
<a id="pgfId-1029820"></a><span class="webflare-courier-new" style="white-space:pre"><em>path</em></span> is the physical location of the precompiled non-5x libraries.<br />
<a id="pgfId-1029821"></a><span class="webflare-courier-new" style="white-space:pre"><em>logical_lib_name</em></span> is OPTIONAL and the same logical library name of the same 5x DFII WDU library designated in the Virtuoso invoking directory and called out in the path-altered copy of the precompiled, non-5x version of the <code>cds.lib</code> file.<br />
<a id="pgfId-1029822"></a>Example of precompiled script preCompileLibs.f <pre class="webflare-pre-block webflare-courier-new" id="#id1029823">
<a id="pgfId-1029823"></a>xrun -compile -messages</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029824">
<a id="pgfId-1029824"></a>-makelib ./DigLib $PROJ_LIBS/source/DIG/*.vhd -v93 -relax -endlib</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029825">
<a id="pgfId-1029825"></a>xrun -compile -messages</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029826">
<a id="pgfId-1029826"></a>-makelib ./AMSLib $PROJ_LIBS/source/AMS/*.vhms $PROJ_LIBS/source/AMS/*.vams -endlib</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029827">
<a id="pgfId-1029827"></a>xrun -compile -messages</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029828">
<a id="pgfId-1029828"></a>-makelib ./stdLib $PROJ_LIBS/source/STD/*.vhd -v93 -endlib</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029829">
<a id="pgfId-1029829"></a>xrun -compile -messages</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029830">
<a id="pgfId-1029830"></a>-makelib ./RTLLib $PROJ_LIBS/source/RTL/*.vhd -v93 -endlib</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029831">
<a id="pgfId-1029831"></a>xrun -compile -messages</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029832">
<a id="pgfId-1029832"></a>-makelib ./testLib $PROJ_LIBS/source/test/*.vhd -v93 -relax -endlib</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029833">
<a id="pgfId-1029833"></a>xrun -compile -messages</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029834">
<a id="pgfId-1029834"></a>-makelib ./HDLLib $PROJ_LIBS/source/HDL/*.sv -endlib</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029835">
<a id="pgfId-1029835"></a>&#8230;</pre>
<a id="pgfId-1029836"></a>Where <code>$XRUN_LIBS</code> is predefined as <code>$PWD/precompiledLibs</code>.</li><li>
<a id="pgfId-1029837"></a>Run the <code>xrun -f preCompileLibs.f</code> script from the <code>$XRUN_LIBS</code> location and then lock down the precompiled library directory as reusable &quot;IP&quot;.</li><li>
<a id="pgfId-1029838"></a>Add the precompiled libraries in the <em>Reference Library Setup</em> form by clicking the <em>Pre-compiled libraries (-reflib)</em> <em>Settings</em> button in the <em>AMS Options</em> form.<br />
<a id="pgfId-1029842"></a><div class="webflare-div-image">
<img width="600" height="623" src="images/chap15-56.gif" /></div></li><li>
<a id="pgfId-1029843"></a>Remove all other previously referenced xrun <code>-f</code> files that are now referred to with the same reflib library paths/name using the <em>REFLIB</em>/<em>MAKELIB</em> options. </li></ol>




































<p>
<a id="pgfId-1029844"></a>An additional feature has been implemented for automatic and seamless VHDL/SV package collection and compilation for the simulation phase of the UNL flow. The advantage of this feature is the ability to carry through to the xrun simulation stage any precompiled VHDL/SV packages that were found used and precompiled in the design libraries. This removes the need to search and collect all packages required for simulation. The tool does this automatically and efficiently.</p>
<p>
<a id="pgfId-1029845"></a>The precompiled WDU libraries can now be referenced as reusable &quot;IP&quot; with open access to all AMS design teams working on a project. This allows reusing the libraries as shared and locked-down &quot;IP&quot;. Digital design teams can manage these external reference libraries at their own discretion. Changes made to the external text source will be realized by the analog teams running Virtuoso by using the <em>Pre-compiled libraries (-reflib) Settings </em>option in ADE Explorer. This allows for seamless integration between the GUI and command-line use models. Design cycle productivity can be greatly enhanced when using precompiled, external text with this methodology. Time is saved during netlisting and compilation iterations by using external reference libraries.</p>

<h4>
<a id="pgfId-1029847"></a><a id="30019"></a>Supporting Parameterized Bits Using a Pcell Symbol</h4>

<p>
<a id="pgfId-1029848"></a>In digital designs, parameterized port sizes are often used as a design reuse practice. However, in case of AMS Designer, the implementation of symbols does not support this practice. Therefore, in order to use parameterized bits, you need to create a Parameterized Cell (Pcell) symbol for the module instead of a symbol. A Pcell is a programmable cell defined in a way that each instance of the cell can be customized. And a schematic Pcell allows the connectivity of the cell to change according to parameters that are specified for each instance of the cell. </p>
<p>
<a id="pgfId-1029849"></a>Consider the following module containing an output pin named <code>out</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029850"></a>module xyz (out,in);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029851"></a>parameter integer bits=26;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029852"></a>output[0:bits] out;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029853"></a>input in;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029854"></a>logic out;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029855"></a>logic in;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029856"></a>assign out = ~in;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029857"></a>Endmodule</pre>

<p>
<a id="pgfId-1029858"></a>The module <code>xyz</code> can be reused in several designs with each having a different number of bits. In this case, bits is an integer parameter that controls the variable bus width of the output pin, out. When a Pcell symbol is created for this module, it contains a pin named <code>out&lt;0:26&gt;</code> and changing the value of the instance parameter, bits, changes the bus width of the output pin, out, for that instance of the module. When you change the value of bits, the port name for the Pcell symbol also changes accordingly. Therefore, there can be multiple instances of the same module with varying widths of the bus. </p>
<p>
<a id="pgfId-1029859"></a>You can either create a new Pcell symbol or convert an existing symbol into a Pcell symbol and then use the Pcell symbol in your design, which can be netlisted in AMS UNL.</p>
<p>
<a id="pgfId-1029861"></a>To know how to create a Pcell, see <h-hot><a actuate="user" class="URL" href="../pcellref/skillPcells.html" show="replace" xml:link="simple">Creating SKILL Parameterized Cells</a></h-hot> in the <em>Virtuoso Parameterized Cell Reference</em>. </p>
<p>
<a id="pgfId-1029862"></a>To convert an existing symbol into a Pcell symbol, perform the following steps:</p>
<ol><li>
<a id="pgfId-1029863"></a>Open the symbol in the Virtuoso Schematic Editor and enter the following code in the CIW:<br />
<a id="pgfId-1029864"></a><code>dbWriteSkill(geGetWindowCellView() &quot;mysymbol.il&quot; &quot;w&quot; &quot;4.4&quot;)</code><br />
<a id="pgfId-1029865"></a>A file named <code>mysymbol.il</code> is created. The code in this file contains all the correct coordinates, matching labels, and the net information.</li><li>
<a id="pgfId-1029866"></a>In the code generated in the <code>mysymbol.il </code>file, the pin name is a fixed pin name as shown below:<br />
<a id="pgfId-1029867"></a><code>dbD_0xc6384f4 = dbCreateNet(dbD_0xc62882c &quot;out&lt;26:0&gt;&quot; nil)</code><br />
<a id="pgfId-1029868"></a>Parameterize the pin names in the code as shown below:<br />
<a id="pgfId-1029869"></a><code>dbD_0xc6384f4 = dbCreateNet(pcCellView sprintf(op &quot;out&lt;%d:0&gt;&quot; bits) nil)</code></li></ol>






<p>
<a id="pgfId-1029870"></a>After creating the Pcell, perform the following steps: </p>
<ol><li>
<a id="pgfId-1029871"></a>Load the file <code>mysymbol.il</code>, which contains the code of the Pcell, in CIW to generate the Pcell symbol.</li><li>
<a id="pgfId-1029872"></a>You can create a new verilogAMS cellview for the Pcell symbol or use an existing verilogAMS cellview of the Pcell symbol.</li><li>
<a id="pgfId-1029873"></a>Netlist the design.</li></ol>



<h4>
<a id="pgfId-1029875"></a><a id="69303"></a>Using the Verilog 2001 Configuration</h4>

<p>
<a id="pgfId-1029876"></a>UNL supports Verilog 2001 (V2001) configuration, which allows you to configure the contents of a design. The V2001 configuration provides the flexibility of configuring every instance in Verilog language.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029877"></a>It is recommended that you compile the Verilog 2001 config using the <code>-compcnfg</code> option as the -<code>libmap</code> option does not support the use of <code>-v</code>/<code>-y </code>xrun options.</div>
<p>
<a id="pgfId-1029878"></a>Perform the following steps to enable Verilog 2001 in UNL:</p>
<ol><li>
<a id="pgfId-1029879"></a>Choose <em>Simulation</em> &#8211; <em>Options</em> &#8211; <em>AMS Simulator</em>. <br />
<a id="pgfId-1029880"></a>The AMS Options form appears.</li><li>
<a id="pgfId-1029881"></a>Perform the following steps:<ul><li>
<a id="pgfId-1029882"></a>To set the Verilog config block and UNL top as the same-top, wherein the Verilog config top and UNL top have the same top levels, perform the following steps:<ul><li>
<a id="pgfId-1029883"></a>Specify the following xrun options in the <em>Additional Arguments </em>field on the Main tab:
<code>myconfig.v -compcnfg -top cfg1</code></li><li>
<a id="pgfId-1029884"></a>Add the code for <code>cfg1 </code>in the Verilog configuration file, <code>lib.map </code>or <code>myconfig.v</code>, as shown below:</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029885">
<a id="pgfId-1029885"></a> config cfg1;
  design zambezi45_sim.tb_dut;
  //    Set default library search order
  default liblist  behav_lib analog_lib gate_lib;
  //    Select gate-level implementation for DUT0.m0 instance of MUX
  instance tb_dut.DUT0.m0 liblist analog_lib;
 endconfig</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029886"></a>Ensure that the parameter <code>design</code> in the Verilog configuration file, such as <code>zambezi45_sim.tb_dut </code>in the code for <code>cfg1</code> given above, is the same as the top-level design unit specified in the <em>config</em> view of HED. </div></li><li>
<a id="pgfId-1029887"></a>To set the Verilog config block as the sub-top, wherein the Verilog config top and UNL top are the same, but Verilog config uses a sub-config which does not match the top , perform the following steps:<br /><ffi2-fig-frame-in-2 id="#id1029891">
<a id="pgfId-1029891"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="237" height="105" src="images/chap15-57.gif" /></div><ul><li>
<a id="pgfId-1029892"></a>Specify the following xrun options in the <em>Additional Arguments </em>field on the <em>Main</em> tab:
<code>myconfig.v -compcnfg -top cfg1</code></li><li>
<a id="pgfId-1029893"></a>Add the code for <code>cfg1 </code>in the Verilog configuration file, <code>lib.map </code>or <code>myconfig.v</code>, as shown below:</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029894">
<a id="pgfId-1029894"></a> config cfg1;
  design zambezi45_sim.tb_dut;
  //    Set default library search order
  default liblist  behav_lib analog_lib gate_lib;
  //    Select gate-level implementation for DUT0.m0 instance of MUX
  instance tb_dut.DUT0.m0 liblist analog_lib;
 endconfig</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029895"></a>Ensure that the parameter <code>design</code> in the master Verilog configuration file, such as <code>zambezi45_sim.tb_dut </code>in the code for <code>cfg1</code> given above, is the same as the top-level design unit specified in the <em>config</em> view of HED.</div></li><li>
<a id="pgfId-1029896"></a>To set the Verilog config block and UNL top as the parallel-top, wherein the Verilog config top and UNL top are at the same level of design, perform the following steps:<ul><li>
<a id="pgfId-1029897"></a>Specify the following xrun options in the <em>Additional Arguments </em>field on the Main tab:
<code>myconfig.v -compcnfg -top cfg1</code></li><li>
<a id="pgfId-1029898"></a>Add the code for <code>cfg1 </code>in the Verilog configuration file, <code>lib.map </code>or <code>myconfig.v</code>. In this case, the parameter <code>design</code> in the Verilog configuration file does not have to be the same as the top-level design unit specified in the <em>config</em> view of HED.<br /><ffi2-fig-frame-in-2 id="#id1029902">
<a id="pgfId-1029902"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="247" height="141" src="images/chap15-58.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029903"></a>The additional statement, <code>-top cfg1</code> is mandatory for using the Verilog 2001 config with UNL.</div></li></ul></li></ul></li></ol>





























<h3>
<a id="pgfId-1035434"></a>Exporti<a id="IP_Export"></a>ng IP Blocks in AMS UNL</h3>

<p>
<a id="pgfId-1035695"></a>With AMS UNL, you can export a DUT IP block (database), which includes the netlist, text files, and configuration, and then reuse it later in different testbenches running simulations with the Spectre AMS simulator. It helps simulate the design without having the need to provide absolute paths and then configure the complete design on the System on Chip (SoC) level. By default, the exported IP is saved in your current working directory, however, you can also specify the location where you want to save the IP database. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035696"></a>The exported IP database can be reused after updating the extracted setup files that contain the definitions for the LINUX file paths. </div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1035697"></a>
This feature is available only in Xcelium 17.04 or higher versions.</div>

<p>
<a id="pgfId-1035438"></a>The following figure shows the architecture for IP export in analog and digital design flows:</p>

<p>
<a id="pgfId-1035442"></a></p>
<div class="webflare-div-image">
<img width="538" height="293" src="images/chap15-60.gif" /></div>

<p>
<a id="pgfId-1035443"></a>To export the netlist and other binding information (referred as IP), </p>

<ul><li>
<a id="pgfId-1035444"></a>Choose <em>Tools &#8211; Export &#8211; Export as IP block</em>.<br />
<a id="pgfId-1035445"></a>The AMS IP Export form appears.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035446"></a>The <em>Export as IP block</em> menu option becomes available only when you have the netlist available for the current design. If not, you need to run a simulation to obtain the netlist.</div>
<a id="pgfId-1035450"></a><div class="webflare-div-image">
<img width="638" height="297" src="images/chap15-61.gif" /></div>
<a id="pgfId-1035451"></a>This form includes the following three tabs:<ul><li>
<a id="pgfId-1035452"></a><em>Main</em>:<ul><li>
<a id="pgfId-1035453"></a><em>IP Export Directory</em>&#8212;Directory path at which the IP database is to be exported. By default, it is exported in the current working directory.</li></ul></li><li>
<a id="pgfId-1035454"></a><em>SystemVerilog Configuration File:</em><br />
<a id="pgfId-1035458"></a><div class="webflare-div-image">
<img width="638" height="271" src="images/chap15-62.gif" /></div><ul><li>
<a id="pgfId-1035763"></a><em>System Verilog Configuration Nam</em>e&#8212;Specify the configuration name to be used for the Verilog 2001 configuration file generation.</li><li>
<a id="pgfId-1035764"></a><em>Testbench Top Cell Name</em>&#8212;Name of the testbench where the exported IP is to be instantiated.</li><li>
<a id="pgfId-1035765"></a><em>Hierarchical Path of Instance of IP Block</em>&#8212;Hierarchical path of the instance in the testbench where the exported IP is to be instantiated.</li><li>
<a id="pgfId-1035766"></a><em>IP Label</em>&#8212;Specify the label name to be used in the exported directory name. This label is a string value used to differentiate the AMSD bindings setup when you have multiple netlists exported as IPs. By default, the configuration view name is used as the IP label.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035463"></a>For example, the name of the exported IP directory is displayed as <code>ipExport-amsPLL-PLL_160MHZ_sim-config</code>, where <code>ipExport</code> is the predefined label, <code>amsPLL</code> is the library, <code>PLL_160MHZ_sim</code> is the cell name, and <code>config</code> is the IP label.</div></li></ul></li><li>
<a id="pgfId-1035464"></a><em>Miscellaneous</em>:<br />
<a id="pgfId-1035468"></a><div class="webflare-div-image">
<img width="660" height="405" src="images/chap15-63.gif" /></div></li><li>
<a id="pgfId-1035795"></a><em>Netlisting Setting</em>&#8212;Select the following check boxes to specify which inherited connections are to be printed in the .<code>vams</code> file.<ul><li>
<a id="pgfId-1035796"></a><em>Drill Inherited Connection</em></li><li>
<a id="pgfId-1035797"></a><em>Drill Inherited Connection on Top</em><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035798"></a>These check boxes are selected by default.</div></li></ul></li><li>
<a id="pgfId-1035799"></a><em>Print ADE Simulation Options</em>&#8212;Specify which ADE simulation options are to be printed during IP export. Select <em>all</em> to choose all the options and <em>selected</em> to choose all or some of the following options:<ul><li>
<a id="pgfId-1035800"></a><em>Model Setup</em></li><li>
<a id="pgfId-1035801"></a><em>Performance Options</em></li><li>
<a id="pgfId-1035476"></a><em>Connect Rules/IE Setup</em></li><li>
<a id="pgfId-1035477"></a><em>Analog Control File</em></li></ul></li><li>
<a id="pgfId-1035818"></a><em>Enable Encryption</em>&#8212; Select this check box to encrypt the exported IP directory to protect it from unauthorized access.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035819"></a>When <em>Enable Encryption</em> is selected, you will not be able to read the source file. The respective warning messages are displayed if any issues are found during the compilation, elaboration, and simulation operations in the IP database. The information about encrypted filenames and source location is not shared in the messages.</div></li><li>
<a id="pgfId-1043729"></a><em>Export HDL Files</em>&#8212; Select this check box to copy the HDL files to the specified IP Export path.</li><li>
<a id="pgfId-1059067"></a><em>Preserve</em><a id="preserveEnvVar"></a> <em>Env</em> <em>Variables</em>&#8212; Select this check box to save all the environment variables set while working on the AMS IP Export flow. These variables are saved in a file named <code>exported_env_vars.sh </code>in the IP export directory. <br />
<a id="pgfId-1059838"></a>If required, you can also modify the values of the variables saved in this file and source it before running a simulation to set all the environment variables as specified during the IP export. </li><li>
<a id="pgfId-1065818"></a><em>Enable</em> <em>Export</em> <em>DUT</em> <em>Cell</em> <em>As</em> <em>Top</em>&#8212; Select this check box to export the IP block from the specified DUT configuration.<br />
<a id="pgfId-1066005"></a>In the <em>DUT</em> <em>Configuration</em> group box, specify the details in the following fields.<ul><li>
<a id="pgfId-1066081"></a><em>Library</em>&#8212; specify the DUT library name.</li><li>
<a id="pgfId-1066100"></a><em>Cell</em>&#8212; specify the DUT cell name.</li><li>
<a id="pgfId-1066107"></a><em>View</em>&#8212; specify the DUT view name.</li></ul></li></ul></li></ul>
















































<p>
<a id="pgfId-1063551"></a>To know more, refer to the <h-hot><a actuate="user" class="URL" href="https://support.cadence.com/apex/articleattachmentportal?id=a1O0V0000090ziZUAQ&amp;pageName=ArticleContent&amp;attachId=0690V000004ZP7KQAW&amp;sq=null" show="replace" xml:link="simple">AMS IP Export Reuse Flow</a></h-hot> rapid adoption kit on Cadence Online Support.</p>
<p>
<a id="pgfId-1035831"></a>To know about the <code>runams</code> options used to export the netlist and other binding information, see <a href="chap15.html#30645">IP Export Options</a>.</p>
<p>
<a id="pgfId-1057698"></a>To view the complete list of <code>runams</code> command-line options, see <a href="chap15.html#16741">Using the runams Command</a>.</p>

<h4>
<a id="pgfId-1029906"></a><a id="81228"></a>Shorting Devi<a id="amsunlShortDevices"></a>ces </h4>

<p>
<a id="pgfId-1029908"></a>You can use Hierarchy Editor (HED) or the <a href="../anasimhelp/appA.html#shortInstanceList">shortInstanceList</a> environment variable to short devices when using the AMS Unified Netlister. </p>
<p>
<a id="pgfId-1029909"></a>See the next topic for information on how to short devices using HED.</p>

<h4><em>
<a id="pgfId-1029910"></a>Shorting Devices Using Hierarchy Editor</em></h4>

<p>
<a id="pgfId-1029911"></a>You can set the property <code>unlconn</code> in Hierarchy Editor (HED) to short devices. This property can be set on the cell, instance, or occurrence level in HED.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029912"></a>Currently this property is supported only for devices with two terminals.</div>
<p>
<a id="pgfId-1029913"></a>Open the config corresponding to your design in HED and perform the following steps:</p>
<ol><li>
<a id="pgfId-1029914"></a>Choose <em>View</em> &#8211; <em>Properties</em> to view the properties applied on each instance.</li><li>
<a id="pgfId-1029915"></a>Choose <em>Edit</em> &#8211; <em>Add Property</em> <em>Column</em> to add a new property.<br />
<a id="pgfId-1029916"></a>The Add a Property Column form appears. <br />
<a id="pgfId-1029920"></a> <div class="webflare-div-image">
<img width="335" height="186" src="images/chap15-64.gif" /></div>
<a id="pgfId-1029921"></a> Perform the following steps:<ol><li>
<a id="pgfId-1029922"></a>Specify the name of the property as <code>unlconn</code>. </li><li>
<a id="pgfId-1029923"></a>Ensure that <code>String</code> is selected in the <em>Property Type</em> drop down list box.</li><li>
<a id="pgfId-1029924"></a>Click <em>OK</em> or <em>Apply</em>.</li></ol><br />
<a id="pgfId-1029925"></a>A new property column, <em>unlconn,</em> is added in HED as shown below: <br />
<a id="pgfId-1029929"></a><div class="webflare-div-image">
<img width="732" height="163" src="images/chap15-65.gif" /></div></li><li>
<a id="pgfId-1029930"></a>Specify the value <code>short</code> in the <em>unlconn</em> property column next to the cell or instance you want to short, as shown below:<br />
<a id="pgfId-1029934"></a><div class="webflare-div-image">
<img width="732" height="153" src="images/chap15-66.gif" /></div></li></ol>






















<p>
<a id="pgfId-1029935"></a>When you netlist the design, the cell or instance, for which you have set the <code>unlconn</code> property, are shorted in the generated netlist.</p>
<p>
<a id="pgfId-1029936"></a><strong>Other Important Points to Note</strong></p>
<ul><li>
<a id="pgfId-1029937"></a>This property is supported only for the AMS UNL netlister.</li><li>
<a id="pgfId-1029938"></a>This property must be set only on a stopping device. If this property is set on a non-stopping device, an error message is displayed in the CIW.</li><li>
<a id="pgfId-1029939"></a>Since HED properties are stored in the HED file <code>prop.cfg</code>, you need to create a new config for designs in which devices are to be shorted. </li><li>
<a id="pgfId-1029940"></a>This property does not short a device globally. However, you can set this property on all the devices of a particular master in the<em> Table View</em> tab. This needs to done for each config separately.</li></ul>




<h4>
<a id="pgfId-1030637"></a><a id="96214"></a>Using the sim_s<a id="usingsimstub"></a>tub Property</h4>

<p>
<a id="pgfId-1030638"></a>The <code>sim_stub</code> property removes a bound schematic, Verilog-A, Verilog-AMS, Spectre, or SPICE block from the configuration and replaces the schematic or block with a stub module that is empty except the interfaces and discipline declarations. </p>
<p>
<a id="pgfId-1030639"></a>By eliminating portions of your design, this property helps you identify the blocks that slow down the simulation. However, your design may not simulate correctly if you eliminate the circuitry for essential functions, such as signal generation.</p>
<p>
<a id="pgfId-1030641"></a>For more information about this property, see <h-hot>sim_stub Property</h-hot> in <em>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide</em>.</p>
<p>
<a id="pgfId-1030642"></a>Stubs are of two kinds: </p>
<ul><li>
<a id="pgfId-1030643"></a>Digital &#8212; Such as Verilog-AMS modules. You can specify the value of the <code>sim_stub</code> property for such modules in the <span class="webflare-courier-new" style="white-space:pre"><em>lib</em></span><code>.</code><span class="webflare-courier-new" style="white-space:pre"><em>cell</em></span><code>:</code><span class="webflare-courier-new" style="white-space:pre"><em>view</em></span> format.<br />
<a id="pgfId-1030644"></a>For example, consider a cell, <code>vco</code>, which is a Verilog-AMS module with a cell-based binding configuration. The following steps show how to stub out <code>vco</code> using HED:<ol><li>
<a id="pgfId-1030645"></a>Choose <em>View</em> &#8211; <em>Properties</em>. The <em>sim_stub</em> property column is displayed in both table view and tree view.</li><li>
<a id="pgfId-1030646"></a>In the table view, enter <code>amspll.vco:verilogams</code> in the <em>sim_stub</em> property column for <code>vco</code>. Alternatively, to automatically set the value, right-click in the <em>sim_stub</em> property column for <code>vco</code> and select <em>Set Cell Property</em>.</li></ol></li><li>
<a id="pgfId-1030647"></a>Analog &#8212; Such as Spectre or SPICE blocks. You can set the <code>sim_stub</code> property for a cell, instance, or an occurrence binding configuration in the <code>{-cell </code><span class="webflare-courier-new" style="white-space:pre"><em>cell</em></span><code>} -src </code><span class="webflare-courier-new" style="white-space:pre"><em>sourcefile</em></span> format.<br />
<a id="pgfId-1030648"></a>For example, consider an instance, <code>I0</code>, whose SPICE master subcircuit is <code>phaseDetPath</code> in an instance-based binding configuration. The following steps show how to stub out <code>IO</code> using HED:<ol><li>
<a id="pgfId-1030649"></a>Choose <em>View</em> &#8211; <em>Properties</em>. The <em>sim_stub</em> property column is displayed in both table view and tree view.</li><li>
<a id="pgfId-1030650"></a>In the tree view, enter <code>-cell phaseDetPath -src $CDIR/phaseDetPath.scs</code> in the <em>sim_stub</em> property column for the <code>phaseDetPath</code>.</li></ol></li></ul>











<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030625"></a>You can use the <code>-libverbose</code> xrun option to add the design unit resolving information in the <code>xrun.log</code> file.</div>

<h4>
<a id="pgfId-1029943"></a><a id="45591"></a>Creating Simulation Scr<a id="_amsaExportIrunForm"></a>ipts for xrun</h4>

<p>
<a id="pgfId-1029944"></a>Use the <em>Simulation scripts for xrun</em> option to export the simulation files from the netlist directory. This option copies all the files required for running the simulation, and generates the <code>xrunScript</code> file in the export directory. You can run the <code>xrunScript</code> file to run the AMS simulation from the command-line.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029945"></a>The <em>Simulation scripts for xrun</em> option copies all the files from the netlist directory except the definition, model, and stimulus files.</div>
<p>
<a id="pgfId-1029946"></a>To export the simulation files,</p>
<ol><li>
<a id="pgfId-1029947"></a>Choose <em>Tools &#8211; Export &#8211; Simulation scripts for xrun</em>.<br />
<a id="pgfId-1029948"></a>The <em>Export xrun Controls </em>form appears. <br />
<a id="pgfId-1029952"></a><div class="webflare-div-image">
<img src="images/amsunl/exportirunControl.gif" /></div></li><li>
<a id="pgfId-1077539"></a>In the <em>xrun Export Directory</em> field, specify the directory where the simulation files are to be exported.</li><li>
<a id="pgfId-1029953"></a>In the <em>Data Export Mode</em> field, select one of the following options:<ul><li>
<a id="pgfId-1029954"></a><em>Write Absolute paths</em>&#8212;Select this option to use the absolute paths in the <code>textInputs</code> file for the text view.</li><li>
<a id="pgfId-1029955"></a><em>Choose Copy Files</em>&#8212;Select this option to use relative paths in the <code>textInputs</code> file. This option copies all the files, including the sub-directories, referred in the textInputs file from the cellview directory to the export directory.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029956"></a>The <code>textInputs</code> file contains the text files for text views in the design.</div></li></ul></li><li>
<a id="pgfId-1029957"></a>Regenerate the netlist file and other simulation input files before exporting by selecting the <em>Regenerate Netlist </em>check box.</li><li>
<a id="pgfId-1076356"></a>(Optional) Select the <em>Export AMS Output</em> check box to create an OCEAN file <code>amsOutput.ocn</code> in the specified directory that saves all the output expressions along with the amap file. This amap file is saved in the <span class="webflare-courier-new" style="white-space:pre"><em>xrunExportDirectory</em></span><code>/netlist</code> directory.</li><li>
<a id="pgfId-1029958"></a>Click OK.</li></ol>














<h4>
<a id="pgfId-1030718"></a><a id="62985"></a>Reusing an Advanc<em></em><a id="advTBR"></a>ed Testbench</h4>

<p>
<a id="pgfId-1030944"></a>The Advanced Testbench Reuse mode lets you reuse an existing verification setup and a top-level module to reduce the verification effort. With this mode, you can reuse a digital super top above the AMSD HED configuration that you are simulating in ADE. </p>
<p>
<a id="pgfId-1030720"></a>For example, assume that you have created an AMSD ADE testbench with an HED configuration. In parallel, the digital team has created a UVM testbench above the design under test (DUT) simulated in the AMSD ADE flow. Now, if you want to reuse the Digital on Top (DoT) setup from the digital team&#8217;s setup, the <h-hot><a href="chap15.html#advTBReuseForm">Advanced Testbench Reuse</a></h-hot> form lets you do so in an efficient manner.</p>
<p>
<a id="pgfId-1030725"></a>See <a href="chap15.html#86319">Benefits of Reusing an Advanced Testbench</a> for more information.</p>
<p>
<a id="pgfId-1030958"></a>There are two modes of reusing an advanced testbench:</p>
<ul><li>
<a id="pgfId-1030960"></a>Full <a id="advTBRFullMode"></a>Mode&#8212;Automatically creates a SystemVerilog configuration file using the options you set to configure the DoT partitioning configuration in the <a href="chap15.html#advTBReuseForm">Advanced Testbench Reuse</a> form. This mode automatically instantiates the AMSD HED configuration and allows to configure HDL instances outside the DUT by using the same SystemVerilog configuration. <br />
<a id="pgfId-1030962"></a>You can use this mode if you do not have a SystemVerilog configuration for the top-level testbench in place. </li><li>
<a id="pgfId-1030964"></a>Simple <a id="advTBRSimpleMode"></a>Mode&#8212;Uses an existing DoT SystemVerilog configuration file, and reuses all the options, files, and setup coming from the digital flow. The configuration file only needs to be extended in order to define the desired instantiation of the AMSD HED configuration. <br />
<a id="pgfId-1030965"></a>You can use this mode if you have the DoT SystemVerilog configuration to place above the AMSD HED configuration.</li></ul>



<p>
<a id="pgfId-1030734"></a>Perform the following steps to enable the Advanced Testbench Reuse mode and set the required options:</p>
<ol><li>
<a id="pgfId-1030736"></a>Choose <em>Tools</em> &#8211;<em> A</em><a id="advTBReuseForm"></a><em>dvanced Testbench Reuse</em>. The Advanced Testbench Reuse form appears. <br />
<a id="pgfId-1030740"></a><div class="webflare-div-image">
<img src="images/AdvancedTestbenchReuseForm.gif" /></div></li><li>
<a id="pgfId-1030978"></a>To enable this mode, select the <em>Enable Advanced Testbench Mode</em> check box.</li><li>
<a id="pgfId-1030979"></a>Select one of the following modes:<ul><li>
<a id="pgfId-1030981"></a><em>Advanced Testbench Reuse Full Mode</em>&#8212;Enables the <a href="chap15.html#advTBRFullMode">Full Mode</a> for reusing an advanced testbench. This mode is selected by default. </li><li>
<a id="pgfId-1031116"></a><em>Advanced Testbench Reuse Simple Mode</em>&#8212;Enables the <a href="chap15.html#advTBRSimpleMode">Simple Mode</a> for reusing an advanced testbench and the following options are displayed.<br /><ffi2-fig-frame-in-2 id="#id1031117">
<a id="pgfId-1031117"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/AdvancedTestbenchReuseForm2.gif" /></div>
<a id="pgfId-1031118"></a>In this mode, a SystemVerilog configuration file&#160;is not generated. If you have an existing SystemVerilog configuration&#160;for your testbench, pass it to xrun using the <code>-f</code> option in the <em>xrun Arguments for Testbench</em> table. Also, define the top cell name using the <code>-top</code> option&#160;in the <em>xrun Arguments for Testbench</em> table.</li></ul></li><li>
<a id="pgfId-1075091"></a>(Optional) In the <em>Add Prefix to Virtuoso Library Name</em> field, specify a prefix for the Virtuoso library name.</li><li>
<a id="pgfId-1031025"></a>In the <em>SYSTEMVERILOG CONFIGURATION OPTIONS</em> section, specify the values for the following options:<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031026"></a>This section appears only when <em>Advanced Testbench Reuse Full Mode</em> is selected.</div><ul><li>
<a id="pgfId-1031027"></a><em>SystemVerilog Configuration Name</em>&#8212;Specify a name for the SystemVerilog configuration file to be generated.</li><li>
<a id="pgfId-1031028"></a><em>Testbench Library Name</em>&#8212;Specify the name of the library from which the top-level source description is to be used for the SystemVerilog configuration file. </li><li>
<a id="pgfId-1031029"></a><em>Testbench Top Cell Name</em>&#8212;Specify the name of the top-level cell from which the source description is to be used for the SystemVerilog configuration file.</li><li>
<a id="pgfId-1031030"></a><em>Default Library List</em>&#8212;Specify the libraries to be searched for the source descriptions to be added to the SystemVerilog file. These libraries are searched in the order in which they are specified. By default, all the subinstances of the top-level cell in the specified library are searched, which means that the source descriptions in all the <code>.sv</code> files or <code>.v</code> files mapped to these subinstances are used.</li><li>
<a id="pgfId-1031031"></a><em>Design Top Configuration Mode</em>&#8212;This can be set to one of the following:<ul><li>
<a id="pgfId-1031032"></a><em>Cell</em>&#8212;Select this option if you want all the subinstances in the specified top-level cell to be used for the instance binding of the DUT.</li><li>
<a id="pgfId-1031033"></a><em>Instance</em>&#8212;Select this option if you want only specific instances to be used for the instance binding of the DUT.</li></ul></li><li>
<a id="pgfId-1031034"></a><em>Design Top Cell Name</em>&#8212;Displays the name of the design top cell name. This field cannot be edited.</li><li>
<a id="pgfId-1031035"></a><em>Instance Name for Testbench</em>&#8212;Specify the names of the instances to be used for the instance binding of the DUT. Separate the names by a space character.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031036"></a>This field is disabled by default. It is enabled only when the <em>Instance</em> option is selected in the <em>Design Top Configuration Mode</em> field.</div></li><li>
<a id="pgfId-1031037"></a><em>Configuration Information for Parts in Parallel to the Design Top</em>&#8212;In this table, you can specify additional instance or cell bindings for unconfigured design parts in parallel to the DUT. <br />
<a id="pgfId-1031038"></a>If you want the binding information in a row to be added to the generated configuration file, click the <em>Enable</em> check box in that row.<br />
<a id="pgfId-1031039"></a>To move a row up or down, or to delete a row, right-click that row and choose an appropriate option.</li></ul></li><li>
<a id="pgfId-1031040"></a>In the XRUN OPTIONS section, specify the additional xrun arguments in the <em>xrun Options </em>column of the <em>xrun Arguments for Testbench</em> table.<br />
<a id="pgfId-1031041"></a>If you want the xrun arguments specified in a row to be added to the <code>xrunArgs</code> file, click the <em>Enable</em> check box in that row.<br />
<a id="pgfId-1031042"></a>To move a row up or down, or to delete a row, right-click that row and choose an appropriate option.</li><li>
<a id="pgfId-1031043"></a>Click <em>OK</em> or <em>Apply</em> to save the setup. <br />
<a id="pgfId-1031044"></a>When you netlist the design or run the simulation in this mode, the specified xrun options are added to the <code>xrunArgs</code> file. The <code>xrunArgs</code> file along with the generated or specified SystemVerilog configuration file is then passed to xrun for the top-level verification of complete Systems on Chip (SoCs).</li></ol>





































<h4><em>
<a id="pgfId-1031046"></a><a id="86319"></a>Benefits of Reusing an Advanced Testbench</em></h4>

<ul><li>
<a id="pgfId-1031047"></a>Complex use cases need to be created only once. This reduces the project overhead.</li><li>
<a id="pgfId-1031048"></a>The need to import a top-level Verilog, SystemVerilog, or VHDL testbench in Virtuoso is eliminated. No additional scripts are required for importing testbenches. This helps in keeping the OA versions synchronized with the DoT external text files.</li><li>
<a id="pgfId-1031049"></a>An existing digital verification setup (for example, <code>.f</code> files) can be used as is.</li><li>
<a id="pgfId-1031050"></a>SystemVerilog or Universal Verification Methodology (UVM) testbenches can be reused without a manual setup.</li><li>
<a id="pgfId-1031051"></a>Inconsistencies in the DUT are detected.</li><li>
<a id="pgfId-1031052"></a>The need to recreate complex stimuli in Virtuoso is eliminated because you can reuse a DoT stimuli from an existing setup.</li></ul>






<h4><em>
<a id="pgfId-1031054"></a><a id="19757"></a>Examples of Configurations Used in Simple Mode</em></h4>

<p>
<a id="pgfId-1031055"></a>Following are a few examples of custom SystemVerilog configurations that can be used in the <h-hot><a href="chap15.html#advTBRSimpleMode">Simple Mode</a></h-hot>:</p>
<ul><li>
<a id="pgfId-1031057"></a>For instance binding, that is, when only one instance of module <code>block_in_virtuoso</code> uses the HED configuration:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1031058">
<a id="pgfId-1031058"></a>config myconfig_verilog_top;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031059">
<a id="pgfId-1031059"></a>        // design top level (DoT)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031060">
<a id="pgfId-1031060"></a>        design testLib.verilog_top_block_external_as_text;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031061">
<a id="pgfId-1031061"></a>        // instantiation of the HED configuration for module &#8220;block_in_virtuoso&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031062">
<a id="pgfId-1031062"></a>        instance verilog_top_block_external_as_text.INST_TOP_IN_VIRTUOSO use cds_amsconfiglib.block_in_virtuoso:amsconfig;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031063">
<a id="pgfId-1031063"></a>        // instances of module &#8220;verilog_block_external_as_text&#8221; which are part of the DoT design (outside of the DUT in HED) </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031064">
<a id="pgfId-1031064"></a>        instance verilog_top_block_external_as_text.INST_verilog_block_external_as_text_v use testLib_external_IP.verilog_block_external_as_text:v;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031065">
<a id="pgfId-1031065"></a>        instance verilog_top_block_external_as_text.INST_verilog_block_external_as_text_vams use testLib_external_IP.verilog_block_external_as_text:vams;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031066">
<a id="pgfId-1031066"></a>endconfig</pre></li><li>
<a id="pgfId-1031067"></a>For cell binding, that is, when all instantiations of module block_in_virtuoso use the HED configuration: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1031068">
<a id="pgfId-1031068"></a>config myconfig_verilog_top;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031069">
<a id="pgfId-1031069"></a>        // design top level (DoT)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031070">
<a id="pgfId-1031070"></a>        design testLib.verilog_top_block_external_as_text;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031071">
<a id="pgfId-1031071"></a>        // use of the HED configuration for all instantiations of module &quot;block_in_virtuoso&quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031072">
<a id="pgfId-1031072"></a>        cell block_in_virtuoso use cds_amsconfiglib.block_in_virtuoso:amsconfig;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031073">
<a id="pgfId-1031073"></a>        // instances of module &quot;verilog_block_external_as_text&quot; which are part of the DoT design (outside of the DUT in HED) </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031074">
<a id="pgfId-1031074"></a>        instance verilog_top_block_external_as_text.INST_verilog_block_external_as_text_v use testLib_external_IP.verilog_block_external_as_text:v;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031075">
<a id="pgfId-1031075"></a>        instance verilog_top_block_external_as_text.INST_verilog_block_external_as_text_vams use testLib_external_IP.verilog_block_external_as_text:vams;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031076">
<a id="pgfId-1031076"></a>endconfig</pre></li><li>
<a id="pgfId-1031077"></a>When a Verilog sub-configuration is used for the BDUs inside an HED configuration, that is, when a block is marked as external text (BDU) in HED, the BDUs block can be configured by using SystemVerilog configurations, an example of which is given below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1031078">
<a id="pgfId-1031078"></a>config myconfig_verilog_top;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031079">
<a id="pgfId-1031079"></a>        // design top level (DoT)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031080">
<a id="pgfId-1031080"></a>        design testLib.verilog_top_block_external_as_text;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031081">
<a id="pgfId-1031081"></a>        // instantiation of the HED configuration for module &quot;block_in_virtuoso&quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031082">
<a id="pgfId-1031082"></a>        instance verilog_top_block_external_as_text.INST_TOP_IN_VIRTUOSO use cds_amsconfiglib.block_in_virtuoso:amsconfig;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031083">
<a id="pgfId-1031083"></a>        // instances of module &quot;verilog_block_external_as_text&quot; which are part of the DoT design (outside of the DUT in HED) </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031084">
<a id="pgfId-1031084"></a>        instance verilog_top_block_external_as_text.INST_verilog_block_external_as_text_v use testLib_external_IP.verilog_block_external_as_text:v;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031085">
<a id="pgfId-1031085"></a>        instance verilog_top_block_external_as_text.INST_verilog_block_external_as_text_vams use testLib_external_IP.verilog_block_external_as_text:vams;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031086">
<a id="pgfId-1031086"></a>       // using verilog sub config for a BDU (verilog_bdu_top)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031087">
<a id="pgfId-1031087"></a>       instance verilog_top_block_external_as_text.INST_TOP_IN_VIRTUOSO.INST_verilog_bdu_top_block_external_as_text use testLib_external_IP_BDU.verilog_bdu_top:config;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1031088">
<a id="pgfId-1031088"></a>endconfig</pre></li></ul>
































<h4>
<a id="pgfId-1044840"></a><a id="27875"></a>Working with DSPF files</h4>

<p>
<a id="pgfId-1044872"></a>The Detailed Standard Parasitic Format files (DSPF files) contain the post-layout data, which includes the designed and parasitic devices in a design. These files are created using the parasitic extraction tools. Therefore, the content and format of each DSPF file is dependent on the extraction tool. To run simulations for designs containing devices represented by DSPF files, ADE Assembler needs to consider these components in a way different than the devices with schematic.</p>
<p>
<a id="pgfId-1044887"></a>For more details, refer to the section <h-hot>Including DSPF files in the Setup</h-hot> in the Virtuoso ADE Assembler User guide.</p>

<h3>
<a id="pgfId-1029959"></a>Limitations of AMS UNL</h3>

<p>
<a id="pgfId-1029960"></a>The following are the limitations of AMS UNL:</p>
<ul><li>
<a id="pgfId-1029961"></a>The HED Reference Verilog Property (<code>VerilogFile</code>) must be leaf-level with no hierarchy. The simulator will generate an error if the Verilog files contain hierarchy. <code>VerilogFile</code> will eventually be deprecated.</li><li>
<a id="pgfId-1029962"></a>Verilog-A is considered a true DFII object only and still relies upon shadow and DFII operations.</li><li>
<a id="pgfId-1029963"></a>It is recommended to update all legacy <code>Verilog</code> <code>In</code>-generated standard cell digital libraries, which have old <code>pc.db</code> file formats with UDP instance &quot;I&quot; syntax and explicit library bindings. These libraries need <code>pc.db</code> files to be recreated, or created if missing, using xmvlog <code>-use5x</code> compilations to given proper<code> pc.db</code> file format. </li><li>
<a id="pgfId-1029964"></a>To support a global set of intended parameters for exclusion, you must use the following variable:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029965">
<a id="pgfId-1029965"></a>envSetVal(&quot;ams.netlisterOpts&quot;  &quot;amsExcludeParams&quot; &#39;string  &quot;&lt;param_list&gt;&quot;) </pre></li><li>
<a id="pgfId-1029966"></a>HED with <code>pc.db</code> no longer supports built-in analog primitives (from <code>analogLib</code>) structurally instantiated within VerilogAMS text views. Binding cannot be altered on these primitives so they are removed from the <code>pc.db</code> file and rely on default Spectre bindings.</li><li>
<a id="pgfId-1029967"></a>Specification of <code>modelpath</code>, <code>ncuse5x</code>, and <code>cdslib</code> options is not supported in the <code>hdl.var</code> file. The following error messages are generated if these options are specified in the <code>hdl.var</code> file: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029968">
<a id="pgfId-1029968"></a>ERROR (AMS-2520): Cannot generate the netlist because the &#39;modelpath&#39; option has been specified in the hdl.var file. The modelpath specification in the hdl.var file has been deprecated and is not supported in the AMS Unified Netlister flow.</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029969">
<a id="pgfId-1029969"></a>Remove the modelpath option from the hdl.var file and specify it using Setup - Model Libraries option and regenerate the netlist.</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029970">
<a id="pgfId-1029970"></a>ERROR (AMS-2521): Cannot generate the netlist because the &#39;ncuse5x&#39; option has been specified in the hdl.var file. Remove the option from the hdl.var file and use xrun to recompile the cell. Next, reference its library for design elaboration using the -reflib option in the xrun option form.</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029971">
<a id="pgfId-1029971"></a>ERROR (AMS-2522): Cannot generate the netlist because the &#39;cdslib&#39; option has been specified in the hdl.var file. The cdslib specification in the hdl.var file has been deprecated and is not supported in the AMS Unified Netlister flow. Remove the cdslib option from the hdl.var file and regenerate the netlist.</pre></li><li>
<a id="pgfId-1029972"></a>When importing or editing SystemVerilog, Verilog, or VHDL text source using the DFII text editor, the usual OA shadow creation errors may arise with the content of the text source code and not allow the shadow to be properly created. This is fine with UNL usage since the shadow can be fully ignored now. As long as the <code>pc.db</code> is properly created during this step with xmvlog <code>-use5x</code>, the text view is ready for UNL netlisting. </li><li>
<a id="pgfId-1029973"></a>When using inherited connections with HED occurrence and/or inherited <em>Library List</em>/<em>View List</em> bindings, <code>cds_variants</code> will be created internally and used. A problem arises where the parent <code>inhconn netSet</code> value does not propagate down the child hierarchy to override child net expressions; therefore, the default property values will be used and will influence simulation results adversely.</li><li>
<a id="pgfId-1045023"></a>AMS UNL uses the core OSS Netlister and allows a legacy <code>OSSHNL-907</code> (warning) to slip through unnoticed by potentially removing cells from the netlist and affecting the resolved bindings at elaboration. This is commonly seen when you do not resolve <em>red</em> bindings in the HED and intend those bindings to resolve to external HDL (BDU).<br />
<a id="pgfId-1045390"></a>For example, you may see the following error message in the CIW during netlisting:<br />
<a id="pgfId-1045490"></a><code>WARNING (OSSHNL-907): Instance &#39;I0&#39; of cellview &#39;invLib/INVCHAIN/schematic&#39; in config &#39;invLib/INVCHAIN_TB/config&#39; has an invalid binding. It will be ignored during netlisting.</code><br />
<a id="pgfId-1045486"></a>The default value of <code>hnlInvalidBindingAction</code><a id="hnlInvalidBindingAction"></a> is <code>error</code>. Specifying this variable with it&#8217;s default value in the local <code>.simrc </code>file causes AMS UNL to report these errors on such invalid bindings and stop netlisting for you to resolve.</li><li>
<a id="pgfId-1029978"></a>A change in the text-based &#39;generate&#39; block construct behavior has taken place with UNL. Partial WDU generate access was visible in HED but changing cellviews below the &#8216;generate&#8217; block through HED did not work properly. Generate blocks are not evaluated fully until elaboration, therefore, compiling them and having a populated <code>pc.db</code> gives a false static initial state (seen in HED 5x). As a result, the <code>EXNEUS</code> errors generated when <code>pc.db</code> files are populated with generate instance hierarchy. The bind file is populated using <code>pc.db</code> files, therefore, the config card for the generate hierarchical cells gives a false impression that it will be used, however, xmelab determines the final outcome. For UNL usage, <code>pc.db</code> files will have generate hierarchical instances removed so <code>EXNEUS</code> errors are resolved and proper BDU bindings take place below the parent cellview.<br />
<a id="pgfId-1029979"></a>Cells with generate blocks must have their <code>pc.db</code> files updated to reflect this change. To do this, either recompile those cells into their master libraries with xmvlog/xmvhdl <code>-use5x</code>, or open the cell in the <em>Library Manager</em> and type<code>:wq!</code> in the editor window. If the libraries are not writable, check out the cell using DM, make the required changes, and check the cell back into DM. <br />
<a id="pgfId-1029980"></a>If a text cellview contains text hierarchy which has both a generate block with hierarchy and some other non-generate block text hierarchy structure, the parent-level cellview containing both can be compiled into 5x and configured as WDU to allow further WDU hierarchical configuration of the non-generate block text hierarchy. In this case, the generate block and it&#39;s hierarchy will be missing from HED visibility anyway since the <code>pc.db</code> was recreated to remove the generate block from possible misguided settings in HED. This way, you can still bind to text hierarchy which is not of generate block construct type.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029981"></a>With this <code>pc.db</code> change, HED configuration bindings will have to be altered for the parent cells that contain generate blocks with hierarchy. These cells must be bound as BDU digitalText with the HED <em>External HDL</em> binding mechanism. (This will allow them to auto-bind to digital versions of the cells using the xrun default binding engine). With this required change to BDU bindings, you must make available all generate block parent cell and generate block hierarchical cell source code available using xrun <code>-y</code>, <code>-v</code>,<code>-f</code> options.</div></li><li>
<a id="pgfId-1029982"></a>Using the <code>CDS_ALT_NMP</code> environment variable for VHDL case-sensitivity handling could change the NMP map algorithm. Cadence recommends that you do not use the following to preserve the case of entity and port names: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029983">
<a id="pgfId-1029983"></a>CDS_ALT_NMP=match</pre></li><li>
<a id="pgfId-1029984"></a>Using the xmvhdl 5x option <code>-keepcase4use5x</code> in legacy DFII VHDL flows will cause issues with the following scenario of VHDL case-sensitivity and mixed-language (verilog/vhdl) cellviews:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1029985">
<a id="pgfId-1029985"></a>inv.vhd:  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029986">
<a id="pgfId-1029986"></a>entity \InV\     -- escaped entity name</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1029987">
<a id="pgfId-1029987"></a>end entity</pre>
<a id="pgfId-1029988"></a>The 5.x LCV directory structure looks like the following:<pre class="webflare-pre-block webflare-courier-new" id="#id1029989">
<a id="pgfId-1029989"></a>library/InV/view</pre></li></ul>




























<p>
<a id="pgfId-1029990"></a>The netlister generates text inputs like the following:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029991"></a>-makelib -specificunit &quot;\InV\&quot; inv.vhd -endlib </pre>
<p class="webflare-indent1">
<a id="pgfId-1029992"></a>This works correctly in UNL.</p>
<p class="webflare-indent1">
<a id="pgfId-1029993"></a>If the entity name is not escaped (\\) while using <code>-keepcase4use5x</code>, it results in the following 5.x directory structure: <code>library/InV/view</code></p>
<p class="webflare-indent1">
<a id="pgfId-1029994"></a>The netlister generates the textInputs file and looks like the following:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029995"></a>-makelib -specificunit &quot;\InV\&quot; inv.vhd -endlib </pre>
<p class="webflare-indent1">
<a id="pgfId-1029996"></a>This does not work in UNL and results in following error:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1029997"></a>xmvhdl_p: *W,SPUNFW: specific library unit was never processed &#39;InV&#39;</pre>
<p class="webflare-indent1">
<a id="pgfId-1029998"></a>It is recommended that you escape ( \ \ ) the entity name if you need to keep the case sensitivity intact for DFII usage with a mixed language (both Verilog and VHDL) use of cellviews. The xmvhdl compiler always converts the cell name to lower case while xmvlog is case sensitive so it may store the cell in a different 5x directory. This causes a problem since this can result in the VHDL information being stored in a different directory than the Verilog module. HED (and other DFII tools) will not be able to find the VHDL information in the same location as the Verilog information (it will be treated as a different cell).</p>
<ul><li>
<a id="pgfId-1029999"></a>If Spectre user-defined functions (UDFs) are used only in the context of Spectre, then it works fine in the AMS flow. However, if the Spectre UDFs are used in the context of Verilog-AMS namespace, then you need to manually convert the Spectre UDFs into a Verilog-compatible macro and include those within the <code>netlist.vams</code> file.<br />
<a id="pgfId-1030000"></a>If required, macro conversion should be done manually just like any other cross-language function/macro conversion step. That is, a VHDL macro requires conversion to a Verilog macro to be used in that namespace. The case is the same for a Spectre function being used in a Verilog-AMS namespace. This flow requires you to perform the UDF to macro conversion manually, and then include the <code>macros.vams</code> header file in the <em>Include files</em> field under the <em>Netlister</em> tab of the <em>AMS Options</em> form.</li></ul>


<h4>
<a id="pgfId-1030002"></a><a id="85018"></a>Should an instance that is bound to a symbol view be netlisted in Spectre syntax (using spectre siminfo) or in Verilog syntax?</h4>

<p>
<a id="pgfId-1030003"></a>By default, if an instance in your design configuration is bound to a symbol view, the instance is considered digital, and hence netlisted in Verilog syntax. </p>
<p>
<a id="pgfId-1030004"></a>If you want a specific instance to be considered analog, and netlisted in Spectre syntax using Spectre siminfo, do the following:</p>
<ol><li>
<a id="pgfId-1030005"></a>Open your configuration in Hierarchy Editor.</li><li>
<a id="pgfId-1030006"></a>Choose <em>View &#8211; Tree</em>.</li><li>
<a id="pgfId-1030007"></a>Right-click the instance and choose <em>Set Instance View &#8211; Spectre</em>.</li></ol>


<p>
<a id="pgfId-1030008"></a>If you want all instances that are bound to a symbol view to be considered analog, do the following:</p>
<ol><li>
<a id="pgfId-1030009"></a>Choose <em>Simulation &#8211; Options &#8211; AMS Simulator.</em><br />
<a id="pgfId-1030012"></a>Th AMS Options form appears. for more informati, see <a href="chap15.html#43040">Setting up AMS Options</a>.</li><li>
<a id="pgfId-1030014"></a>Click the <em>Netlister</em> tab.</li><li>
<a id="pgfId-1030015"></a>Add <code>symbol</code> in the <em>Netlist using spectre CDF simInfo</em> field.</li></ol>




<h4>
<a id="pgfId-1030017"></a><a id="11189"></a>Netlisting of inherited connections</h4>

<p>
<a id="pgfId-1030018"></a>Inherited connections allow you to selectively override the global signals in your design. This allows you to use multiple power supplies in a single design. If you want to implement separate power supplies (analog and digital, for example, or <code>+3 V</code> and <code>+5 V</code>) in a hierarchical design, you can assign net expressions to those global signals whose defaults you might want to override. Then you can use <code>netSet</code> properties to specify the new values of the signals. For more information about inherited connections, see the <em>Inherited Connections Flow Guide</em> and the <em>Virtuoso Inherited Connections Tutorial</em>.</p>
<p>
<a id="pgfId-1030023"></a>The <code>netSet</code> properties are netlisted as <code>cds_net_set</code> attributes and evaluated by the elaborator. For example, the following <code>netSet</code> properties</p>

<p>
<a id="pgfId-1030037"></a></p>
<table class="webflareTable" id="#id1030024">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1030026">
<a id="pgfId-1030026"></a>Property</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1030028">
<a id="pgfId-1030028"></a>Value</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1030030"></a><code>vdd</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1030032"></a><code>3.3v!</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1030034"></a><code>xground</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1030036"></a><code>[@new_ground:%:gnd5!]</code></p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1030038"></a>will be netlisted as:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030039"></a>(* <br />integer cds_net_set<br />[0:1] = {&quot;xground&quot;, &quot;vdd&quot;};<br />integer xground[0:1] = {&quot;new_ground&quot;, &quot;cds_globals.\\gnd5!&quot; } ; <br />integer vdd = &quot;cds_globals.\\3.3v!&quot; ;<br />*)</pre>
<h4><em>
<a id="pgfId-1045811"></a>Important points to note:</em></h4>

<ul><li>
<a id="pgfId-1045771"></a>Use environment variable <code>UNL_KEEP_ACCURACY</code> to convert a double type value to a string type, then print it in <code>dna_assembler</code> process in netlisting. This conversion makes the date more accurate because a design variable value of type double is not truncated. For example, in <code>dna_assembler</code> flow, if a design variable of type double has value <code>32.0195312500</code>, it is printed in <code>%g</code> format. It prints up to 6 bits of floating point data, therefore, losing accuracy in the value. <br />
<a id="pgfId-1045772"></a>To set this variable in the CIW, use the call:<pre class="webflare-pre-block webflare-courier-new" id="#id1045855">
<a id="pgfId-1045855"></a>setenv UNL_KEEP_ACCURACY YES</pre></li><li>
<a id="pgfId-1030040"></a>To use inherited connections with Verilog A modules, you must add an additional port and specify the inherited connection attributes for each inherited connection. <br />
<a id="pgfId-1030041"></a>For example, in the Verilog A definition shown below:<pre class="webflare-pre-block webflare-courier-new" id="#id1030042">
<a id="pgfId-1030042"></a>module inhconn_spectre(vdd_out, gnd_out, <strong>global_vdd</strong>, <strong>global_gnd</strong>);
   inout vdd_out, gnd_out;
   input (* integer inh_conn_prop_name=&quot;global_vdd_prop&quot;;
            integer inh_conn_def_value=&quot;cds_globals.\\vdd! &quot;; *) global_vdd;
   input (* integer inh_conn_prop_name=&quot;global_gnd_prop&quot;;
            integer inh_conn_def_value=&quot;cds_globals.\\gnd! &quot;; *) global_gnd;
   electrical vdd_out, gnd_out, global_vdd, global_gnd;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030043">
<a id="pgfId-1030043"></a>   ...   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030044">
<a id="pgfId-1030044"></a>endmodule</pre><ul><li>
<a id="pgfId-1030045"></a>The ports <code>global_vdd</code> and <code>global_gnd</code> are extra ports added to use inherited connections. </li><li>
<a id="pgfId-1030046"></a>The inherited connection attributes for the <code>global_vdd</code> port are specified as<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1030047">
<a id="pgfId-1030047"></a>(* integer inh_conn_prop_name=&quot;global_vdd_prop&quot;;
integer inh_conn_def_value=&quot;cds_globals.\\vdd! &quot;; *)</pre>
<a id="pgfId-1030048"></a>and the inherited connection attributes for the <code>global_gnd</code> port is specified as<pre class="webflare-pre-block webflare-courier-new" id="#id1030049">
<a id="pgfId-1030049"></a>(* integer inh_conn_prop_name=&quot;global_gnd_prop&quot;;
integer inh_conn_def_value=&quot;cds_globals.\\gnd! &quot;; *)</pre>
<a id="pgfId-1030050"></a>Where the <code>inh_conn_prop_name</code> attribute specifies the name of the <code>netSet</code> property, and the <code>inh_conn_def_value</code> attribute specifies the value of the <code>netSet</code> property.</li></ul><br />
<a id="pgfId-1030051"></a>When the design is netlisted, the inherited connection attributes are printed in the netlist as:<pre class="webflare-pre-block webflare-courier-new" id="#id1030052">
<a id="pgfId-1030052"></a>wire (*
integer inh_conn_prop_name = &quot;global_gnd_prop&quot;;
integer inh_conn_def_value = &quot;cds_globals.\\gnd! &quot;;
*)
\global_gnd_prop_gnd! ;
wire (*
integer inh_conn_prop_name = &quot;global_vdd_prop&quot;;
integer inh_conn_def_value = &quot;cds_globals.\\vdd! &quot;;
*)
\global_vdd_prop_vdd! ;</pre>
<a id="pgfId-1030053"></a>and the I7 instance of the <code>inhconn_spectre</code> cell is netlisted as:<pre class="webflare-pre-block webflare-courier-new" id="#id1030054">
<a id="pgfId-1030054"></a>inhconn_spectre  I7 ( vdd_va_spectre , gnd_va_spectre , \global_vdd_prop_vdd! , \global_gnd_prop_gnd! ); </pre></li></ul>




















<h2>
<a id="pgfId-1018233"></a><a id="92568"></a>Setting Up the AMS Netlister<a id="select_ams_netlister"></a> Options</h2>

<p>
<a id="pgfId-1018238"></a>Use the AMS template in Hierarchy Editor to create the configuration for your top-level design. To set the options required for using AMS UNL:</p>
<ol><li>
<a id="pgfId-1018240"></a>Choose <em>Simulation &#8211; Netlist and Run Options</em>.<br />
<a id="pgfId-1018243"></a>The Netlist <a id="runopt"></a>and<a id="amsNetlistRunOptions"></a> Run Options form is displayed.<br />
<a id="pgfId-1057910"></a><div class="webflare-div-image">
<img width="667" height="612" src="images/chap15-70.gif" /></div>
<a id="pgfId-1018248"></a>The <em>AMS Unified Netlisting with xrun</em> option is selected by default when a new session is opened. </li><li>
<a id="pgfId-1018257"></a>In the <em>Run Options</em> section, specify the run options for the netlister.<ul><li>
<a id="pgfId-1018258"></a><em>Compile Incremental</em><br />
<a id="pgfId-1084523"></a>Select <em>All</em> to compile all modules.</li><li>
<a id="pgfId-1018259"></a><em>Elaborate Incremental</em><br />
<a id="pgfId-1084574"></a>Select <em>All</em> to elaborate all modules.</li><li>
<a id="pgfId-1018261"></a><em>Simulate</em></li><li>
<a id="pgfId-1018265"></a><em>Clean snapshot and pak files</em></li><li>
<a id="pgfId-1018267"></a><em>Compile VerilogA as Verilog-AMS</em></li><li>
<a id="pgfId-1064403"></a><em>Enable</em> <em>AMS</em> <em>flexible</em> <em>release</em> <em>matrix</em> </li><li>
<a id="pgfId-1084741"></a><em>Spectre</em><a id="changeSpectrePath"></a> <em>path</em> </li></ul></li><li>
<a id="pgfId-1018269"></a>In the <em>Simulation Mode</em> section:<ol><li>
<a id="pgfId-1084792"></a>Sele<em></em><a id="mixedSignalDebug"></a>ct the simulation mode as <em>Batch</em> <em>(normal) </em>or <em>Interactive</em> <em>(debugger)</em></li><li>
<a id="pgfId-1084802"></a>Select the <em>Enable</em> <em>mixed</em> <em>signal</em> <em>debugger</em> check box to view the SimVision debug environment for AMS simulator<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1064156"></a>This option is available only if the <em>Enable</em> <em>AMS</em> <em>flexible</em> <em>release</em> <em>matrix</em> check box is selected.</div></li><li>
<a id="pgfId-1090014"></a>Select <em>Enable cross selection</em> to select an object in Schematic Editor and have the corresponding simulation object selected in SimVision, and vice versa.</li></ol></li><li>
<a id="pgfId-1067366"></a>In the <em>Design Capture </em><a id="designCapture"></a>section, select <em>Enable design capture</em> to trace the files that are accessed by a simulation and package them so that the same setup can be run in a different session.</li><li>
<a id="pgfId-1018276"></a>In the Explorer <em>Save and Restart Options </em>section, select Enable process based save and restart to enable the process-based save and restart flow.</li><li>
<a id="pgfId-1018280"></a>Select <em>Enable save</em> to enable the <em>Save Options</em> group box. </li><li>
<a id="pgfId-1085005"></a>In the <em>Save Options</em> section, specify the options for saving simulation snapshots.<br />
<a id="pgfId-1085090"></a>For more information, see <a actuate="user" class="URL" href="../Explorer/chap15.html#saveOptionsSection" show="replace" xml:link="simple">Save Options</a>.</li><li>
<a id="pgfId-1085129"></a>Select <em>Enable restart</em> to enable the <em>Restart Options</em> group box.</li><li>
<a id="pgfId-1085203"></a>In the <em>Restart Options</em> section, specify the options for restarting a simulation from the saved snapshots.</li><li>
<a id="pgfId-1085331"></a>Click <em>OK</em>.</li></ol>


































<h4><em>
<a id="pgfId-1088337"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1088356"></a><a href="chap15.html#35652">Process-Based Save and Restart (PBSR) flow</a></p>
<p>
<a id="pgfId-1088362"></a><a href="chap15.html#99124">Saving Simulation Snapshots at Different Time Points</a></p>
<p>
<a id="pgfId-1088368"></a><a href="chap15.html#38625">Saving Simulation Snapshots Periodically</a></p>
<p>
<a id="pgfId-1088380"></a><a href="chap15.html#51959">Restarting a Simulation from a Saved Snapshot</a></p>
<p>
<a id="pgfId-1088386"></a><a href="chap15.html#82167">Netlist and Run Options Form</a></p>

<h2>
<a id="pgfId-1018282"></a><a id="35652"></a>Process-Bas<a id="PBSR"></a>ed Save and Restart (PBSR) flow</h2>

<p>
<a id="pgfId-1018283"></a>You can select <em>Enable</em> <em>process</em> <em>based</em> <em>save</em> <em>restart</em> in the Netlist and Run Options form to enable the Process- Based Save and Restart (PBSR) flow for Spectre AMS Designer simulation runs. This lets you save simulation snapshots during a transient analysis simulation run and later restart the simulation from a specific snapshot. </p>
<p>
<a id="pgfId-1056871"></a>Saving simulation snapshots is especially useful for large simulations where you might want to save the simulation state at regular intervals.</p>
<p>
<a id="pgfId-1090332"></a>This features lets you:</p>
<ul><li>
<a id="pgfId-1018284"></a>Save time by restarting simulation from a specific snapshot instead of restarting simulation from time <code>0</code>.</li><li>
<a id="pgfId-1018285"></a>Quickly debug simulation results by verifying only the snapshots in which you are interested.</li><li>
<a id="pgfId-1018286"></a>Restart from a known good point if simulation fails at any time due to a system failure, power outage, or other issues.</li></ul>


<p>
<a id="pgfId-1087506"></a>It is recommended to use the <em>Batch</em> simulation mode while using the PBSR flow. When you use this flow with the <em>Interactive(debugger)</em> simulation mode, AMS prints a statement in the <code>probe.tcl</code> file, as shown below, which pauses the interactive simulation at the SimVision MS console.</p>
<p>
<a id="pgfId-1087508"></a><code>stop -create -time 40ns -absolute -execute &quot;save snapshot_40n -overwrite&quot; -continue</code></p>
<p>
<a id="pgfId-1087502"></a>If you specify any additional save commands or restart point other than the ones specified in the Netlist and Run Options form, it leads to an unsupported state of the PBSR database.</p>

<h3>
<a id="pgfId-1018298"></a><a id="99124"></a>Saving Simulation Snapshots at Different Time Points</h3>

<p>
<a id="pgfId-1018299"></a>To save simulation snapshots at different time points:</p>
<ol><li>
<a id="pgfId-1046752"></a>In the <em>Explorer Save and Restart Options</em> section of the Netlist and Run Options form, select <em>Time points</em>.</li><li>
<a id="pgfId-1085618"></a>Specify a prefix for snapshot names in the <em>Snapshot prefix</em> field. </li><li>
<a id="pgfId-1085621"></a>In the <em>Save time points</em> field, specify the time points at which the snapshots must be saved.<br />
<a id="pgfId-1085622"></a>Note the following:<ul><li>
<a id="pgfId-1085623"></a>Do not use spaces between the time and the unit of time. The default unit of time is seconds.</li><li>
<a id="pgfId-1085624"></a>Multiple values must be separated by blank spaces. </li><li>
<a id="pgfId-1085625"></a>To save a snapshot for a time point with a unique name, specify the time point in the following format:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1085626">
<a id="pgfId-1085626"></a>(<code><em>timePoint</em></code> <code><em>snapShotName</em></code>)</pre>
<a id="pgfId-1085627"></a>For example, if you specify the time point as <code>(50n my50nSnapShot)</code>, a snapshot named <code>my50nSnapShot</code> is saved at <code>50n</code>.</li></ul></li><li>
<a id="pgfId-1085628"></a>In the <em>Save increment</em> field, specify the time interval at which the snapshots must be saved. In <em>Start</em> <em>time</em> and <em>Stop</em> <em>time</em>, specify the respective time points at which the snapshots must start and stop.<br />
<a id="pgfId-1086499"></a>For example, let us consider the following setup.<br /><div class="webflare-div-image">
<img width="461" height="224" src="images/chap15-71.gif" /></div>
<a id="pgfId-1086632"></a>In this case, the following four snapshots are saved at <code>20n</code>, <code>40n</code>, <code>50n</code> and <code>60n</code>. <ul><li>
<a id="pgfId-1086633"></a><code>snap_20n</code></li><li>
<a id="pgfId-1086634"></a><code>snap_40n</code></li><li>
<a id="pgfId-1086635"></a><code>my50nSnapShot</code></li><li>
<a id="pgfId-1086660"></a><code>snap_60n</code></li></ul><br />
<a id="pgfId-1086663"></a>No snapshot is saved at <code>65n</code> because after <code>40n</code>, snapshots are saved only at intervals of <code>10n</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085630"></a>Do not use spaces between the specified value of time and the unit. The default unit is seconds.</div></li><li>
<a id="pgfId-1085631"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1086709"></a>Run a simulation.</li></ol>

























<h4><em>
<a id="pgfId-1086759"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1086763"></a><a href="chap15.html#35652">Process-Based Save and Restart (PBSR) flow</a></p>
<p>
<a id="pgfId-1086767"></a><a href="chap15.html#38625">Saving Simulation Snapshots Periodically</a></p>
<p>
<a id="pgfId-1086755"></a><a href="chap15.html#39528">Pre-requisites for Restarting a simulation from a Saved Snapshot</a></p>
<p>
<a id="pgfId-1088399"></a><a href="chap15.html#82167">Netlist and Run Options Form</a></p>

<h3>
<a id="pgfId-1047392"></a><a id="38625"></a>Saving Simulation Sn<a id="savingSnapshotsPeriodically"></a>apshots Periodically</h3>

<p>
<a id="pgfId-1047480"></a>To save simulation snapshots periodically:</p>
<ol><li>
<a id="pgfId-1086216"></a>In the <em>Explorer Save and Restart Options</em> section of the Netlist and Run Options form, select <em>Periodic snapshot</em>.</li><li>
<a id="pgfId-1047473"></a>Specify the base name for the snapshot in the <em>Snapshot</em> <em>base</em> <em>name</em> field. </li><li>
<a id="pgfId-1047898"></a>In the <em>Strobe</em><a id="strobeTime"></a> <em>time</em> field, specify the time interval between saving snapshots.</li><li>
<a id="pgfId-1048211"></a>Select one of the following options to specify the number of snapshots to be saved for each simulation run.<ul><li>
<a id="pgfId-1086400"></a><em>Max Number</em></li><li>
<a id="pgfId-1086416"></a><em>All</em></li></ul></li><li>
<a id="pgfId-1048460"></a>Specify the time unit to be used in the <em>Snapshot</em> <em>name</em> <em>time</em> <em>unit</em> field. </li><li>
<a id="pgfId-1051423"></a>Click OK.</li><li>
<a id="pgfId-1086700"></a>Run a simulation.</li></ol>









<h4><em>
<a id="pgfId-1087599"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1087629"></a><a href="chap15.html#35652">Process-Based Save and Restart (PBSR) flow</a></p>
<p>
<a id="pgfId-1087603"></a><a href="chap15.html#99124">Saving Simulation Snapshots at Different Time Points</a></p>
<p>
<a id="pgfId-1087595"></a><a href="chap15.html#39528">Pre-requisites for Restarting a simulation from a Saved Snapshot</a></p>
<p>
<a id="pgfId-1088405"></a><a href="chap15.html#82167">Netlist and Run Options Form</a></p>

<h3>
<a id="pgfId-1018337"></a><a id="39528"></a>Pre-requisites for Restarting a simulation from a Saved Snapshot</h3>

<p>
<a id="pgfId-1018338"></a>You can restart a simulation from an existing snapshot if it meets one of the following criteria:</p>
<ul><li>
<a id="pgfId-1086851"></a>The snapshot was created using the same design that is currently being used.</li><li>
<a id="pgfId-1086852"></a>Only the options that do not affect the topology, such as <code>reltol</code>, <code>abstol</code>, <code>errpreset</code>, <code>method</code>, and <code>stop</code>, in the Transient Options form were changed since the snapshot was created.</li><li>
<a id="pgfId-1086853"></a>The model files have not been changed since the snapshot was created.</li><li>
<a id="pgfId-1086847"></a>The solver used to save the snapshot is the same as that being used for the simulation. For example, if a snapshot was saved when <code>spectre</code> was set as the solver, you must restart simulation using the snapshot only with <code>spectre</code> is as the solver.</li></ul>




<h3>
<a id="pgfId-1086893"></a><a id="51959"></a>Restarting a Simulation from a Saved Snapshot</h3>

<p>
<a id="pgfId-1018349"></a>To restart a simulation from a saved snapshot</p>
<ol><li>
<a id="pgfId-1018352"></a>Select the <em>Enable</em> <em>Restart </em>check box in the Netlist and Run Options form to enable the <em>Restart Options</em> group box.<br />
<a id="pgfId-1087077"></a>The fields <em>Test name</em> and <em>history</em> display the name of the test and the last history associated with the current maestro session, respectively. These fields are not editable.</li><li>
<a id="pgfId-1018359"></a>From the <em>Snapshot name </em>drop-down list, select the snapshot from which you want to restart the simulation.</li><li>
<a id="pgfId-1018362"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1018363"></a>Run a simulation.</li></ol>




<p>
<a id="pgfId-1018364"></a>When the simulation completes, a waveform from time <code>0</code> to the specified stop time is displayed. This waveform is plotted even if the simulation was started from a later snapshot, and the snapshots were saved during different simulation runs. </p>

<h4><em>
<a id="pgfId-1087639"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1087643"></a><a href="chap15.html#35652">Process-Based Save and Restart (PBSR) flow</a></p>
<p>
<a id="pgfId-1087647"></a><a href="chap15.html#99124">Saving Simulation Snapshots at Different Time Points</a></p>
<p>
<a id="pgfId-1087635"></a><a href="chap15.html#38625">Saving Simulation Snapshots Periodically</a></p>
<p>
<a id="pgfId-1088411"></a><a href="chap15.html#82167">Netlist and Run Options Form</a></p>

<h3>
<a id="pgfId-1080477"></a><a id="82167"></a>Netlist a<a id="netlistAndRunOptionsFormRef"></a>nd Run Options Form</h3>

<p>
<a id="pgfId-1087897"></a>The Netlist and Run Options form lets you specify the options required for using AMS UNL.</p>
<table class="webflareTable" id="#id1088103">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1087694">
<a id="pgfId-1087694"></a>Field</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1087696">
<a id="pgfId-1087696"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087698"></a><strong><em>Netlist and Run Mode</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087700"></a>Specifies whether you have Xcelium or INCISIVE in your installation path.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087702"></a><em>AMS Unified Netlister with xrun</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087704"></a>Opens the AMS UNL documentation in the Doc Assistant.</p>
<p>
<a id="pgfId-1087705"></a>The options displayed in the form depend on the installation path. If you have Xcelium in the installation path, Xcelium commands, such as xrun are displayed. If your installation path has INCISIVE, INCISIVE commands, such as irun are displayed.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087706"></a>In case the <code>AMSXLMCOMPATIBLE</code> environment variable is set, INCISIVE commands are displayed in the form even if you have Xcelium in your installation path.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087708"></a><strong><em>Run Options</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087710"></a>Specifies the run options.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087712"></a><em>Compile Incremental</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087714"></a>Compiles just the modules that have been edited since the last compilation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087716"></a><em>All</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087718"></a>Compiles all modules.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087720"></a><em>Elaborate Incremental</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087722"></a>Elabortaes just the modules that have been edited since the last elaboration.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087724"></a><em>All</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087726"></a>Elaborates all Models.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087728"></a><em>Simulate</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087730"></a>Simulates the design.</p>
<p>
<a id="pgfId-1087731"></a>Note the following:</p>

<ul><li>
<a id="pgfId-1087732"></a>You can choose to only compile, elaborate or simulate the design, although by default all three are selected. <br />
<a id="pgfId-1087733"></a>For example, if you select only <em>Elaborate</em>, the <em>Simulation</em> &#8211; <em>Netlist</em> command only elaborates the design. Compilation and elaboration can be incremental or for the whole design together.</li><li>
<a id="pgfId-1087734"></a>A simulation will fail if you choose both <em>Compile</em> and <em>Simulate</em>. You would need to either deselect <em>Simulate</em> or select <em>Elaborate</em> as well.</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087736"></a><em>Clean snapshot and pak files</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087738"></a>Deletes any existing simulation snapshot and .pak files before running the simulation.</p>
<p>
<a id="pgfId-1087739"></a>This option is available for the xrun run mode only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087741"></a><em>Compile VerilogA as Verilog-AMS</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091476"></a>Indicates that the AMS simulator should compile VerilogA as Verilog-AMS.</p>
<p>
<a id="pgfId-1087744"></a>This option is available for the xrun run mode only.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087745"></a>On selecting the <em>Netlist using Spectre</em> check box is selected in the AMS Options form, this option gets disabled.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087747"></a><em>Enable AMS flexible release matrix</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087749"></a>Enables the AMS flex flow.</p>
<p>
<a id="pgfId-1087750"></a>This check box is greyed out and selected automatically with Xcelium 21.02 or a higher release version.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087752"></a><em>Spectre path</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087754"></a>Specifies the path to the Spectre version to be used with AMS flex flow. This lets you use different versions of Spectre for the Xcelium build you are using.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087755"></a>This option is available only when <em>Enable AMS flexible release matrix</em> is selected.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087757"></a><strong><em>Simulation Mode</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087759"></a>Specifies the simulation options.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087761"></a><em>Simulate</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087763"></a>Specifies the simulation mode.</p>

<ul><li>
<a id="pgfId-1087764"></a><em>Batch (normal)</em>: Plots signals in Virtuoso Visualization and Analysis XL. <br />
<a id="pgfId-1087765"></a>This is the default mode.</li><li>
<a id="pgfId-1087766"></a><em>Interactive (debugger)</em>: Launches the complete SimVision MS debug environment on top of the current design.<br />
<a id="pgfId-1087767"></a>When this mode is selected, set the DISPLAY shell environment variable in the <code>hostname:portNumber</code> format so that the SimVision environment window is displayed. To ensure that the variable has the value in the correct format, set the <code>addHostNameToDisplayPort</code> environment variable to <code>t</code>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087768"></a>When the host mode is set to distributed, the radio button for interactive mode is disabled and batch mode is enabled (only if Interactive mode was selected before).</div></li></ul>





</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087770"></a><em>Enable mixed signal debugger</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087772"></a>Displays the SimVision MS debug environment for AMS simulator.</p>
<p>
<a id="pgfId-1087773"></a>Cadence recommends that you enable the process-based save restart flow through this check box instead of specifying the option <code>-process_save</code> as an additional argument.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087774"></a>This option is available only if the Enable AMS flexible release matrix check box is selected.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090120"></a><em>Enable cross selection</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090122"></a>Lets you select an object in Schematic Editor and have the corresponding simulation object selected in SimVision, and vice versa. This helps in debugging design errors.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087776"></a><strong><em>Design Capture</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087778"></a>Specifies the options for the Design Capture utility.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087780"></a><em>Enable design capture</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087782"></a>Traces the files that are accessed by a simulation and packages them so that the same setup can be run in a different session.</p>
<p>
<a id="pgfId-1087783"></a>This feature can be used only when:</p>

<ul><li>
<a id="pgfId-1087784"></a>The <em>Batch (normal)</em> simulation mode is selected</li><li>
<a id="pgfId-1087785"></a>The settings in the <em>Explorer and Restart Options</em> group box are not being used</li><li>
<a id="pgfId-1087786"></a>The settings in the <em>Run Options</em> group box required to compile, elaborate, and simulate the design are selected</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087788"></a><strong><em>Explorer Save and Restart Options</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087790"></a>Specifies the save and restart options for ADE Explorer.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088475"></a>When you switch to ADE Assembler, the name of this section changes to <em>Assembler Save and Restart Options</em>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087792"></a><em>Enable process based save and restart</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087794"></a>Enables the process-based save and restart flow that lets you save the entire simulation setup, and facilitates a smoother restart operation, so that the future simulations can continue from that point.</p>
<p>
<a id="pgfId-1087795"></a>While restarting the simulation from a saved setup, the following points must be kept in mind:</p>

<ul><li>
<a id="pgfId-1087796"></a>The circuit topology cannot be changed.</li><li>
<a id="pgfId-1087797"></a>The product versions used while creating the saved setup must not be altered while restarting the simulation.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087799"></a><em>Enable save</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087801"></a>Enables the <em>Save Options</em> group box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087803"></a><strong><em>Save Options</em></strong><a id="saveOptionsSection"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087805"></a>Specifies the options for saving simulation snapshots.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087807"></a><em>Save mode</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087809"></a>Specifies the mode for saving simulation snapshots.</p>

<ul><li>
<a id="pgfId-1087810"></a><em>Time points</em>: Saves the snapshots at specific time points.</li><li>
<a id="pgfId-1087811"></a><em>Periodic snapshot</em>: Saves the snapshots periodically.</li><li>
<a id="pgfId-1087812"></a><em>HDL save</em>: Represents the system function <code>$save</code> that can be used in the Verilog, Verilog-AMS, and SystemVerilog modules. This enables you to set up the process-based save and restart operation in relation to the design or testbench events specified in the Verilog code.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087813"></a>Ensure that the <em>HDL save</em> check box is selected when saving a snapshot using <code>$save</code> in a vams file</div></li></ul>




</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087815"></a><em>Snapshot prefix</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087817"></a>Specifies the prefix for the snapshot name.</p>
<p>
<a id="pgfId-1087818"></a>For example, if you specify the prefix as <code>mySnap</code>, snapshots are saved with names such as <code>mySnap_40n</code>, where <code>40n</code> indicates the timepoint at which the snapshot was saved.</p>
<p>
<a id="pgfId-1087819"></a>The default prefix is <code>snapshot</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087821"></a><em>Save time points</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087823"></a>Specifies the time points at which snapshots need to be saved.</p>
<p>
<a id="pgfId-1087824"></a>Note the following:</p>

<ul><li>
<a id="pgfId-1087825"></a>Do not use spaces between the time and the unit of time. The default unit of time is seconds.</li><li>
<a id="pgfId-1087826"></a>Multiple values must be separated by blank spaces.</li><li>
<a id="pgfId-1087827"></a>To save a snapshot for a time point with a unique name, specify the time point in the following format:<br />
<a id="pgfId-1087828"></a><code>(</code><span class="webflare-courier-new" style="white-space:pre"><em>timePoint</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>snapShotName</em></span><code>)</code><br />
<a id="pgfId-1087829"></a>For example, if you specify the time point as (<code>50n</code> <code>my50nSnapShot</code>), a snapshot named <code>my50nSnapShot</code> is saved for time point <code>50n</code>.</li></ul>





</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087831"></a><em>Save increment</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087833"></a>Specifies the time interval at which the snapshots must be saved.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087835"></a><em>Start Time</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087837"></a>Specifies the starting time point for the snapshots to be taken.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087838"></a>The default unit of time is seconds. Ensure that you do not use spaces between the time and the unit. </div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087840"></a><em>Stop Time</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087842"></a>Specifies the stopping time point for the snapshots to be taken.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087843"></a>Do not use spaces between the time and the unit. The default unit of time is seconds.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087845"></a><em>Snapshot base name</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087847"></a>Specifies the base name for the snapshot.</p>
<p>
<a id="pgfId-1087848"></a>The snapshot base name must be alphanumeric with no spaces, underscores, or special characters.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087850"></a><em>Strobe time</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087852"></a>Specifies the time interval between saving snapshots. It can be a numerical value, followed by the unit or a percentage value. </p>
<p>
<a id="pgfId-1087853"></a>On adding a percentage value, the time interval between saving snapshots is then calculated as the specified percentage of the value of time given in the <em>Stop Time</em> field. The value for this field can be specified in the Choosing Analyses form for transient analysis.</p>
<p>
<a id="pgfId-1087854"></a>For example, on specifying the stop time as <code>1u</code> and strobe time as <code>15%</code>, the equivalent strobe time would be <code>150n</code>.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087855"></a>Do not use spaces between the time and the unit of time. The default unit is seconds.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087857"></a><em>Snapshots per run</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087859"></a>Specifies the number of snapshots to be saved in one simulation run.</p>

<ul><li>
<a id="pgfId-1087860"></a><em>Max Number</em>: Lets you specify the maximum number of snapshots to be saved in one simulation run.<br />
<a id="pgfId-1087861"></a>For example, if the value for the <em>Max Number</em> field is set to <code>4</code>, <em>Strobe</em> <em>time</em> is <code>20n</code>, and the <em>Snapshot</em> <em>name</em> <em>time</em> <em>unit</em> is <code>us</code>, the screenshots are saved as follows:<br />
<a id="pgfId-1087862"></a><code>mySnapShot1run1</code><br />
<a id="pgfId-1087863"></a><code>mySnapShot1run2</code><br />
<a id="pgfId-1087864"></a><code>mySnapShot1run3</code><br />
<a id="pgfId-1087865"></a><code>mySnapShot1run4</code><br />
<a id="pgfId-1087866"></a>The specified number is applicable only if the <em>All</em> option is deselected.</li><li>
<a id="pgfId-1087867"></a><em>All</em>: Specifies that the all the snapshots taken during the time interval specified in the <em>Strobe time</em> field must be saved.</li></ul>








</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087869"></a><em>Snapshot name time unit</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087871"></a>Specifies the time unit to be used in the snapshot name.</p>
<p>
<a id="pgfId-1087872"></a>For example, if you specify the strobe time as <code>0.25u</code>, and the stop time as <code>1u</code>, a screenshot named <code>mySnapShot_250_NS_run1</code> is saved.</p>
<p>
<a id="pgfId-1087873"></a>The changes made to this field are applicable only if the <em>Save</em> <em>all</em> <em>snapshots</em> check box is selected. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087875"></a><em>Enable restart</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087877"></a>Enables the <em>Restart Options</em> group box.</p>
<p>
<a id="pgfId-1087878"></a>When this check box is selected, the <em>Compile incremental</em> and <em>Elaborate incremental</em> fields are disabled because netlisting, compilation and elaboration are disabled when you restart simulation from a saved snapshot. This ensures that existing snapshots are not overwritten.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087880"></a><strong><em>Restart Options</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087882"></a>Specifies the restart options.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087884"></a><em>Test name</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087886"></a>Displays the name of the test for which the Netlist and Run Options form is opened.</p>
<p>
<a id="pgfId-1087887"></a>This is not an editable field.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087889"></a><em>History name</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087891"></a>Displays the name of the last history associated with the current maestro session.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091545"></a>In ADE Assembler, this field displays the history select through the Reference Histories form.</div>

<p>
<a id="pgfId-1087892"></a>This is not an editable field.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087894"></a><em>Snapshot name</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1087896"></a>Lets you select the snapshot from which the simulation is to be restarted.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090635"></a><em>Add</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090637"></a>Lets you add the select snapshot to the <em>Snapshot Sweep Information</em> table.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091344"></a>This button is available only when ADE Assembler is used.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090631"></a><em>Snapshot Sweep Information</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090633"></a>Displays the information for the selected snapshots in tabular format.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091435"></a>This table is available only when ADE Assembler is used.</div>

<p>
<a id="pgfId-1090877"></a>It has the following columns:</p>

<ul><li>
<a id="pgfId-1090915"></a><em>Enable</em>: Enables or disables the entry for a snapshot.</li><li>
<a id="pgfId-1090929"></a><em>Test</em>: Specifies the name of the test associated with the given snapshot.</li><li>
<a id="pgfId-1090936"></a><em>History</em>: Displays the name of the history associated with the given snapshot.</li><li>
<a id="pgfId-1090946"></a><em>Snapshot</em>: Displays the name of the selected snapshot.</li><li>
<a id="pgfId-1090956"></a><em>tclFile</em>: Lets you specify a Tcl file for the given snapshot. </li></ul>





</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1088426"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1088463"></a><a href="chap15.html#92568">Setting Up the AMS Netlister Options</a></p>
<p>
<a id="pgfId-1088430"></a><a href="chap15.html#35652">Process-Based Save and Restart (PBSR) flow</a></p>
<p>
<a id="pgfId-1088434"></a><a href="chap15.html#99124">Saving Simulation Snapshots at Different Time Points</a></p>
<p>
<a id="pgfId-1088438"></a><a href="chap15.html#38625">Saving Simulation Snapshots Periodically</a></p>
<p>
<a id="pgfId-1088442"></a><a href="chap15.html#51959">Restarting a Simulation from a Saved Snapshot</a></p>

<h3>
<a id="pgfId-1080533"></a>Simulating the Design Using the xrun Command</h3>

<p>
<a id="pgfId-1018376"></a>AMS UNL supports simulation using the <code>xrun</code> command of the Spectre AMS Designer and Xcelium Mixed-Signal simulator.</p>
<p>
<a id="pgfId-1018377"></a>The xrun command compiles text using a file extension parser. For example, files with the <code>.v</code> extension are compiled using the <code>xmvlog</code> Verilog compiler, files with the <code>.vhd</code> extension are compiled using the <code>xmvhdl</code> VHDL compiler, and files with the <code>.vams</code> extension are compiled using the <code>xmvlog</code> Verilog compiler with the <code>-ams</code> argument. After the input files are compiled, xrun automatically starts <code>xmelab</code> to elaborate the design and then uses <code>xmsim</code> to simulate the design. For more information about the xrun command, see the <em>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide</em>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018378"></a>You need to install XCELIUM 17.10 s007 or a later release to use the xrun command with the AMS UNL flow. </div>
<p>
<a id="pgfId-1018380"></a>You can specify the options for running <code>xrun</code> using the AMS Options form.</p>

<p>
<a id="pgfId-1018384"></a></p>
<div class="webflare-div-image">
<img width="667" height="737" src="images/chap15-72.gif" /></div>
<h4>
<a id="pgfId-1018387"></a>Netl<a id="irun"></a>ist and Run Command</h4>

<p>
<a id="pgfId-1018388"></a>The <em>Netlist and Run</em> command generates the xrun command using the options specified in the AMS Options form. </p>
<p>
<a id="pgfId-1018390"></a>After running the <em>Netlist and Run</em> command, you can view the log file named <code>xrun.log</code> using, <em>Simulation &#8211; Output Log &#8211; xrun Log</em>. All the errors generated for the compiler, elaborator and AMS Designer simulator can be viewed in this log file.</p>
<p>
<a id="pgfId-1024698"></a>When you run simulation using AMS UNL, the <code>xrun.log</code> file contains hyperlinks to various components for better interaction with the design. You can use these hyperlinks to open the AMS Options form, Simulation Files Setup form, IE Setup form, Hierarchy Editor, and various .vams output files. To disable these hyperlinks from appearing in the <code>xrun.log</code> file, set the <code>UNL_HYPERLINK_LOG</code> environment variable to <code>NO</code> in CIW.</p>
<p>
<a id="pgfId-1018391"></a>Refer to the following figures to know the available hyperlinks and their functions:</p>

<p>
<a id="pgfId-1019422"></a></p>
<div class="webflare-div-image">
<img width="660" height="667" src="images/chap15-73.gif" /></div>

<p>
<a id="pgfId-1073433"></a></p>

<div class="webflare-div-image">
<img width="643" height="602" src="images/chap15-74.gif" /></div>
<h3>
<a id="pgfId-1019489"></a>Debugging Verilog-A Instances in AVUM flow</h3>

<p>
<a id="pgfId-1073481"></a>To debug verilog instances in AVUM flow, perform the following steps.</p>
<ol><li>
<a id="pgfId-1073528"></a>In the Netlist and Run Options form:<ol><li>
<a id="pgfId-1073663"></a>Select <em>Compile</em> <em>Verilog-A</em> <em>as</em> <em>Verilog-AMS</em> in the <em>RUN</em> <em>OPTIONS</em> group box</li><li>
<a id="pgfId-1073705"></a>Set the simulation mode to Interactive(debugger)</li><li>
<a id="pgfId-1073839"></a>Select <em>Enable</em> <em>mixed</em> <em>signal</em> <em>debugger</em></li></ol></li><li>
<a id="pgfId-1073970"></a>In the AMS Options form, select <em>Read</em> from the <em>Access</em> <em>visibility</em> drop-down list.</li><li>
<a id="pgfId-1074084"></a>Run a simulation.</li><li>
<a id="pgfId-1074120"></a>In the SimVision Design Browser, select the Verilog-A instance you want to plot.</li></ol>






<p>
<a id="pgfId-1073539"></a>You can then use the SimVision MS to create a TCL probe and plot the instances.</p>

<h4><em>
<a id="pgfId-1074235"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1074255"></a><h-hot><a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w000009TNluEAG&amp;pageName=ArticleContent" show="replace" xml:link="simple">How to probe and debug Verilog-A variables, nets, ports using Tcl in AVUM flow (AMS Designer in ADE flow)</a></h-hot></p>

<h3>
<a id="pgfId-1021429"></a>Saving or Plotting Selected Voltages or Currents for AMS Simulation</h3>

<p>
<a id="pgfId-1021430"></a>For AMS simulation, you can use the schematic window to select the nodes or terminals for instances that have a schematic view. </p>
<p>
<a id="pgfId-1021431"></a>You can use the Hierarchy Editor to select the nodes or terminals for instances:</p>
<ul><li>
<a id="pgfId-1021432"></a>That have a Verilog, VerilogA, VerilogAMS, VHDL, VHDLAMS or SPICE-based text view</li><li>
<a id="pgfId-1021433"></a>That are bound to a Verilog, VerilogA, VerilogAMS, VHDL, VHDLAMS or SPICE-based text file using the <code>sourcefile</code> or <code>verilogfile</code> property in Hierarchy Editor.</li></ul>

<p>
<a id="pgfId-1021434"></a>To specify the nodes and terminals for an instance, which has a schematic view, to be saved or plotted, do the folowing:</p>
<ol><li>
<a id="pgfId-1021661"></a>Choose <em>Outputs &#8211; To Be Saved &#8211; Select On Design</em>.</li><li>
<a id="pgfId-1021625"></a>Choose <em>Outputs &#8211; To Be Plotted &#8211; Select On Design</em>.<br />
<a id="pgfId-1021436"></a>The Schematic window appears.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021438"></a>If the top-level design is a text design, the <a id="scope_nav_sch_editor"></a><em>Choose an instance to descend</em> form appears instead of the Schematic window. Select an instance in the list and click <em>OK</em> to open the schematic for the instance. You can also double-click an instance to open the schematic.</div></li><li>
<a id="pgfId-1021443"></a>In the Schematic window, choose one or more nodes or terminals.<br />
<a id="pgfId-1021444"></a>The system circles pins when you choose a current and highlights wires when you choose a net.<ul><li>
<a id="pgfId-1021445"></a>Click an instance to choose all instance terminals.</li><li>
<a id="pgfId-1021446"></a>Click the square pin symbols to choose currents.</li><li>
<a id="pgfId-1021447"></a>Click wires to choose voltages. </li><li>
<a id="pgfId-1021448"></a>Click and drag to choose voltages by area.<br /><ffi2-fig-frame-in-2 id="#id1021470">
<a id="pgfId-1021470"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="657" height="156" src="images/chap15-75.gif" /></div></li></ul></li><li>
<a id="pgfId-1021471"></a>Press the <em>Esc</em> key when you are done. <br />
<a id="pgfId-1021472"></a>Your selections are added in the <em>Outputs</em> list in the simulation window.</li></ol>















<p>
<a id="pgfId-1021707"></a>To specify the nodes and terminals for an instance, which has a text view, to be saved or plotted, do the folowing:</p>
<ol><li>
<a id="pgfId-1021474"></a>Choose <em>Outputs &#8211; To Be Saved &#8211; Select From HED</em> </li><li>
<a id="pgfId-1021735"></a>Choose <em>Outputs &#8211; To Be Plotted &#8211; Select From HED</em>.<br />
<a id="pgfId-1021475"></a>The Hierarchy Editor appears displaying the instances in the tree view.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021476"></a>You can select nodes and terminals for instances only in the tree view in Hierarchy Editor. If you are in the table view in Hierarchy Editor, you cannot select nodes and terminals for instances.</div></li><li>
<a id="pgfId-1021762"></a><a id="76140"></a>Click the instance with the text view.<br />
<a id="pgfId-1021766"></a><div class="webflare-div-image">
<img src="images/select_net_term_to_plot_HED.gif" /></div>
<a id="pgfId-1021767"></a>In the above figure, instance <code>I3</code> is selected in Hierarchy Editor.<br />
<a id="pgfId-1021485"></a><a id="scope_nav_hier_editor"></a>The Select Net/Term to Save/Plot form appears.<br />
<a id="pgfId-1021489"></a><div class="webflare-div-image">
<img src="images/select_net_term_to_plot.gif" /></div></li><li>
<a id="pgfId-1021490"></a>Do one of the following:<ul><li>
<a id="pgfId-1021491"></a>Select <em>net</em> to save or plot voltage. </li><li>
<a id="pgfId-1021492"></a>Select <em>term</em> to save or plot current.</li></ul></li><li>
<a id="pgfId-1021494"></a><a id="17844"></a>Select the node or terminal for the instance from the <em>Choose net/term</em> cyclic field.<br />
<a id="pgfId-1021495"></a>You can click the <em>View</em> button to view the module for the instance in a text editor.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021496"></a>The terminals of a primitive instance will not be displayed in the <em>Choose net/term</em> cyclic field because primitive instances do not have a text view. You can enter the terminal name in the <em>Enter net/term</em> field using the format:</div><pre class="webflare-pre-block webflare-courier-new" id="#id1021497">
<a id="pgfId-1021497"></a>I3/Y</pre>
<a id="pgfId-1021498"></a>Where <code>/I3</code> is the full instance name and <code>Y</code> is the terminal name.</li><li>
<a id="pgfId-1021499"></a>Do one of the following:<ul><li>
<a id="pgfId-1021500"></a>Click <em>Apply</em> to add the node or terminal in the <em>Outputs</em> list in the simulation window. Select another net or term for the current instance, or perform steps <a href="chap15.html#76140">3</a> to <a href="chap15.html#17844">5</a> to select a net or term for another instance.</li><li>
<a id="pgfId-1021507"></a>Click <em>OK</em> to close the Select Net/Term to Save/Plot form and add the node or terminal in the <em>Outputs</em> list in the simulation window. </li></ul><br />
<a id="pgfId-1021508"></a>If you click <em>OK</em> or <em>Cancel</em> and then want to select nodes or terminals from Hierarchy Editor, you must again choose <em>Outputs &#8211; To Be Saved &#8211; Select From HED</em> or <em>Outputs &#8211; To Be Plotted &#8211; Select From HED</em> in ADE Explorer.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1043980"></a>
In flex mode, -<code>amsformat</code> is ignored. The default waveform format is a unified database with analog data in <code>PSFXL 1.1</code> format and digital data in <code>SST2</code> format. To change the waveform format for analog users, use the <code>rawfmt</code> Spectre option or the -<code>format</code> Spectre command-line argument. In such cases, unified database is disabled and the results will be stored in two different files, one for analog results using the specified Spectre format and one for digital data in <code>SST2</code> format.</div><br />
<a id="pgfId-1044016"></a>When you enable the flex mode without PSF XL as the output format, you see a message as follows:<br />
<a id="pgfId-1053148"></a>AMSD flex flow is enabled but the recommended PSF XL unified database format is not enabled.<br />
<a id="pgfId-1053251"></a>The message box offers the following choices:<ul><li>
<a id="pgfId-1053064"></a>Change the output format to PSF XL. In this case, click <em>Yes</em>.</li><li>
<a id="pgfId-1053346"></a>Run the AMSD flex flow with the current output format. In this case, click <em>No</em>.</li></ul></li></ol>



































<h3>
<a id="pgfId-1021509"></a>Adding a Node or Terminal to a Set</h3>

<p>
<a id="pgfId-1021511"></a><a id="adding a node"></a>To add a node or terminal to the saved or plotted sets:</p>
<ol><li>
<a id="pgfId-1021512"></a>Choose <em>Outputs &#8211; To Be &#8211; Select On Design</em> commands in the Simulation window.</li><li>
<a id="pgfId-1021513"></a>In the Schematic window, choose one or more nodes or terminals.<br />
<a id="pgfId-1021514"></a>The system circles pins when you choose a current and highlights wires when you choose a net.<ul><li>
<a id="pgfId-1021515"></a>Click the square pin symbols to choose currents. </li><li>
<a id="pgfId-1021516"></a>Click wires to choose voltages. </li><li>
<a id="pgfId-1021517"></a>Click and drag to choose voltages by area.<br />
<a id="pgfId-1021539"></a><div class="webflare-div-image">
<img width="142" height="216" src="images/chap15-78.gif" /></div></li></ul></li><li>
<a id="pgfId-1021540"></a>Press the <code>Esc</code> key when you finish.</li></ol>










<p>
<a id="pgfId-1021548"></a><a id="lower"></a>To select nodes and terminals in lower-level schematics to be plotted or saved,<a id="marker-1021542"></a><a id="marker-1021543"></a><a id="marker-1021544"></a><a id="marker-1021545"></a><a id="marker-1021546"></a><a id="marker-1021547"></a></p>
<ol><li>
<a id="pgfId-1021549"></a>In the Simulation window, choose <em>Outputs &#8211; To Be &#8211; Select On Design</em>.</li><li>
<a id="pgfId-1021550"></a>In the Schematic window, choose <em>Design &#8211; Hierarchy &#8211; Descend Edit</em> and click an instance.</li><li>
<a id="pgfId-1021551"></a>Click <em>OK</em> in the form that appears.</li><li>
<a id="pgfId-1021552"></a>In the Schematic window, choose one or more nodes or terminals.</li><li>
<a id="pgfId-1021553"></a>Press the <code>Esc</code> key when you finish.</li></ol>





<h2>
<a id="pgfId-1071777"></a>DS<a id="dspfInTheMiddle"></a>PF-in-the-Middle Flow for AMS Simulations</h2>

<p>
<a id="pgfId-1071778"></a>The DSPF-in-the-middle flow allows the use of a digital module inside DSPF and speeds up mixed-signal post-layout simulation. This enables running verification in the early stages.</p>

<p>
<a id="pgfId-1071782"></a></p>
<div class="webflare-div-image">
<img width="668" height="369" src="images/chap15-79.gif" /></div>

<p>
<a id="pgfId-1071783"></a>To enable the DSPF-in-the-middle flow for ADE Explorer or ADE Assembler, select <em>Using HED Config for DSPF Blackbox</em> in the Simulation Files Setup form for AMS simulator. AMS UNL then generates the required files and adds the option <code>-ams_dspf_bbox</code> in the <code>xrunArgs</code> file to enable this feature on the simulator side.</p>

<h4><em>
<a id="pgfId-1071784"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1071786"></a><h-hot><a actuate="user" class="URL" href="https://support.cadence.com/apex/techpubDocViewerPage?xmlName=amssimug.xml&amp;title=Spectre%20AMS%20Designer%20and%20Xcelium%20Simulator%20Mixed-Signal%20User%20Guide%20--%20Preparing%20the%20Design:%20Using%20Mixed%20Languages%20-%20Using%20DSPF-in-the-Middle&amp;hash=PreparingtheDesign:UsingMixedLanguages-UsingDSPF-in-the-Middledspf_inMiddle&amp;c_version=22.03&amp;path=amssimug/amssimug22.03/Preparing_the_Design__Using_Mixed_Languages.html#PreparingtheDesign:UsingMixedLanguages-UsingDSPF-in-the-Middledspf_inMiddle" show="replace" xml:link="simple">Using DSPF-in-the-Middle</a></h-hot></p>

<h2>
<a id="pgfId-1057652"></a><a id="16741"></a>Using the runams Command</h2>

<p>
<a id="pgfId-1056915"></a>The <code>runams</code> command provides command-line support for netlisting the design using the&#160;&#160;AMS Unified Netlister (AMS UNL) and running simulations using xrun in batch mode.</p>
<p>
<a id="pgfId-1056916"></a>By default, the <em>AMS Unified Netlisting with xrun</em> option is selected as the default netlisting choice when a new ADE session is opened. To enable OSS-based netlister as the default choice, specify the following in the <code>.cdsinit</code> file:</p>
<ul><li>
<a id="pgfId-1056917"></a><code>envSetVal( &quot;ams.envOpts&quot; &quot;netlisterMode&quot; &#39;string &quot;Cellview-based&quot;)</code></li><li>
<a id="pgfId-1056918"></a><code>envSetVal( &quot;ams.envOpts&quot; &quot;netlisterMode&quot; &#39;string &quot;OSS-based&quot;)</code></li></ul>

<p>
<a id="pgfId-1056919"></a>If you wish to force the choice of netlister to UNL when loading an existing ADE state with OSS-based setting, specify the following:</p>
<p>
<a id="pgfId-1056920"></a><code>envSetVal( &quot;ams.envOpts&quot; &quot;forceUnlOverOSS&quot; &#39;boolean t)</code></p>
<p>
<a id="pgfId-1056923"></a>To make the netlister mode UI read only, specify the following:</p>
<p>
<a id="pgfId-1056924"></a><code>envSetVal( &quot;ams.envOpts&quot; &quot;disableNetlisterModeUI&quot; &#39;boolean t)</code></p>
<p>
<a id="pgfId-1056925"></a><code>runams</code> will read and honor CDS environment variables to invoke the intended netlisting flow.</p>
<p>
<a id="pgfId-1056926"></a>OCEAN also allows you to netlist and simulate from the command-line. However, <code>runams</code> provides a much simpler use model using command-line options. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1056927"></a>The <code>runams</code> command for AMS UNL capability is available in IC 6.1.6 ISR6, and later versions.</div>
<p>
<a id="pgfId-1056928"></a>The <code>runams</code> command syntax is given below:</p>

<a id="pgfId-1056929"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
runams [-help | -h | -version | -V | -W | -usage] 
| runams -lib <code><em>libName</em></code> -cell <code><em>cellName</em></code> -view <code><em>viewName</em></code> 
  action_options [setup_options] [netlisting_options] [simulation_options]</pre>

<p>
<a id="pgfId-1056930"></a>Use the following command to view information about all the options available in the <code>runams</code> command:</p>

<a id="pgfId-1056931"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
runams -help</pre>

<p>
<a id="pgfId-1056932"></a>Use the following command to view detailed information about each option available in the <code>runams</code> command:</p>

<a id="pgfId-1056933"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
runams -help <code><em>optionName</em></code></pre>

<p>
<a id="pgfId-1056934"></a>Use the following command to view important information you must know when using runams options:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1056935"></a>runams -usage</pre>

<p>
<a id="pgfId-1056936"></a>See the following topics for more information about the <code>runams</code> command:</p>
<ul><li>
<a id="pgfId-1056940"></a><a href="chap15.html#28467">runams Command Options</a></li><li>
<a id="pgfId-1056944"></a><a href="chap15.html#23043">How to Use runams Options</a></li><li>
<a id="pgfId-1056948"></a><a href="chap15.html#18079">runams Command Examples</a></li></ul>



<h3>
<a id="pgfId-1056950"></a><a id="28467"></a>runams Command Options</h3>

<p>
<a id="pgfId-1056951"></a>The following table describes the <code>runams</code> command options and values.</p>

<p>
<a id="pgfId-1057425"></a></p>
<table class="webflareTable" id="#id1056952">
<tbody><tr>
<th class="webflareTh" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1056954">
<a id="pgfId-1056954"></a>runams Option and Value</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1056958">
<a id="pgfId-1056958"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1056960"></a><strong>-h | -help</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056964"></a>Displays the description of the <code>runams</code> command and its options.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1056966"></a><strong>-h</strong> <span class="webflare-courier-new" style="white-space:pre"><em>optionName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056970"></a>Displays the detailed description for an option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1056972"></a><strong>-V | -version</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056976"></a>Displasy <code>runams</code> version information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056978"></a><strong>-W</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056980"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056982"></a>Displays <code>runams</code> subversion information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1056984"></a><strong>-usage</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056988"></a>Displays important information you must know when using runams options. For more information, see <a href="chap15.html#23043">How to Use runams Options</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1056993"></a><strong>-nocdsinit</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056997"></a>Skips reading the <code>.cdsinit</code> file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1056999"></a><strong>-lib</strong> <span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057003"></a>Specifies the library containing the configuration that you want to netlist.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057005"></a><strong>-cell</strong> <span class="webflare-courier-new" style="white-space:pre"><em>cellName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057009"></a>Specifies the cell containing the configuration that you want to netlist.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057011"></a><strong>-view</strong> <span class="webflare-courier-new" style="white-space:pre"><em>viewName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057015"></a>Specifies the cellview name of the configuration that you want to netlist. The view name can also be a cellview state.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1070866"></a><strong>-testname</strong> <span class="webflare-courier-new" style="white-space:pre"><em>testName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1070870"></a>Specifies the name of the test to be used from the given maestro view. If not specified, the first test from that maestro view is used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1075615"></a><strong>-spectre_path</strong> <span class="webflare-courier-new" style="white-space:pre"><em>spectreDirectoryPath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1075619"></a>Specifies the path to the Spectre binary.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1057017"></a><strong>Action Options</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057023"></a><strong>-netlist</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057027"></a>Runs the AMS UNL netlister in the specified mode. Default: <code>incremental</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1057030"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057032"></a><code>incremental</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057034"></a>Generates netlists for new or changed cellviews only. </p>
<p>
<a id="pgfId-1057035"></a>This is the default netlisting mode.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057039"></a><code>all</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057041"></a>Netlists all cellviews in the configuration, whether they have changed since the previous netlisting or not. This is equivalent to <em>Simulation &#8211; Netlist &#8211; Recreate</em> in ADE L.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1057042"></a>If an option effects netlisting changes (for example one of the <code>-netlisteropts</code>), use <code>-netlist all</code> to renetlist the design. </div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057044"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057046"></a><code>skip</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057048"></a>Skips netlisting the design.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1057049"></a>Ensure that the netlist is simulatable when you select this mode.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057051"></a><strong>-simulate</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057055"></a>Runs simulation (<code>xrun</code>) in the specified mode.</p>
<p>
<a id="pgfId-1057056"></a>Default: <code>batch</code></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071390"></a>If the simulation mode has been specified through both the options, <code>-state</code> and <code>-simulate</code>, the mode specified through the <code>-simulate</code> option will be used to run the simulation.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1057058"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057060"></a><code>batch</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057062"></a>Runs xrun in the batch mode. This mode, which does not allow you to interact with the simulator, usually simulates more quickly than the <code>gui</code> mode.</p>
<p>
<a id="pgfId-1057063"></a>This is the default simulation mode.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057067"></a><code>gui</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057069"></a>Opens the SimVision analysis environment graphical interface that allows you to interact with the simulator using buttons, menus, and Tcl commands.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057071"></a><strong>-savescripts</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057075"></a>Saves the <code>runSimulation</code> file in the 
<span class="webflare-courier-new" style="white-space:pre"><em>runDi</em></span><code>r</code>/<code>netlist</code> directory, but don&#39;t simulate.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057077"></a><strong>-clean </strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057081"></a>Deletes all simulation snapshot files before running simulation. This will run the <code>xrun -clean</code> command to remove the <code>INCA_libs</code> directory under the <span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span><code>/netlist</code> directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057083"></a><strong>-</strong><strong>forcecheck</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057087"></a>Enables an in-memory check for schematic connectivity before proceeding to netlisting.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057089"></a><strong>-plot</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057093"></a>Invokes the waveform tool to plot the results in the <code>./</code><span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span><code>/psf</code> directory when simulation is completed. </p>
<p>
<a id="pgfId-1057094"></a>The waveform tool can be specified using the <code>-wavetool</code> command. </p>
<p>
<a id="pgfId-1057095"></a>To use the SimVision interactive debugger, run the simulation using <code>-simulate gui</code> option. </p>
<p>
<a id="pgfId-1057096"></a>If a Tcl file containing database commands is specified using the <code>-tclinput</code> option, ensure that the database <code>-open</code> command in the file is:</p>
<p>
<a id="pgfId-1057097"></a><code>open -into ./</code><span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span><code>/psf</code></p>
<p>
<a id="pgfId-1057098"></a>If an ADE state file is used, the results will be automatically written to the <code>./</code><span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span><code>/psf</code> directory without the need to specify a separate Tcl file. If a Tcl file or a state file is not specified, <code>xrun</code> creates a directory named <code>abc.tran.shm</code> in the netlist directory, where <code>abc</code> is the name of the <code>tran</code> statement in the <code>analogcontrol</code> (scs) file. If the specified Tcl file does not have a database <code>-open</code> statement, <code>xrun</code> creates an <code>.shm</code> directory in the netlist directory, such as <code>ncsim.shm</code>. <code>runams</code> will detect this and invoke the waveform tool to plot the results in the <code>abc.tran.shm</code> or <code>ncsim.shm</code> directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057100"></a><strong>Setup Options</strong><a id="runamsSetup"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057104"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057106"></a><strong>-cdslib</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057110"></a>Specifies the <code>cds.lib</code> file to use. </p>
<p>
<a id="pgfId-1057111"></a>If the <code>-cdslib</code> option is not specified, the standard Cadence search mechanism (CSF) is used to find the <code>cds.lib</code> file.</p>
<p>
<a id="pgfId-1057112"></a>Relative paths are resolved with respect to the invocation directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057114"></a><strong>-file</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057118"></a>Specifies a file that contains <code>runams</code> options. </p>
<p>
<a id="pgfId-1057119"></a>Each line in the file can have one or more options. Lines in the file that are blank or begin with the comment character <code>#</code> are ignored. Line continuation character is not supported. For <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span>, a relative path is resolved with respect to the invocation directory. For the options in the file, a relative path is resolved with respect to the file location.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057121"></a><strong>-log</strong> <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057125"></a>Writes output log messages to <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span>. Default: <code>./runams.log</code></p>

<p>
<a id="pgfId-1057126"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span> that you specify with this variable interacts with the <code>CDS_LOG_PATH</code> environment variable to determine the log file name that is used. Ensure that the directory specified in the <code>CDS_LOG_PATH</code> environment variable exists.</p>
<ul><li>
<a id="pgfId-1057127"></a>If <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span> is an absolute path, the log file is written to <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span>.</li><li>
<a id="pgfId-1057128"></a>If <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span> is a relative path and<ul><li>
<a id="pgfId-1057129"></a><code>CDS_LOG_PATH</code> is null, <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span> is placed in the current directory.</li><li>
<a id="pgfId-1057130"></a><code>CDS_LOG_PATH</code> is non-null, the value of <code>CDS_LOG_PATH</code> is prefixed to the <span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span>.</li></ul></li><li>
<a id="pgfId-1057131"></a>The <code>CDS_LOG_VERSION</code> environment variable also affects the final name of the log file.</li></ul>





</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057133"></a><strong>-rundir</strong> <span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1057137"></a>Specifies the run directory path to use. <br />Default: <code>./libName-cellName-viewName</code></p>
<p>
<a id="pgfId-1057138"></a>A <code>netlist</code> directory (where netlisting and simulation are run) and a <code>psf</code> directory (where the results are written) will be created under <code>runDir</code>. </p>

<p>
<a id="pgfId-1057139"></a>Relative paths are resolved with respect to the invocation directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057141"></a><strong>-resultsdir</strong> <span class="webflare-courier-new" style="white-space:pre"><em>resultsDir</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057145"></a>Specifies the results directory path to use. </p>
<p>
<a id="pgfId-1057146"></a>By default, simulation results are written to the <span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span><code>/psf</code> directory. If this option is specified, the simulation results will be written to the <span class="webflare-courier-new" style="white-space:pre"><em>resultsDir</em></span><code>/psf</code> directory. If both <code>-resultsdir</code> and <code>-tclinput</code> are specified, ensure that the same results directory path is specified for <span class="webflare-courier-new" style="white-space:pre"><em>resultsDir</em></span><code>/psf</code> and the <code>database -open</code> command in the Tcl file specified using the <code>-tclinput </code>option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057148"></a><strong>-cdsenv</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057152"></a>Specifies the <code>.cdsenv</code> file to use. This is the same <code>.cdsenv</code> file used by ADE. </p>
<p>
<a id="pgfId-1057153"></a>Relative paths are resolved with respect to the invocation directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057155"></a><strong>-cdsinit</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057159"></a>Specifies the <code>.cdsinit</code> file to use. This is the same <code>.cdsinit</code> file used by ADE. </p>
<p>
<a id="pgfId-1057160"></a>Relative paths are resolved with respect to the invocation directory.</p>
<p>
<a id="pgfId-1072108"></a>You can use the <code>-cdsinit</code> option to specify a file that contains the same settings as the Virtuoso <code>.cdsinit</code> file. For example, if you have a file, <code>testpinchecker</code>, you can specify the file with this option, as shown below:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1072109"></a>runams -lib training -cell wx_ams -view maestro -rundir mydirsch -netlist all -testname training:wx_ams:1 -cdsinit testpinchecker</pre>
<p>
<a id="pgfId-1072111"></a>Here, <code>testpinchecker</code> contains the following:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1072112"></a>aa = hnlRunPinChecker(&quot;WSM_pinCheck&quot; &quot;concatBusMM_tb&quot; &quot;config&quot; ?checkAms t)<br />unless( aa<br />exit()<br />)</pre>
<p>
<a id="pgfId-1072117"></a>In this example, the <code>runams</code> command will run the Pin Checker before the AMS UNL netlisting starts through the <code>runams -netlist</code> option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057162"></a><strong>-state</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057166"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057168"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057170"></a><span class="webflare-courier-new" style="white-space:pre"><em>stateLoadDir</em></span>:<span class="webflare-courier-new" style="white-space:pre"><em>stateName</em></span><code>[</code>:<span class="webflare-courier-new" style="white-space:pre"><em>simulatorName</em></span><code>]</code></p>
<p>
<a id="pgfId-1057171"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057173"></a>Specifies the ADE state directory and state name to use. </p>
<p>
<a id="pgfId-1057174"></a>The final path used to find the state file will be <span class="webflare-courier-new" style="white-space:pre"><em>stateLoadDir/libName/cellName/simulatorName/stateName</em></span>, where <code>libName</code> is the library name specified using the <code>-lib</code> option and <code>cellName</code> is the cell name specified using the <code>-cell</code> option. By default, <code>simulatorName</code> is <code>ams</code>. If <code>simulatorName</code> is specified to be something other than <code>ams</code>, the state for the specified simulator will be loaded for the ams run, and, as with ADE, the options in the state file that are not applicable to ams will be ignored. </p>
<p>
<a id="pgfId-1057175"></a>Relative paths are resolved with respect to the invocation directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057177"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057179"></a><span class="webflare-courier-new" style="white-space:pre"><em>stateViewName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057181"></a>Specifies the ADE cellview state to use. </p>
<p>
<a id="pgfId-1057182"></a>The state files are found in the <span class="webflare-courier-new" style="white-space:pre"><em>libName/cellName/stateViewName</em></span> directory, where <code>libName</code> is the library name specified using the <code>-lib</code> option and <code>cellName</code> is the cell name specified using the <code>-cell</code> option. Ensure that the <code>stateViewName</code> is for an ams state.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1062832"></a><strong>-switchto</strong> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062850"></a>Allows to specify a different design configuration for the current maestro view.</p>
<p>
<a id="pgfId-1062869"></a>For example, by using the following setting, you can switch the design configuration file for a test, <code>mylib:mycell:1</code> from <code>mylib.mycell:config</code> to <code>mylib.mycell:config2</code>.</p>
<p>
<a id="pgfId-1062837"></a><code>-switchto mylib.mycell:config2</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057184"></a><strong>-wavetool</strong> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057188"></a>Specifies the waveform tool to use to plot the results. </p>
<p>
<a id="pgfId-1057189"></a>Default: <code>simvision</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057191"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057193"></a><code>simvision </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057195"></a>Uses the SimVision analysis environment to plot the results.</p>
<p>
<a id="pgfId-1057196"></a>This is the default waveform tool.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057198"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057200"></a><code>viva</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057202"></a>Uses the Virtuoso Visualization and Analysis tool to plot the results.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057204"></a><strong>Netlisting Options</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057208"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057210"></a><strong>-desvar</strong> <span class="webflare-courier-new" style="white-space:pre"><em>desVars</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057214"></a>Specifies additional design variables, or override the value of design variables in the <code>cds_globals.vams</code> file. </p>
<p>
<a id="pgfId-1057215"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>desVars</em></span> argument is a colon-separated list of name-value pairs, such as <code>name1=val1:name2=val2</code>. During netlisting, information about design variables in the design are written to the <code>cds_globals.vams</code> file. During simulation, the <code>cds_globals.vams</code> file will be automatically sent to <code>xrun</code>. </p>
<p>
<a id="pgfId-1057216"></a>Use the <code>-desvar</code> option to specify additional design variables you want to add in the <code>cds_globals.vams</code> file, or to specify design variables whose values you want to override in the <code>cds_globals.vams</code> file. This results in a new <code>cds_globals.vams</code> file that will be sent to xrun.</p>
<p>
<a id="pgfId-1057217"></a>This option can be specified more than once. However, if the same design variable is specified in more than one <code>-desvar</code> statement, the value specified for that variable in the last <code>-desvar</code> statement will be used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057219"></a><strong>-globalsignals</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057223"></a>Specifies a set of global signals, either in a file or as a list of signal names immediately following the option. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057225"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057227"></a><span class="webflare-courier-new" style="white-space:pre"><em>sigName</em></span>[=<span class="webflare-courier-new" style="white-space:pre"><em>netType</em></span>[=<span class="webflare-courier-new" style="white-space:pre"><em>netDiscipiline</em></span>[=<span class="webflare-courier-new" style="white-space:pre"><em>isGround</em></span>]]]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057229"></a>Specifies additional global signals, or override the declaration of design variables in the <code>cds_globals.vams</code> file. </p>
<p>
<a id="pgfId-1057230"></a>During netlisting, information about global signals in the design are written to the <code>cds_globals.vams</code> file. During simulation, the <code>cds_globals.vams</code> file will be automatically sent to xrun. </p>
<p>
<a id="pgfId-1057231"></a>Use the <code>-globalsignals</code> option to specify additional global signals you want to add in the <code>cds_globals.vams</code> file, or to specify global signals whose declarations you want to override in the <code>cds_globals.vams</code> file. This results in a new <code>cds_globals.vams</code> file that will be sent to xrun. </p>
<p>
<a id="pgfId-1057232"></a>The option <span class="webflare-courier-new" style="white-space:pre"><em>sigName</em></span> is mandatory. If <span class="webflare-courier-new" style="white-space:pre"><em>netType</em></span> is not specified, <code>wire</code> will be used. If <span class="webflare-courier-new" style="white-space:pre"><em>netDiscipline</em></span> is not specified, <code>electrical</code> will be used. If <code>isGround</code> is not specified, <code>NO</code> will be used. Use single quotes to enclose the values. </p>
<p>
<a id="pgfId-1057233"></a>Example: </p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057234"></a>-globalsignals &#39;VDD50! VSS50! VDD30!=wire=electrical=NO VSS30!=wire=electrical=YES&#39;.</pre>
<p>
<a id="pgfId-1057235"></a>This option can be specified more than once. However, if the same global signal is specified in more than one <code>-globalsignals</code> statement, the arguments specified for that signal in the last <code>-globalsignals</code> statement will be used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057237"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057239"></a><span class="webflare-courier-new" style="white-space:pre"><em>sigFile</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057241"></a>Specifies the file containing global signal names, each name on its own line in the file.</p>
<p>
<a id="pgfId-1057242"></a>Each line in the file must be in the format: <span class="webflare-courier-new" style="white-space:pre"><em>sigName</em></span><code>[=</code><span class="webflare-courier-new" style="white-space:pre"><em>netType</em></span><code>[=</code><span class="webflare-courier-new" style="white-space:pre"><em>netDiscipiline</em></span><code>[=</code><span class="webflare-courier-new" style="white-space:pre"><em>isGround</em></span><code>]]]</code>. </p>
<p>
<a id="pgfId-1057243"></a>Use single quotes to enclose the values. The signals will be placed in the <code>cds_globals.vams</code> file that was created during netlisting, and the resulting new <code>cds_globals.vams</code> file will be sent to xrun. </p>
<p>
<a id="pgfId-1057244"></a>Example: </p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057245"></a>&#39;VDD50! VSS50! VDD30!=wire=electrical=NO VSS30!=wire=electrical=YES&#39;.</pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057247"></a><strong>-netlisteropts</strong> <span class="webflare-courier-new" style="white-space:pre"><em>&#8216;option1:option2&#8216;</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057251"></a>Specifies AMS UNL options. The options argument is a colon-separated list of name-value pairs enclosed in single quotes, such as:</p>
<p>
<a id="pgfId-1057252"></a><code>-netlisteropts &#39;amsPortConnectionByNameOrOrder=name:useSpectreInfo=spectre veriloga spice&#39;</code>. </p>
<p>
<a id="pgfId-1057253"></a>The following netlister options can be set using the <br /><code>-netlisteropts</code> command:</p>

<ul><li>
<a id="pgfId-1057254"></a><code>amsPortConnectionByNameOrOrder=name |order</code>         </li></ul>

<blockquote id="#id1057255">
<a id="pgfId-1057255"></a>Specify how to print the port connection. 
Default: <code>name</code>).</blockquote>

<ul><li>
<a id="pgfId-1057256"></a><code>useSpectreInfo</code></li></ul>

<blockquote id="#id1057257">
<a id="pgfId-1057257"></a>Specify the list of views that are to be netlisted as spectre. The default is &quot;<code>spectre veriloga spice</code>&quot;. You may need to add <code>symbol</code> to this list if you want symbol views to be netlisted as spectre.</blockquote>
<p>
<a id="pgfId-1057258"></a>This option can be specified more than once. However, if different values are specified for an argument in more than one <code>-netlisteropts</code> statement, the value specified for that argument in the last <br /><code>-netlisteropts</code> statement will be used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1062876"></a><strong>-portdrill</strong><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062887"></a>Enables the port drilling feature for runams. Valid values for this option are <code>all</code>, <code>except_top</code>, and <code>no</code>. </p>
<p>
<a id="pgfId-1062927"></a>Default: <code>all</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057260"></a><strong>Simulation Options</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057264"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057266"></a><strong>-solver</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057270"></a>Specifies the analog solver to use.</p>
<p>
<a id="pgfId-1057271"></a>Default: <code>spectre</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057273"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057275"></a><code>spectre</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057277"></a>Specifies that the Spectre solver is to be used.</p>
<p>
<a id="pgfId-1057278"></a>This is the default option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057280"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057282"></a><code>ultrasim</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057284"></a>Specifies that the UltraSim solver is to be used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1078624"></a><strong>-analogsolver</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078628"></a>Lets you specify a host for Spectre.</p>
<p>
<a id="pgfId-1078629"></a>Examples:</p>
<p>
<a id="pgfId-1078630"></a>Runs Spectre on the local host. You can also use a script or a resource scheduler, provided it boots Spectre.</p>
<p>
<a id="pgfId-1078631"></a><code>runams -analogsolver &quot;spectre&quot;</code></p>
<p>
<a id="pgfId-1078632"></a>Runs Spectre on a remote host.</p>
<p>
<a id="pgfId-1078633"></a><code>runams -analogsolver &quot;bsub -R \&quot;OSNAME==Linux &amp;7 OSREL==EE70 &amp;&amp; SFIPLATFORM==c0700\&quot; -n 1 -q lnx64 -J spectre&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057286"></a><strong>-amscontrol</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057290"></a>Specifies the ams control file to use. Typically this file contains the ams control block. The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is passed to the simulator.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057292"></a><strong>-analogcontrol</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057296"></a>Specifies the analog simulation control file to be used. This file contains the spectre, ultrasim or aps control statements, such as the <code>tran</code>, <code>info</code> or <code>options</code> statements. </p>
<p>
<a id="pgfId-1057297"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is passed to the simulator. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057299"></a><strong>-cdsglobals</strong> <span class="webflare-courier-new" style="white-space:pre"><em>fileName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057303"></a>Specifies a file that includes the <code>cds_globals</code> module definition. </p>
<p>
<a id="pgfId-1057304"></a>The <code>cds_globals</code> module declares design variables and global signals. The specified <span class="webflare-courier-new" style="white-space:pre"><em>fileName</em></span> will be sent to xrun.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1057305"></a>The <code>cds_globals.vams</code> file that is created during netlisting will not be sent to xrun. The <span class="webflare-courier-new" style="white-space:pre"><em>fileName</em></span> argument is passed to the simulator.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057307"></a><strong>-connectrules</strong> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057311"></a>Specifies the built-in and user-defined connect rules to use.</p>
<p>
<a id="pgfId-1057312"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057314"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057316"></a>[<span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span>.]<span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span>[:<span class="webflare-courier-new" style="white-space:pre"><em>viewName</em></span>]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057318"></a>Specifies the built-in connect rule to use in the <code>library.cell:view</code> format, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057319"></a>-connectrules connectLib.connRule_5v_full:connect</pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057321"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057323"></a><code>userDef:[</code><span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span><code>][</code>:<span class="webflare-courier-new" style="white-space:pre"><em>fileName</em></span><code>]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057325"></a>Specifies the user-defined connect rule to use in the <code>rulename:filename</code> format, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057326"></a>-connectrules userDef:connRule_5v_full:/path/file1</pre>
<p>
<a id="pgfId-1057327"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>ruleName</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>fileName</em></span> are passed to the simulator.</p>
<p>
<a id="pgfId-1057328"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1070108"></a><strong>-iecard </strong><span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1070190"></a>Specifies the path to an <code>ie_card.scs</code> file that contains information about how the connect rules are used during simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057330"></a><strong>-discipline</strong> <span class="webflare-courier-new" style="white-space:pre"><em>disciplineName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057334"></a>Specifies the default discipline for digital nets for which a discipline is either not specified or cannot be determined through discipline resolution. </p>
<p>
<a id="pgfId-1057335"></a>If <code>-discipline</code> is not specified, <code>-discipline logic</code> will be printed in the <code>runSimulation</code> file. Use <code>-discipline none</code> to disable printing of <code>-discipline logic</code> in the <code>runSimulation</code> file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057337"></a><strong>-f</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057341"></a>Specifies the files containing xrun command-line options to be passed as the argument to the <code>xrun -f</code> command.&#160;&#160;The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is a colon-separated list of file paths, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057342"></a>-f filePath1:filePath2</pre>
<p>
<a id="pgfId-1057343"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is passed to the simulator.</p>
<p>
<a id="pgfId-1057344"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057346"></a><strong>-hdlvar</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057350"></a>Specifies the name of the <code>hdl.var</code> file to use.</p>
<p>
<a id="pgfId-1057351"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is passed to the simulator.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057353"></a><strong>-incdir</strong> <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057357"></a>Specifies the directory to search for <code>`include</code> files. The <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span> argument is a colon-separated list of directory paths, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057358"></a>-incdir path1:path2</pre>
<p>
<a id="pgfId-1057359"></a>The <code>path</code> argument is passed to the simulator.</p>
<p>
<a id="pgfId-1057360"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057362"></a><strong>-irunopts</strong> <span class="webflare-courier-new" style="white-space:pre"><em>options</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057366"></a>Specifies additional xrun command-line options, such as:</p>
<p>
<a id="pgfId-1057367"></a><code>-irunopts &#39;-iereport +dr_info&#39;</code></p>
<p>
<a id="pgfId-1057368"></a>Use single quotes to enclose the command-line options. These command-line options are passed as is to xrun.</p>
<p>
<a id="pgfId-1057369"></a>xrun is run in the <span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span>/netlist directory. Therefore, all paths must be absolute or relative to the netlist directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057371"></a><strong>-modelfile</strong> <span class="webflare-courier-new" style="white-space:pre"><em>modelFiles</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057375"></a>Specifies the analog model files and section name. The <span class="webflare-courier-new" style="white-space:pre"><em>modelFiles</em></span> argument is a colon-separated list of files with model section names enclosed in parentheses, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057376"></a>-modelfile &#39;file1:file2(NN)&#39;</pre>
<p>
<a id="pgfId-1057377"></a>Use single quotes to enclose the value when section names of a model are specified. The <span class="webflare-courier-new" style="white-space:pre"><em>modelFiles</em></span> argument is passed to the simulator.</p>
<p>
<a id="pgfId-1057378"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057380"></a><strong>-path</strong> <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057384"></a>Specifies the model include directories setup. This is equivalent to the <code>xrun -modelincdir</code> option. The <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span> argument is a colon-separated list of directory paths, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057385"></a>-path path1:path2</pre>
<p>
<a id="pgfId-1057386"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span> argument is passed to the simulator.</p>
<p>
<a id="pgfId-1057387"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1072061"></a><strong>-reportinvalidbinding </strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1072065"></a>Stops the simulation with an error message when an invalid binding is found in an HED view. This option provides the same functionality as the environment variable <code>AMS_UNL_INVALID_BINDING_ACTION</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057389"></a><strong>-tclinput</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057393"></a>Specifies a Tcl file to use. </p>
<p>
<a id="pgfId-1057394"></a>The Tcl file normally contains the <code>database -open</code> command and the <code>probe</code> statements that specify nets and terminals to save for plotting, although any Tcl command that xrun accepts can be specified in the Tcl file. </p>
<p>
<a id="pgfId-1057395"></a>The <code>database -open</code> command in the Tcl file must open the results database in <code>./</code><span class="webflare-courier-new" style="white-space:pre"><em>runDir</em></span><code>/psf</code>, as this is the directory that will be passed to the waveform tool by the <code>-plot</code> option. The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is passed to the simulator.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057397"></a><strong>-v</strong> <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057401"></a>Specifies the Verilog files to be passed as the argument to the <code>xrun -v</code> command. </p>
<p>
<a id="pgfId-1057402"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is a colon-separated list of file paths, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057403"></a>-v filePath1:filePath2</pre>
<p>
<a id="pgfId-1057404"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>filePath</em></span> argument is passed to the simulator.</p>
<p>
<a id="pgfId-1057405"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1057407"></a><strong>-y</strong> <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057411"></a>Specifies the directories to be passed as the argument to the <code>xrun -y</code> command. </p>
<p>
<a id="pgfId-1057412"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span> argument is a colon-separated list of directory paths, such as:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1057413"></a>-y path1:path2</pre>
<p>
<a id="pgfId-1057414"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>path</em></span> argument is passed to the simulator.</p>
<p>
<a id="pgfId-1057415"></a>This option can be specified more than once.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a id="pgfId-1061373"></a><strong>IP Export Options</strong><a id="30645"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1061367"></a>-export</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061371"></a>Enables the Virtuoso IP export reuse flow. The generated export files are placed in the directory specified through the <code>-rundir</code> option</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1061361"></a>- testbenchtopcell topCellName</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061365"></a>Specifies the design library and cell names to be used for System Verilog Configuration File generation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1061355"></a>- iplabel labelName</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061359"></a>Specifies the label name to be used for<code>.amsbind.scs</code> file generation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1061349"></a>- v2001configname configName</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061353"></a>Specifies the configuration name to be used for System Verilog Configuration File generation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1061343"></a>-ipencrypt</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061347"></a>Enables encryption for the exported IP. Valid values for this option are <code>yes</code>, <code>no</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1062734"></a>-iplabelAddOnLib</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062738"></a>Adds the specified IP label name as the prefix to the Virtuoso library name.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1062789"></a>-iphierpathtoiptopcell</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062793"></a>Specifies the hierarchy path from the top cell to the current IP.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1061337"></a>-ipselectsimopt </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061341"></a>Specifies the simulation options to be printed in the argument file <code>xrunArgs</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061331"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061333"></a><span class="webflare-courier-new" style="white-space:pre"><em>all</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061335"></a>Prints all the simulation options to the argument file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062103"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062105"></a><span class="webflare-courier-new" style="white-space:pre"><em>modelsetup</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062107"></a>Prints the model file settings to the argument file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062097"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062099"></a><span class="webflare-courier-new" style="white-space:pre"><em>perfsetup</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062101"></a>Prints the simulation options from the <em>High</em> <em>Performance</em> <em>Simulation</em> <em>Options</em> form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062091"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062093"></a><span class="webflare-courier-new" style="white-space:pre"><em>iesetup</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062095"></a>Prints the IE Card settings from the <em>Interface</em> <em>Element</em> <em>(IE)</em> <em>Setup</em> form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062085"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062087"></a><span class="webflare-courier-new" style="white-space:pre"><em>analogctrlfile</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1062089"></a>Prints the analog control files.</p>
<p>
<a id="pgfId-1062089"></a>For example, <code>amsControlSpectre.scs</code></p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1057426"></a>Note the following:</p>
<ul><li>
<a id="pgfId-1057427"></a>By default, environment variables specified in file paths are expanded in the <code>runSimulation</code> file created by the <code>runams</code> command. If you want the <code>runSimulation</code> file created by <code>runams</code> to be portable, use single quotes around file paths so that the environment variables in the file paths are not expanded in the <code>runSimulation</code> file. </li></ul>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1057428"></a>Relative paths specified using the ~ or . characters will be resolved with respect to the invocation directory (the directory in which you ran the <code>runams</code> command).</div>
<ul><li>
<a id="pgfId-1057429"></a>The following <code>amsdesigner</code> command options are supported by <code>runams</code> for compatibility purposes. However, Cadence recommends using the equivalent <code>runams</code> options given below.<br />
<a id="pgfId-1057454"></a><table class="webflareTable webflareTableIndent" id="#id1057430">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1057432">
<a id="pgfId-1057432"></a>amsdesigner Command Options Supported by runams</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1057434">
<a id="pgfId-1057434"></a>Equivalent runams Command Options</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057436"></a><strong>-ncvlogopts</strong></p>
<p>
<a id="pgfId-1057437"></a><strong>-ncvhdlopts</strong></p>
<p>
<a id="pgfId-1057438"></a><strong>-ncelabopts</strong></p>
<p>
<a id="pgfId-1057439"></a><strong>-ncsimopts </strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057441"></a><strong>-irunopts </strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057443"></a><strong>-modelpath</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057445"></a><strong>-modelfile</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057447"></a><strong>-modelincdir</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057449"></a><strong>-path</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057451"></a><strong>-input</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1057453"></a><strong>-tclinput</strong></p>
</td>
</tr>
</tbody></table></li></ul>



<h3>
<a id="pgfId-1057456"></a><a id="23043"></a>How to Use runams Options</h3>

<p>
<a id="pgfId-1057457"></a>This section describes important information you must know when using runams options.</p>
<ol><li>
<a id="pgfId-1057458"></a>If <code>-help</code>,<code>-version</code>, <code>-V</code>, <code>-W</code> or <code>-usage</code> is specified with other options, those options will be ignored.</li><li>
<a id="pgfId-1057459"></a>To run simulation, you must specify the <code>-cdsenv</code>, <code>-state</code> or <code>-analogcontrol </code>option, or use a cellview state with the <code>-view</code> option.</li><li>
<a id="pgfId-1057460"></a>If <code>-clean</code> is specified without <code>-simulate</code> or -<code>savescripts</code>, the <code>xrun -clean</code> command is run to remove the INCA_libs directory in the netlist directory.</li><li>
<a id="pgfId-1057462"></a><a id="65555"></a>Only the following options can be specified more than once. If other options are specified more than once, the value specified for the last instance of those options will be used.<br />
<a id="pgfId-1057463"></a><code>-file
-desvar
-globalsignals
-netlisteropts
-connectrules
-f
-incdir
-path
-modelfile
-irunopts
-v
-y</code><br />
<a id="pgfId-1057464"></a>For <code>-desvar</code>, if the same design variable is specified in more than one <code>-desvar</code> statement, the value specified for that variable in the last <code>-desvar</code> statement will be used.<br />
<a id="pgfId-1057465"></a>For <code>-globalsignals</code>, if the same global signal is specified in more than one <code>-globalsignals</code> statement, the arguments specified for that signal in the last <code>-globalsignals</code> statement will be used.<br />
<a id="pgfId-1057466"></a>For <code>-netlisteropts</code>, if different values are specified for an argument in more than one <code>-netlisteropts</code> statement, the value specified for that argument in the last <code>-netlisteropts</code> statement will be used.<br />
<a id="pgfId-1057467"></a>If <code>-connectrules</code>, <code>-f</code>, <code>-incdir</code>, <code>-path</code>, <code>-modelfile</code>, <code>-v</code> and <code>-y</code> are specified more than once, the values specified for all instances of the options be used.</li><li>
<a id="pgfId-1057468"></a>If <code>-file</code> option is specified, the options in the file will be appended after other command-line options. Then the rules specified in point <a href="chap15.html#65555">4</a> above are used to process all the options. For example, the <code>cmdFile</code> file includes:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057472">
<a id="pgfId-1057472"></a><code>&quot;-view config -path path2 -desvar var1=2:var2=3</code></pre>
<a id="pgfId-1057473"></a>and you specify:<br />
<a id="pgfId-1057474"></a><code>runams -lib lib -cell cell -view view -netlist -desvar var1=1 -path path1 -file cmdFile</code>&quot;<br />
<a id="pgfId-1057475"></a>This is like using:<pre class="webflare-pre-block webflare-courier-new" id="#id1057476">
<a id="pgfId-1057476"></a>runams -lib lib -cell cell -view view -netlist -desvar var1=1 -path path1 -view config -path path2 -desvar var1=2:var2=3</pre>
<a id="pgfId-1057480"></a>As per the rules in point <a href="chap15.html#65555">4</a> above, these commands will be applied as:<pre class="webflare-pre-block webflare-courier-new" id="#id1057481">
<a id="pgfId-1057481"></a>runams -lib lib -cell cell -view config -netlist -path path1:path2 -desvar var1=2:var2=3</pre></li><li>
<a id="pgfId-1057482"></a>If the <code>-lib</code>, <code>-cell</code> and <code>-view</code> options point to a cellview state, runams will first get <span class="webflare-courier-new" style="white-space:pre"><em>topLib.topCell:topView</em></span> from the cellview state, then run <code>runams -lib </code><span class="webflare-courier-new" style="white-space:pre"><em>topLib</em></span><code> -cell </code><span class="webflare-courier-new" style="white-space:pre"><em>topCell</em></span><code> -view topView -state </code><span class="webflare-courier-new" style="white-space:pre"><em>state_view_name</em></span>. If the <code>-state</code> option is also specified, runams will ignore the <code>-state</code> option.</li><li>
<a id="pgfId-1057483"></a>If an option is specified in both the <code>.cdsenv</code> file and an ADE state, the option in the ADE state has precedence. However, any option specified in the <code>.cdsenv</code>, that does not have a GUI /state equivalent, will be used from the <code>.cdsenv</code> file.</li><li>
<a id="pgfId-1057484"></a>If <code>-state</code>, <code>-cdsenv</code>, and <code>-analogcontrol</code> or <code>-tclinput</code> are specified, runams reads the <code>.cdsenv</code> file first and reads the state files next. The files specified using the <code>-analogcontrol</code> or <code>-tclinput</code> options will be used instead of the files that would have been created by the state file.</li><li>
<a id="pgfId-1057485"></a>If you specify the <code>-cdsenv</code> and the <code>-analogcontrol </code>options, but do not specify the <code>-state</code> option, the file specified using <code>-analogcontrol</code> option is used. runams will not use the file specified using the <code>-cdsenv</code> option to generate the analog control, Tcl or <code>runSimulation</code> file, but the settings that affect netlisting in the <code>.cdsenv</code> file will take effect during netlisting.</li><li>
<a id="pgfId-1057486"></a>If conflicts occur between the options specified by <code>-irunopts</code>, command-line options and the options in the <code>.cdsenv</code> or a state file, the options specified by <code>-irunopts</code> take precedence, then command-line options, then the options in the <code>.cdsenv</code> or a state file. For example, if there is a conflict in the values specified for the <code>-solver</code> option in the command-line and in the <code>.cdsenv</code> or a state file, the values specified in the command-line options will be used.</li></ol>






















<h3>
<a id="pgfId-1057488"></a><a id="18079"></a>runams Command Examples</h3>

<ul><li>
<a id="pgfId-1057489"></a>Renetlists the entire design and runs a simulation.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057490">
<a id="pgfId-1057490"></a>runams -lib mylib -cell top -view config -netlist all -simulate</pre></li><li>
<a id="pgfId-1057491"></a>Netlists only the cellviews in the design that were changed since the previous netlisting, but does not run a simulation (because <code>-simulate</code> is not specified).<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057492">
<a id="pgfId-1057492"></a>runams -lib amsLib -cell top -view config -netlist incremental</pre></li><li>
<a id="pgfId-1057493"></a>Specifies a run directory <code>myrundir</code> where the netlist and data files will be placed.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057494">
<a id="pgfId-1057494"></a>runams -lib mylib -cell top -view config_ams -netlist all -simulate -rundir myrundir</pre></li><li>
<a id="pgfId-1057495"></a>Specifies that simulation be done in the interactive mode using SimVision analysis environment graphical interface. This command also specifies a model file.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057496">
<a id="pgfId-1057496"></a>runams -lib mylib -cell top -view config_ams -netlist all -simulate gui -rundir myrundir -modelfile myModels.scs:fastModels.scs(ff)</pre></li><li>
<a id="pgfId-1057497"></a>Sets the AMS analog solver to <code>ultrasim</code>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057498">
<a id="pgfId-1057498"></a>runams -lib mylib -cell top -view config_ams -netlist all -simulate -rundir existingrundir -solver ultrasim</pre></li><li>
<a id="pgfId-1057499"></a>Netlists the configuration <code>mylib.top:config</code> and saves the <code>runSimulation</code> file (using <code>-savescripts</code>) without simulating (because <code>-simulate</code> is not specified).<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057500">
<a id="pgfId-1057500"></a>runams -lib mylib -cell top -view config -netlist -savescripts -analogcontrol $CDIR/analog.scs -tclinput probe.tcl -path $CDIR -modelfile myModels.scs:fastModels.scs(ff) -rundir top_run1 -connectrules ConnRules_5V_full</pre></li><li>
<a id="pgfId-1057501"></a>Uses the setup in the <code>state_ams</code> ADE state file to netlist and simulate a configuration.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057502">
<a id="pgfId-1057502"></a>runams -lib amsPLL -cell pll_160MHZ_sim -view config -netlist -simulate -rundir run1 -state artist_states:state_ams -log ./logs/myRun.log</pre></li><li>
<a id="pgfId-1057503"></a>Uses the setup in the <code>ams_state1</code> ADE cellview state to netlist and simulate a configuration.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057504">
<a id="pgfId-1057504"></a>runams -lib amsPLL -cell pll_160MHZ_sim -view config -netlist -simulate -state ams_state1</pre></li><li>
<a id="pgfId-1057505"></a>Uses the setup in an analog simulation control file named amsControl.scs to netlist and simulate a configuration, and specifies a model file, a user defined connect rule, and a TCL file. You can use environment variables (such as <code>MODEL_DIR</code> used in this example) when specifying values for options. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1057506">
<a id="pgfId-1057506"></a>runams -lib testLib -cell top -view config -netlist -simulate -rundir run2 -analogcontrol &#39;./setup/amsControl.scs&#39; -modelfile $MODEL_DIR/models/spectre/gpdk090.scs&#39;(NN)&#39; -cdsglobals &#39;./setup/cds_globals.vams&#39; -connectrules userDef:ConnRules_25V_full_fast:connectLib/ConnRules_25V_full_fast.vams -tclinput &#39;./setup/probe.tcl&#39; -log &#39;./logs/run_control.log&#39;</pre></li><li>
<a id="pgfId-1072758"></a>Uses the specified maestro view to netlist and export the design configuration into a portable run directory using the IP export option <code>-export</code>.<br />
<a id="pgfId-1072956"></a>While setting this command, it is assumed that the Virtuoso IP would be instantiated into a larger digital testbench, as specified by the digital testbench and Verilog config scope export settings defined in the Virtuoso ADE forms.<pre class="webflare-pre-block webflare-courier-new" id="#id1072810">
<a id="pgfId-1072810"></a>runams -lib zambezi45_sim -cell pll_sim -view maestro -netlist all -clean -cdslib /home/user1/cds.lib -rundir /home/user1/runams_export_rundir -export -log runams_export.log</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1073202"></a>This command must be set after specifying the values for the settings in the AMS IP Export form that are specific to the <code>-export</code> option.</div></li><li>
<a id="pgfId-1072839"></a>Uses the configuration view <code>config_wreal</code> to create a netlist and exports the design configuration into a portable run directory using the IP export option <code>-export</code>. While setting this command, it is assumed that the IP will be instantiated into the larger digital testbench <code>tb_dut</code> at the hierarchical instance path <code>tb_dut.I1.I2</code> and have all the bindings defined by a top level Verilog configuration called <code>myTopConfig</code>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1073251">
<a id="pgfId-1073251"></a>runams -lib zambezi45_sim -cell pll_sim -view config_wreal -netlist all -clean -cdslib /home/user1/cds.lib -rundir /home/user1/runams_export_rundir -export -ipselectsimopt all -testbenchtopcell tb_dut -iphierpathtoiptopcell tb_dut.I1.I2 -iplabel config_function -v2001configname myTopConfig -log runams_export.log</pre></li></ul>
























<h3>
<a id="pgfId-1021808"></a><a id="85521"></a>Viewing the Output Log for AMS</h3>

<p>
<a id="pgfId-1022139"></a>You can view the output logs (netlister.log and xrun.log) from the <em>Simulation</em> &#8211; <em>Output Log</em> submenu. Choose <em>Output Log &#8211; LogFile Utility</em> to launch the XMBrowse message browser. </p>

<p>
<a id="pgfId-1022140"></a></p>
<div class="webflare-div-image">
<img src="images/nc_browse.gif" /></div>

<p>
<a id="pgfId-1022141"></a>You can analyze log files with the XMBrowse utility. The XMBrowse utility lets you select a log file message and view the source code that caused the message. It includes sorting and filtering tools that let you view only those messages that are important to you. You can also use the message browser to print formatted output reports. To know more about the XMBrowse utility, refer to the <em>XM Browse Message Browser User Guide.</em></p>
<p>
<a id="pgfId-1021815"></a>Similarly, choose the <em>Netlister Log</em>, <em>Compiler Log</em>, <em>Elaborator Log</em>, <em>Simulator Log, 3-step Log</em> or <em>xrun Log</em> options to view the respective logs in the <em>Results Browser</em>.</p>

<h3>
<a id="pgfId-1021819"></a><a id="31319"></a>Viewing th<a id="error"></a>e Error <a id="errorExplain"></a>Explanation for AMS</h3>

<p>
<a id="pgfId-1021820"></a>You can view detailed explanation of the error for AMS in the Error Explanation form. Choose <em>Simulation &#8211; Output Log</em> <em>&#8211; Error Explanation </em>to launch the Error Explanation form.</p>

<p>
<a id="pgfId-1021824"></a></p>
<div class="webflare-div-image">
<img src="images/AMS_ErrorExplanation.gif" /></div>

<p>
<a id="pgfId-1021825"></a>All the error messages that are present in the log files that are created in the psf directory while a session is being run are listed in the All Error Messages field. To view details about an error message, you can select the Error from All Error Messages field and then click the Explain button. The description for the error appears as shown in the figure above. </p>
<p>
<a id="pgfId-1021826"></a>You can also enter the error in the Error Message field. If you enter a string, it will be treated as an error string. If you enter two strings, the first string is treated as the tool name and the second string is treated as an error message. If you enter more than two strings, you will get a warning. </p>
<p>
<a id="pgfId-1021832"></a>The error message description consists of the following:</p>
<ul><li>
<a id="pgfId-1021833"></a>For a growing number of messages, special messages are available to describe the problem and if known, a solution for the same. The number of messages for which there will be additional help is expected to grow with each release.</li></ul>
<p>
<a id="pgfId-1021834"></a>For all error names, the xmhelp for that error name is printed.</p>

<h3>
<a id="pgfId-1021836"></a><a id="21663"></a>Using the SimVision Debugger</h3>

<p>
<a id="pgfId-1021838"></a>Y<a id="runopt"></a>ou can set AMS netlister&#160;&#160;and simulation run options by choosing <em>Simulation &#8211; Netlist and Run Options</em>. This brings up the <em>Netlister And Run Options</em> form.</p>

<p>
<a id="pgfId-1021842"></a></p>
<div class="webflare-div-image">
<img src="images/amsunl/ams_runOpts.gif" /></div>

<p>
<a id="pgfId-1021843"></a>You can choose to only compile, elaborate or simulate the design, although by default all three are selected as shown in the screenshot. For example, if you select only <em>Elaborate</em>, the <em>Simulation &#8211; Netlist</em> command only elaborates the design. Compilation and elaboration can be incremental or for the whole design together. A simulation would fail if you choose both <em>Compile</em> and <em>Simulate</em>. You would need to either deselect <em>Simulate</em> or select <em>Elaborate</em> as well.</p>
<p>
<a id="pgfId-1021844"></a>The <em>Batch</em> mode is the default mode. In this mode, all signal plotting occurs in the default analog waveform plotting tool&#8211; Virtuoso Visualization and Analysis XL. </p>
<p>
<a id="pgfId-1021845"></a>The <em>Interactive</em> mode launches the complete SimVision debug environment interactively on top of the current design. SimVision is a graphical user interface for Cadence digital and mixed-signal simulators and related full digital debugging tool suite. </p>
<p>
<a id="pgfId-1021851"></a>Direct Plot and plotting from the Calculator or browser go to the selected waveform tool, regardless of the run mode or whether or not SimVision is up. </p>
<p>
<a id="pgfId-1022225"></a>ADE Explorer sends Tcl commands to SimVision for the simulation run and to plot the signals listed in the outputs pane. This mode lets you control xmsim and simvision from the console window. </p>
<p>
<a id="pgfId-1021862"></a>The ADE Explorer window displays the selected mode on the status bar as highlighted in this snapshot.</p>

<p>
<a id="pgfId-1030879"></a></p>
<div class="webflare-div-image">
<img src="images/amsunl/ams_statusbar.gif" /></div>

<p>
<a id="pgfId-1030880"></a>Note the following:</p>
<ul><li>
<a id="pgfId-1060117"></a>Currently, the AMS simulator does not support multi-point and corner-enabled simulation runs in the <em>Interactive</em> <em>(debugger)</em> mode.</li><li>
<a id="pgfId-1060123"></a>To use the <em>Interactive (debugger)</em> mode for a single point or corner, ensure that the <em>Optimize</em> <em>Single</em> <em>Point</em> <em>Run</em> check box in the <em>Job</em> <em>Policy</em> <em>Setup</em> form is selected.</li></ul>


<h3>
<a id="pgfId-1056202"></a>Setting Up a Cross Selection Menu to Launch the Post Simulation Analysis Form</h3>

<p>
<a id="pgfId-1056303"></a>By default, the <em>Virtuoso</em> <em>Schematic</em> <em>Editor</em> does not have a SimVision menu. To add it to the toolbar, select <em>Launch &#8211; Plugins &#8211; Mixed Signal Options &#8211; SimVision</em>.</p>
<p>
<a id="pgfId-1056307"></a></p>

<div class="webflare-div-image">
<img width="668" height="70" src="images/chap15-84.gif" /></div>

<p>
<a id="pgfId-1056308"></a>In the <em>SimVision</em> menu, click <em>Cross</em> <em>Selection</em>. The <em>Post</em> <em>Simulation</em> <em>Analysis</em> form is displayed.</p>

<p>
<a id="pgfId-1056312"></a></p>
<div class="webflare-div-image">
<img width="668" height="296" src="images/chap15-85.gif" /></div>

<p>
<a id="pgfId-1056313"></a>You can specify the following information in the form. Click the browse button next to a field to select the input data:</p>

<p>
<a id="pgfId-1056349"></a></p>
<table class="webflareTable" id="#id1056314">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1056316">
<a id="pgfId-1056316"></a>Field</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1056318">
<a id="pgfId-1056318"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056324"></a><em>Cell View</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056326"></a>Specify the top-level design cellview.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056328"></a><em>Simulation Directory</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056330"></a>Specify the path of the simulation database.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056332"></a><em>SimVision Database</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056334"></a>Specify the path and filename of the SimVision database <code>.trn</code> file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056336"></a><em>Hierarchy Prefix</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056338"></a>This field includes the hierarchy prefix used in the testbench, such as <code>test.top</code> or <code>test:top</code>. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1056339"></a>You can use a period (.) or a colon (<code>:</code>) as the delimiter in the hierarchy prefix. </div>

</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1056350"></a>Additionally, you can use the following check boxes to migrate from the Virtuoso Schematic Editor to the Virtuoso Verilog Environment for NC-Verilog and vica-versa.</p>
<ul><li>
<a id="pgfId-1056351"></a><em>Cross Selection from Schematic Editor to SimVision:</em> select this check box to migrate from the <em>Virtuoso</em> <em>Schematic Editor </em>to the <em>Virtuoso</em> <em>Verilog</em> <em>Environment</em> <em>for</em> <em>NC-Verilog</em>.</li><li>
<a id="pgfId-1056299"></a><em>Cross Selection from SimVision</em> to <em>Schematic Editor: </em>select this check box to migrate from the <em>Virtuoso</em> <em>Verilog</em> <em>Environment</em> <em>for</em> <em>NC-Verilog</em> to the <em>Virtuoso</em> <em>Schematic Editor</em>.</li></ul>


<h3>
<a id="pgfId-1030883"></a><a id="56340"></a>Display Pa<a id="displayPartition"></a>rtition</h3>

<p>
<a id="pgfId-1021871"></a>Once you elaborate a design or run a simulation, you can view your data and distinguish between analog instances or nets, digital/real instances or nets, and mixed instances or nets by the color associated with each partition. </p>
<ol><li>
<a id="pgfId-1021872"></a>To access this feature, choose <em>Launch &#8211; Plugins &#8211; Mixed Signal Options &#8211; AMS</em> in your schematic window. The <em>AMS</em> option appears on the menu bar.</li><li>
<a id="pgfId-1021873"></a>Choose <em>AMS &#8211; Display Partition &#8211; Initialize</em>. If you choose the Initialize menu item after running a simulation in ADE Explorer, the <em>Display Partition</em> menu items are enabled.<br />
<a id="pgfId-1021875"></a>However, if you do not run the simulation, the <em>Choose PSF Directory</em> form is displayed, as shown below. On this form, type the path to the simulation data directory in the <em>PSF Directory</em><a id="ChoosePSfDirForm"></a> field, or select the results using the <em>Browse</em> button.<br /><ffi2-fig-frame-in-2 id="#id1021879">
<a id="pgfId-1021879"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/amsunl/ams_psfDir.gif" /></div></li><li>
<a id="pgfId-1022259"></a>Choose <em>AMS &#8211; Display Partition &#8211; Interactive </em>to view the <em>Partition Display</em> window.<br />
<a id="pgfId-1022263"></a><div class="webflare-div-image">
<img src="images/amsunl/AMSDisplayPartition.gif" /></div>
<a id="pgfId-1022264"></a>This feature highlights the analog, digital, and real parts of a schematic in different colors. <br />
<a id="pgfId-1021886"></a><strong>analog</strong> indicates that the net or instance is analog in nature. A net or instance is analog throughout a hierarchy if everything under that instance is analog.<br />
<a id="pgfId-1021887"></a><strong>digital</strong> indicates that the net or instance is digital in nature. A net or instance is digital throughout a hierarchy if everything under that instance is digital.<br />
<a id="pgfId-1021888"></a><strong>real</strong> indicates that the net or instance is wreal in nature. A net or instance is real throughout a hierarchy if everything under that instance is real.<br />
<a id="pgfId-1021889"></a><strong>analog/mixed</strong> indicates that the net is mixed in nature. It means that some segments of the net or instance are analog and some are digital in the hierarchy.<br />
<a id="pgfId-1021890"></a><strong>digital/mixed</strong> indicates the same as analog/mixed, the difference being that at the current level, the net is digital.<br />
<a id="pgfId-1021891"></a>real/mixed indicates the net is wreal and connecting to R2E, or the instance has both wreal and electrical inside.<br />
<a id="pgfId-1021892"></a>digital/rmixed indicates the net is a logic net connecting to R2L, and R2L is connected to wreal net.<br />
<a id="pgfId-1021893"></a>real/rmixed indicates the net is wreal net connecting to R2L, or the instance has both wreal and logic inside.<br />
<a id="pgfId-1021894"></a>real/mixed/rmixed indicates the net is wreal net connecting to both R2L and R2E, or the instance has wreal,electrical and logic nets inside.<br />
<a id="pgfId-1021895"></a>The schematic reflects these color preferences.<br />
<a id="pgfId-1021899"></a><div class="webflare-div-image">
<img src="images/amsunl/AMSColorPreferences.gif" /></div></li><li>
<a id="pgfId-1023451"></a>You can see all the IEs in the configuration by choosing <em>AMS &#8211; Display Partition &#8211; IE Information</em>. This brings up the <em>AMS CMs Display</em> dialog box displaying all IEs. <br />
<a id="pgfId-1023455"></a><div class="webflare-div-image">
<img src="images/amsunl/AMS_cmDisplay.gif" /></div>
<a id="pgfId-1023456"></a>You can select an IE and click <em>Go to</em> to see it zoomed-in on the schematic. </li></ol>

































<h3>
<a id="pgfId-1021908"></a><a id="15125"></a>D<a id="discipline"></a>efault Digital Discipline Selection</h3>

<p>
<a id="pgfId-1021909"></a>Disciplines denote an object&#8217;s domain scope as being electrical or analog (with an electrical discipline, for example) or digital (with a logic discipline, for example). You can define the default disciplines for design objects by using the <em>AMS &#8211; Default Digital Discipline Selection</em> command in the Composer window.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021910"></a>This option affects the settings only on the CR/CM setup form and not the IE card setup form.</div>
<p>
<a id="pgfId-1021911"></a>Default digital discipline selection indirectly controls the selection of a connect module (IE) on mixed domain nets. A discipline denotes an object as analog or digital based on whether it is assigned the electrical or logic type discipline, respectively. When objects of different domains/disciplines are connected, connect rules help determine which connect modules are inserted between the mixed nets/ports.</p>
<p>
<a id="pgfId-1021912"></a>The inserted connect modules then convert signals to values that are appropriate for each discipline. To customize the conversions for your design, you can use the connect rules to override parameters, such as supply voltage or rise time, that are used in the connect modules. </p>
<p>
<a id="pgfId-1021914"></a>For more information, see the <em><a actuate="user" class="URL" href="../verilogamsref/chap11.html#firstpage" show="replace" xml:link="simple">Mixed-Signal Aspects of Verilog-AMS</a></em> chapter of the <em>Cadence Verilog-AMS Language Reference</em>.</p>

<h4><em>
<a id="pgfId-1021915"></a>To specify a default digital discipline for design objects,</em></h4>

<ol><li>
<a id="pgfId-1021916"></a>Choose <em>Launch &#8211; Plugin &#8211; Mixed Signal Options &#8211; AMS</em> in your schematic window. <br />
<a id="pgfId-1021917"></a>The <em>AMS</em> menu appears on the menu bar. </li><li>
<a id="pgfId-1021918"></a>Choose <em>AMS &#8211; Default Digital Discipline Selection</em>.<br />
<a id="pgfId-1021919"></a>A submenu appears showing six options: <em>Library</em>, <em>Cell</em>, <em>Cell Terminal</em>, <em>Net</em>, <em>Instance</em>, <em>Instance Terminal</em>. </li><li>
<a id="pgfId-1021920"></a>Select any of the submenu options to bring up the Default Digital Discipline Selection form. For example, if you select <em>Library</em>, the form comes up as shown here. You can specify disciplines on libraries in this form. <br />
<a id="pgfId-1021924"></a><div class="webflare-div-image">
<img src="images/amsunl/ams_DDDselection.gif" /></div>
<a id="pgfId-1021925"></a>Alternatively, you can select any of the other options from the <em>Specify discipline on</em> group box. The fields below the <em>Discipline</em> field change as follows depending on the design object selected.<br />
<a id="pgfId-1021969"></a><table class="webflareTable" id="#id1021926">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021928">
<a id="pgfId-1021928"></a>Design Object</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021930">
<a id="pgfId-1021930"></a>Related fields</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021932">
<a id="pgfId-1021932"></a>How to specify</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021934"></a><em>Library</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021936"></a><em>Library</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021938"></a>Type in a valid value or use the <em>Browse</em> button to specify a library from the Library Browser.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021940"></a><em>Cell</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021942"></a><em>Library<br />Cell</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021944"></a>Type in valid values or use the <em>Browse</em> button to specify a library and cell from the Library Browser.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021946"></a><em>Cell Terminal</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021948"></a><em>Library <br />Cell<br />Terminal</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021950"></a>Type in valid values or use the <em>Select</em> button to select a cell terminal from the schematic.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021952"></a><em>Net </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021954"></a><em>Net </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021956"></a>Type in a valid value or use the <em>Select</em> button to select a net from the schematic.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021958"></a><em>Instance</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021960"></a><em>Instance </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021962"></a>Type in a valid value or use the <em>Select</em> button to select an instance from the schematic.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021964"></a><em>Instance Terminal</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021966"></a><em>Instance Terminal</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021968"></a>Type in a valid value or use the <em>Select</em> button to select an instance terminal from the schematic.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1021970"></a>The table lists the types of design objects, their default disciplines, and their names. You can sort this table by <em>Type</em> or <em>Discipline</em>. </li><li>
<a id="pgfId-1021971"></a>To create a new discipline,<ol><li>
<a id="pgfId-1021972"></a>Click the <em>Discipline</em> button. <br />
<a id="pgfId-1021974"></a>The Create Discrete Disciplines form appears in which you can create a discipline. The new discipline appears in the <em>Discipline</em> field.<br />
<a id="pgfId-1022307"></a><div class="webflare-div-image">
<img src="images/amsunl/CreateDiscreteDisp.gif" /></div></li><li>
<a id="pgfId-1021975"></a>Click the <em>Add</em> button.</li></ol></li><li>
<a id="pgfId-1021976"></a>To delete one or more disciplines specified on an object,<ol><li>
<a id="pgfId-1021977"></a>Select one or more rows in the table. </li><li>
<a id="pgfId-1021978"></a>Click the <em>Delete</em> button.</li></ol></li><li>
<a id="pgfId-1021979"></a>To change a discipline specified on an object,<ol><li>
<a id="pgfId-1021980"></a>Select a row in the table. <br />
<a id="pgfId-1021981"></a>The form refreshes to show the fields pertaining to the selected kind of object.</li><li>
<a id="pgfId-1021982"></a>Change the values as required and click the <em>Change</em> button.</li></ol></li><li>
<a id="pgfId-1021983"></a>To view a discipline on the schematic, <ol><li>
<a id="pgfId-1021984"></a>Select a row from the table. <br />
<a id="pgfId-1021985"></a>Only nets, instances and instance terminals can be highlighted.</li><li>
<a id="pgfId-1021986"></a>Click the <em>Highlight</em> button.<br />
<a id="pgfId-1021987"></a>As shown in the illustration below, the selected discipline, in this case <code>logic_1p2</code>, appears highlighted in the schematic. You can select and highlight multiple objects this way. You can click the <em>Unhighlight All</em> button to remove the highlights.<br /><ffi2-fig-frame-in-2 id="#id1021993">
<a id="pgfId-1021993"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/amsunl/ams_discipline.gif" /></div></li></ol></li><li>
<a id="pgfId-1021994"></a>To copy disciplines from the cellview, click the <em>Copy from Cellview</em> button. Conversely, to copy disciplines from the form to the cellview, click the <em>Copy to Cellview</em> button.<br />
<a id="pgfId-1021995"></a>After copying over disciplines from a cellview, when you click the <em>Discipline</em> button, a form may pop up listing the disciplines that have not been defined and asking if you would like to define them. If you select <em>Yes</em>, the Create Discrete Disciplines form appears showing a list of the undefined disciplines. If you select <em>No</em>, it appears blank.</li><li>
<a id="pgfId-1021997"></a>You can specify connect rules for a selected discipline by using the <em>Connect Rules</em> button to bring up the Select Connect Rules form. You can use this form to create, modify or delete connect rules. This form appears only if ADE Explorer is up and the simulator set to ams. Otherwise, an error message appears.</li><li>
<a id="pgfId-1021999"></a>Click <em>OK</em>.<br />
<a id="pgfId-1022000"></a>The disciplines created are automatically compiled.</li></ol>


















































<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap14.html" id="prev" title="Helping Simulations to Converge">Helping Simulations to Converg ...</a></em></b><b><em><a href="chap17.html" id="nex" title="Working with HSPICE Simulator">Working with HSPICE Simulator </a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>