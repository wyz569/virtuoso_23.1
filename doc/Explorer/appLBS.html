
<html><head><title>Cadence&#169; Load Balancing Software (LBS) Distribution Method</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2023-10-27" />
<meta name="CreateTime" content="1698403462" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features of Virtuoso ADE Explorer" />
<meta name="DocTitle" content="Virtuoso ADE Explorer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Cadence&#169; Load Balancing Software (LBS) Distribution Method" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="Explorer" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-27" />
<meta name="ModifiedTime" content="1698403462" />
<meta name="NextFile" content="" />
<meta name="Order" content="0" />
<meta name="Group" content="ADE Explorer" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="FAQchap_topic.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE Explorer User Guide -- Cadence&#169; Load Balancing Software (LBS) Distribution Method" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="ExplorerIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ExplorerTOC.html">Contents</a></li><li><a class="prev" href="FAQchap_topic.html" title="ADE Explorer Frequently Asked Questions">ADE Explorer Frequently Asked  ...</a></li><li style="float: right;"><a class="viewPrint" href="Explorer.pdf">View/Print PDF</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE Explorer User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>G
<a id="pgfId-1017948"></a></h1>
<h1>
<a id="pgfId-1070673"></a><hr />
Cadence&#169; Load Balancing Software (LBS) Distribution Method<hr />
</h1>

<p>
<a id="pgfId-1019610"></a>This chapter describes how to set up and use distributed processing for job simulation in Virtuoso using the Cadence Load Balancing Software (LBS).</p>
<p>
<a id="pgfId-1039773"></a>See:</p>
<ul><li>
<a id="pgfId-1014368"></a><a href="appLBS.html#20622">Introduction to LBS Mode</a></li><li>
<a id="pgfId-1030650"></a><a href="appLBS.html#55316">System Administration of Distributed Jobs with LBS</a></li><li>
<a id="pgfId-1073285"></a><a href="appLBS.html#56936">Setting up DRMS in LBS Distribution Method</a></li><li>
<a id="pgfId-1043122"></a><a href="appLBS.html#93659">Validating the LBS Distributed Processing Setup</a></li><li>
<a id="pgfId-1043365"></a><a href="appLBS.html#27465">Submitting Simulation Jobs in LBS Distribution Method</a></li><li>
<a id="pgfId-1041872"></a><a href="appLBS.html#90638">Monitoring Distributed Jobs in LBS Method</a></li><li>
<a id="pgfId-1037744"></a><a href="appLBS.html#49249">Debugging an LBS Distributed Processing Setup</a></li><li>
<a id="pgfId-1070692"></a><a href="appLBS.html#95680">Troubleshooting FAQs</a></li></ul>








<h2>
<a id="pgfId-1014845"></a><a id="20622"></a>Introduction to LBS Mode</h2>

<p>
<a id="pgfId-1044267"></a>Distributed processing is the setup used for distribution of a program, task, or job across multiple hosts. In such a setup, the multiple hosts work together to complete the task or job. See <a href="appLBS.html#55316">System Administration of Distributed Jobs with LBS</a> for more information.</p>
<p>
<a id="pgfId-1018584"></a>By default, LBS uses the Cadence Queue Manager (<code>cdsqmgr</code>) to distribute jobs in the distribution queues. In addition, it provides a built-in hook into the following third-party Distributed Resource Management System (DRMS) tools:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1018585"></a>Load Sharing Facility (<code>LSF</code>) load balancer software from IBM.</li><li>
<a id="pgfId-1018572"></a>Sun Grid Engine (<code>SGE</code>) load balancer software from Oracle.</li></ul></li></ul>

<p>
<a id="pgfId-1044422"></a>The LBS software consists of: </p>
<ul><li>
<a id="pgfId-1066633"></a>An LBS client library: Used by Cadence applications to interact with the LBS server process. </li><li>
<a id="pgfId-1066638"></a>An LBS server program: Uses the LBS client library provided by the DRMS to interact with the DRMS cluster.</li></ul>

<p>
<a id="pgfId-1066646"></a>Therefore, the LBS server process is considered a DRMS client application. </p>

<h2>
<a id="pgfId-1016065"></a><a id="55316"></a>System Administration of Distributed Jobs with LBS</h2>

<p>
<a id="pgfId-1020042"></a>This section contains information that system administrators need to configure LBS and the distributed processing clusters. To use distributed processing successfully, ensure that your setup follows the requirements described in the following sub-sections:</p>
<ul><li>
<a id="pgfId-1028533"></a><a href="appLBS.html#24167">Common LBS Setup Requirements</a><ul><li>
<a id="pgfId-1064883"></a><a href="appLBS.html#11362">Shell Variables for LBS Distribution Method</a></li><li>
<a id="pgfId-1072235"></a><a href="appLBS.html#90799">Additional Requirements</a></li></ul></li></ul>



<h3>
<a id="pgfId-1020137"></a><a id="31711"></a><a id="24167"></a>Common LBS Setup Requirements</h3>

<p>
<a id="pgfId-1020138"></a>You must ensure that your site meets the following list of basic requirements or assumptions so that the distributed processing software works smoothly: </p>
<ul><li>
<a id="pgfId-1046373"></a>To submit a job, you must have an account and a home directory on the submission host and the execution host. <br />
<a id="pgfId-1020140"></a><strong>Example:</strong> If a user <code>morrison</code> who submits a job from <code>machine A</code> to <code>machine B </code>does not have an account on <code>machine B</code>, the submit request for <code>morrison</code> fails. </li><li>
<a id="pgfId-1020141"></a>You must have access to the OS specific Cadence<sup>&#174;</sup> software on every execution host that might receive a job from you.</li><li>
<a id="pgfId-1020142"></a>The directory on your local machine from which you run the distributed processing software must be exported if you are using the <code>v/net</code>,<code> /home</code>, or<code> /hm</code>. Network mode also assumes that your working directory, and all your design data are under your account and are mirrored. Whenever the remote job references a path, that path goes directly back to the original directory on your home machine.</li><li>
<a id="pgfId-1020150"></a>The <code>uid</code> (UNIX user ID) of a user must not change when the user switches from one machine to another. For example, <code>uid</code> of <code>8819</code> must not identify user <code>morrison</code> on <code>machine A</code> and user <code>doe</code> on <code>machine B</code>. </li><li>
<a id="pgfId-1020151"></a>To submit jobs, all users must have write-access to the <code>/tmp</code> file system on the execution and submission hosts. The job submission and execution processes create certain temporary files that are saved in the <code>/tmp</code> file system. </li><li>
<a id="pgfId-1020152"></a>The setup considers that all files &#8211; input, output, error, and any command or OCEAN files &#8211; have absolute or relative locations, depending on whether they are preceded by a <code>/</code>. All relative locations are searched relative to the working directory of the job. Ensure that you specify the correct path for all files. </li><li>
<a id="pgfId-1020153"></a>The directory structure on the home machine and the remote machine must be identical. For example, if the working directory of the job on your machine is <code>/net/salmon/u1/morrison</code>, the design directory on the execution machine must be <code>/net/coho/u1/morrison</code>. If the directory structure does not match on <code>salmon</code> and <code>coho</code>, use a link to mirror the directory structure on the home machine.</li></ul>








<h4>
<a id="pgfId-1064804"></a><a id="11362"></a>Shell Variables for LBS Distribution Method</h4>

<p>
<a id="pgfId-1064863"></a>The LBS distribution software supports the <code>cdsqmgr</code>, <code>LSF</code>, and <code>SGE</code> DRMS. To distribute and process jobs in the LBS method, you need to set the following environment variables based on the DRMS that you use for each distributed processing client machine:</p>
<p>
<a id="pgfId-1072849"></a></p>
<table class="webflareTable" id="#id1065221">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1072857"></a><code>LBS_CLUSTER_MASTER</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1018353"></a>Set this to the LBS master host that controls job distribution to the queues. Your system administrator can help in this setup. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1040027"></a>You do not need to set <code>LBS_CLUSTER_MASTER</code> variable for LSF and SGE.</div>
<p>
<a id="pgfId-1044732"></a>In .cshrc:</p>

<p>
<a id="pgfId-1040802"></a>setenv LBS_CLUSTER_MASTER <span class="webflare-courier-new" style="white-space:pre"><em>LBS_master_host</em></span></p>

<p>
<a id="pgfId-1044803"></a><span class="webflare-courier-new" style="white-space:pre"><em>LBS_master_host</em></span> is the host on which the LBS queue manager runs for controlling job distribution to the queues. Take your system administrator&#8217;s help in setting this up. By default, LBS uses the <code>cdsqmgr</code> load balancer. </p>

<p>
<a id="pgfId-1044795"></a>You can skip setting the <code>LBS_BASE_SYSTEM</code> variable if you use LBS. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1072879"></a><code>LBS_BASE_SYSTEM</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1064601"></a>Set this to define the load balancer that you want to use with LBS. For this, add one of the following commands in your <code>.cshrc</code> file.</p>
<ul><li>
<a id="pgfId-1064602"></a>To use the default Cadence (<code>cdsqmgr</code>) load balancer <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1064603">
<a id="pgfId-1064603"></a>setenv LBS_BASE_SYSTEM </pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1075991"></a>You do not need to set the <code>LBS_BASE_SYSTEM</code> variable to use the default Cadence (<code>cdsqmgr</code>) load balancer. Optionally, if defined, it must be set to an empty value.</div></li></ul>


<p>
<a id="pgfId-1072455"></a>See <a href="appLBS.html#19419">System Requirements for cdsqmgr Setup</a>.</p>
<ul><li>
<a id="pgfId-1064604"></a>To use the IBM Spectrum Load Sharing Facility (LSF) load balancer<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1064605">
<a id="pgfId-1064605"></a>setenv LBS_BASE_SYSTEM LBS_LSF</pre></li></ul>

<p>
<a id="pgfId-1072538"></a>See <a href="appLBS.html#88247">System Requirements for LSF Setup</a>.</p>
<ul><li>
<a id="pgfId-1064608"></a>To use the Sun Grid Engine (SGE) load balancer<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1064609">
<a id="pgfId-1064609"></a>setenv LBS_BASE_SYSTEM LBS_SGE</pre></li></ul>

<p>
<a id="pgfId-1072572"></a>See <a href="appLBS.html#99392">System Requirements for SGE Setup</a>.</p>

</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1064711"></a>The variable values that you specify differ based on whether you use LBS with <code>cdsqmgr</code>, or LBS with third-party DRMS. However, ensure that you set the appropriate variables based on the DRMS that you use. If you specify none of these variables, you can use distributed processing in the command-line mode only. </p>

<h3>
<a id="pgfId-1040987"></a><a id="90799"></a>Additional Requirements</h3>

<p>
<a id="pgfId-1040981"></a>In addition to the common and DRMS-specific requirements, ensure that your system administrator also considers the following:</p>
<ul><li>
<a id="pgfId-1041188"></a><a href="appLBS.html#17372">Time Clock Consideration</a></li><li>
<a id="pgfId-1041197"></a><a href="appLBS.html#58499">Network Mode Consideration</a></li></ul>


<h4>
<a id="pgfId-1020160"></a><a id="17372"></a>Time Cl<a id="marker-1072214"></a>ock Consideration</h4>

<p>
<a id="pgfId-1020161"></a>All users in a cluster must synchronize the clocks on all computers. Failure to synchronize the clocks can cause errors when you submit jobs. For example, machine Y&#8217;s clock reports the time as 11:50, and machine Z&#8217;s clock reports the time as 12:00. If a user on machine Y submits a job to machine Z to run &#8216;Today&#8217; at 11:55, machine Z cannot run the job. The simulation will fail to run on machine Z because the specified run time occurred before the job was submitted.</p>

<h4>
<a id="pgfId-1020197"></a><a id="58499"></a>Network Mode Consideration</h4>

<p>
<a id="pgfId-1020198"></a>To run the distributed processing software, the default mode is the <a id="91170"></a>Network Mode. Network mode assumes that your home account is mirrored (linked) on every remote machine on which you might run a job, using commands such as, <code>/net</code>,<code> /home</code>,<code> </code>or<code> /hm</code>. Network mode also assumes that your working directory and all your design data are under your account and are mirrored. Whenever the remote job references a path, that path goes directly back to the original directory on your home machine. </p>

<h2>
<a id="pgfId-1072289"></a><a id="56936"></a>Setting up DRMS in LBS Distribution Method</h2>

<p>
<a id="pgfId-1072347"></a>This section describes the various DRMS-specific settings that are required for processing jobs using the LBS distribution method. You can set up your LBS setup depending on the DRMS that you choose. </p>
<ul><li>
<a id="pgfId-1028501"></a><a href="appLBS.html#19419">System Requirements for cdsqmgr Setup</a><ul><li>
<a id="pgfId-1020050"></a><a href="appLBS.html#64317">Using cdsqmgr with remote shell (rsh)</a></li><li>
<a id="pgfId-1020054"></a><a href="appLBS.html#58000">Using cdsqmgr with secure shell (ssh)</a></li></ul></li><li>
<a id="pgfId-1020062"></a><a href="appLBS.html#88247">System Requirements for LSF Setup</a><ul><li>
<a id="pgfId-1064171"></a><a href="appLBS.html#40509">Resource Requirement String Format</a></li></ul></li><li>
<a id="pgfId-1072247"></a><a href="appLBS.html#99392">System Requirements for SGE Setup</a></li></ul>






<h3>
<a id="pgfId-1020085"></a><a id="19419"></a>S<a id="marker-1051952"></a>ystem Requirements for cdsqmgr Setup</h3>

<p>
<a id="pgfId-1033022"></a>LBS <code>cdsqmgr</code> is a Cadence load balancing software that helps you set up a simple distributed system for multiple users based on the configuration file that you specify. It helps to run distributed processing jobs in queue mode. </p>
<p>
<a id="pgfId-1033023"></a>Using LBS with <code>cdsqmgr</code>, you can set up any number of queues (collections of host machines) and hosts per queue. Each queue has a job-per-host limit. LBS <code>cdsqmgr</code> dispatches jobs to the hosts in the order that you specify.</p>
<p>
<a id="pgfId-1032932"></a>Job distribution using LBS <code>cdsqmgr</code> is supported by the Cadence analog simulator Spectre, APS, XPS, and mixed-signal simulator AMS. </p>
<p>
<a id="pgfId-1020086"></a>Setting up a site for an LBS system with <code>cdsqmgr</code> involves one of the following:</p>
<ul><li>
<a id="pgfId-1042052"></a><a href="appLBS.html#64317">Using cdsqmgr with remote shell (rsh)</a></li><li>
<a id="pgfId-1042071"></a><a href="appLBS.html#58000">Using cdsqmgr with secure shell (ssh)</a></li></ul>


<h4>
<a id="pgfId-1028598"></a><a id="64317"></a>Using cdsqmgr with remote shell (rsh)</h4>

<p>
<a id="pgfId-1032405"></a>To set up distributed processing with LBS <code>cdsqmgr</code>, ensure that you have the required system administrator rights or root permissions, and do the following:</p>
<ol><li>
<a id="pgfId-1032406"></a><a href="appLBS.html#configFile">Create the config file</a>. </li><li>
<a id="pgfId-1032407"></a><a href="appLBS.html#hostReqs">Check the host requirements</a>. Ensure the following: <ol><li>
<a id="pgfId-1032408"></a>You must be able to log in to other hosts using <code>rsh</code> without a password. </li><li>
<a id="pgfId-1032409"></a>All hosts must have a path set to the Cadence tools.</li><li>
<a id="pgfId-1032410"></a>The <code>checkSysConf</code> command must run successfully on all hosts.</li><li>
<a id="pgfId-1032411"></a>All hosts must be mapped to a common directory structure.</li></ol></li><li>
<a id="pgfId-1032412"></a><a href="appLBS.html#daemonStart">Start the daemon process</a>. </li><li>
<a id="pgfId-1032413"></a><a href="appLBS.html#unixSetup">Set up the UNIX environment for distributed processing users</a>.</li><li>
<a id="pgfId-1032414"></a><a href="appLBS.html#configTestScript">Run the configuration testing script</a>. </li></ol>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032415"></a>By default, the tool uses <code>rsh</code> to communicate between the hosts. Therefore, no additional settings are required to run <code>rsh</code>.</div>

<h4><em>
<a id="pgfId-1020088"></a><a id="63228"></a>Cre<a id="configFile"></a>ating the Config File</em></h4>

<p>
<a id="pgfId-1020091"></a>Cluster configuration files can have any name and reside in any location. This file contains names of queues, machines in queues, number of hosts in a queue, names of hosts in a queue, and the job limit of individual hosts. The syntax for these files is as follows:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020093"></a>queue_1_name  N_-_number_of_hosts_in_queue_1<br />host_1       job_limit_for_host_1_on_queue_1<br />host_2       job_limit_for_host_2_on_queue_1<br />...<br />host_N       job_limit_for_host_N_on_queue_1<br /></pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020094"></a>queue_2_name  N_-_number_of_hosts_in_queue_2<br />host_1       job_limit_for_host_1_on_queue_2<br />host_2       job_limit_for_host_2_on_queue_2<br />...<br />host_N&#160;&#160;     job_limit_for_host_N_on_queue_2</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020095"></a>...</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020096"></a>queue_n_name  N_-_number_of_hosts_in_queue_n<br />host_1       job_limit_for_host_1_on_queue_n<br />host_2       job_limit_for_host_2_on_queue_n<br />...<br />host_N&#160;&#160;     job_limit_for_host_N_on_queue_n</pre>
<p>
<a id="pgfId-1020097"></a>For example, the contents of a sample configuration file <code>lbs.config</code> are as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032856"></a>************************ lbs.config ***************************</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1032857"></a>queueA 2<br />noi-user1 3<br />noi-user2 2<br />queueB 3<br />noi-user1 4<br />noi-user2 2<br />noi-user3 3<br />****************************************************************</pre>
<p>
<a id="pgfId-1047009"></a>Place this file in your <code>$HOME. </code></p>
<p>
<a id="pgfId-1032852"></a>In the above configuration file, <code>queueA</code> and <code>queueB</code> are the names of two queues. The first statement <code>queueA 2</code> indicates that the queue <code>queueA</code> has two hosts. These hosts are <code>noi-user1</code> and <code>noi-user2</code>. The statement <code>noi-user1</code> <code>3</code> indicates that the host <code>noi-user1</code> can handle a maximum of <code>3</code> jobs. Similarly, host <code>noi-user2</code> can handle a maximum of <code>2</code> jobs.</p>

<h4><em>
<a id="pgfId-1028745"></a><a id="79214"></a>Che<a id="hostReqs"></a>cking the Host Requirements</em></h4>

<ol><li>
<a id="pgfId-1032184"></a>For LBS <code>cdsqmgr</code> to work smoothly, you must be able to use <code>rsh</code> to log in to another host without a password. If you receive a prompt for a password, disable the password.</li><li>
<a id="pgfId-1032185"></a>Ensure that all host machines can access the Cadence tools. To check if the path to the Cadence tool is available on each host, log in to all the hosts individually and run the following command in the Unix terminal window:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1047192">
<a id="pgfId-1047192"></a>&gt; which spectre 
&gt; which virtuoso</pre></li><li>
<a id="pgfId-1032187"></a>Use <code>rlogin</code> to log in to each host and check if the host passes the <code>checkSysConf</code> test. The following command ensures that the machine has all the required patches for running the tool.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032188">
<a id="pgfId-1032188"></a><code>&lt;ic_install_path&gt;/tools/bin/checkSysConf &lt;ic_install_version&gt;</code></pre>
<a id="pgfId-1032189"></a>For example, if you are running Virtuoso IC6.1.8, use the following command:<pre class="webflare-pre-block webflare-courier-new" id="#id1032190">
<a id="pgfId-1032190"></a>checkSysConf IC6.1.8</pre>
<a id="pgfId-1028740"></a>Repeat this test on each host for all Cadence tools (like simulators). For more details, refer to the Cadence article: <a actuate="user" class="URL" href="../https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000000vK87EAE&amp;pageName=ArticleContent" show="replace" xml:link="simple">Running checkSysConf to verify system patch levels</a>.</li><li>
<a id="pgfId-1032230"></a>Ensure that all hosts are connected to a common directory structure so that the project work area and the simulation directories are visible to each host.</li></ol>









<h4><em>
<a id="pgfId-1020100"></a><a id="77151"></a>St<a id="daemonStart"></a>arting the Daemon</em></h4>
<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1028465"></a>
A <code>daemon</code> is a program or process that runs as a background process.</div>

<p>
<a id="pgfId-1032335"></a>To run <code>cdsqmgr</code> on the identified cluster master, do the following:</p>
<ol><li>
<a id="pgfId-1032336"></a>Identify the cluster master, which is the host on which the <code>daemon</code> needs to be run. If the master host is <code>noi-user1</code>, <code>rlogin</code> to host <code>noi-user1</code>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032337">
<a id="pgfId-1032337"></a>&gt; rlogin noi-user1</pre></li><li>
<a id="pgfId-1032338"></a>Kill any <code>cdsqmgr</code> process that is already running under the root directory or any other account. Use the following command to find the process:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032339">
<a id="pgfId-1032339"></a>Unix&gt; ps -aef |grep cdsqmgr</pre>
<a id="pgfId-1047679"></a>Running this command may result in an output as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id1032340">
<a id="pgfId-1032340"></a>userA 14494 1 0 19:05 ? 00:00:00 /ccstools/cdsind1/Software/IC618ISR_lnx86/tools/bin/32bit/cdsqmgr lbs.config</pre>
<a id="pgfId-1032341"></a>Here, <code>cdsqmgr</code> is already running with <code>PID</code> <code>14494</code>. To kill this <code>PID</code>, use the following command:<pre class="webflare-pre-block webflare-courier-new" id="#id1032342">
<a id="pgfId-1032342"></a>&gt; kill 14494</pre></li><li>
<a id="pgfId-1032343"></a>Kill any <code>cdsNameServer</code> process that is already running under the root directory or any other account. To do this, use the following commands:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032344">
<a id="pgfId-1032344"></a>Unix&gt; ps -aef |grep cdsNameServer
userA 764 1 0 Jul30 ? 00:00:00 /ccstools/cdsind1/Software/IC618ISR_lnx86/tools/bin/32bit/cdsNameServer
userA 4181 14330 0 20:47 pts/8 00:00:00 grep cdsNameServer</pre>
<a id="pgfId-1032347"></a>Here, the <code>cdsNameServer</code> is already running with <code>PID</code> <code>764</code>. To kill this <code>PID</code>, use the following command:<pre class="webflare-pre-block webflare-courier-new" id="#id1032348">
<a id="pgfId-1032348"></a>Unix&gt; kill 764</pre></li><li>
<a id="pgfId-1032349"></a>Start <code>cdsqmgr</code> as a root user on this master host (<code>noi-user1)</code> by providing the full path to the queue configuration file. The syntax is as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1020105">
<a id="pgfId-1020105"></a>cdsqmgr &lt;full_path_to_config_file&gt;/lbs.config</pre>
<a id="pgfId-1033145"></a>For example:<pre class="webflare-pre-block webflare-courier-new" id="#id1033141">
<a id="pgfId-1033141"></a>Unix&gt; cdsqmgr /home/user/lbs.config</pre></li></ol>















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020107"></a>If a non-root user starts <code>cdsqmgr</code> from a user account on a cluster master machine, only that user will be able to submit jobs through that <code>cdsqmgr</code>. This is not recommended because jobs of individual users will not be queued together, and as a result, shared resources might not be used optimally.</div>

<h4><em>
<a id="pgfId-1020109"></a><a id="32012"></a>UNIX Envir<a id="unixSetup"></a>onment Setup for LBS Distribution Method</em></h4>

<p>
<a id="pgfId-1020113"></a>To prepare your UNIX environment:</p>
<ol><li>
<a id="pgfId-1048011"></a>Ensure that your setup meets the common setup requirements. See <a href="appLBS.html#24167">Common LBS Setup Requirements</a>.</li><li>
<a id="pgfId-1020114"></a>Set the following in the <code>.cshrc</code> files for every user environment that intends to run the distributed simulation with LBS: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1020115">
<a id="pgfId-1020115"></a>setenv LBS_CLUSTER_MASTER <code><em>LBS_master_host</em></code></pre>
<a id="pgfId-1033239"></a>Here, <code>LBS_master_host</code> is the host on which the <code>cdsqmgr</code> daemon is running with root permissions. See <a href="appLBS.html#77151">Starting the Daemon</a>.<br />
<a id="pgfId-1033240"></a>For example:<pre class="webflare-pre-block webflare-courier-new" id="#id1033241">
<a id="pgfId-1033241"></a>Unix&gt; setenv LBS_CLUSTER_MASTER noi-user1</pre>
<a id="pgfId-1028681"></a>In the above command, <code>noi-user1</code> is set as the cluster master in every user environment. </li></ol>







<h4><em>
<a id="pgfId-1028828"></a><a id="30956"></a>Config<a id="configTestScript"></a>uration Testing Script</em></h4>

<p>
<a id="pgfId-1020224"></a>To test your setup for some common mistakes, run the <code>adptest</code> script. The script, together with the other Cadence binaries, is available at <code>&lt;ic_install_path&gt;/tools/dfII/bin</code>. To run the script, type the following at the terminal prompt:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1020225"></a>adptest</pre>
<p>
<a id="pgfId-1020226"></a>The script displays messages in the same window where you run the script.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033364"></a>&gt;&gt;
BEGIN Analog Design Environment Distributed Processing Setup Test
Testing for existence of LBS_CLUSTER_MASTER variable...
&#160;&#160;&#160;&#160;PASSED.
Testing opening of Analog Design Environment Job Server...
Launching Analog Design Environment job server...
Analog Design Environment job server has initialized!
&#160;&#160;&#160;&#160;PASSED.
Please be patient - the remaining portion of the test takes some time.
Testing job submission to host `noi-user3&#39; on queue &#39;queueB&#39;...
&#160;&#160;&#160;&#160;PASSED.
Testing job submission to host &#39;noi-user2&#39; on queue &#39;queueB&#39;...
&#160;&#160;&#160;&#160;PASSED.
Testing job submission to host &#39;noi-user1&#39; on queue &#39;queueB&#39;...
&#160;&#160;&#160;&#160;PASSED.
Testing job submission to host &#39;noi-user2&#39; on queue &#39;queueA&#39;...
&#160;&#160;&#160;&#160;PASSED.
Testing job submission to host &#39;noi-user1&#39; on queue &#39;queueA&#39;...
&#160;&#160;&#160;&#160;PASSED.<br />END Analog Design Environment Distributed Processing Setup Test<br />t<br />&lt;&lt;</pre>
<h4>
<a id="pgfId-1028644"></a><a id="58000"></a>Using cdsqmgr with secure shell (ssh)</h4>

<p>
<a id="pgfId-1033753"></a>By default, Virtuoso uses <code>rsh</code> to utilize any distribution processing system. However, several organizations may block <code>rsh</code> and allow only the <code>ssh</code> setup, because of its higher security. You can configure Virtuoso to use <code>ssh</code> for distributed processing. </p>
<p>
<a id="pgfId-1048531"></a>To configure Virtuoso for using <code>ssh</code>, ensure that you have the required root permissions or administrative rights, and do one of the following: </p>
<ul><li>
<a id="pgfId-1048355"></a><a href="appLBS.html#configNoPassword">Configure Remote Hosts to Accept ssh Connection without a Password</a> </li><li>
<a id="pgfId-1048424"></a><a href="appLBS.html#cdsRemoteFile">Edit the cdsRemote.scr File</a> </li><li>
<a id="pgfId-1048441"></a><a href="appLBS.html#remoteEnvVar">Set Virtuoso Environment Variable in the .cdsinit File</a> </li></ul>



<h4><em>
<a id="pgfId-1028896"></a>Configuring Re<a id="configNoPassword"></a>mote Hosts to Accept ssh Connection Without a Password </em></h4>

<p>
<a id="pgfId-1033769"></a>For Virtuoso distributed system to work with <code>ssh</code>, you need to use <code>ssh</code> to log in to the execution hosts without any password. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033770"></a>shyam@noi-userA$ ssh noi-userB</pre>

<p>
<a id="pgfId-1033771"></a>If you have <code>ssh</code> access on the execution hosts without any password, you immediately get a prompt on that machine as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033772"></a>Last login: Mon Aug 19 17:23:58 2019 from noi-userA.cadence.com<br />------------------------------------------------------------------<br />This Cadence-owned computer system and Cadence&#39;s computer network are made<br />available to you for the purpose of conducting authorized company business.<br />You have no reasonable expectation of privacy with regard to content created,<br />stored and/or transmitted on this system, except as provided by applicable law.<br />Cadence may - at any time, for any reason and with or without notice - search,<br />monitor and inspect this computer and network to the full extent permitted by<br />applicable law.<br />==================================================================<br />/usr/local/rc/cadence.login: No such file or directory.<br />[userA@noi-userB ~]$</pre>

<p>
<a id="pgfId-1033784"></a>If you do not configure <code>ssh</code> to work without password, the system may give you a message as shown below or may ask for the password.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033765"></a>The authenticity of host &#39;noi-userB (172.23.65.158)&#39; can&#39;t be established.RSA key fingerprint is ac:d9:69:47:10:8d:7f:83:86:53:5f:10:07:e3:20:82.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033859"></a>Are you sure you want to continue connecting (yes/no)?</pre>

<p>
<a id="pgfId-1033860"></a>You need to contact your IT department for creating a setup in which users can use <code>ssh</code> to log in to execution hosts without any password. </p>
<p>
<a id="pgfId-1049524"></a>Alternatively, create an <code>ssh</code> setup that does not require a password. This method creates a private or public key and registers the execution hosts. Ensure that you have <code>ssh</code> installed on the machines. To create this setup, do the following: </p>
<ol><li>
<a id="pgfId-1049609"></a><a href="appLBS.html#keyPair">Create a public or private key</a>.</li><li>
<a id="pgfId-1049642"></a><a href="appLBS.html#copyKeys">Copy the public key file as authorized_keys and add the remote host in the known_hosts list</a>.</li><li>
<a id="pgfId-1049757"></a><a href="appLBS.html#locateFile">Locate the known_hosts files to validate addition of specified host</a>. </li><li>
<a id="pgfId-1050058"></a><a href="appLBS.html#addHosts">Add more execution hosts in the known_hosts file</a>. </li></ol>



<p>
<a id="pgfId-1033861"></a><strong>Creating a public private key</strong><a id="keyPair"></a></p>
<p>
<a id="pgfId-1049992"></a>To create a public or private key, do the following:</p>
<ol><li>
<a id="pgfId-1052210"></a>Run the following Unix command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1033862">
<a id="pgfId-1033862"></a>unix&gt; cd $HOME/.ssh</pre></li><li>
<a id="pgfId-1033863"></a>Run the following Unix command to create a public or private RSA key pair:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1033864">
<a id="pgfId-1033864"></a>unix&gt; ssh-keygen &#8211;t rsa
userA@noi- user A ~/.ssh]$ ssh-keygen -t rsa 
Generating public/private rsa key pair.
Enter file in which to save the key (/home/userA/.ssh/id_rsa): </pre></li><li>
<a id="pgfId-1033866"></a>Press <code>Enter</code>. If an <code>id_rsa</code> file already exists, you get a prompt to overwrite the file (<code>Overwrite (y/n)?</code>). Type <code>y</code> and press <code>Enter</code> to overwrite the file.</li><li>
<a id="pgfId-1033867"></a>Press <code>Enter</code> on the next prompt (<code>Enter passphrase (empty for no passphrase):</code>), to keep the passphrase null:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1066883">
<a id="pgfId-1066883"></a>[userA@noi-userA ~/.ssh]$ ssh-keygen -t rsa 
Generating public/private rsa key pair.
Enter file in which to save the key (/home/userA/. ssh/id_rsa) 
Enter passphrase (empty for no passphrase): |</pre></li><li>
<a id="pgfId-1033868"></a>Press <code>Enter</code> on the next prompt (<code>Enter same passphrase again:</code>), press <code>Enter</code>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1066913">
<a id="pgfId-1066913"></a>(userA@noi- userA -/. ssh ]$ ssh- keygen -t rsa 
Generating public/private rsa key pair.
Enter file in which to save the key (/home/ userA /.ssh/id_rsa) 
Enter passphrase (empty for no passphrase):
Enter same passphrase again: </pre>
<a id="pgfId-1033825"></a>The following message appears: <pre class="webflare-pre-block webflare-courier-new" id="#id1066946">
<a id="pgfId-1066946"></a>[ user A @noi- userA ~/.ssh]$ ssh-keygen -t rsa 
Generating public/private rsa key pair.
Enter file in which to save the key (/home/ userA .ssh/id_rsa): 
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/ userA /. ssh/id_rsa. 
Your public key has been saved in /home/ userA /.ssh/id_rsa.pub. 
The key fingerprint is:</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1066950">
<a id="pgfId-1066950"></a>e2:5a:5d:d5:d6:cc:d7:d6:28:61:20:a4:51:27:71:63 userA @noi- userA 
The key&#39;s randomart image is:</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1066951">
<a id="pgfId-1066951"></a>+-- [ RSA 2048]----+
|       .0*.E.0    |
|        0 * 0 0 =0|
|       .     0 + 0|
|            . 0 ..|
|       . S .      |
|      . 0 .       |
|       0 .        |
|      0           |
|     .            |
+------------------+
[ userA @noi- userA ~/.ssh]$ </pre>
<a id="pgfId-1033884"></a>The preceding procedure generates two files:<code> id_rsa</code> and <code>id_rsa.pub</code> in your <code>~/.ssh</code> directory.</li></ol>













<p>
<a id="pgfId-1062857"></a><strong>Adding remote hosts in the known_hosts list</strong><a id="copyKeys"></a></p>
<p>
<a id="pgfId-1033885"></a>To add the remote hosts in the <code>known_hosts</code> list, copy the <code>id_rsa.pub</code> public key file as <code>authorized_keys</code>. For this, run the following command:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1033886"></a>unix&gt; cat id_rsa.pub | ssh userA@noi-userB &quot;mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</pre>
<p>
<a id="pgfId-1033887"></a>You receive a prompt to confirm your connection to the host:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071099"></a>(userA@roi-userA ~/.ssh|$ cat id_rsa.pub | ssh userA@noi-userB &quot;mkdir p -/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; cat » ~/.ssh/authorized_keys&#39; <br />The authenticity of host noi-userB (172.23.65.158) can&#39;t be established. <br />RSA key fingerprint is ac:d9:69:47:10:8d:7f:83:86:53:5f:10:37:e3:20:82. <br />Are you sure you want to continue connecting (yes/no)? </pre>

<p>
<a id="pgfId-1033888"></a>Type <code>yes</code> and press <code>Enter</code>. You are asked for the user password (<code>userA</code>).</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071133"></a>[ userA@noi-userA ~/.ssh]$ cat id_rsa.pub | ssh userA@noi-userB &quot;mkdir -p ~/.ssh &amp;&amp; chmod <br />The authenticity of host &#39;noi-userB (172.23.65.158)&#39; can&#39;t be established.<br />RSA key fingerprint is ac:d9:69:47:10:8d:7f:83:86:53:5f:10:07:e3:20:82.<br />Are you sure you want to continue connecting (yes/no)? yes<br />Warning: Permanently added &#39;noi- userB,172.23.65.158&#39; (RSA) to the list of known hosts. <br />userA@noi- userB&#39;s password: |</pre>

<p>
<a id="pgfId-1033880"></a>After providing the password, the host <code>noi-userB</code> is added into the <code>known_hosts</code> file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071171"></a>[ userA@noi-user A ~/.ssh]$ cat id_rsa.pub | ssh userA@noi-userB &quot;mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; cat » ~/.ssh/authorized_keys&quot; <br />The authenticity of host &#39;noi- userB (172.23 65.158)&#39; can&#39;t be established.<br />RSA key fingerprint is ac:d9:69:47:10:8d:7f:83:86:53:5f:10:07:e3: 20: 82.<br />Are you sure you want to continue connecting (yes/no)? yes<br />Warning: Permanently added &#39;noi-userB, 172.23.63.158&#39; (RSA) to the list of known hosts. <br />userA@noi-userB&#39;s password:<br />[ userA@noi-userA ~/.ssh]$ </pre>

<p>
<a id="pgfId-1033911"></a>Now, if you use <code>ssh</code> to connect to <code>noi-userB</code>, you will not get any query or prompt for entering a password.</p>
<p>
<a id="pgfId-1062961"></a><strong>Validating the addition of new hosts</strong><a id="locateFile"></a></p>
<p>
<a id="pgfId-1033912"></a>You will now find two more files, <code>authorized_keys</code> and <code>known_hosts</code> that are created in the <code>.ssh</code> directory. Run <code>ll</code> in the directory to find these files. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071285"></a>[userA@noi- user A ~/.ssh]$ ll <br />total 16<br />-rw-r--r-- 1 userA cadencel 399 Aug 21 15:36 authorized_keys<br />-rw------- 1 userA cadencel 1671 Aug 21 15:2G id_rsa <br />-rv-r--r-- 1 userA cadencel 399 Aug 21 15:20 ld_rsa.pub <br />-rw-r--r-- 1 userA cadencel 406 Aug 21 15:36 known_hosts<br />[userA@noi- userA ~/.ssh]$ </pre>

<p>
<a id="pgfId-1033913"></a>Open the <code>known_hosts</code> file and validate that the host <code>noi-userB</code> is added.</p>
<p>
<a id="pgfId-1063026"></a><strong>Adding more hosts in the known_hosts file</strong><a id="addHosts"></a></p>
<p>
<a id="pgfId-1033914"></a>Repeat the command in <h-hot><a href="appLBS.html#copyKeys">Adding remote hosts in the known_hosts list</a></h-hot> to add more hosts (execution hosts) in the known_hosts file for the user. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033915"></a>unix&gt; cat id_rsa.pub | ssh userA@noi-user1 &quot;mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</pre>

<p>
<a id="pgfId-1033907"></a>Open the <code>known_host</code> file. You will find the <code>noi-userB </code>and <code>noi-user1</code> hosts added to it.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071516"></a>noi-userB, 172.23.65.158 ssh-rsa AAAAB3NzaClyc2EAAAABIwAAAQEA5tUYB]hc3j+CLqydfvZ+DL5pUB9rqRfiXzS31lDyWFAN/khLQSKy3Xg0pxbNRWZCcXnqnv2U0LGvTgIXe84spNsUYpYqoTn+3DlLn8MaqiEUK47oCB2WvW+tiDvLVMruCXy4XGi+hDwdtEEEgC++gwfJqONE5M6zRNh29pt65Qt3ZKzP3kPz340sqmTMkEluok8YMMa7TS+IuxjQphUGYTrTakUV3fqSSU+DZH43qdlplUUZKbPXgk3jK08suKsBdgXSpc9ey0oMswlmvu07THDqZexqMgScWqeERExH0850d5she3vvQ/BiJu525/Xa3U7sR3LvuK10nDWPCXtUQ==</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071508"></a>noi- user1, 172.23.65.27 ssh-rsa AAAAB3NzaClyc2EAAAABIwAAAQEA5tUYBjhc3}KLqydfYZ+DL5pUB9rqRfiXzS31lDyWFAN/khLQSKy3Xg0pxbNRWZCcXnqYlV2U0LGvTgIXe84spNsUYpYqoTn+3OlLn8MaqiEtiK47oCB2WvW+tlOvLVMniCXy4XGi&lt;-hOwdtEEEgC++^/3qONE5M6zRNh29pt65Ot3ZKzP3kPz340sqmTMkEluok8YMMa7TS+IuxjQphUGYTirakUV3fqS5U+DZfi43qdlplUUZKbPXgk3jK08suKsBdgXSpc9ey0oMswlmvu07THDqZexqMgScWqeERExH08 50d5she3vvQ/BiJu525/Xa3U7sR3LvuK10nDWPCXtUQ==</pre>
<h4><em>
<a id="pgfId-1028891"></a>Editing the cdsRe<a id="cdsRemoteFile"></a>mote.scr File </em></h4>

<p>
<a id="pgfId-1034222"></a>By default, the <code>cdsRemote.scr</code> file, which is available in the <code>$CDSHOME/share/cdssetup/&lt;username&gt;/</code> directory, specifies the default configuration as follows:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1050575"></a><code>remoteSystem=rsh </code>// Default configuration</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1050571"></a><code>#remoteSystem=ssh</code> </pre>
<p>
<a id="pgfId-1050587"></a>To use <code>ssh</code> instead of <code>rsh</code>, make the following changes in the <code>cdsRemote.scr</code> file:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1050447"></a><code>#remoteSystem=rsh </code>// To configure for generic ssh </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034218"></a><code>remoteSystem=ssh</code> </pre>
<p>
<a id="pgfId-1034235"></a>This enables the <code>remoteSystem=ssh</code> switch for the <code>ssh</code> method. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071541"></a>#----cdsRemote.scr = (/ccstools/cdsindl/Software/share/cdssetup/cdsRemsh)----#</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071542"></a>---------------------------------------------------------------------------------
exec &quot;$remsh&quot; &#8220;$rhostName&quot; $noStdinFlag &quot;$@&quot;
}

#----------------------------------------------------------------------&#160;&#160;&#160;&#160;
# Main program
#----------------------------------------------------------------------&#160;&#160;&#160;&#160;

remoteSystem=rsh
#remoteSystem=ssh&#160;&#160;    # uncomment this line to configure for generic ssh<br />
operation=&quot;$l&quot;; shift 
case &quot;${remoteSystem}-${operation}&quot; in 
&#160;&#160;  rsh-shell)<br />         ClassicRsh &quot;$@&quot;;;<br />    rsh-copy) <br />         exec rcp &quot;$@&quot;;;<br />    ssh-shell)<br />         exec ssh &quot;$@&quot;;; <br />    ssh-copy) <br />         exec scp &quot;$@&quot;;;<br />    *)</pre>
<h4><em>
<a id="pgfId-1028886"></a>Setting Virtu<a id="remoteEnvVar"></a>oso Environment Variable in the .cdsinit File </em></h4>

<p>
<a id="pgfId-1034311"></a>To use <code>ssh</code>, set the following in your <code>.cdsinit</code> file:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034312"></a>envSetVal(&quot;asimenv.distributed&quot; &quot;remoteShell&quot; &#39;string &quot;ssh&quot;)</pre>
<p>
<a id="pgfId-1034313"></a>You can now run distributed LBS with <code>ssh</code> in Virtuoso.</p>
<p>
<a id="pgfId-1034314"></a>Follow the steps in the &#8220;<a href="appLBS.html#64317">Using cdsqmgr with remote shell (rsh)</a>&#8221; section to set up and configure LBS with <code>rsh</code>.</p>

<h4>
<a id="pgfId-1028944"></a>Additional Requirements for LBS</h4>

<ul><li>
<a id="pgfId-1020165"></a>Check if <code>LBS_CLUSTER_MASTER</code> is set. If <code>LBS_CLUSTER_MASTER</code> is not set, then set this variable appropriately and proceed to the next step.</li><li>
<a id="pgfId-1020167"></a>Check if <code>LBS_BASE_SYSTEM</code> is set. If <code>LBS_BASE_SYSTEM</code> is set, ensure that it is set to <code>LBS_DEFAULT</code>.</li><li>
<a id="pgfId-1020169"></a>Check if <code>cdsqmgr</code> is running on the machine specified as <code>LBS_CLUSTER_MASTER</code>. If <code>cdsqmgr</code> is not running, kill <code>cdsNameServer</code> and re-run <code>cdsqmgr </code>from the root. See <a href="appLBS.html#77151">Starting the Daemon</a>.</li><li>
<a id="pgfId-1020173"></a>Ensure that only one copy of <code>cdsqmgr</code> is running from the root account. If multiple copies of <code>cdsqmgr</code> are running, kill all the copies and <code>cdsNameServer</code>, and rerun <code>cdsqmgr</code> as root. See <a href="appLBS.html#77151">Starting the Daemon</a>.</li><li>
<a id="pgfId-1020177"></a>Check if <code>cdsNameServer</code> is running on <code>LBS_CLUSTER_MASTER</code>. If it is not running, kill any <code>cdsqmgr</code> that may be running and rerun <code>cdsqmgr</code> as root. See <a href="appLBS.html#77151">Starting the Daemon</a>.</li><li>
<a id="pgfId-1020181"></a>Ensure that you rerun <code>cdsqmgr</code> and <code>cdsNameServer</code> whenever the <code>queueConfig</code> file used by <code>cdsqmgr</code> is modified. See <a href="appLBS.html#32012">UNIX Environment Setup for LBS Distribution Method</a>.</li><li>
<a id="pgfId-1020185"></a>Ensure that all machines specified in the <code>queueConfig</code> file are active and do not prompt you to enter the password at login. You can use <code>ping</code> to check if the machines are active. To check password-related issues, type <code>remsh &lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>any_host_in_queue</em></span><code>&gt; pwd</code> in the submission host terminal.</li><li>
<a id="pgfId-1020186"></a>Take your system administrator&#8217;s help to ensure that the timestamp of all the machines specified in <code>queueConfig</code> file matches with the machine specified as <code>LBS_CLUSTER_MASTER</code>.</li></ul>








<h3>
<a id="pgfId-1020122"></a><a id="88247"></a>System Requirements for LSF Setup</h3>

<p>
<a id="pgfId-1020125"></a>In addition to the <a href="appLBS.html#24167">Common LBS Setup Requirements</a>, ensure that the following initial setup requirements are met before you submit jobs to hosts that run the LBS distributed processing method with LSF. The LSF cluster must already be installed and configured as per the LSF installation guide. To troubleshoot any LSF installation issue, contact the LSF system administrator at your site.</p>
<p>
<a id="pgfId-1020128"></a>Ensure that the LSF server version at your site is compatible with the LSF client version used by the Cadence LSF interface. If the LSF server and client versions (the version of LSF libraries integrated with Cadence LSF daemon) do not match and are not compatible, contact the LSF vendor (<h-hot><a actuate="user" class="URL" href="https://www.ibm.com/support/knowledgecenter/SSWRJV_10.1.0/lsf_welcome/lsf_welcome.html" show="replace" xml:link="simple">IBM</a></h-hot>) to determine the LSF version compatibility.</p>
<p>
<a id="pgfId-1074639"></a>Compare the output of these commands:</p>
<ul><li>
<a id="pgfId-1074452"></a><code>$cdsfrb_lsf -version</code><br />
<a id="pgfId-1074437"></a>The output determines the version of the LSF-provided client library used by the <code>cdsfrb_lsf</code> daemon.</li><li>
<a id="pgfId-1020130"></a><code>$lsid &#8211;version</code><br />
<a id="pgfId-1074484"></a>The output represents the minimum LSF cluster version for the integration.</li></ul>



<p>
<a id="pgfId-1020131"></a>You must set the environment variable <code>LBS_BASE_SYSTEM</code> to <code>LBS_LSF</code> in each shell from which you start a Cadence tool to submit jobs. </p>
<p>
<a id="pgfId-1020132"></a><code>setenv LBS_BASE_SYSTEM LBS_LSF</code> </p>
<p>
<a id="pgfId-1020133"></a>Here, <code>LBS_LSF</code> specifies that you want to use the LSF load balancer. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020134"></a>You can skip setting the LBS_CLUSTER_MASTER variable for LSF and . Your local Cadence session will communicate directly with LSF.</div>

<h4>
<a id="pgfId-1029047"></a>Additional Requirements for LSF</h4>

<ul><li>
<a id="pgfId-1020188"></a>Ensure that <code>LBS_CLUSTER_MASTER </code>is not set.</li><li>
<a id="pgfId-1063140"></a>Ensure that <code>cdsqmgr</code> is not running.</li><li>
<a id="pgfId-1020189"></a>Ensure that <code>LBS_BASE_SYSTEM</code> is set to <code>LBS_LSF</code>.<code></code></li><li>
<a id="pgfId-1020190"></a>Check if <code>LSF</code> software is installed and running on this machine. Ensure that <code>sbatchd</code>, <code>lim</code>, <code>pim</code> and <code>res</code> daemons are running on this machine, and that you can run the <code>lsload</code>, <code>bjobs</code> and <code>bsub</code> <code>pwd</code> commands without generating any errors.</li><li>
<a id="pgfId-1020191"></a>Ensure that machines specified in the LSF cluster are active and do not prompt you to enter a password when you log in to these machines. Use <code>ping</code> to check if the machines are active. To check for password-related issues, type <code>remsh &lt;any_host_in_queue&gt; pwd</code> in the submission host terminal.</li></ul>




<p>
<a id="pgfId-1033035"></a>In the LSF setup, the Job Policy Setup form displays a few additional fields as shown in the following figure:</p>

<p>
<a id="pgfId-1032936"></a></p>
<div class="webflare-div-image">
<img src="images/DP_LSF_submit.gif" /></div>

<p>
<a id="pgfId-1032937"></a>These additional fields are:</p>
<ul><li>
<a id="pgfId-1032938"></a><em>LSF Resource String</em>: Lets you specify the additional resource requirements for the job that are not available as separate options in the Job Policy Setup form &#8211; for example, <code>mem</code> (available memory), <code>swp</code> (available swap space), <code>pg</code> (paging rate). You can specify the additional resource requirements using a valid LSF resource requirement string. For more details and examples of LSF resource requirement string, refer to <a href="appLBS.html#40509">Resource Requirement String Format</a>.</li><li>
<a id="pgfId-1032942"></a><em>No of Processors</em>: Lets you specify the number of parallel processors that you must use to run the submitted job. To use the value specified in this field, select the check box next to this field.</li><li>
<a id="pgfId-1032943"></a><em>License Project Name</em>: Lets you specify the name of the license project. To use the value specified in this field, select the check box next to this field.</li><li>
<a id="pgfId-1032944"></a><em>Application Profile Name</em>: Lets you specify the name of an application profile that you must use to run the submitted job. To use the value specified in this field, select the check box next to this field.</li><li>
<a id="pgfId-1032945"></a><em>Project Name</em>: Lets you specify the name of a project associated with the job. To use the value specified in this field, select the check box next to this field.</li><li>
<a id="pgfId-1032946"></a><em>User Group</em> lets you assign the submitted jobs to the groups of user.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032947"></a>The group should not contain any sub-group.</div></li><li>
<a id="pgfId-1033086"></a><em>Number of Tasks</em>:<em> </em>Lets you specify a numerical value that indicates the number of tasks in which TransNoise jobs needs to be divided for simulation. This option appears if you select the <em>Transient Noise</em> option for the <em>tran</em> analysis in the <em>Choosing Analyses</em> form. To achieve better performance with <em>Transient Noise</em>, specify the values of this field in a way that the number of runs divided by the number of tasks results in a whole integer value.</li></ul>








<h4>
<a id="pgfId-1034437"></a><a id="40509"></a>Res<a id="LSFResourceReqString"></a>ource Requirement String Format </h4>

<p>
<a id="pgfId-1034438"></a>LSF uses the resource requirement string to select hosts for remote execution and job execution. For example, you can specify the following resource requirement string in the <em>&lt;DRMS&gt; Resource String</em> field, where <em>&lt;DRMS&gt; </em>stands for <em>LSF</em> : </p>
<p>
<a id="pgfId-1034439"></a><code>select[swp &gt; 50 &amp;&amp; mem &gt; 500]rusage[mem=100]</code></p>
<p>
<a id="pgfId-1051705"></a>This resource requirement string runs a job only on a host that has 50 MB or more of available swap space and 500 MB or more of available memory, and also reserves 100 MB memory for the job.</p>
<p>
<a id="pgfId-1034443"></a>The resource requirement string can have the following sections: </p>
<ul><li>
<a id="pgfId-1051695"></a>Selection section (<code>select</code>) &#8211; Specifies the criteria for selecting hosts for a job.</li><li>
<a id="pgfId-1034445"></a>Ordering section (<code>order</code>) &#8211; Indicates how the hosts that meet the selection criteria must be sorted.</li><li>
<a id="pgfId-1034446"></a>Resource usage section (<code>rusage</code>) &#8211; Specifies the expected resource consumption of the job.</li><li>
<a id="pgfId-1034447"></a>Job spanning section (<code>span</code>) &#8211; Indicates if a parallel batch job must span across multiple hosts.</li><li>
<a id="pgfId-1051670"></a>Same resource section (<code>same</code>) &#8211; Indicates that all processes of a parallel job must run on the same type of host.</li></ul>




<p>
<a id="pgfId-1051687"></a>See <a href="appLBS.html#96719">Table&#160;G-1</a> for examples of each section. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034495"></a>Ensure that you enclose arguments for each section within square brackets. </div>
<table class="webflareTable" id="#id1074091">
<caption style="text-align:left;"><p>
</p><h4>Table G-1
<a id="pgfId-1034452"></a><a id="96719"></a>Resource Requirement String Examples</h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1034456">
<a id="pgfId-1034456"></a>Resource Requirement String</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1034458">
<a id="pgfId-1034458"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034460"></a><code>select[swp &gt; 50 &amp;&amp; mem &gt; 500]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034462"></a>Runs the job only on a host that has 50 MB or more of available swap space and 500 MB or more of available memory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034464"></a>order[cpu]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034466"></a>Sorts hosts based on their CPU utilization and runs the job on the hosts with lower CPU utilization.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034468"></a><code>rusage[mem=100]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034470"></a>Reserves 100 MB memory for the job. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034472"></a>span[hosts=1]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034474"></a>Indicates that all the processors allocated to the job must be on the same host.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034476"></a>span[ptile=2]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034478"></a>Indicates that the job requests 2 processors on each available host, regardless of how many processors the host has.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034480"></a>select[type===LINUX2.4 || type==SOL10] same[type]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034482"></a>Runs all parallel processes on the same host type &#8211;either LINUX2.4 or Solaris 10, but not both.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034484"></a>select[linux &amp;&amp;mem&gt;2000]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034486"></a>Selects LINUX machines with memory greater than 2 GB.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034488"></a>select[osVersion==&#39;&lt;version&gt;&#39; &amp;&amp; mem&gt;2000]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034490"></a>Selects LINUX machines with the specified OS version and memory greater than 2 GB.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034492"></a>select[mem&gt;2000] order[-ncpus]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1034494"></a>Selects LINUX machines with a minimum number of CPUs and memory greater than 2 GB.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1034496"></a>For more information about resource requirement strings in LSF, see the product documentation for LSF at <h-hot><a actuate="user" class="URL" href="https://www.ibm.com/support/knowledgecenter/SSWRJV_10.1.0/lsf_welcome/lsf_welcome.html" show="replace" xml:link="simple"></a><a actuate="user" class="URL" href="https://www.ibm.com/support/knowledgecenter/en/SSWRJV_10.1.0/lsf_welcome/lsf_welcome.html" show="replace" xml:link="simple">IBM Spectrum LSF</a>. </h-hot></p>
<p>
<a id="pgfId-1034499"></a>Note the following:</p>
<ul><li>
<a id="pgfId-1034500"></a>If the resource requirement string cannot be satisfied, the job will not run and the results are undefined. <br />
<a id="pgfId-1034501"></a>For example, if you specify <code>select[tmp&gt;100]</code> as the resource requirement string and no machine in the queue has <code>100 MB</code> or more of memory in <code>/tmp</code>, the job will not run and no message will be displayed in the CIW window. </li><li>
<a id="pgfId-1034502"></a>If you specify a resource requirement string that conflicts with an option that you specify in the Job Policy Setup form, the job does not run and the results are undefined. <br />
<a id="pgfId-1034503"></a>For example, if you specify the host <code>tez</code> as the host to run the job under the <em>Hosts</em> section of the Job Policy Setup form and also select the <code>Only Use Selected Host</code> option and also specify the host name as <code>pvsol7</code> in the <em>LSF Resource String</em> field, the job will not be run and the status of the job will be undefined.</li></ul>




<h4><em>
<a id="pgfId-1073242"></a>Related Topic:</em></h4>

<ul><li>
<a id="pgfId-1074071"></a><a href="appA.html#60507">Simulator-Specific Environment Variables</a></li></ul>

<h3>
<a id="pgfId-1029148"></a><a id="99392"></a>System Requirements for SGE Setup</h3>

<p>
<a id="pgfId-1034828"></a>In the SGE setup, the Job Policy Setup form displays a few additional fields as shown in the following figure: </p>

<p>
<a id="pgfId-1034834"></a></p>
<div class="webflare-div-image">
<img width="467" height="580" src="images/appLBS-4.gif" /></div>

<p>
<a id="pgfId-1034835"></a>These additional fields are: </p>
<ul><li>
<a id="pgfId-1034836"></a><em>SGE Soft Resources</em>: Specifies requirements for soft resources. You can specify values for <code>%MEM_EST</code> and <code>%CPU_EST</code> in this field.</li><li>
<a id="pgfId-1034837"></a><em>SGE Hard Resources</em>: Specifies requirements for hard resources. You can specify values for <code>%MEM_EST</code> and <code>%CPU_EST</code> in this field.</li><li>
<a id="pgfId-1034838"></a><em>SGE Priority</em>: Specifies the priority of the submitted job.</li><li>
<a id="pgfId-1034839"></a><em>SGE Parallel Env Name</em>: Specifies the name of a parallel environment.</li><li>
<a id="pgfId-1034840"></a><em>SGE No Of Processors</em>: Specifies the number of processors that you can use. Using this field, you can ensure that the job is run on a machine with sufficient number of CPUs available. You can also reserve these slots to stop many other jobs running on the same machine.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034841"></a>The <em>QueueName</em> field is also editable for SGE. Using this field, you can specify the name of a queue in which you want to run the job. The default value, <code>SGE_QUEUE</code> specifies that no queue name is provided by the user.</div></li></ul>






<h2>
<a id="pgfId-1035280"></a><a id="93659"></a>Validating the LBS Distributed Processing Setup </h2>

<p>
<a id="pgfId-1035282"></a>To enable the distributed processing method, you need to specify a significant number of settings. Specifying the correct settings ensures that the setup is valid and appropriate messages are generated.</p>
<p>
<a id="pgfId-1035283"></a>To specify the settings: </p>
<ul><li>
<a id="pgfId-1054388"></a>Choose <em>Setup &#8211; Job Setup in ADE Explorer, </em>or <em>Options &#8211; Job Setup in ADE Assembler</em>. <br />
<a id="pgfId-1054398"></a>The<em> Job Policy Setup </em>form appears.</li></ul>

<p>
<a id="pgfId-1035296"></a>The Job Policy Setup form tests the setup for enabling distributed processing and performs several checks to ensure that the distributed processing environment is set up correctly. The Job Policy Setup ensures the following:</p>
<ul><li>
<a id="pgfId-1035297"></a>If the environment variables needed for distributed processing are set properly. </li><li>
<a id="pgfId-1035298"></a>If the LSF settings are correct, when you select LSF as the distribution method. It also verifies if you have set the path properly and the installed LSF version is supported. </li><li>
<a id="pgfId-1035299"></a>If the machines mentioned in the LBS queue are active and <code>cdsqmgr</code> DRMS is running on the cluster master machine. It also verifies the hierarchy setup for the machines in queue. </li></ul>


<p>
<a id="pgfId-1035300"></a>The Job Policy Setup performs all the specified checks and displays an appropriate <code>Error</code> or <code>Warning</code> message, if required. If an error occurs, it quits the subsequent checking, but continues to submit jobs with warnings. The Job Policy Setup uses <code>rsh</code> and <code>remsh</code> commands internally for performing the above mentioned checks. Therefore, you must ensure that these commands are run without a password. The Job Policy Setup performs only static checks. It does not submit test jobs to validate the setup.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035302"></a>Ensure that there is no <code>echo</code> or <code>stty</code> command in your shell setup files because the check utility will not work properly if <code>echo</code> or <code>stty</code> commands exist in your shell setup files.</div>

<h2>
<a id="pgfId-1043158"></a><a id="27465"></a>Submitting Simulation Jobs in LBS Distribution Method</h2>

<p>
<a id="pgfId-1045929"></a>In distributed processing, the order of unused processing capacity of a job determines its assignment to a machine. The job-limit of the job has no impact on this assignment. Hence, when you use a DRMS such as LSF, distributed processing may send jobs to different machines in a different order, as compared to the jobs it sends without LSF.</p>
<p>
<a id="pgfId-1015966"></a>In distributed processing, you can submit a job from one machine to another. These machines must have access to Cadence software, but they do not need to be in a predefined queue. For example, when you use the distributed processing mode with LSF, both the machines &#8211; the machine that you are submitting the job from and the machine running the job &#8211; must be in the cluster that has the license to use LSF.</p>
<p>
<a id="pgfId-1015996"></a>When a job fails using the on of the supported DRMS, all its dependent jobs fail too. Jobs dependent on other jobs that fail are held in the DRMS database indefinitely until you use a DRMS command to force the job to run. </p>
<p>
<a id="pgfId-1043151"></a>You can submit simulation jobs for distributed processing in one of the following ways:</p>
<ul><li>
<a id="pgfId-1043263"></a><a href="appLBS.html#distProcADE">Using the ADE Assembler Graphical User Interface</a></li><li>
<a id="pgfId-1043316"></a><a href="appLBS.html#distProcOCEAN">Using OCEAN</a></li><li>
<a id="pgfId-1043330"></a>Using Command-Line Mode<a id="distProcCLI"></a></li></ul>



<h3>
<a id="pgfId-1043691"></a><a id="47149"></a>Submitting Distrib<a id="distProcADE"></a>uted Processing Jobs </h3>

<p>
<a id="pgfId-1065618"></a>To use distributed processing in ADE Explorer or ADE Assembler, you need the following:</p>
<ul><li>
<a id="pgfId-1065619"></a><strong>Load Balancing Software (LBS)</strong> to monitor the activity on the machines that you use for simulations. To know more about a default LBS setup, see <a href="appLBS.html#19419">System Requirements for cdsqmgr Setup</a>.</li><li>
<a id="pgfId-1065624"></a><strong>Job Policy Setup form</strong> lets you specify the time, the queue, or host for submitting your distributed job.</li><li>
<a id="pgfId-1065626"></a><strong>Job Monitor form</strong> lets you view, suspend, resume, or kill jobs. </li></ul>


<p>
<a id="pgfId-1065628"></a>Additionally, command-line job submission and monitoring from the UNIX terminal window lets you submit, suspend, resume, monitor, or kill jobs. </p>
<p>
<a id="pgfId-1043692"></a>You can submit simulation jobs using the Job Policy Setup form in ADE Assembler and ADE Explorer. </p>
<ul><li>
<a id="pgfId-1064411"></a>To know more about submitting jobs in ADE Assembler, see <a actuate="user" class="URL" href="../assembler/asmSimulating.html#startingSimulation" show="replace" xml:link="simple">Starting a Simulation</a>.</li><li>
<a id="pgfId-1061232"></a>To know more about submitting jobs in ADE Explorer, see <a actuate="user" class="URL" href="../Explorer/chap7.html#startingSimulation" show="replace" xml:link="simple">Starting a Simulation</a>.</li></ul>


<h3>
<a id="pgfId-1019722"></a><a id="40512"></a><a id="22594"></a><a id="71255"></a>Submitting Distrib<a id="distProcOCEAN"></a>uted Processing Jobs in OCEAN</h3>

<p>
<a id="pgfId-1019729"></a>This section describes how you can submit a distributed job using the Open Command Environment for Analysis (OCEAN). See the following sections:</p>
<ul><li>
<a id="pgfId-1019733"></a><a href="appLBS.html#23467">Preparing the OCEAN Environment for Distributed Processing</a></li><li>
<a id="pgfId-1019737"></a><a href="appLBS.html#25506">Submitting a Job in OCEAN</a></li><li>
<a id="pgfId-1019741"></a><a href="appLBS.html#23116">Selecting Results by Job Name</a></li><li>
<a id="pgfId-1019745"></a><a href="appLBS.html#15036">Viewing Results</a></li></ul>



<p>
<a id="pgfId-1019751"></a>For more information, see the <em><a actuate="user" class="URL" href="../oceanref/chap12.html#firstpage" show="replace" xml:link="simple">OCEAN Reference</a></em>.</p>

<h4>
<a id="pgfId-1019754"></a><a id="23467"></a><a id="marker-1027162"></a>Preparing the OCEAN Environment for Distributed Processing</h4>

<p>
<a id="pgfId-1019755"></a>This section describes the basics of setting up OCEAN to use distributed processing. For detailed information on distributed processing commands in OCEAN, see the <h-hot><a actuate="user" class="URL" href="../oceanref/chap12.html#firstpage" show="replace" xml:link="simple">OCEAN Reference</a></h-hot> manual. </p>
<p>
<a id="pgfId-1042720"></a>To use OCEAN for distributing jobs, you must do the following:</p>
<ol><li>
<a id="pgfId-1042787"></a><a href="appLBS.html#startOCEAN">Start OCEAN</a>.</li><li>
<a id="pgfId-1042800"></a><a href="appLBS.html#enableDistProcOcean">Enable distributed processing in OCEAN</a>.</li><li>
<a id="pgfId-1042851"></a><a href="appLBS.html#disableDistProcOcean">Disable distributed processing in OCEAN</a>, when required. </li></ol>



<h4><em>
<a id="pgfId-1019758"></a>Starting O<a id="marker-1042972"></a>CE<a id="startOCEAN"></a>AN</em></h4>

<p>
<a id="pgfId-1019759"></a>To start OCEAN, type the following at the command line of your terminal window: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019760"></a>&gt;&gt; ocean</pre>
<h4><em>
<a id="pgfId-1019762"></a>Enabling Distributed Processing in OCEAN<a id="marker-1027170"></a><a id="enableDistProcOcean"></a></em></h4>

<p>
<a id="pgfId-1019763"></a>To enable distributed processing, do one of the following:</p>
<ul><li>
<a id="pgfId-1034629"></a>Type the following at the command line: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1019764">
<a id="pgfId-1019764"></a>&gt;&gt; hostMode( &#8217;distributed )</pre></li><li>
<a id="pgfId-1019765"></a>Set the <code>asimenv.startup</code> hostMode environment variable to <code>distributed </code>in the <code>.cdsenv</code> file.</li></ul>



<h4><em>
<a id="pgfId-1019768"></a>Disabling Distributed Processing in OCEAN <a id="marker-1034694"></a><a id="disableDistProcOcean"></a></em></h4>

<p>
<a id="pgfId-1019769"></a>To disable distributed processing, type the following at the command line of your terminal window:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019770"></a>&gt;&gt; hostMode( &#8217;local )</pre>
<h4>
<a id="pgfId-1019773"></a>Submitting a Job in OCEAN<a id="25506"></a><a id="marker-1027181"></a></h4>

<p>
<a id="pgfId-1019775"></a>To submit a job, use the <code><a actuate="user" class="URL" href="../oceanref/chap6.html#ocean_ch6_run" show="replace" xml:link="simple">run</a></code> command, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019776"></a>&gt;&gt; ocean&gt; run()</pre>

<p>
<a id="pgfId-1019777"></a>The job is submitted, and if the submission is successful, the <code>jobName</code> is returned. After you submit the job, use <code>simJobMonitor</code> to monitor the status of your job. </p>
<p>
<a id="pgfId-1019779"></a>The terminal window running OCEAN may display the following message: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019780"></a>Job &#8216;job004&#8217; ran on &#8217;tez&#8217; and completed successfully</pre>

<p>
<a id="pgfId-1019781"></a>This message notifies you about the completion of a job. To turn off display of such messages, set the <code>asimenv.startup showMessages</code> environment variable to <code>nil</code> in your <code>.cdsenv</code> file. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1019784"></a>To stop or abort a running OCEAN script, use the <code>wait</code> command or the block argument with <code>run()</code>.</div>

<h4>
<a id="pgfId-1019787"></a><a id="23116"></a>Selecting Results by Job Name<a id="marker-1061273"></a></h4>

<p>
<a id="pgfId-1019788"></a>To access results based on the job name, type the following on the OCEAN terminal: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019789"></a>&gt;&gt; openResults( jobName )</pre>

<p>
<a id="pgfId-1019790"></a>This is equivalent to calling <code>openResults</code> with a results directory path.</p>

<h4>
<a id="pgfId-1019791"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019792"></a>openResults( &#8217;job001)</pre>

<p>
<a id="pgfId-1019793"></a>The preceeding command opens the results of <code>job001</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1019794"></a>You can use the <code>openResults</code> command only after the job is complete.</div>

<h4>
<a id="pgfId-1019796"></a>Viewing Results<a id="15036"></a></h4>

<p>
<a id="pgfId-1019797"></a>Distributed processing in ADE Explorer or ADE Assembler creates a unique directory structure to contain your results. The results are stored in the following location on the submission host:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1019798"></a>simulation/cell_name/simulator/schematic/distributed/job_name/psf</pre>
<p>
<a id="pgfId-1019799"></a>If you are using parametric analysis, the results are saved in the <code>/param</code> directory instead of the <code>/distributed</code> directory. </p>
<p>
<a id="pgfId-1019807"></a>To know more about OCEAN commands for distributed processing, see the <em><a actuate="user" class="URL" href="../oceanref/chap12.html#firstpage" show="replace" xml:link="simple">OCEAN Reference</a></em>. </p>

<h3>
<a id="pgfId-1034740"></a><a href="appLBS.html#distProcCLI">Submitting Distributed Jobs in LBS using the Command Mode</a><a id="74599"></a></h3>

<p>
<a id="pgfId-1034741"></a>The <em>command</em> option is meant for the advanced users who have full understanding of the DRMS (Distributed Resource Management System) commands and their corresponding syntax and options. Ensure that you enter a valid DRMS command to submit the job. The environment does not validate or check the command for errors because it assumes that any DRMS command that you enter is valid. </p>
<p>
<a id="pgfId-1034742"></a>The command mode supports all DRMSs, especially LSF and SGE, that provide a command-line interface of the type &lt;<span class="webflare-courier-new" style="white-space:pre"><em>job_submission_command job_command</em></span>&gt;. </p>
<p>
<a id="pgfId-1034743"></a>In general, the following assumptions are made about the command-line interface of the DRMS:</p>
<ul><li>
<a id="pgfId-1034744"></a>The DRMS command-line interface accepts a single string as a job command. This string is the last argument of the job submission command.</li><li>
<a id="pgfId-1034745"></a>The DRMS job submission command is a non-blocking command. This means that the job submission command exits after queuing the job into the DRMS and does not wait for the job to complete.</li><li>
<a id="pgfId-1034746"></a>The DRMS job submission command returns the value <code>0</code> upon successful submission of the job. A non-zero return value indicates an error in job submission.</li></ul>


<p>
<a id="pgfId-1034747"></a>To use only the DRMS command mode for distributed processing, skip setting the value for<code> LBS_BASE_SYSTEM</code> and<code> LBS_CLUSTER_MASTER</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034748"></a>In this mode, the blocking mode and the autoplotting feature do not work, and all fields in the Job Policy Setup form (except <em>Job Name</em> and <em>Number of Tasks</em>) are disabled. </div>

<h2>
<a id="pgfId-1035200"></a><a id="90638"></a>Mon<a id="monitor"></a>itoring Distributed Jobs in LBS Method</h2>

<p>
<a id="pgfId-1035201"></a>The job monitor lets you view the status of submitted jobs. Using the Job Monitor, you can view the active jobs, save configurations, view log files, set job monitor options, set filters, or view job properties. For more information, see the <em><a actuate="user" class="URL" href="../jobmonitor/jobmonitorTOC.html#firstpage" show="replace" xml:link="simple">Cadence&#174; Job Monitor Reference</a></em>. </p>

<h2>
<a id="pgfId-1020351"></a><a id="49249"></a><a id="33849"></a>Debugging an LBS Distributed Processing Setup</h2>

<p>
<a id="pgfId-1040314"></a>You can debug your distributed processing setup based on the DRMS that you use. </p>
<p>
<a id="pgfId-1060134"></a>See the following:</p>
<ul><li>
<a id="pgfId-1040458"></a><a href="appLBS.html#45756">Debugging LBS with cdsqmgr</a></li><li>
<a id="pgfId-1040468"></a><a href="appLBS.html#36916">Debugging LBS with Third-Party DRMS</a></li></ul>


<h3>
<a id="pgfId-1040416"></a><a id="45756"></a>Debugging LBS with cdsqmgr</h3>

<p>
<a id="pgfId-1030799"></a>In case of errors while running LBS with cdsqmgr, do the following:</p>
<ol><li>
<a id="pgfId-1030800"></a>Check that all the submission hosts and execution hosts pass the <code>checkSysConf</code> test. If <code>checkSysConf</code> fails, install the missing OS patches reported.

You need to do this check for all IC tools and simulators that you run. </li><li>
<a id="pgfId-1031130"></a>Check if the <code>/etc/hosts</code> file is set up properly. For example: <ol><li>
<a id="pgfId-1031133"></a>Use: <br />
<a id="pgfId-1031108"></a><code>127.0.0.1 localhost.localdomain localhost </code></li><li>
<a id="pgfId-1031109"></a>Avoid: <br />
<a id="pgfId-1031159"></a><code>127.0.0.1 machine_name.machine_domain machine_name 
127.0.0.1 localhost.localdomain localhost machine_name.machine_domain machine_name 
127.0.0.1 localhost.localdomain localhost machine_name</code></li></ol></li><li>
<a id="pgfId-1031235"></a>Check if <code>cdsqmgr</code> has been started from the root. In the Unix terminal, use the <code>ps -eaf</code> command as follows:<br /><span class="indent-as-level2">
<a id="pgfId-1031236"></a><code>ps -eaf | grep cdsqmgr</code></span></li><li>
<a id="pgfId-1031237"></a>Run the following command to check if <code>LBS_CLUSTER_MASTER</code> is set correctly. It must point to the host on which <code>cdsqmgr</code> is running.<br /><span class="indent-as-level2">
<a id="pgfId-1031238"></a><code>echo $LBS_CLUSTER_MASTER</code></span></li><li>
<a id="pgfId-1031239"></a>5. Check that the <code>LBS_BASE_SYSTEM</code> variable is not set in your environment. On typing the following command, your system must return <code>Undefined variable</code>:<br /><span class="indent-as-level2">
<a id="pgfId-1031240"></a><code>echo $LBS_BASE_SYSTEM</code></span></li><li>
<a id="pgfId-1031241"></a>Ensure that the remote hosts can access the path to the design libraries, the project directory, and the path from where you launch Virtuoso.</li><li>
<a id="pgfId-1031227"></a>Restart <code>cdsqmgr</code> if any information in the config file (<code>lbs.config</code>) contains updates, to make the changes effective for all users. For this, kill any running <code>cdsqmgr</code> and <code>cdsNameServer</code> process on <code>hostA</code> and start <code>cdsqmgr</code> again.</li></ol>
























<h3>
<a id="pgfId-1034925"></a><a id="36916"></a>Debugging LBS with Third-Party DRMS</h3>

<p>
<a id="pgfId-1040474"></a>You can debug the LBS settings based on the third-party DRMS that you choose for distributed processing of yours jobs. See </p>

<h2>
<a id="pgfId-1038818"></a><a id="95680"></a>Troubleshooting FAQs</h2>

<p>
<a id="pgfId-1038819"></a>This section describes how to troubleshoot some of the common difficulties that you can experience while running distributed simulations. See the following problem statements and their corresponding solutions:</p>

<ol><li>
<a id="pgfId-1038823"></a><a href="appLBS.html#14244">Distributed processing does not work.</a></li><li>
<a id="pgfId-1038826"></a><a href="appLBS.html#44883">I specify an LSF Resource Requirement String in the Job Policy Setup form and submit a job. The job does not run even after a long time, and I do not see any error message.</a></li><li>
<a id="pgfId-1038830"></a><a href="appLBS.html#61919">I select LBS as the distribution method on the Job Policy Setup form, and the form expands, but I cannot use distributed processing.</a></li><li>
<a id="pgfId-1038839"></a><a href="appLBS.html#11724">I start the Job Monitor but it is blank. There are no jobs listed.</a></li><li>
<a id="pgfId-1038843"></a><a href="appLBS.html#85609">I name a job analysis2 and the system renames it to analysis2001.</a></li><li>
<a id="pgfId-1038847"></a><a href="appLBS.html#82308">The machine I want to use is not in the host list on the Job Policy Setup form.</a></li><li>
<a id="pgfId-1038850"></a><a href="appLBS.html#60094">When I click Run, I get a long error message that says that I cannot connect to the LBS queue manager.</a></li><li>
<a id="pgfId-1038854"></a><a href="appLBS.html#30681">When I run a distributed simulation, I get an error message saying that the job submission failed.</a></li><li>
<a id="pgfId-1038859"></a><a href="appLBS.html#84868">When I submit a job, it fails and comes back with an error message such as</a></li><li>
<a id="pgfId-1038863"></a><a href="appLBS.html#54953">I made job B dependent on job A. Job A ran, but job B did not. What is wrong?</a></li><li>
<a id="pgfId-1038867"></a><a href="appLBS.html#29174">My simulation finished, but I cannot find the PSF results.</a></li><li>
<a id="pgfId-1038874"></a><a href="appLBS.html#94715">I am using LSF with the distributed processing mode. When I try to run my jobs, I get an error message &#8211; &#8220;LSF setup is not proper&#8221;. I cannot submit any jobs.</a></li><li>
<a id="pgfId-1038878"></a><a href="appLBS.html#66779">The distributed processing mode randomly quits working. My jobs fail and I get an error message &#8211; &#8220;Could not connect to the LBS queue manager&#8221;. I usually keep a design framework II session running all night.</a></li><li>
<a id="pgfId-1038882"></a><a href="appLBS.html#51308">I am able to successfully submit distributed processing jobs to all hosts except the cluster master machine, even though it is in one of the cluster&#8217;s queues. The job status says: &quot;Job dispatch failed; Cluster master timed out on ACK from execution host&quot;.</a></li><li>
<a id="pgfId-1038887"></a><a href="appLBS.html#22768">I encountered an error message containing a numeric identifier. For example:</a></li><li>
<a id="pgfId-1038891"></a><a href="appLBS.html#69303">What does this numeric identifier signify?</a></li><li>
<a id="pgfId-1038895"></a><a href="appLBS.html#43155">How do I specify a queue for a put together job?</a></li><li>
<a id="pgfId-1038903"></a><a href="appLBS.html#78326">LSF shutdown causes job distribution to freeze?</a></li><li>
<a id="pgfId-1038906"></a><a href="appLBS.html#58506">When I run a simulation successfully using LSF on Linux, and add new queues, the new queues do not reflect in the Job Policy Setup form.</a></li></ol>



















<p>
<a id="pgfId-1038909"></a><a id="14244"></a>Distributed processing does not work.</p>
<p>
<a id="pgfId-1038911"></a>Use the following general troubleshooting tips as one of these could be the reason for the problem in a distributed processing run:</p>
<ol><li>
<a id="pgfId-1038912"></a>Ensure that when you use <code>rlogin</code> for logging in to remote hosts, you do not receive a password prompt. Authenticate the submission host as a trusted host by using <code>xhost</code>. Alternatively, create an <code>.rhosts</code> file in the home directory and ensure that it contains a &#8216;+&#8217; character.</li><li>
<a id="pgfId-1038913"></a>Ensure that the remote hosts can access the paths to all the model files and the simulation directory.</li><li>
<a id="pgfId-1038914"></a>Ensure that the remote hosts can access the Cadence tools hierarchy. To do this, use <code>rlogin</code> for logging in to the remote host. Run the following command and check if it returns the path to the Cadence hierarchy:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1038915">
<a id="pgfId-1038915"></a>unix&gt; which virtuoso </pre></li><li>
<a id="pgfId-1038923"></a>Ensure that a user submitting a job has an account and a home directory on the submission host and the execution host. <br />
<a id="pgfId-1038924"></a>For example, if a user submits a job from machine A to machine B but does not have an account on machine B, the submit request fails.</li><li>
<a id="pgfId-1038925"></a>Ensure that the directory on your local machine from which you run the distributed processing software is exported.</li><li>
<a id="pgfId-1038926"></a>Ensure that the uid (UNIX user ID) of a user does not change as the user switches from one machine to another. For example, if the user <code>morrison</code> has uid <code>8819</code> on machine A, another user <code>doe</code> cannot use uid <code>8819</code> on machine B. </li><li>
<a id="pgfId-1038927"></a>Ensure that all users who want to submit jobs have write-access to the <code>/tmp</code> file system on the execution and submission hosts. The host machines use this file system to save certain temporary files that are created as a result of the submission and execution processes. </li><li>
<a id="pgfId-1038929"></a>Ensure that the directory structure on the home machine and the remote machine is identical. For example, if the job&#8217;s working directory on your machine is <code>/net/salmon/u1/morrison</code>, the design directory on the execution machine must be <code>/net/coho/u1/morrison</code>. If the directory structure on <code>salmon</code> does not match that on <code>coho</code>, use a link to mirror the directory structure on the home machine. </li><li>
<a id="pgfId-1057981"></a>Ensure that you specify the correct file paths. Distributed processing considers all files &#8211; input, output, error, and any command or OCEAN files &#8211; to have absolute or relative locations, depending on whether they are preceded by a forward slash (/). If relative, their location is searched relative to the working directory of the job.</li></ol>










<p>
<a id="pgfId-1038931"></a><a id="44883"></a>I specify an LSF Resource Requirement String in the Job Policy Setup form and submit a job. The job does not run even after a long time, and I do not see any error message. </p>
<p>
<a id="pgfId-1038932"></a>This can happen if you specify a resource requirement that is not possible to implement or conflicts with an existing option in the Job Policy Setup form. In such a case, run <code>xlsbatch</code> from the UNIX prompt to monitor the status of your job. <code>xlsbatch</code> is a job monitoring tool provided by IBM. To know more details, refer to the <h-hot><a actuate="user" class="URL" href="https://www.ibm.com/support/knowledgecenter/SSWRJV_10.1.0/lsf_welcome/lsf_welcome.html" show="replace" xml:link="simple">LSF documentation</a></h-hot>. </p>
<p>
<a id="pgfId-1038934"></a>The status of a job may remain <code>PEND</code> for a long time because of a complication associated with the <em>LSF Resource Requirement String</em>. In the job details of <code>xlsbatch</code>, the <code>PENDING REASON</code> indicates why the job is in a <code>PEND</code> state. You can resolve this by modifying some of the job properties using <em>Job &#8211; Manipulate &#8211; Modify</em> in <code>xlsbatch</code>.</p>
<p>
<a id="pgfId-1038936"></a><a id="61919"></a>I select LBS as the distribution method on the Job Policy Setup form, and the form expands, but I cannot use distributed processing.</p>
<p>
<a id="pgfId-1038938"></a>Distributed processing is available for the Spectre simulator and all the simulators integrated using OASIS. Ensure that you set the appropriate simulator in ADE Explorer or ADE Assembler. See the Command Interface Window (CIW) for error messages or warnings.</p>
<p>
<a id="pgfId-1038944"></a><a id="11724"></a>I start the Job Monitor but it is blank. There are no jobs listed.</p>
<p>
<a id="pgfId-1038945"></a>This might be normal. The Job Monitor may not show any job for the following reasons:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1038946"></a>You have not started any jobs yet.</li><li>
<a id="pgfId-1038947"></a>You started jobs, but a long duration has elapsed and the jobs are finished and consequently terminated.</li><li>
<a id="pgfId-1038948"></a>The Job Monitor lists jobs by queue, usually in one queue at a time. If you are unsure about the queue that contains your jobs, select ALL under the Queues tab. </li></ul></li></ul>


<p>
<a id="pgfId-1038951"></a><a id="85609"></a>I name a job analysis2 and the system renames it to analysis2001.</p>
<p>
<a id="pgfId-1038952"></a>This indicates that a job <code>analysis2</code> already exists in the same session. The distributed processing environment automatically appends a three-digit number to any duplicate job names to keep them unique.</p>
<p>
<a id="pgfId-1038954"></a><a id="82308"></a>The machine I want to use is not in the host list on the Job Policy Setup form.</p>
<p>
<a id="pgfId-1038955"></a>Contact your system administrator, or cluster master operator, to add the machine to a queue. You can use the list field in the Job Policy Setup form to specify the machine you want to use.</p>
<p>
<a id="pgfId-1038957"></a><a id="60094"></a>When I click Run, I get a long error message that says that I cannot connect to the LBS queue manager.</p>
<p>
<a id="pgfId-1038958"></a>Log on to the distributed processing cluster master and list the running processes. Find and kill the <code>cdsqmgr</code> process running under your user name. If you find this process, kill it. </p>
<p>
<a id="pgfId-1038959"></a>Verify that a <code>cdsqmgr</code> is running under root. If it is not running, contact the cluster operator to restart it.</p>
<p>
<a id="pgfId-1038960"></a>Exit the Cadence&#174; software on your local host, and then restart it.</p>
<p>
<a id="pgfId-1038961"></a>You can also get this error when you do not set your environment variables properly. Make sure that LBS_BASE_SYSTEM and LBS_CLUSTER_MASTER are set properly. Also verify that the master host is only in one cluster.</p>
<p>
<a id="pgfId-1038963"></a><a id="30681"></a>When I run a distributed simulation, I get an error message saying that the job submission failed.</p>
<p>
<a id="pgfId-1038964"></a>Several situations can cause this error message:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1038965"></a>You do not have an account on the machine to which your job is submitted.</li><li>
<a id="pgfId-1038966"></a>The specified machine is disconnected from the network or shut down.</li><li>
<a id="pgfId-1038967"></a>The remote machine does not have access to the Cadence software, especially the distributed processing DRMS. By default, the local setting of the path environment variable should be valid for each execution host.</li></ul></li></ul>


<p>
<a id="pgfId-1038969"></a><a id="84868"></a>When I submit a job, it fails and comes back with an error message such as </p>
<p>
<a id="pgfId-1038970"></a><code>sh: ./runSpectre not found, spectre not found.</code></p>
<p>
<a id="pgfId-1038971"></a>The simulation fails because the remote job cannot find the simulator. You must have a path to the Cadence software on each of the remote machines. By default, distributed processing uses your local environment settings to initialize the session on the remote host. The search path on the remote host will be the same as the path setting on your local host. You must ensure that the path setting on the remote host is relevant, else the simulator will not be found.</p>
<p>
<a id="pgfId-1038972"></a>For example, on your home machine you have a link to the Cadence software at <code>/u1/users/bill/Cadence</code>. However, your account is at <code>/usr1/mnt3/bill</code> on the machine that you run your job. The remote job goes to <code>/u1/users/bill/Cadence/tools/dfII/bin</code> on the remote machine and finds no account. You must either move the account to <code>/u1/users</code>, to match your home machine, or create a link from <code>/u1/users</code> to <code>/user1/mnt3</code>. </p>
<p>
<a id="pgfId-1038974"></a><a id="54953"></a>I made job B dependent on job A. Job A ran, but job B did not. What is wrong?</p>
<p>
<a id="pgfId-1038975"></a>The dependency feature is not based on whether a job runs, but whether the simulation succeeds. If the simulation fails, subsequent dependent jobs will not run.</p>
<p>
<a id="pgfId-1038978"></a><a id="29174"></a><a id="78729"></a>My simulation finished, but I cannot find the PSF results.</p>
<p>
<a id="pgfId-1038979"></a>Distributed processing does not store its results in the standard <code>/psf</code> directory. Instead, it creates a <code>/distributed</code> directory at the same level as <code>/psf</code> and <code>/netlist</code>. The <code>/distributed</code> directory contains a directory for each job. This directory contains the <code>/netlist</code> and <code>/psf</code> directory for each job.</p>
<p>
<a id="pgfId-1038985"></a><a id="94715"></a>I am using LSF with the distributed processing mode. When I try to run my jobs, I get an error message &#8211; &#8220;LSF setup is not proper&#8221;. I cannot submit any jobs.</p>
<p>
<a id="pgfId-1038986"></a>When you use LSF, both the machines &#8211; the machine you are submitting the job from, and the machine you are submitting the job to &#8211; must be in the predefined LSF cluster. The scenario that you describe occurs if your home machine, or the machine that you are submitting from, is not in the LSF machine cluster.</p>
<p>
<a id="pgfId-1038988"></a><a id="66779"></a>The distributed processing mode randomly quits working. My jobs fail and I get an error message &#8211; &#8220;Could not connect to the LBS queue manager&#8221;. I usually keep a design framework II session running all night.</p>
<p>
<a id="pgfId-1038989"></a>The most likely reason is that your system administrator is making changes to the job queue. These changes may include changes to the depth or nature of the queue, or to the list of machines included in the queue. Each time the system administrator makes such changes this, they must shut down the Cadence Queue Manager (<code>cdsqmgr</code>). This disrupts any distributed jobs that you have in progress. You must exit your Cadence session and start again. </p>
<p>
<a id="pgfId-1038991"></a><a id="51308"></a>I am able to successfully submit distributed processing jobs to all hosts except the cluster master machine, even though it is in one of the cluster&#8217;s queues. The job status says: &quot;Job dispatch failed; Cluster master timed out on ACK from execution host&quot;.</p>
<p>
<a id="pgfId-1038992"></a>Verify that when the <code>cdsqmgr</code> process starts on the cluster master, your PATH variable contains the path to the bin directory in the Cadence software hierarchy. This means that your <code>PATH</code> variable must contain <code>CDS_INST_DIR/tools/bin</code>).</p>
<p>
<a id="pgfId-1038994"></a><a id="22768"></a>I encountered an error message containing a numeric identifier. For example:</p>
<p>
<a id="pgfId-1038995"></a><code>ERROR (28): There was an error connecting to the distributed job server service. This host may not be set up correctly for using Distributed Processing.</code></p>
<p>
<a id="pgfId-1038997"></a><a id="69303"></a>What does this numeric identifier signify?</p>
<p>
<a id="pgfId-1038998"></a>Each error message in distributed processing is given a unique numeric identifier. You can use this numeric identifier to access extended help (if available) on an error message by typing the following in the CIW:</p>

<a id="pgfId-1038999"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
msgHelp &lt;prodID&gt; &lt;<code>errorID</code>&gt;</pre>

<p>
<a id="pgfId-1039000"></a>where,</p>
<table class="webflareTable" id="#id1061663">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1060968"></a><code>prodID</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1060970"></a>is the product ID. In case of distributed processing, it is <code>&#8216;DP.</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1060972"></a><code>errorID</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1060974"></a>is the error message ID number. This is the numeric identifier that is available in the error message box.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1039003"></a>For example, </p>

<a id="pgfId-1039004"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
msgHelp &#8217;DP 28</pre>

<p>
<a id="pgfId-1039005"></a>This displays the extended help for the distributed processing error message, whose message ID is 28.</p>
<p>
<a id="pgfId-1039007"></a><a id="43155"></a>How do I specify a queue for a put together job?</p>
<p>
<a id="pgfId-1039008"></a>You can specify a queue for a put together job by specifying an environment variable as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039009"></a>asimenv.distributed puttogetherqueue string &quot;&quot; nil</pre>

<p>
<a id="pgfId-1039015"></a><a id="78326"></a>LSF shutdown causes job distribution to freeze?</p>
<p>
<a id="pgfId-1039016"></a>From the same terminal window that is running the workbench, kill the <code>cdsfrb_lsf</code> daemon and restart the workbench to get into distributed processing mode.</p>
<p>
<a id="pgfId-1039018"></a><a id="58506"></a>When I run a simulation successfully using LSF on Linux, and add new queues, the new queues do not reflect in the Job Policy Setup form.</p>
<p>
<a id="pgfId-1039019"></a>Ensure that you set the environment variable as, <code>LANG=&#8217;C&#8217;.</code></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="FAQchap_topic.html" id="prev" title="ADE Explorer Frequently Asked Questions">ADE Explorer Frequently Asked  ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>