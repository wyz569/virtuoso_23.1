
<html><head><title>Using EPDA in the Virtuoso Environment</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-08-04" />
<meta name="CreateTime" content="1691179148" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Photonics Solution." />
<meta name="DocTitle" content="Virtuoso Photonics Solution Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Using EPDA in the Virtuoso Environment" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="phouser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-08-04" />
<meta name="ModifiedTime" content="1691179148" />
<meta name="NextFile" content="curvycore.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="intro.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Photonics Solution Guide -- Using EPDA in the Virtuoso Environment" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="phouserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="phouserTOC.html">Contents</a></li><li><a class="prev" href="intro.html" title="Introduction to the EPDA Framework">Introduction to the EPDA Frame ...</a></li><li style="float: right;"><a class="viewPrint" href="phouser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="curvycore.html" title="CurvyCore Building Blocks">CurvyCore Building Blocks</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Photonics Solution Guide<br />Product Version IC23.1, August 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a id="pgfId-1064154"></a> </h1>
<h1>
<a id="pgfId-1064156"></a><hr />
Using EPDA in the Virtuoso Environment<hr />
</h1>

<p>
<a id="pgfId-1111460"></a>The unified Electronics-Photonics Design Environment (EPDA) framework is built upon the Virtuoso&#174; Design Framework, leveraging the three core applications of the design framework&#8212;Virtuoso&#174; Schematic Editor, Virtuoso&#174; Analog Design Environment, and Virtuoso&#174; Layout Suite. To enable a true co-simulation methodology within the Virtuoso Studio, the EPDA framework supports optical signal simulation in Cadence&#174; Virtuoso&#174; Analog Design Environment using the Lumerical&#174; Interconnect Photonic Integrated Circuit (PIC) simulator. For more information about the Lumerical PIC simulator, visit the <h-hot><a actuate="user" class="URL" href="https://www.lumerical.com/products/interconnect/" show="replace" xml:link="simple">Lumerical</a></h-hot> website. </p>
<p>
<a id="pgfId-1113744"></a>The key advantage of using the EPDA framework for running the Virtuoso&#174; Photonics&#174; Solution is that Virtuoso supports the integration and implementation of optical signals largely in the same way as that for electrical signals. This makes it easy for both existing and new users to use Virtuoso for creating their electro-optical designs. </p>

<h2>
<a id="pgfId-1126734"></a><a id="98561"></a>Specifying Technology Information</h2>

<p>
<a id="pgfId-1126789"></a>To enable the generation and update of optical pins, you can update the technology file to define an additional constraint group&#8212;<code>virtuosoDefaultOpticalPinSetup.</code></p>
<p>
<a id="pgfId-1126791"></a>If specified, the <code>virtuosoDefaultOpticalPinSetup</code> constraint group defines the optical layers to use for generating and updating the optical pins. You can use the <a href="../vxlhelp/xlEnvars_re_opticalPinSetup_Virtuoso_Photonics_Option_.html">opticalPinSetup</a> environment variable to specify the name of the constraint group to use for optical pin generation.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1126795"></a>You can also define the <code>virtuosoDefaultElectricalPinSetup</code> constraint group to specify the electrical layers to use for generating and updating electrical pins. To control the constraint group to use for electrical pin generation, use the <a href="../vxlhelp/xlEnvars_re_electricalPinSetup.html">electricalPinSetup</a> environment variable. </div>
<p>
<a id="pgfId-1126771"></a>If the <code>virtuosoDefaultOpticalPinSetup</code> or the <code>virtuosoDefaultElectricalPinSetup</code> constraint group is not defined, Virtuoso uses the <a href="../vxlhelp/xltechfile_validLayers_.html">validLayers</a> defined in the default Layout EXL constraint group&#8212;<code>virtuosoDefaultSetup&#8212;</code>for pin generation.<h-hot /></p>

<h2>
<a id="pgfId-1105880"></a><a id="36366"></a>Launching Virtu<a id="launchVirtuosoPhotonicsMode"></a>oso in Photonics Mode</h2>

<p>
<a id="pgfId-1109570"></a>Depending on whether or not you already have the Virtuoso licenses available, you can launch Photonics using one of the following licensing options:</p>
<ul><li>
<a id="pgfId-1109830"></a><a href="epda.html#83505">Launching the Virtuoso Photonics Option</a></li><li>
<a id="pgfId-1109840"></a><a href="epda.html#36892">Launching the Virtuoso Photonics Platform</a></li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1110172"></a>Virtuoso Photonics Solution, irrespective of the license you choose, is supported only in Layout EXL.</div>

<h3>
<a id="pgfId-1108771"></a><a id="83505"></a>Launching the Virtuoso Photonics Option</h3>

<p>
<a id="pgfId-1106500"></a>If you already have access to the Virtuoso design environment, you can invoke the additional Photonics capabilities supported in Virtuoso by using the Virtuoso Photonics Option (VPO) license.</p>
<p>
<a id="pgfId-1108085"></a>To check out the Virtuoso Photonics Option license, set the following shell environment variables:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1108205"></a>setenv Virtuoso_Photonics_Option t</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1110533"></a>setenv Virtuoso_MultiTech t</pre>
<h3>
<a id="pgfId-1108908"></a><a id="36892"></a>Launching the Virtuoso Photonics Platform</h3>

<p>
<a id="pgfId-1110631"></a>If you do not already have a dedicated license to access the Virtuoso design environment, you can check out a single, platform-level license called the Virtuoso Photonics Platform (VPP). This license enables all the Virtuoso design environment capabilities required for running the Photonics solution in addition to enabling the Virtuoso Photonics Solution. </p>
<p>
<a id="pgfId-1111194"></a>To check out the Virtuoso Photonics Platform license, set the following shell environment variable:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1111195"></a>setenv Virtuoso_Photonics_Platform t</pre>
<h3>
<a id="pgfId-1114608"></a>Verifying the Photonics License</h3>

<p>
<a id="pgfId-1138972"></a>To verify whether the required Virtuoso Photonics Solution licenses are checked out and that the EPDA framework is being enabled, check that the Command Interpreter Window (CIW) issues the confirmation messages as highlighted in the screenshot below. The CIW is the first window that opens when a Virtuoso session is launched. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1114785"></a>Alternatively you can look for these confirmatory messages in the Virtuoso log file, which is saved by default as <code>CDS.log</code> in the home directory.</div>

<p>
<a id="pgfId-1139048"></a></p>
<div class="webflare-div-image">
<img width="832" height="515" src="images/epda-2.gif" /></div>
<h4><em>
<a id="pgfId-1115659"></a>Related Information</em></h4>

<p>
<a id="pgfId-1114768"></a><h-hot><a actuate="user" class="URL" href="../dfIIconfig/dfIIconfig.html#pgfId-1061818" show="replace" xml:link="simple">Licensing in Design Framework II</a></h-hot></p>
<p>
<a id="pgfId-1115623"></a><h-hot><a actuate="user" class="URL" href="../wincfg/designEnv.html#firstpage" show="replace" xml:link="simple">Using the Command Interpreter Window</a></h-hot></p>

<h2>
<a id="pgfId-1105885"></a><a id="75666"></a>Generating Layout </h2>

<p>
<a id="pgfId-1115763"></a>In Virtuoso, you can use the Virtuoso Suite EXL layout editor (Layout EXL) to generate a single layout that allows you to define an initial placement of the electrical and optical components in the design.</p>
<p>
<a id="pgfId-1115857"></a>This sections covers the following topics.</p>
<ul><li>
<a id="pgfId-1115910"></a><a href="epda.html#68690">Opening the Library Manager</a></li><li>
<a id="pgfId-1115920"></a><a href="epda.html#83897">Creating a New Library</a></li><li>
<a id="pgfId-1127578"></a><a href="epda.html#42731">Creating a New Library Cellview</a></li><li>
<a id="pgfId-1127563"></a><a href="epda.html#58415">Creating a Schematic Cellview</a></li><li>
<a id="pgfId-1127602"></a><a href="epda.html#26226">Creating a Schematic Cellview</a></li><li>
<a id="pgfId-1127622"></a><a href="epda.html#90488">Creating a Layout Cellview</a></li><li>
<a id="pgfId-1116102"></a><a href="epda.html#77477">Specifying the Components to be Generated</a></li><li>
<a id="pgfId-1139090"></a><a href="epda.html#69607">Specifying the I/O Pins to be Generated</a></li><li>
<a id="pgfId-1139096"></a><a href="epda.html#52349">Defining the Optical Pin Attributes</a></li></ul>









<h3>
<a id="pgfId-1115732"></a><a id="68690"></a>Opening the Library Manager</h3>

<p>
<a id="pgfId-1114026"></a>All elements of a Virtuoso design&#8212;symbols, schematics, and layouts&#8212;belong to a library. Virtuoso can support several libraries simultaneously and a Virtuoso designer often works in a design library, which references a given fabrication process and uses the elements recommended for that process. Such a library is called a <em>process</em> library and it contains technology definitions in addition to containing information about basic devices. Optionally, a designer can use additional design elements from another library, called the <em>reference</em> library.</p>
<p>
<a id="pgfId-1114031"></a>Virtuoso also supports some generic, process-independent libraries, such as <code>basic</code> and <code>analogLib</code>, which include common design elements.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1114528"></a>The generic libraries do not contain layout implementations for any elements.</div>
<p>
<a id="pgfId-1116293"></a>To access the various libraries, you can open the Library Manager form in stand-alone mode from an <code>xterm</code> or a command line window or within the Virtuoso design environment using the CIW.</p>
<p>
<a id="pgfId-1116295"></a><strong>To open the Library Manager in standalone mode</strong>:</p>

<ul><li>
<a id="pgfId-1116319"></a>In a terminal window, type the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1116296">
<a id="pgfId-1116296"></a>libManager &amp;</pre></li></ul>


<p>
<a id="pgfId-1116297"></a>The Library Manager appears as a stand-alone application, which is not integrated in the Virtuoso design environment.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1116298"></a>In stand-alone mode, you cannot open cellviews.</div>
<p>
<a id="pgfId-1116299"></a>T<strong>o open the Library Manager in Virtuoso Design Environment:</strong></p>

<ul><li>
<a id="pgfId-1116481"></a>In CIW, choose <em>Tools &#8211; Library Manager</em>.</li></ul>

<p>
<a id="pgfId-1116300"></a>The Library Manager form is displayed in the Virtuoso design environment as displayed in the figure.</p>

<p>
<a id="pgfId-1139445"></a></p>
<div class="webflare-div-image">
<img width="669" height="400" src="images/epda-3.gif" /></div>
<h4><em>
<a id="pgfId-1116737"></a>Related Information</em></h4>

<p>
<a id="pgfId-1116804"></a><h-hot><a actuate="user" class="URL" href="../libManager/chap11.html#firstpage" show="replace" xml:link="simple">Library Manager Form</a></h-hot></p>

<h3>
<a id="pgfId-1105887"></a><a id="83897"></a>Creating a New Library </h3>

<p>
<a id="pgfId-1116916"></a>In Virtuoso, you can create a new library using one of the following methods:</p>
<ul><li>
<a id="pgfId-1117218"></a><a href="epda.html#59312">Creating a New Library using the Library Manager</a></li><li>
<a id="pgfId-1117228"></a><a href="epda.html#34094">Creating a New Library Using the CIW</a></li></ul>


<h4>
<a id="pgfId-1117143"></a><a id="59312"></a>Creating a New Library using the Library Manager</h4>

<p>
<a id="pgfId-1117511"></a>To<a id="newLibHelp"></a> create a <a id="marker-1117509"></a>new <a id="marker-1117510"></a>library using the Library Manager:</p>
<ol><li>
<a id="pgfId-1117516"></a>In the Library Manager, <a id="marker-1117512"></a>choose <em>File &#8211; New &#8211; Library</em><a id="marker-1117513"></a><a id="marker-1117514"></a><a id="marker-1117515"></a>. <br />
<a id="pgfId-1139633"></a>Alternatively, you can click inside the <em>Library</em> list box and press <code>Ctrl+N</code> on the keyboard.<br />
<a id="pgfId-1117517"></a>You can also type the name of the library in the <em>Library</em> field and press <code>Ctrl+N</code> to open the New Library form. In this case, the <em>Name</em> field in the New Library form is automatically populated with the name that you have entered in the <em>Library</em> field.<br />
<a id="pgfId-1117522"></a>The New Library Form is displayed.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117527"></a>Creating a new or temporary library within an existing library is not allowed because any directories within a library are handled as cells.</div></li><li>
<a id="pgfId-1146960"></a>In the <em>Name</em> field, type the name of the library you want to create.<br />
<a id="pgfId-1146973"></a>The new library name cannot be the same as another library.</li><li>
<a id="pgfId-1146989"></a>The <em>Directory</em> navigation tools (list boxes and toolbar buttons) to specify the destination directory in which you want to create the new library. You can also type a directory path in the <em>Directory</em> field.<br />
<a id="pgfId-1147253"></a><a id="libraryCreationFailed"></a>You must have permission to edit the directory in which you want to create a library.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117537"></a>If you want the library to be under design management control, you must create it in a managed project area. For additional information about creating managed libraries, see the <em><a actuate="user" class="URL" href="../dfIIconfig/dfIIconfig.html#firstpage" show="replace" xml:link="simple">Virtuoso Software Licensing and Configuration Guide</a></em>.</div></li><li>
<a id="pgfId-1117539"></a>(<em>Optional</em>) In the <em>Design Manager</em> group box, specify whether you want to use a design management system.<ul><li>
<a id="pgfId-1118056"></a>If you want to use a design management system, select <em>Use &lt;design management system&gt;</em> (the default).</li><li>
<a id="pgfId-1118057"></a>If you do not want to use a design management system, select <em>Use No DM</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117546"></a>If there is no design management system available, <em>No design manager setup found </em>will be displayed.</div></li></ul>
<a id="pgfId-1118240"></a>For more information about design management systems, see <a actuate="user" class="URL" href="../libManager/chap7.html#firstpage" show="replace" xml:link="simple">Design Manager</a>.</li><li>
<a id="pgfId-1117547"></a>You can select the <em>Compression Enabled</em> check box to write OpenAccess data to this library in a compressed format. For more information, see <a actuate="user" class="URL" href="../libManager/chap6_tk_Compressing_a_Library_Using_Library_Manager.html#oacompressdata" show="replace" xml:link="simple">Compressing a Library Using Library Manager</a>.</li><li>
<a id="pgfId-1117551"></a>Click <em>OK</em>.<br />
<a id="pgfId-1117555"></a>The <a id="techfile"></a>Technology File for New Library form is displayed.</li><li>
<a id="pgfId-1117561"></a>Choose the <em>Reference existing technology libraries</em> technology file options. <br />
<a id="pgfId-1117752"></a>For more information about the various technology files options, see <a actuate="user" class="URL" href="../libManager/chap11_re_Technology_File_for_New_Library_Form.html#TechnologyFileforNewLibrary" show="replace" xml:link="simple">Technology File for New Library Form</a>.<br />
<a id="pgfId-1117173"></a>For more information about technology files, see the <em><a actuate="user" class="URL" href="../techfileuser/techfileuserTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Technology Data User Guide</a></em>.</li></ol>





















<h4>
<a id="pgfId-1117175"></a><a id="34094"></a>Creating a New Library Using the CIW</h4>

<p>
<a id="pgfId-1117178"></a>To create a new library using the CIW:</p>
<ol><li>
<a id="pgfId-1117446"></a>From the CIW, select <em>File &#8211; New &#8211; Library</em>.<br />
<a id="pgfId-1117447"></a>The New Library form is displayed.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117452"></a>Creating a new or temporary library within an existing library is not allowed because any directories within a library are handled as cells.</div></li><li>
<a id="pgfId-1117453"></a>Enter a <em>Name</em> for your new library.</li><li>
<a id="pgfId-1117454"></a>(<em>Optional</em>) Choose the name of the <em>Directory (non-library directories)</em> that you want to store your library in. Otherwise, you can specify the library path in the text box under the <em>Directory (non-library directories)</em> section.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117455"></a>By default, the library will be created and stored in the current directory.</div></li><li>
<a id="pgfId-1117975"></a>Choose the<em> Reference existing technology libraries </em>technology file options.<br />
<a id="pgfId-1117977"></a>For more information about the various technology files options, see <a actuate="user" class="URL" href="../libManager/chap11_re_Technology_File_for_New_Library_Form.html#TechnologyFileforNewLibrary" show="replace" xml:link="simple">Technology File for New Library Form</a>..<br />
<a id="pgfId-1117979"></a>For more information about technology files, see the <em><a actuate="user" class="URL" href="../techfileuser/techfileuserTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Technology Data User Guide</a></em>.</li><li>
<a id="pgfId-1118508"></a>In the <em>Reference Existing Technology Libraries</em> form, double-click the <em>gopdk </em>library in the left column to move it to the right column. <br />
<a id="pgfId-1119196"></a>Alternatively, you can move items from one column to the other by selecting the item and then clicking the appropriate arrow key to specify the direction of move.<br />
<a id="pgfId-1139807"></a><div class="webflare-div-image">
<img width="639" height="261" src="images/epda-4.gif" /></div>
<a id="pgfId-1118861"></a>The new library is created. </li><li>
<a id="pgfId-1124745"></a>Create a new layout cellview to verify if you have referenced the appropriate technology. See <a href="epda.html#90488">Creating a Layout Cellview</a>.</li><li>
<a id="pgfId-1124843"></a>In the layout cellview opened in Layout EXL, right-click the menu bar and choose <em>Assistants &#8211; Palette</em>.</li><li>
<a id="pgfId-1125169"></a>The layout cellview displays the Palette assistant, as shown in the figure below. You can use the Palette assistant to verify that the layers required for running the Virtuoso Photonics Flow are supported.<br />
<a id="pgfId-1147437"></a><div class="webflare-div-image">
<img width="818" height="563" src="images/epda-5.gif" /></div></li></ol>





















<h4><em>
<a id="pgfId-1123698"></a>Related Information</em></h4>

<p>
<a id="pgfId-1125687"></a><h-hot><a actuate="user" class="URL" href="../vlehelp/chap3.html#firstpage" show="replace" xml:link="simple">Palette Assistant</a></h-hot></p>

<h3>
<a id="pgfId-1116898"></a><a id="42731"></a>Creating a New Library Cellview</h3>

<p>
<a id="pgfId-1117397"></a>To create a new cellview:</p>
<ol><li>
<a id="pgfId-1117398"></a>Open the Library Manager.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117399"></a>Alternatively, you can also create a new cellview from the CIW by following the same instructions.</div></li><li>
<a id="pgfId-1117400"></a>Choose <em>File &#8211; New &#8211; Cell View</em>. <br />
<a id="pgfId-1139876"></a>Alternatively, you can click inside the <em>Cell</em> or <em>View</em> list box and press <code>Ctrl+N</code> on the keyboard.<br />
<a id="pgfId-1117401"></a>The New File form is displayed.<br />
<a id="pgfId-1117410"></a>You can also type the name of the cell in the <em>Cell</em> field and press <code>Ctrl+N</code> to open the New File form. In this case, the <em>Cell</em> field in the New File form is automatically populated with the name that you have entered in the <em>Cell</em> field of the Library Manager form.</li><li>
<a id="pgfId-1117411"></a>In the <em>Library </em>drop-down list, choose the name of the library in which you want to create a new cellview.</li><li>
<a id="pgfId-1117412"></a>In the <em>Cell </em>field, type a cell name for the new cellview.</li><li>
<a id="pgfId-1117413"></a>In the <em>View </em>field, type a view name for the new cellview.</li><li>
<a id="pgfId-1117414"></a>In the <em>Type</em> drop-down list, choose the type of view to be opened.</li><li>
<a id="pgfId-1117415"></a>In the <em>Application</em> section, select <em>Layout EXL</em>. </li><li>
<a id="pgfId-1117416"></a>(<em>Optional</em>) Select <em>Always use this application for this type of file </em>to always open the selected application when the selected view type is opened.</li><li>
<a id="pgfId-1117417"></a>Click <em>OK</em>.</li></ol>












<p>
<a id="pgfId-1117388"></a>The new cellview opens in the selected application.</p>

<h4><em>
<a id="pgfId-1124993"></a>Related Information</em></h4>

<p>
<a id="pgfId-1124989"></a><a href="epda.html#90488">Creating a Layout Cellview</a></p>

<h3>
<a id="pgfId-1105888"></a><a id="26226"></a><a id="58415"></a>Creating a Schematic Cellview</h3>

<p>
<a id="pgfId-1120482"></a>In Virtuoso, the schematic representation of the design forms the starting point for a design. As in the electrical flow, the schematic is also used to launch the circuit simulation and to generate a layout in the Virtuoso Photonics Flow. You can also update the schematic based on any design decisions made during the simulation or layout generation. After the layout updates have been backannotated to the schematic, you can use the updated schematic to run any verification checks. Therefore, it is important to create a good schematic design that can serve all these purposes and help generate a connectivity-driven, correct-by-construction layout. For more information on creating schematics in Virtuoso, see the <h-hot><a actuate="user" class="URL" href="../comphelp/comphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor User Guide</a></h-hot>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1122858"></a>Virtuoso supports the implementation of photonic Pcells in the same manner as that of electrical ones. Therefore, when you are in the EPDA framework, most of the Virtuoso features will continue to work the same way as in the pure electrical flow. </div>
<p>
<a id="pgfId-1121253"></a>To launch the Virtuoso Schematic Editor to create a new schematic cellview:</p>
<ol><li>
<a id="pgfId-1125776"></a>Open the Library Manager.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1125777"></a>Alternatively, you can create a new cellview from the CIW by following the same instructions.</div></li><li>
<a id="pgfId-1125778"></a>Choose <em>File &#8211; New &#8211; Cell View</em>. <br />
<a id="pgfId-1140061"></a>Alternatively, you can click inside the <em>Cell</em> or <em>View</em> list box and press <code>Ctrl+N</code> on the keyboard.<br />
<a id="pgfId-1125779"></a>The New File form is displayed.</li><li>
<a id="pgfId-1125788"></a>In the <em>Library </em>drop-down list, choose the name of the library in which you want to create a new cellview.<br />
<a id="pgfId-1125789"></a>If you have created any new libraries, they should be available in the list.</li><li>
<a id="pgfId-1125790"></a>In the <em>Cell </em>field, type a cell name for the new cellview.</li><li>
<a id="pgfId-1125791"></a>In the <em>View </em>field, type <em>schematic</em> to open the cell in the schematic view.</li><li>
<a id="pgfId-1125792"></a>In the <em>Type</em> drop-down list, choose <em>schematic</em>.</li><li>
<a id="pgfId-1125793"></a>In the <em>Application</em> section, choose <em>Schematics XL</em>.</li><li>
<a id="pgfId-1125795"></a>Select <em>Always use this application for this type of file </em>to always open the selected application when the selected view type is opened.</li><li>
<a id="pgfId-1125796"></a>Choose the appropriate <em>Open for</em> option.</li><li>
<a id="pgfId-1125797"></a>Click <em>OK</em>.<br />
<a id="pgfId-1125798"></a>The new cellview opens in the selected application, as shown in the figure below.<br />
<a id="pgfId-1125802"></a><div class="webflare-div-image">
<img width="931" height="633" src="images/epda-6.gif" /></div></li></ol>

















<h4><em>
<a id="pgfId-1121328"></a>Related Information</em></h4>

<p>
<a id="pgfId-1123780"></a><h-hot><a actuate="user" class="URL" href="../comphelp/chap3.html#pgfId-718973" show="replace" xml:link="simple">Creating Schematics</a></h-hot></p>

<h3>
<a id="pgfId-1126114"></a>Opening a Schematic Cellview</h3>

<p>
<a id="pgfId-1126115"></a>To open an existing schematic cellview:</p>
<ol><li>
<a id="pgfId-1126116"></a>Open the Library Manager.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1126117"></a>You can also open a new cellview from the CIW by following the same instructions.</div></li><li>
<a id="pgfId-1126118"></a>Choose <em>File &#8211; Open &#8211; Cell View</em>. Alternatively, you can click inside the <em>Cell</em> or <em>View</em> list box and press <code>Ctrl+N</code> on the keyboard.<br />
<a id="pgfId-1126119"></a>The Open File form is displayed.</li><li>
<a id="pgfId-1126128"></a>In the <em>Library </em>drop-down list, choose the name of the library from which you want to open the schematic cellview.<br />
<a id="pgfId-1126129"></a>If you have created any new libraries, they should be available in the list.</li><li>
<a id="pgfId-1126130"></a>In the <em>Cell </em>field, type the name of the cell to open.</li><li>
<a id="pgfId-1126131"></a>In the <em>View </em>drop-down list, choose <em>schematic</em>.</li><li>
<a id="pgfId-1126133"></a>In the <em>Application</em> section, choose <em>Schematics L</em>.</li><li>
<a id="pgfId-1126137"></a>Click <em>OK</em>.<br />
<a id="pgfId-1126138"></a>The schematic cellview opens in the Virtuoso Schematic Editor window. If the schematic you opened includes both electrical and optical connections, the schematic editor displays the connections differently. </li></ol>











<h4><em>
<a id="pgfId-1126143"></a>Related Information</em></h4>

<p>
<a id="pgfId-1126145"></a><h-hot><a actuate="user" class="URL" href="../comphelp/chap3.html#firstpage" show="replace" xml:link="simple">Creating Schematics</a></h-hot></p>

<h3>
<a id="pgfId-1124072"></a><a id="90488"></a>Creating a Layout Cellview</h3>

<p>
<a id="pgfId-1124073"></a>To create a layout cellview:</p>
<ol><li>
<a id="pgfId-1124074"></a>Open the Library Manager.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1124075"></a>Alternatively, you can create a new cellview from the CIW by following the same instructions.</div></li><li>
<a id="pgfId-1124076"></a>Choose <em>File &#8211; New &#8211; Cell View</em>. <br />
<a id="pgfId-1140357"></a>Alternatively, you can click inside the <em>Cell</em> or <em>View</em> list box and press <code>Ctrl+N</code> on the keyboard.<br />
<a id="pgfId-1124077"></a>The New File form is displayed.</li><li>
<a id="pgfId-1124087"></a>In the <em>Library </em>drop-down list, choose the name of the library in which you want to create a new cellview.<br />
<a id="pgfId-1124165"></a>If you have created any new libraries, they should be available in the list.</li><li>
<a id="pgfId-1124088"></a>In the <em>Cell </em>field, type a cell name for the new cellview.</li><li>
<a id="pgfId-1124089"></a>In the <em>View </em>field, type <em>layout</em> to open the cell in the layout view.</li><li>
<a id="pgfId-1124090"></a>In the <em>Type</em> drop-down list, choose <em>layout</em>.</li><li>
<a id="pgfId-1124091"></a>In the <em>Application</em> section, choose <em>Layout EXL</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1124451"></a>The Virtuoso Photonics Flow is supported only in the Layout EXL application.</div></li><li>
<a id="pgfId-1124633"></a>Select <em>Always use this application for this type of file </em>to always open the selected application when the selected view type is opened.</li><li>
<a id="pgfId-1124644"></a>Choose the appropriate <em>Open for</em> option.</li><li>
<a id="pgfId-1124093"></a>Click <em>OK</em>.<br />
<a id="pgfId-1124094"></a>The new cellview opens in the selected application.</li></ol>
















<h3>
<a id="pgfId-1128259"></a><a id="77477"></a>Specifying the Components to be Generated</h3>

<p>
<a id="pgfId-1071427"></a>Use the <h-hot><a actuate="user" class="URL" href="../vxlhelp/genLayout_tk_Generating_All_Components_from_Source.html" show="replace" xml:link="simple">Generate All From Source</a></h-hot> toolbar button to generate layout representations of the schematic design components. Alternatively, you can choose the <em>Connectivity &#8212; Generate </em>menu command to open the Generate Layout form.</p>
<p>
<a id="pgfId-1102957"></a>For the schematic instances that have layout representations available, the <em>Generate All From Source</em> command creates corresponding layout views in the canvas. </p>
<p>
<a id="pgfId-1128260"></a>To specify the components to be generated:</p>
<ol><li>
<a id="pgfId-1128264"></a>In the Generate Layout form, select the <em>Generate</em> tab.</li><li>
<a id="pgfId-1128266"></a>In the <em>Generate</em> group box, select the <em>Instances</em>, <em>I/O Pins</em>, and <em>PR Boundary</em> options, as required.<ol><li>
<a id="pgfId-1128267"></a>To chain transistors, select the Chain <em>check box</em>. <br />
<a id="pgfId-1128571"></a>For information on chaining optical pins, see <a href="epda.html#64183">Generating Optical Chains</a>.</li><li>
<a id="pgfId-1128296"></a>To stop Layout EXL from generating layout pins for global nets in the schematic, select <em>Except Global Pins</em>.</li></ol></li><li>
<a id="pgfId-1128300"></a>To preserve any user-defined binding of devices between the schematic and the layout, select <em>Preserve User-Defined Bindings</em>.</li><li>
<a id="pgfId-1129988"></a>Click <em>OK</em>.</li></ol>









<h4><em>
<a id="pgfId-1128434"></a>Related Information</em></h4>

<p>
<a id="pgfId-1140484"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/genLayout_tk_Generating_All_Components_from_Source.html" show="replace" xml:link="simple">Generating All Components From Source</a></h-hot></p>

<h3>
<a id="pgfId-252737"></a><a id="69607"></a>Specifying the I/O Pins to be Generated</h3>

<p>
<a id="pgfId-252741"></a>You specify the pins to be generated on the <em>I/O Pins</em> tab of the Generate Layout form. </p>
<p>
<a id="pgfId-252742"></a>For each pin listed, the form shows the parameters that will be used to generate its equivalent in the layout. You can remove or change the specification of any of the listed pins, or add new pins to be generated.</p>
<p>
<a id="pgfId-252743"></a>When generating pins, Layout EXL uses the same naming convention as the Virtuoso Schematic Editor, allowing you to assign different names to terminals and nets. Where terminal and net names are different in the schematic, Layout EXL creates pins with the same terminal name as in the layout, even though the net name associated with the pin might be different.</p>
<p>
<a id="pgfId-252751"></a>Power and ground pins defined at a lower level of the design hierarchy are not listed on the <em>I/O Pins</em> tab but the pins are still generated in the layout view. Virtuoso issues a message in the CIW to notify you about the operation.</p>

<h4>
<a id="pgfId-252754"></a>Specifying the Default Values for All Electrical Pins</h4>

<p>
<a id="pgfId-1153903"></a>To specify the default values for all electrical pins:</p>
<ol><li>
<a id="pgfId-1153904"></a>In the Generate Layout form, select the <em>I/O Pins</em> tab.</li><li>
<a id="pgfId-1153905"></a>Select <em>Type</em> as <em>Electrical</em>. <br />
<a id="pgfId-1153906"></a>This option is available if the schematic has both electrical and optical pin types defined. </li><li>
<a id="pgfId-1153907"></a>Choose the default routing layer from the <em>Layer</em> cyclic field.<br />
<a id="pgfId-1153908"></a>The list of pin layers is obtained from the technology information applied to the design.</li><li>
<a id="pgfId-1153909"></a>Specify the default <em>Height</em> and <em>Width</em> of the electrical pins and the <em>Number</em> of pins you want to create. </li><li>
<a id="pgfId-1153910"></a>Click <em>Apply</em>.<br />
<a id="pgfId-252774"></a>The specified values are applied to all the electrical pins displayed in the list box.</li></ol>








<h4><em>
<a id="pgfId-1128818"></a>Related Information</em></h4>

<p>
<a id="pgfId-1140701"></a><h-hot>Specifying the I/O Pins to be Generated</h-hot></p>

<h4>
<a id="pgfId-1140765"></a><a id="52349"></a>Defining the Optical Pin Attributes</h4>

<p>
<a id="pgfId-1123999"></a>When generating optical pins, Layout EXL uses the same naming convention as specified in the Virtuoso Schematic Editor, allowing you to assign different names to ports and nets. Where port and net names are different in the schematic, Layout EXL creates pins with the same terminal name as in the layout, even though the net name associated with the pin might be different.</p>
<p>
<a id="pgfId-1124000"></a>If a pin is associated with an optical net, Layout EXL automatically generates optical pins on an optical layer, such as the <code>waveguide</code> layer. By default, the layer to be used for the optical pin generation is determined from the value set for the <a href="appA.html#33502">phoPinLayer</a> environment variable. If the environment variable does not have a valid layer set, the first photonic layer in the <code>validLayer</code> list is used.</p>
<p>
<a id="pgfId-1124002"></a>Each optical pin can have the following attributes defined:</p>
<ul><li>
<a id="pgfId-1124003"></a><strong>Width</strong>: Width of the waveguide associated with the photonic port.</li><li>
<a id="pgfId-1124004"></a><strong>Radius</strong>: Curvature of the waveguide associated with the photonic port.<br />
<a id="pgfId-1124005"></a>By default, the radius is not defined.</li><li>
<a id="pgfId-1124006"></a><strong>Angle</strong>: Access direction of the photonic port.</li></ul>




<h4>
<a id="pgfId-1127935"></a><a id="29432"></a>Generating <a id="pho_layoutGen"></a>Optical Pins</h4>

<p>
<a id="pgfId-1124009"></a>To generate an optical pin in the layout:</p>

<ol><li>
<a id="pgfId-1124011"></a>In the Generate Layout form, select the I/O Pins tab.</li><li>
<a id="pgfId-1153981"></a>Select <em>Type</em> as <em>Optical</em>. <br />
<a id="pgfId-1153977"></a>This option is available if the schematic has both electrical and optical pin types defined. </li><li>
<a id="pgfId-1124012"></a>Choose the default routing layer from the <em>Layer</em> cyclic field.<br />
<a id="pgfId-1124014"></a>The default pin layer is determined from the value set for the <a href="appA.html#33502">phoPinLayer</a> environment variable.</li><li>
<a id="pgfId-1124015"></a>Specify the default <em>Width</em>, <em>Radius</em>, and <em>Input Angle </em>of the pins you want to create.<br />
<a id="pgfId-1124016"></a>The default value set for <em>Input Angle </em>applies only to the input pins. The output pins are set to a complementary angle value.</li><li>
<a id="pgfId-1124018"></a>Click <em>Apply</em> to generate the pins in the layout.</li></ol>













<h4>
<a id="pgfId-1124019"></a>Updating Optical Pins</h4>
<ol><li>
<a id="pgfId-1124023"></a>In the Generate Layout form, select the I/O Pins tab.</li><li>
<a id="pgfId-1154008"></a>Select <em>Type</em> as <em>Optical</em>.<br />
<a id="pgfId-1124025"></a>This option is available if the schematic has both electrical and optical pin types defined.</li><li>
<a id="pgfId-1124026"></a>Specify the new <em>Layer</em>, <em>Width</em>, <em>Radius</em>, and <em>Angle</em>, as appropriate.</li><li>
<a id="pgfId-1124028"></a>Click the <em>Update</em> button.</li></ol>





<p>
<a id="pgfId-1140884"></a>The selected pins are updated.</p>

<h2>
<a id="pgfId-1132196"></a><a id="69480"></a>Generating<a id="genFromLayout"></a> Selected From Layout</h2>

<p>
<a id="pgfId-1132275"></a>In Virtuoso Layout Suite EXL, if you have the <code>Virtuoso_Photonics_Option</code> license checked out, you can select unbound layout components and generate them in the schematic.</p>
<p>
<a id="pgfId-1132634"></a>To generate the selected layout components in the corresponding schematic window:</p>

<ol><li>
<a id="pgfId-1133581"></a>In the Layout EXL Navigator assistant, select the instances or terminals that display their <em>XL Status</em> as <em>unbound</em>.<br />
<a id="pgfId-1134187"></a><div class="webflare-div-image">
<img width="638" height="528" src="images/epda-7.gif" /></div></li><li>
<a id="pgfId-1132732"></a>Choose <em>Connectivity &#8211; Generate &#8211; Selected From Layout</em>.<br />
<a id="pgfId-1132853"></a>Alternatively, click the <em>Generate Selected From Layout </em>button on the Layout XL toolbar.<br />
<a id="pgfId-1132960"></a>If the corresponding schematic cellview is read-only, a message is issued to prompt that the cellview be made editable.<br />
<a id="pgfId-1133324"></a>If the corresponding schematic cellview is editable and the schematic has not already been extracted, a dialog box pops up to ask if the schematic cellview can be extracted.</li><li>
<a id="pgfId-1153952"></a>Press F3 to display the Generate Selected From Layout form to customize how dummies are placed in the schematic. (Optional).</li><li>
<a id="pgfId-1133065"></a>Click <em>OK</em> to proceed with the extraction of the schematic cellview.<br />
<a id="pgfId-1133574"></a>The selected instances are added to the dragset and are available for placement in the schematic view.<br />
<a id="pgfId-1134229"></a><div class="webflare-div-image">
<img width="637" height="397" src="images/epda-8.gif" /></div></li><li>
<a id="pgfId-1133827"></a>Click anywhere in the schematic canvas to place the selected instances.<br />
<a id="pgfId-1133919"></a>The selected instances are placed in a row in the schematic cellview, reflecting their layout connectivity. The <em>XL Status</em> of the instances in the layout view is updated to reflect the current status.<br />
<a id="pgfId-1152181"></a><div class="webflare-div-image">
<img width="638" height="350" src="images/epda-9.gif" /></div></li></ol>






















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1152185"></a>If the instance or terminal created in the schematic has a master difference with the layout, you can update the physical binding in CPH to resolve the mismatch.</div>

<h4><em>
<a id="pgfId-1136968"></a>Related Information</em></h4>

<p>
<a id="pgfId-1153940"></a><a href="appB.html#13292">Generate Selected From Layout Form</a></p>
<p>
<a id="pgfId-1142710"></a><h-hot><a actuate="user" class="URL" href="../sklayoutref/lx_re_lxHiGenerateSelectedFromLayout.html#lxHiGenerateSelectedFromLayout" show="replace" xml:link="simple">lxHiGenerateSelectedFromLayout</a></h-hot></p>
<p>
<a id="pgfId-1141229"></a><h-hot><a href="epda.html#75666">Generating Layout</a></h-hot></p>

<h2>
<a id="pgfId-1141130"></a><a id="16007"></a>Abutting Photonic Elements</h2>

<p>
<a id="pgfId-1148903"></a>The Virtuoso Photonics Flow supports all the same abutment features for photonic elements as are supported for electronic elements. In addition, the flow allows a type of abutment, which aligns the center point of an optical port with the matching facet information (<code>width</code>, <code>angle</code>, or <code>layer</code>). This enables any-angle abutment support for photonic elements.</p>
<p>
<a id="pgfId-1148904"></a>For photonic elements, abutment is triggered by overlapping photonics ports, provided the corresponding routing layers in the technology database have been set up to trace optical connectivity. </p>
<p>
<a id="pgfId-1150688"></a>For photonic layouts, abutment is also enabled for optical pins of non-Pcell devices. If you set the <a href="appA.html#29375">phoAbutNonPcells</a> environment variable to <code>t</code>, Layout EXL also supports the abutment of non-Pcell instances with Pcell instances and other non-Pcell instances. During non-Pcell abutment, top-level pins can abut with instance pins. By default, instance pins on the same pin layer are abutted and aligned at the center. </p>
<p>
<a id="pgfId-1150865"></a>For photonic designs, waveguide abutment is also supported. However, for waveguide abutment to be possible, the two abutting waveguides must be perfectly aligned and the abutting ports must be on the same net. If the abutting waveguides result in any shorts, the corresponding markers are generated in the <h-hot><a actuate="user" class="URL" href="../vxlhelp/xlAssistants_Annotation_Browser.html" show="replace" xml:link="simple">Annotation Browser</a></h-hot> assistant.</p>
<p>
<a id="pgfId-1152990"></a>To workaround the following situations that could otherwise prevent abutment, you can set the <a href="appA.html#63350">phoAbutAutoAdjust</a> environment variable to enable abutment.</p>
<ul><li>
<a id="pgfId-1153151"></a>If the optical port is locked and the overlapping instance is at a different angle, setting the <code>phoAbutAutoAdjust</code> environment variable automatically moves and adjusts the instance angle to be compatible with the port to allow abutment. If the port is unlocked and moved towards the instance, the angle of the optical port automatically adjusts to be compatible with the instance to allow abutment.</li><li>
<a id="pgfId-1153518"></a>If the overlapping optical port differs from the abutting instance in width, setting the <code>phoAbutAutoAdjust</code> environment variable automatically adjusts the width of the port to enable abutment.</li></ul>

<p>
<a id="pgfId-1148912"></a>Photonics devices can be spaced out in case of abutment failure when the spacing properties <h-hot><a actuate="user" class="URL" href="../vxlhelp/xlProperties_re_vxlInstSpacingDir_Property.html" show="replace" xml:link="simple">vxlInstSpacingDir</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../vxlhelp/xlProperties_re_vxlInstSpacingRule_Property.html" show="replace" xml:link="simple">vxlInstSpacingRule</a></h-hot> are set correctly on the overlapping pin figures.</p>

<h4>
<a id="pgfId-1146221"></a>Related Information</h4>

<p>
<a id="pgfId-1146241"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/chap5.html#firstpage" show="replace" xml:link="simple">Device Abutment</a></h-hot></p>

<h3>
<a id="pgfId-578989"></a><a id="64183"></a>Generating <a id="pho_Chains"></a>Optical Chains</h3>

<p>
<a id="pgfId-578992"></a>In the EPDA framework, you can use the following Layout XL commands to chain optical waveguide instances:</p>
<ul><li>
<a id="pgfId-578993"></a><em>Generate All From Source</em></li><li>
<a id="pgfId-578994"></a><em>Update Components And Nets</em></li><li>
<a id="pgfId-578995"></a><em>Generate Selected From Source</em></li><li>
<a id="pgfId-578996"></a><em>Generate Chained Devices</em></li></ul>



<p>
<a id="pgfId-578997"></a>When using <em>Generate All From Source</em> and <em>Update Components And Nets,</em> the layout instances selected for chaining are checked using the <a href="../skdfref/photonic_re_phoIsWaveguide.html">phoIsWaveguide</a> SKILL function to verify them as waveguide instances. If the selected instances are found to be waveguides, they are chained during layout generation.</p>
<p>
<a id="pgfId-578999"></a>However, when layout generation is being performed using the <em>Generate Selected From Source</em> command, all the connected optical devices are chained. The <code>phoIsWaveguide</code> SKILL function is not used in this case.</p>
<p>
<a id="pgfId-579002"></a>You can also chain waveguide instances and top-level photonic pins using the Virtuoso&#174; Layout Suite XL <em>Connectivity &#8211; Generate &#8211; Chained Devices</em> command or use the context-sensitive <em>Chain</em> menu option. When the selected set includes only waveguide instances and photonic pins, the <em>Chain</em> context-sensitive menu has only the <em>Default</em> option enabled. The other menu options, <em>Top, Center, and Bottom</em>, are disabled in this case.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-579004"></a>The following interactive chaining options are not supported for photonic devices:</div>
<ul><li>
<a id="pgfId-579005"></a><em>Preserve Existing Chains</em></li><li>
<a id="pgfId-579006"></a><em>Use Device Order</em></li><li>
<a id="pgfId-579007"></a><em>Interdigitate Chains</em></li><li>
<a id="pgfId-579008"></a><em>Mirror</em></li><li>
<a id="pgfId-579009"></a><em>Permute Pins</em></li><li>
<a id="pgfId-579010"></a><em>Align PMOS</em></li><li>
<a id="pgfId-579011"></a><em>Align NMOS</em></li></ul>







<h4><em>
<a id="pgfId-579012"></a>Related Information</em></h4>

<p>
<a id="pgfId-1128701"></a><a href="../sklayoutref/lx_re_lxChain.html">lxChain</a></p>
<p>
<a id="pgfId-1146271"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/deviceAbut_Manual_Device_Abutment.html" show="replace" xml:link="simple">Manual Device Abutment</a></h-hot></p>
<p>
<a id="pgfId-263986"></a><h-hot><a actuate="user" class="URL" href="../vlehelp/leForms_re_Create_Pin_Form.html" show="replace" xml:link="simple">Create Pin Options: Virtuoso Photonics Option</a></h-hot></p>
<p>
<a id="pgfId-263990"></a><a href="appB.html#89339">Composite Waveguide Editor Form</a></p>
<p>
<a id="pgfId-1146387"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/deviceAbut_Abutment_in_Virtuoso_Photonics_Solution_Virtuoso_Photonics_Option_.html" show="replace" xml:link="simple">Abutment in Virtuoso Photonics Solution</a></h-hot></p>

<h3>
<a id="pgfId-1134356"></a><a id="36356"></a>Generating an Incremental Chain</h3>

<p>
<a id="pgfId-1134397"></a>When using the Virtuoso Photonics Solution, you can incrementally create a chain by adding an object to an anchor. An anchor can be an instance or a top-level pin object, or a group of such abutted objects, which retains its position after chaining.</p>
<p>
<a id="pgfId-1135203"></a>When <em>Incremental</em> chaining is invoked on an anchor, Virtuoso prompts to select an appropriate object for chaining by highlighting the suitable chaining connections on the nets associated with the selected anchor. Select any of the objects connected to the highlighted connections. You can iteratively add instances to the chain until the <em>Incremental</em> chaining command is interrupted by pressing the <code>Esc</code> key.</p>
<p>
<a id="pgfId-1135028"></a>To incrementally chain instances:</p>
<ol><li>
<a id="pgfId-1136069"></a>In the layout canvas or the Navigator assistant, right-click an instance or a group of abutted objects to be used as an anchor.</li><li>
<a id="pgfId-1136235"></a>From the shortcut command, choose <em>Chain &#8211; Incremental</em>.<br />
<a id="pgfId-1136301"></a>All the candidate instances for chaining are highlighted in the layout canvas using probes.</li><li>
<a id="pgfId-1136443"></a>Select an object to be added to the chain.<br />
<a id="pgfId-1136537"></a>The selected object is added to the chain, with the anchor retaining its position.</li><li>
<a id="pgfId-1136639"></a>To add another object to the chain, select the object. Do this iteratively, if more objects must be added to the chain.</li><li>
<a id="pgfId-1136730"></a>To stop adding more objects to the chain, press the <em>Esc</em> key.</li></ol>







<h4><em>
<a id="pgfId-1136915"></a>Related Information</em></h4>

<p>
<a id="pgfId-1136934"></a><a href="../sklayoutref/lx_re_lxHiIChain.html#lxHiIChain">lxHiIChain</a></p>

<h3>
<a id="pgfId-1150237"></a>Generating an Anchored Chain</h3>

<p>
<a id="pgfId-1150238"></a>When using the Virtuoso Photonics Solution, you can automatically chain instances by adding to a selected set of fixed anchors, using connectivity from the selected set. Anchor chaining allows chains to be created much faster compared to incremental chaining, which requires manually selecting each instance to be added to the chain.</p>
<p>
<a id="pgfId-1150240"></a>To automatically create an anchored chain:</p>
<ol><li>
<a id="pgfId-1150241"></a>In the layout canvas or the Navigator assistant, right-click an instance or a group of instances to be used as an anchor.</li><li>
<a id="pgfId-1150242"></a>From the shortcut command, choose <em>Chain &#8211; Anchor</em>.<br />
<a id="pgfId-1150247"></a>All the candidate instances for chaining are highlighted in the layout canvas using probes.</li></ol>



<h2>
<a id="pgfId-1141434"></a><a id="36514"></a>Editing Layout</h2>

<p>
<a id="pgfId-1141480"></a>Virtuoso Layout Suite EXL provides a lot of editing capabilities to work with electro-photonic layout designs. You can use the layout editor to create custom layouts or edit any existing layout. From supporting basic parameter updates to layout components to enabling editing of composite waveguides, the Virtuoso Layout Suite EXL editor is well-equipped to support the editing of a Virtuoso-enabled Photonic design.</p>

<h3>
<a id="pgfId-1105891"></a><a id="53050"></a>Editing the Layout Parameters</h3>

<p>
<a id="pgfId-1142863"></a>Photonics elements are formed as a result of complex mathematical calculations used to generate shapes. Therefore, these elements are &#8220;wrapped&#8221; into a generator and can be controlled through parameters. In fact, all the elements, including interconnect elements such as waveguides in a Photonic Integrated Circuit are defined as fixed or Pcell instances that can be controlled using parameters. Electronic circuit designs in Virtuoso, on the other hand, use a different methodology where the interconnects (wires) are often defined as top-level shapes. Because most photonic elements in a Photonic Integrated Circuit can be controlled through parameters, these instances can be interactively controlled using the Property Editor assistant or the Instance Property form.</p>
<p>
<a id="pgfId-1129467"></a>The <em>Property Editor</em> assistant enables you to view and edit object property values for all electrical and optical components in your design. By default, each property is displayed in a separate table row in the <em>Property Editor</em>.</p>
<p>
<a id="pgfId-1129451"></a>The Property Editor table in the figure displays the properties for the selected CurvyCore&#174; objects in the design. </p>

<p>
<a id="pgfId-1142404"></a></p>
<div class="webflare-div-image">
<img width="865" height="417" src="images/epda-10.gif" /></div>

<p>
<a id="pgfId-1130263"></a>For detailed information about the <em>Property Editor</em> user interface, how to work with it and how to edit property values, see <h-hot><a actuate="user" class="URL" href="../comphelp/chap16.html#firstpage" show="replace" xml:link="simple">The Property Editor Assistant</a></h-hot> in the <em>Virtuoso Schematic Editor User Guide.</em></p>

<h3>
<a id="pgfId-405151"></a><a id="29956"></a>Editing<a id="compWG"></a> the Composite Waveguides</h3>

<p>
<a id="pgfId-405155"></a>In the Virtuoso Photonics Solution, Layout EXL enables you to use optical connections called waveguides in your design. When several such optical connections or waveguides are used in a design, the resultant waveguide is called a composite waveguide. </p>
<p>
<a id="pgfId-405156"></a>The Virtuoso Photonics Solution supports the generation of such composite waveguides using the <h-hot><a actuate="user" class="URL" href="../vxlhelp/genLayout_tk_Generating_All_Components_from_Source.html" show="replace" xml:link="simple">Generate All From Source</a></h-hot> command and supports editing of the composite waveguides using the Composite Waveguide Editor. Each component of the composite waveguide is called an <em>Element</em>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-405158"></a>The Composite Waveguide Editor can be launched from both the editors, schematic and layout. If launched in the Schematic view, the Composite Waveguide Editor allows early estimation of the waveguide geometry. </div>
<p>
<a id="pgfId-405159"></a>The various ways you can launch the Composite Waveguide Editor in the schematic and layout view are:</p>
<ul><li>
<a id="pgfId-405160"></a><em>From the Create Instance form</em><br />
<a id="pgfId-405161"></a>When creating a composite waveguide instance, click the Ellipses (&#8230;) button corresponding to the <em>Edit</em> label displayed just above the Waveguide parameter list.</li><li>
<a id="pgfId-405162"></a><em>From the Property Editor assistant</em><br />
<a id="pgfId-405163"></a>In the Property Editor assistant, click the <em>Ellipses</em> (&#8230;) button corresponding to the <em>Edit </em>label<em> </em>displayed just above the <em>Waveguide</em> parameter list.</li><li>
<a id="pgfId-405164"></a><em>From the Property Editor form</em><br />
<a id="pgfId-405165"></a>In the <em>Parameters</em> tab of the Property Editor form, click the <em>Ellipses</em> (&#8230;) button corresponding to the <em>Edit </em>label<em> </em>displayed just above the <em>Waveguide</em> parameter list.</li></ul>





<p>
<a id="pgfId-405166"></a>Editing a waveguide can involve the following:</p>
<ul><li>
<a id="pgfId-405170"></a><a href="epda.html#97615">Adding a Waveguide Element</a></li><li>
<a id="pgfId-405174"></a><a href="epda.html#57728">Deleting a Waveguide Element</a></li><li>
<a id="pgfId-405178"></a><a href="epda.html#13238">Changing the Position of a Waveguide Element</a></li><li>
<a id="pgfId-405182"></a><a href="epda.html#41317">Adding an Optical Waveguide Connector</a></li><li>
<a id="pgfId-405186"></a><a href="epda.html#78913">Rotating a Waveguide Element</a></li></ul>





<h4>
<a id="pgfId-405188"></a><a id="97615"></a>Adding a Waveguide Element</h4>

<p>
<a id="pgfId-405189"></a>To add a waveguide element:</p>

<ol><li>
<a id="pgfId-405190"></a>In the layout canvas, select the composite waveguide instance to update.<br />
<a id="pgfId-405191"></a>The Property Editor assistant populates to display the properties of the selected optical instance.</li><li>
<a id="pgfId-405192"></a>In the Property Editor assistant, click the <em>Ellipses</em> (&#8230;) button corresponding to the <em>Edit </em>label<em> </em>displayed just above the <em>Waveguide</em> parameter list.<br />
<a id="pgfId-405193"></a>The Composite Waveguide Editor displays.</li><li>
<a id="pgfId-405194"></a>In the Composite Waveguide Editor, right-click an existing waveguide element to use as the reference and choose <em>Add Before</em> or <em>Add After</em> to specify the position of the element to add.<br />
<a id="pgfId-405195"></a>The Add Element form displays.</li><li>
<a id="pgfId-405196"></a>Specify the <em>Library</em>, <em>Cell</em>, and <em>View</em> to use for the new waveguide element.</li><li>
<a id="pgfId-405197"></a>Click <em>OK</em> to apply the settings and close the editor.</li></ol>














<p>
<a id="pgfId-405199"></a>A new waveguide element gets added at the position you specify.</p>

<h4>
<a id="pgfId-405201"></a><a id="57728"></a>Deleting a Waveguide Element</h4>

<p>
<a id="pgfId-405202"></a>To delete a waveguide element:</p>

<ol><li>
<a id="pgfId-405203"></a>In the layout canvas, select the composite waveguide instance to update.<br />
<a id="pgfId-405204"></a>The Property Editor assistant populates to display the properties of the selected optical instance.</li><li>
<a id="pgfId-405205"></a>In the Property Editor assistant, click the <em>Ellipses</em> (&#8230;) button corresponding to the <em>Edit </em>label<em> </em>displayed just above the Waveguide parameter list.<br />
<a id="pgfId-405206"></a>The Composite Waveguide Editor displays, listing the various waveguide elements that comprise the composite waveguide.</li><li>
<a id="pgfId-405207"></a>In the Composite Waveguide Editor, right-click the waveguide element that you want to remove and choose <em>Delete</em> from the context-sensitive menu.<br />
<a id="pgfId-405208"></a>The selected element is removed from the waveguide element list and from the layout canvas.</li><li>
<a id="pgfId-1147389"></a>Click <em>OK</em> to apply the settings and close the editor.</li></ol>












<h4>
<a id="pgfId-405212"></a><a id="13238"></a>Changing the Position of a Waveguide Element</h4>

<p>
<a id="pgfId-405213"></a>To change the position of an element in the composite waveguide:</p>

<ol><li>
<a id="pgfId-405214"></a>In the layout canvas, select the composite waveguide instance to update.<br />
<a id="pgfId-405215"></a>The Property Editor assistant populates to display the properties of the selected optical instance.</li><li>
<a id="pgfId-405216"></a>In the Property Editor assistant, click the <em>Ellipses</em> (&#8230;) button corresponding to the <em>Edit </em>label<em> </em>displayed just above the <em>Waveguide</em> parameter list.<br />
<a id="pgfId-405217"></a>The Composite Waveguide Editor displays, listing the various waveguide elements that comprise the composite waveguide.</li><li>
<a id="pgfId-405218"></a>In the Composite Waveguide Editor, right-click the waveguide element for which the position needs to be changed and choose <em>Move Up</em> or <em>Move Down</em> to specify the new position for the element.</li></ol>









<p>
<a id="pgfId-405219"></a>The selected element is moved to the new position in the element list. The composite waveguide displayed in the layout canvas also reflects the element at its new position.</p>

<h4>
<a id="pgfId-405222"></a><a id="41317"></a>Adding an Optical<a id="optConnector"></a> Waveguide Connector</h4>

<p>
<a id="pgfId-405223"></a>Optical waveguide connectors are complex waveguides that can automatically generate a waveguide layout by using basic input information such as curve type.</p>
<p>
<a id="pgfId-405224"></a>To add an optical connector:</p>

<ol><li>
<a id="pgfId-405225"></a>In the layout canvas, select the composite waveguide instances to connect.</li><li>
<a id="pgfId-405226"></a>Right-click and choose <em>Optical Connector</em> from the context-sensitive instance menu.<br />
<a id="pgfId-405227"></a>The Waveguide Connector for Optical Connections dialog box opens.</li><li>
<a id="pgfId-405228"></a>From the <em>Connector</em> drop-down list, choose a connector type to use for connecting the selected waveguides. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-405229"></a>The second value in the listed <em>Connector</em> options indicates the style of the connector that will be created&#8212;<em>curve</em>, <em>sine</em>, and so on.</div></li><li>
<a id="pgfId-405230"></a>Click <em>OK</em>.</li></ol>








<p>
<a id="pgfId-405231"></a>An optical connector is created in the layout canvas based on the connector style you selected.</p>

<h4>
<a id="pgfId-405234"></a><a id="78913"></a>Rotating a Wa<a id="phoRotateCWE"></a>veguide Element</h4>

<p>
<a id="pgfId-405235"></a>If a composite waveguide has the rotation parameter set, you can rotate all the elements inside the composite waveguide by the specified rotation value. The rotation of the waveguide elements is determined based on the rotation value set on the individual waveguide elements and the value set on the composite waveguide.</p>
<p>
<a id="pgfId-405236"></a>Let us consider that a composite waveguide includes two <code>waveguideStraight</code> elements with rotation on each element set to <code>0</code>. Let us also assume that the rotation of the composite waveguide is set to <code>45</code>.</p>
<p>
<a id="pgfId-405237"></a>On canvas, both the waveguide elements are rotated by <code>45</code> degrees, which puts them at an effective rotation of <code>45</code> degrees. If the <code>waveguideStraight</code> elements were set to rotation of <code>45</code> and the composite waveguide was set to rotate by <code>45</code> degrees, the effective, on-canvas rotation of the <code>waveguideStraight</code> elements will be <code>90</code> degrees.</p>
<p>
<a id="pgfId-405238"></a>However, when you edit a composite waveguide using the Composite Waveguide Editor, the composite waveguide is considered to be at rotation <code>0</code>. This allows editing the rotation of the individual waveguide elements without taking into account the rotation of the composite waveguide.</p>
<p>
<a id="pgfId-405239"></a>For more information on rotating objects using the Virtuoso Photonics Solution, see <h-hot><a actuate="user" class="URL" href="../vlehelp/editObjects_Object_Rotation.html" show="replace" xml:link="simple">Rotating Objects: Virtuoso Photonics Solution</a></h-hot> in the <em>Virtuoso Layout Suite XL: Basic Editing User Guide</em>.</p>

<h4><em>
<a id="pgfId-405241"></a>Related Information</em></h4>

<p>
<a id="pgfId-405245"></a><a href="appB.html#89339">Composite Waveguide Editor Form</a></p>
<p>
<a id="pgfId-1121437"></a><a href="epda.html#29432">Generating Optical Pins</a></p>

<h3>
<a id="pgfId-1131802"></a><a id="82270"></a>Managing the Layout Constraints</h3>

<p>
<a id="pgfId-1131837"></a>Use the <strong>
Constraint Manager</strong>
 assistant to add, modify, check or delete constraints in your design.</p>
<p>
<a id="pgfId-306262"></a>The Constraint Manager displays a full set of constraints for a design wherever you are in the design hierarchy and wherever the constraints were created in that hierarchy. It displays the constraints in a logical manner, and shows which constraints are currently met and which have been overridden during the course of the physical implementation.</p>
<p>
<a id="pgfId-306263"></a>The Constraint Manager user interface comprises two main component parts: the Constraint Manager table at the top, which lets you browse the constraints in your design and the Constraint Editor underneath it, which lets you change the values of one or more selected constraints.</p>
<p>
<a id="pgfId-1131856"></a>For more information on the Constraint Manager toolbar, see <h-hot><a actuate="user" class="URL" href="../constraints/chap1.html#cmtoolbar" show="replace" xml:link="simple">Constraint Manager Toolbar</a></h-hot>.</p>

<h2>
<a id="pgfId-1119868"></a><a id="74345"></a>Routing Layout</h2>

<p>
<a id="pgfId-1119896"></a>To complete the electrical routing, Virtuoso supports the use of assisted routing for Virtuoso Photonics Solution. </p>
<p>
<a id="pgfId-1120047"></a>To run the assisted router, you can use the options available in the <em>Virtuoso Space-based Router</em> toolbar.</p>

<p class="webflare-indent1">
<a id="pgfId-1144931"></a></p>
<div class="webflare-div-image">
<img width="668" height="78" src="images/epda-11.gif" /></div>

<p>
<a id="pgfId-1145369"></a>Notice the <em>Lidar</em> icon in the <em>Virtuoso Space-based Router</em> toolbar, which has been introduced to set the required Wire Editing capabilities for Photonic Integrated Circuits. Virtuoso supports automatic routing for photonic designs, following the same rules as defined for the electrical layers. </p>
<p>
<a id="pgfId-1145429"></a>For more information on how to use the various advanced routing capabilities of the <em>Virtuoso Space-based Router </em>to plan an efficient routing run for the Photonic Integrated Circuit, see the <em><a actuate="user" class="URL" href="../autouser/autouserTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Space-based Router User Guide</a></em><em>. </em></p>

<h2>
<a id="pgfId-1106354"></a><a id="81642"></a>Verifying Design</h2>
<h3>
<a id="pgfId-397793"></a><a id="33097"></a>Checking a Layout Against a Schematic</h3>

<p>
<a id="pgfId-397795"></a>To check the components in your layout view against the schematic view:</p>
<ol><li>
<a id="pgfId-397796"></a>From the layout window menu bar, choose <em>Connectivity &#8211; Check &#8211; Against Source</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-397797"></a>The <em>Check Against Source</em> command is also available through the <em>Check Against Source</em> icon () in the Layout XL toolbar.</div>
<a id="pgfId-397804"></a>The <a actuate="user" class="URL" href="../vxlhelp/xlForms_re_Check_Against_Source_Form.html" show="replace" xml:link="simple">Check Against Source</a> form is displayed.</li><li>
<a id="pgfId-397809"></a>In the <em>Check</em> group box, choose the differences you want to report.</li><li>
<a id="pgfId-397810"></a>In the <em>Output </em>group box, choose whether you want to open the CAS workspace or the Info window, or both, and specify whether you want to overwrite the log file from a previous CAS run, or append the results to the log file.</li><li>
<a id="pgfId-397811"></a>Specify the name of the log file in which the report of the CAS run can be logged.</li><li>
<a id="pgfId-397812"></a>Click <em>OK</em> to run the check.<br />
<a id="pgfId-397813"></a>The schematic is extracted and the CAS report is generated and displayed based on the <em>Output</em> options that you selected.<ul><li>
<a id="pgfId-397814"></a>If <em>Open workspace</em> is selected, Layout XL opens the <em>CAS</em> workspace to display the generated markers in the Annotation Browser <em>CAS</em> tab.</li><li>
<a id="pgfId-397819"></a>If <em>Display info window </em>is selected, the schematic versus layout differences for the selected checks are reported in an information window.</li></ul></li><li>
<a id="pgfId-397824"></a>In the Info window, choose <em>File &#8211; Save As to </em>save the report to an ASCII file.</li></ol>











<h4><em>
<a id="pgfId-1130976"></a>Related Information</em></h4>

<p>
<a id="pgfId-1131012"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/xlForms_re_Check_Against_Source_Form.html" show="replace" xml:link="simple">Check Against Source</a></h-hot></p>

<h3>
<a id="pgfId-15436"></a><a id="38237"></a>Checkin<a id="xlComplCheck"></a>g XL Compliance</h3>

<p>
<a id="pgfId-15439"></a>To check if your design fulfills the compatibility criteria that allow it to fully leverage the connectivity-driven features of Virtuoso Layout Suite EXL, run the <em>Connectivity &#8211; Check &#8211; XL Compliance</em> command.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-15441"></a>Alternatively, you can call the <a actuate="user" class="URL" href="../sklayoutref/lx_re_lxCheck.html#lxCheck" show="replace" xml:link="simple">lxCheck</a> SKILL function to verify XL-compliance of a layout. To check each unique layout master in the layout hierarchy, use the <a actuate="user" class="URL" href="../sklayoutref/lx_re_lxHierCheck.html#lxHierCheck" show="replace" xml:link="simple">lxHierCheck</a> SKILL function.</div>
<p>
<a id="pgfId-15443"></a>The XL Compliance check evaluates the design for device correspondence with the schematic and reports information about ungenerated and unbound devices, if any. The report is intended to help you resolve any XL-compliance issues beforehand so that you can take full advantage of the numerous connectivity-driven capabilities provided by Layout EXL for optimal layout generation.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-15444"></a>The XL Compliance report is issued in CIW and you can choose to also display the report in HTML, if the <a href="../vxlhelp/xlEnvars_re_xlComplianceHtmlOpen.html">xlComplianceHtmlOpen</a> environment variable is set in accordance.</div>

<h4><em>
<a id="pgfId-1130742"></a>Related Information</em></h4>

<p>
<a id="pgfId-1130738"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/chkDesignData_Design_Check_for_Layout_XL_Compliance.html" show="replace" xml:link="simple">Checking XL Compliance</a></h-hot></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="intro.html" id="prev" title="Introduction to the EPDA Framework">Introduction to the EPDA Frame ...</a></em></b><b><em><a href="curvycore.html" id="nex" title="CurvyCore Building Blocks">CurvyCore Building Blocks</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>