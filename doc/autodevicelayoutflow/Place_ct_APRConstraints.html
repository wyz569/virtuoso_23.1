
<html><head><title>Constraints in the Automated Device Placement and Routing Flow</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698319564" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features and functionality of the Virtuoso Automated Device Placement and Routing solution" />
<meta name="DocTitle" content="Virtuoso Automated Device Placement and Routing Flow Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Constraints in the Automated Device Placement and Routing Flow" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="autodevicelayoutflow" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698319564" />
<meta name="NextFile" content="Place_tk_APRConstraintsGen.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="Place_tk_APRInitialize.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Automated Device Placement and Routing Flow Guide -- Constraints in the Automated Device Placement and Routing Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Automatic Device Placement and Routing" />
<meta name="prod_subfeature" content="Constraints Generation" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="autodevicelayoutflowIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="autodevicelayoutflowTOC.html">Contents</a></li><li><a class="prev" href="Place_tk_APRInitialize.html" title="Initializing a Layout in the Automated Device Placement and Routing Flow">Initializing a Layout in the A ...</a></li><li style="float: right;"><a class="viewPrint" href="autodevicelayoutflow.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Place_tk_APRConstraintsGen.html" title="Generating Constraints and Constraint Groups">Generating Constraints and Con ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Automated Device Placement and Routing Flow Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:ct_APRConstraints" title="Constraints in the Automated Device Placement and Routing Flow"></a><h2>
<a id="pgfId-1128074"></a><a id="11224"></a>C<a id="constraints"></a>onstraints in the Automated Device Placement and Routing Flow</h2>

<p>
<a id="pgfId-1109144"></a>Device groups and constraints are central to the effective placement and routing of custom and analog layouts. Constraint generation is done after initializing the layout. The automated device placement and routing flow supports automatic structure recognition using circuit finders, the organization of these structures into device groups, and the creation of corresponding constraints in the form of Modgens along with symmetry information for symmetric structures. </p>
<p>
<a id="pgfId-1093017"></a>The Auto P&amp;R assistant is pre-loaded with a set of circuit finders. Each finder analyzes the source data (schematic cellview) and identifies all devices and device groups that match the given criteria. For example, the finder <em>APR Instances (Symmetry by Connectivity)</em> identifies all symmetric instances, nets, and pins in the source cellview and groups them into a device group. The finder names have the <code>APR-</code> prefix, which indicates that these finders are customized for the Auto P&amp;R flow. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1115464"></a>For devices to be added to device groups, they need to be registered for the Circuit Prospector assistant.</div>
<p>
<a id="pgfId-1110207"></a>For a list of circuit finders that the Auto P&amp;R assistant supports, see <a href="Place_re_APRFinders.html#73542">APR Circuit Finders</a>.</p>
<p>
<a id="pgfId-1115235"></a>Use the <em>Constraints</em> tab of the Auto P&amp;R assistant to find matching structures and generate constraints in the form of Modgens. </p>
<p>
<a id="pgfId-1115450"></a>Modgens provide an easy way to manipulate device arrays for matching, for example by changing the aspect ratio and adding dummies. </p>
<p>
<a id="pgfId-1109244"></a>By default, the Modgens and symmetric structures are listed in the Constraint Manager. The automatic device placer and router honor these constraints during design placement and routing. </p>
<p>
<a id="pgfId-1109592"></a>The following environment variables control how Modgens are generated:</p>
<ul><li>
<a id="pgfId-1108599"></a><a href="Envars_re_aprCreateModgens.html#18456">aprCreateModgens</a>: Gene<a id="modgen"></a>rates constraints as Modgens. The default value is <code>t</code>. To create symmetry constraints instead of Modgens, set the value to <code>nil</code>:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1107570">
<a id="pgfId-1107570"></a>envSetVal(&quot;layoutXL.AP&quot; &quot;aprCreateModgens&quot; &#39;boolean nil)</pre>
<a id="pgfId-1107596"></a>The newly created symmetry constraints are grouped into figGroups and listed in the <em>View and Edit Constraints</em> section under the various categories.</li><li>
<a id="pgfId-1109410"></a><a href="Envars_re_aprCreateModgens.html#61465">aprCreateModgenFromTemplate</a>: Applies the default Modgen reuse template when creating the new Modgens. The default value is <code>t</code>.</li></ul>





<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1095521"></a>Automatically created constraints can be overridden by creating groups and constraints manually, which are respected by the automatic tools.</div>

<h4><em>
<a id="pgfId-1110635"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1115928"></a><h-hot><a actuate="user" class="URL" href="../constraintsSKILL/constskillFunctions.html#ciRegisterDevice" show="replace" xml:link="simple">Constraint Manager Assistant Customization SKILL Commands</a></h-hot></p>
<p>
<a id="pgfId-1115209"></a><h-hot><a actuate="user" class="URL" href="../modgenuser/EditModgens_tk_applyDefualtReuseTemplate.html" show="replace" xml:link="simple">Applying a Default Modgen Reuse Template</a></h-hot></p>
<p>
<a id="pgfId-1110639"></a><a href="Forms_re_APRFormDesc.html#30409">Constraints</a></p>
<p>
<a id="pgfId-1110654"></a><a href="Place_tk_APRConstraintsGen.html#45387">Generating Constraints and Constraint Groups</a></p>
<p>
<a id="pgfId-1110672"></a><a href="Place_re_APRFinders.html#73542">APR Circuit Finders</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="Place_tk_APRInitialize.html" id="prev" title="Initializing a Layout in the Automated Device Placement and Routing Flow">Initializing a Layout in the A ...</a></em></b><b><em><a href="Place_tk_APRConstraintsGen.html" id="nex" title="Generating Constraints and Constraint Groups">Generating Constraints and Con ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>