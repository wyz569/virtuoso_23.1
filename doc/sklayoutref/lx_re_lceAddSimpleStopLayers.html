
<html><head><title>lceAddSimpleStopLayers</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698318801" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Layout Suite SKILL functions." />
<meta name="DocTitle" content="Virtuoso Layout Suite SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="lceAddSimpleStopLayers" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="sklayoutref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698318801" />
<meta name="NextFile" content="lx_re_lceClearLogicalConn.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="lx_re_dbSetTermSoftConnect.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite SKILL Reference -- lceAddSimpleStopLayers" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="api reference" />
<meta name="prod_feature" content="Layout XL" />
<meta name="prod_subfeature" content="Extraction" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="sklayoutrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="sklayoutrefTOC.html">Contents</a></li><li><a class="prev" href="lx_re_dbSetTermSoftConnect.html" title="dbSetTermSoftConnect">dbSetTermSoftConnect</a></li><li style="float: right;"><a class="viewPrint" href="sklayoutref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="lx_re_lceClearLogicalConn.html" title="lceClearLogicalConn">lceClearLogicalConn</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite SKILL Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_lceAddSimpleStopLayers" title="lceAddSimpleStopLayers"></a><h3>
<a id="pgfId-1636196"></a><a id="92876"></a>lce<a id="lceAddSimpleStopLayers"></a>AddSimpleStopLayers</h3>
<a id="pgfId-1636197"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
lceAddSimpleStopLayers(
<code><em>libName
l_LayerNamePairs
</em></code>)
=&gt; <code><em>x_derivedLayers</em></code> / nil</pre>
<h4>
<a id="pgfId-1636302"></a>Description</h4>

<p>
<a id="pgfId-1637902"></a>Adds simple derived layers to the <code>validLayers</code> section of the technology file that has the <code>virtuosoDefaultExtractorSetup</code> constraint group defined. This SKILL function can be useful for adding simple stop layers in memory when the technology file cannot be edited on disk. If a stop layer is added and the second layer has an unknown material, the material is automatically changed to recognition. If you add an invalid stop layer, you must close the design or launch a new Virtuoso session to refresh the memory. </p>

<h4>
<a id="pgfId-1636105"></a>Arguments</h4>
<table class="webflareTable" id="#id1636100">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636102"></a><span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636104"></a>Name of the library for which simple derived layers need to be added to the technology file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636376"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_LayerNamePairs</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636378"></a>List of layer-name pairs that need to be added to the <code>validLayers</code> section of the technology file for the specified library.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1636115"></a>Value Returned</h4>
<table class="webflareTable" id="#id1636412">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636414"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_derivedLayers</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636416"></a>The number of derived stop layers added to the technology file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636418"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1636420"></a>The command failed.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1636632"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636633"></a>lceAddSimpleStopLayers<br />(&quot;gpdk090&quot; list(list(&quot;Oxide&quot; &quot;Poly&quot;) list(&quot;Metal1&quot; &quot;M1Resdum&quot;)))</pre>

<p>
<a id="pgfId-1643389"></a>Adds simple derived layers to the <code>validLayers</code> section of the <code>gpdk090</code> library.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636666"></a>procedure(lceAddSimpleStopLayers(libName layerNamePairs)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636667"></a>(let (result(0) lib tech cg constraints validLayers num max layer1 layer2 derived stop)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636668"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636669"></a>;; Use SKILL lceAddSimpleStopLayers</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636670"></a>;;&#160;&#160;   to libName tech adds in memory derived stop layers for each layerNamePair</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636671"></a>;;&#160;&#160;   and adds the derived stop layers to the virtuosoDefaultExtractorSetup</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636672"></a>;;&#160;&#160;   If a stop layer is added and the second layer has material unknown, it is</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636673"></a>;;&#160;&#160;   changed to material recognition</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636674"></a>;;&#160;&#160;   returns the number of derived stop layers added</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636675"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636676"></a>lib = ddGetObj(libName)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636677"></a>when( lib</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636678"></a>tech = techGetTechFile(lib)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636679"></a>when( tech </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636680"></a>cg = cstFindConstraintGroupIn(tech &quot;virtuosoDefaultExtractorSetup&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636681"></a>tech&#160;&#160;      = cg~&gt;tech </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636682"></a>constraints = cg~&gt;objects</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636683"></a>when( tech &amp;&amp; constraints</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636684"></a>validLayers = car(setof(constraint constraints if(constraint~&gt;defName == &quot;validLayers&quot; t)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636685"></a>when( validLayers</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636686"></a>num = 1000</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636687"></a>max = num * 2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636688"></a>foreach( pair layerNamePairs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636689"></a>layer1 = nth(0 pair)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636690"></a>layer2 = nth(1 pair)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636691"></a>when( stringp(layer1) &amp;&amp; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636692"></a>stringp(layer2) &amp;&amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636693"></a>layer1 != layer2 &amp;&amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636694"></a>techFindLayer(tech layer1) &amp;&amp;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636695"></a>techFindLayer(tech layer2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636696"></a>sprintf(derived &quot;lceAddSimpleStopLayers_%s_%s&quot; layer1 layer2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636697"></a>while( techGetLayerName(tech num) &amp;&amp; num &lt; max&#160;&#160; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636698"></a>num = num + 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636699"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636700"></a>when( num &lt; max &amp;&amp; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636701"></a>techCreateDerivedLayer(tech num derived layer1 &quot;not&quot; layer2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636702"></a>validLayers~&gt;value = cons(derived validLayers~&gt;value)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636703"></a>stop = techFindLayer(tech layer2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636704"></a>when( stop~&gt;material == &quot;unknown&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636705"></a>stop~&gt;material = &quot;recognition&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636706"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636707"></a>result = result + 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636708"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636709"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636710"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636711"></a>) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636712"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636713"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636714"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636715"></a>result</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636716"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1636717"></a>)</pre>

<p>
<a id="pgfId-1643415"></a>The procedure below illustrates how the <code>lceAddSimpleStopLayers</code> SKILL function can be used to add simple stop layers.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="lx_re_dbSetTermSoftConnect.html" id="prev" title="dbSetTermSoftConnect">dbSetTermSoftConnect</a></em></b><b><em><a href="lx_re_lceClearLogicalConn.html" id="nex" title="lceClearLogicalConn">lceClearLogicalConn</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>