
<html><head><title>vpaOptimizePins</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698318833" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Layout Suite SKILL functions." />
<meta name="DocTitle" content="Virtuoso Layout Suite SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="vpaOptimizePins" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="sklayoutref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698318833" />
<meta name="NextFile" content="modgen.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="vfp_re_vfpSbSetRectangularBoundary.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite SKILL Reference -- vpaOptimizePins" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="api reference" />
<meta name="prod_feature" content="Floorplanning" />
<meta name="prod_subfeature" content="Hierarchy Generation,Pin Optimization" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="sklayoutrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="sklayoutrefTOC.html">Contents</a></li><li><a class="prev" href="vfp_re_vfpSbSetRectangularBoundary.html" title="vfpSbSetRectangularBoundary">vfpSbSetRectangularBoundary</a></li><li style="float: right;"><a class="viewPrint" href="sklayoutref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="modgen.html" title="Module Generator Functions">Module Generator Functions</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite SKILL Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_vpaOptimizePins" title="vpaOptimizePins"></a><h3>
<a id="pgfId-1069157"></a><a id="71907"></a>vpaOp<a id="vpaOptimizePins"></a>timizePins</h3>
<a id="pgfId-1065292"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
vpaOptimizePins(
<code>?cv</code> <code><em>d_cellViewId
</em></code><code>?layoutLCV</code> <code><em>l_LCVName
</em></code>[ <code>?cphId </code><code><em>g_cphId</em></code> ]
[ <code>?selectedOnly</code> <code><em>g_selectedOnly</em></code> ]
[ <code>?spacingType</code> <code><em>t_spacingType</em></code> ]
[ <code>?spacingValue </code><code><em>n_spacingValue</em></code> ]
[ <code>?targetPinSide</code> <code><em>l_targetPinSides</em></code> ]
[ <code>?enableCongestion</code> <code><em>g_enableCongestion</em></code> ]
[ <code>?congestionValue</code> <code><em>n_congestionValue</em></code> ]
<code><em>)
=&gt; t / nil / List of (</em></code>sbId lib:cell:view status)</pre>
<h4>
<a id="pgfId-1065293"></a>Description</h4>

<p>
<a id="pgfId-1065298"></a>Runs pin optimization on the specified cellview or design based on the options you specify. You can specify only those parameters that you want to control. The parameters that you do not specify get their values from the corresponding LayoutXL environment variable.</p>

<h4>
<a id="pgfId-1065101"></a>Arguments</h4>
<table class="webflareTable" id="#id1065102">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065104"></a><code>?cv</code> <span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065106"></a>The ID of the cellview for pin optimization. This cellview ID is mutually exclusive with <em>layoutLCV</em> and has a higher priority than <em>layoutLCV</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065876"></a><code>?layoutLCV </code><span class="webflare-courier-new" style="white-space:pre"><em>l_LCVName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065878"></a>The name of the library, cell, and view. It is the target cellview for Pin optimization and is mutually exclusive with <em>cv</em>.</p>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1066658"></a>
Either <em>cv</em> or <em>layoutLCV</em> must be specified.</div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073054"></a><code>?cphId </code><span class="webflare-courier-new" style="white-space:pre"><em>g_cphId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073056"></a>The physical configuration ID, which is the physical configuration cellview created by the <code>cphCreatePhysConfig</code> API. The <code>cphId</code> must only be specified when using the pin optimizer in conjunction with the command-line CPH-GPH-based flow. If this argument is not used, then the pin optimizer retains its original behavior without any impact of the command-line CPH-GPH flow.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1065108"></a><code>?selectedOnly </code><span class="webflare-courier-new" style="white-space:pre"><em>g_selectedOnly</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078673"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078675"></a>Whether to run pin optimization on the selected objects only or all the objects in cellview. The valid values are <code>t</code> and <code>nil</code>. The default value is read from the corresponding LayoutXL Floorplan environment variable.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1065112"></a><code>?spacingType </code><span class="webflare-courier-new" style="white-space:pre"><em>t_spacingType</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078691"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078693"></a>Specifies how to space out the pins using the relevant spacing values from the technology file. The valid values are <code>line-line</code>, <code>line-via</code>, <code>via-via</code>, or <code>specify</code>. The default value is set to <code>line-line </code>in the corresponding environment variable<code>.</code>If the value is set as <code>specify</code>, then the <em>spacingValue</em> has to be specified.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1065116"></a><code>?spacingValue </code><span class="webflare-courier-new" style="white-space:pre"><em>n_spacingValue</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078707"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078711"></a>This value needs to be specified if the <em>spacingType</em> is set to <code>specify</code>. This value is used to specify the minimum spacing between the pins. The value is either a fixed or a floating number.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1065124"></a><code>?targetPinSide </code><span class="webflare-courier-new" style="white-space:pre"><em>l_targetPinSides</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078721"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078723"></a>The side(s) of the blocks and the PR boundary on which the pins should be placed. The valid values are <code>left</code>, <code>right</code>, <code>top</code>, and <code>bottom</code>. By default all the four sides are considered. You can also specify a combination of one or more sides.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1065132"></a><code>?enableCongestion </code><span class="webflare-courier-new" style="white-space:pre"><em>g_enableCongestion</em></span><code> </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078739"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078741"></a>Whether or not to consider the congestion value during pin optimization. This option is only applicable if congestion data is available. The valid values are <code>t</code> or <code>nil</code>. If the value is set to <code>t</code>, then the <em>congestionValue</em> has to be specified. The default value is read from the corresponding LayoutXL Floorplan environment variable.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1065136"></a><code>?congestionValue </code><span class="webflare-courier-new" style="white-space:pre"><em>n_congestionValue</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078755"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078759"></a>Specifies the congestion threshold. This needs to be specified if <em>enableCongestion</em> is <code>t</code>. It is a fixed number.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1073540"></a>Value Returned</h4>

<p>
<a id="pgfId-1073563"></a>When a valid <span class="webflare-courier-new" style="white-space:pre"><em>cphId</em></span> is not specified, one of the following values is returned:</p>
<table class="webflareTable" id="#id1073541">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073543"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1109504"></a>Pin optimization was successfully run. The Layout XL Floorplan environment variables were updated as per the specified values.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073547"></a>No value returned</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073549"></a>Pin optimization failed on some of the blocks (partially) or on all blocks (completely). Related error messages are displayed in the CIW.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1073558"></a>When a valid <span class="webflare-courier-new" style="white-space:pre"><em>cphId</em></span> is specified, one of the following values is returned:</p>
<table class="webflareTable" id="#id1073626">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073628"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073630"></a>The Pin Optimizer was successfully run. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073632"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073634"></a>The Pin Optimizer completely failed on all blocks.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073636"></a>List of (<span class="webflare-courier-new" style="white-space:pre"><em>sbId lib:cell:view status</em></span>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073638"></a>The Pin Optimizer partially failed on some blocks. A list of soft block IDs, their<span class="webflare-courier-new" style="white-space:pre"><em>lib:cell:views</em></span>, and their statuses is returned. The list of blocks indicates whether pin optimization was performed for each soft block. </p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1109598"></a> (</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1109599"></a> (sbId&#160;&#160;lib:cell:view&#160;&#160;status)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1109600"></a> (sbId lib:cell:view&#160;&#160; status)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1109601"></a> )</pre>

<ul><li>
<a id="pgfId-1109602"></a><code>sbId</code> &#8211; ID of the soft-block that was created using <code>cphSbDefineSoftBlock</code> API</li><li>
<a id="pgfId-1109603"></a><code>lib:cell:view </code>&#8211; Physical LCV of the soft block</li><li>
<a id="pgfId-1109604"></a><code>status</code> &#8211; Status of the soft block after running Pin Optimizer. Values returned are:<ul><li>
<a id="pgfId-1109605"></a><code>t </code>&#8211; Soft block is successfully optimized.</li><li>
<a id="pgfId-1109606"></a><code>nil</code> &#8211; Soft block could not be optimized.</li></ul></li></ul>





</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1073590"></a>Examples</h4>

<p>
<a id="pgfId-1065757"></a>To optimize only the selected pins in the cellview <code>design:top:layout</code> by placing them on either of the four edges with <code>0.1</code> separation.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065731"></a>vpaOptimizePins(?layoutLCV &#8216;(&quot;design&quot; &quot;top&quot; &quot;layout&quot;) ?selectedOnly t ?spacingType &quot;specify&quot; ?spacingValue 0.1)</pre>

<p>
<a id="pgfId-1065817"></a>To optimize all the pins in the cellview with ID <code>d_cvId</code> by placing them on the <code>left </code>and<code> right</code> edges with <code>line-line</code> separation.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065818"></a>vpaOptimizePins(?cv d_cvId ?cphID mycphID ?spacingType &quot;line-line&quot; ?targetPinSide (&quot;left&quot; &quot;right&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089162"></a></pre>

<p>
<a id="pgfId-1093864"></a></p>
<p>
<a id="pgfId-1103439"></a></p>
<p>
<a id="pgfId-1105783"></a></p>

<!-- [TOPIC_END] -->

<p>
<a id="pgfId-1088301"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="vfp_re_vfpSbSetRectangularBoundary.html" id="prev" title="vfpSbSetRectangularBoundary">vfpSbSetRectangularBoundary</a></em></b><b><em><a href="modgen.html" id="nex" title="Module Generator Functions">Module Generator Functions</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>