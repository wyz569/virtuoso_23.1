
<html><head><title>SPICE Built-In Primitives in VHDL-AMS and VHDL-Digital</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668928" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="SPICE Built-In Primitives in VHDL-AMS and VHDL-Digital" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Analog Mixed-Signal,Spectre AMS Designer,Spectre AMS Designer," />
<meta name="prod_subfeature" content="SPICE,VHDL-AMS, SPICE, VHDL-AMS," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668928" />
<meta name="NextFile" content="String_Type_Literals_and_Generics_in_VHDL-AMS.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Mapping_Verilog-AMS_Disciplines_to_VHDL-AMS_Natures.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- SPICE Built-In Primitives in VHDL-AMS and VHDL-Digital" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Mapping_Verilog-AMS_Disciplines_to_VHDL-AMS_Natures.html" title="Mapping_Verilog-AMS_Disciplines_to_VHDL-AMS_Natures">Mapping_Verilog-AMS_Discipline ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="String_Type_Literals_and_Generics_in_VHDL-AMS.html" title="String_Type_Literals_and_Generics_in_VHDL-AMS">String_Type_Literals_and_Gener ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>SPICE Built-In Primitives in VHDL-AMS and VHDL-Digital</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-spice_primitive"></span>Cadence provides a methodology to instantiate SPICE primitives in VHDL-Digital and VHDL-AMS using the following methods:</p>
<ul><li><a href="#SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-componentInstantiation_VHDLAMS">Component Instantiation of SPICE Primitives in VHDL-AMS</a></li><li><a href="#SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-componentInstantiation_VHDLDigital">Component Instantiation of SPICE Primitives in VHDL-Digital</a></li><li><a href="#SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-DirectInstantiation_VHDLAMS">Direct Instantiation of SPICE Primitives in VHDL-AMS</a></li><li><a href="#SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-DirectInstantiation_SPICE">Instantiation of SPICE Primitives Through SPICE Models</a></li></ul><h4 id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-ComponentInstantiationofSPICEPrimitivesinVHDL-AMScomponentInstantiation_VHDLAMS">Component Instantiation of SPICE Primitives in VHDL-AMS<span class="confluence-anchor-link" id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-componentInstantiation_VHDLAMS"></span></h4>

<p>Cadence provides a package file containing predefined VHDL components corresponding to some of the common SPICE primitives. This file is located at:</p>

<p><code>${CDS_INST_DIR}/tools/affirma_ams/etc/vhdlams_spice_primitives/cds_spice_primitives.vhms</code></p>

<p>You can use the appropriate component from this file to instantiate the SPICE primitives you need. If none of the predefined components suits your needs, you can define your own VHDL component to instantiate the SPICE primitive.</p>

<p>Generic<span>&#160;</span><code>cds_gm</code><span>&#160;</span>is hardcoded to be used for general SPICE parameters with the exception of<code>&#160;real&#160;</code>vectors.</p>

<p>If you want to instantiate a<code><span>&#160;</span>resistor<span>&#160;</span></code>in VHDL-AMS, you could define a component and instantiate the component as follows. The tool will verify that the component name<code><span>&#160;</span>resistor<span>&#160;</span></code>is a SPICE primitive and the instance<code><span>&#160;</span>r1<span>&#160;</span></code>will be an instantiation of the SPICE primitive<code><span>&#160;</span>resistor.</code></p>
<div class="table-wrap"><table class="wrapped confluenceTable" style="text-align: left;"><colgroup><col /></colgroup><tbody style="text-align: left;"><tr style="text-align: left;"><td class="confluenceTd" style="text-align: left;"><p style="text-align: left;"><code class="java plain" style="text-align: left;">ARCHITECTURE .....</code><br /><code class="java plain" style="text-align: left;">COMPONENT resistor IS</code><br /><code class="java plain" style="text-align: left;">GENERIC (r : real);</code><br /><code class="java plain" style="text-align: left;">PORT (TERMINAL x : ELECTRICAL;</code><br /><code class="java plain" style="text-align: left;">TERMINAL y : ELECTRICAL);</code><br /><code class="java plain" style="text-align: left;">END COMPONENT;</code><br /><code class="java plain" style="text-align: left;">TERMINAL p1, p2 : ELECTRICAL;</code><br /><code class="java plain" style="text-align: left;">BEGIN</code><br /><code class="java plain" style="text-align: left;">r1 : resistor GENERIC MAP (</code><code class="java value" style="text-align: left;">1000.0</code><code class="java plain" style="text-align: left;">) PORT MAP (p1, p2);</code><br /><code class="java plain" style="text-align: left;">END;</code></p>
</td>
</tr>
</tbody></table></div>

<p>If the name of the VHDL component defined does not match a SPICE primitive name, you can use the VHDL attribute<code><span>&#160;</span>cds_spice_builtin</code>&#160;to rename the component, as shown in the following example. With this attribute, the instances of<span>&#160;</span><code>myresistor</code>&#160;will become instantiations of the SPICE<span>&#160;</span><code>primitive resistor</code>.</p>
<div class="table-wrap"><table class="wrapped confluenceTable" style="text-align: left;"><colgroup><col /></colgroup><tbody style="text-align: left;"><tr style="text-align: left;"><td class="confluenceTd" style="text-align: left;"><p style="text-align: left;"><code class="java plain" style="text-align: left;">COMPONENT myresistor IS</code><br /><code class="java plain" style="text-align: left;">GENERIC (r : real);</code><br /><code class="java plain" style="text-align: left;">PORT (TERMINAL x : ELECTRICAL;</code><br /><code class="java plain" style="text-align: left;">TERMINAL y : ELECTRICAL);</code><br /><code class="java plain" style="text-align: left;">END COMPONENT;</code><br /><code class="java plain" style="text-align: left;">attribute cds_spice_builtin of myresistor : component is<span>&#160;</span></code><code class="java string" style="text-align: left;">&quot;resistor&quot;</code><code class="java plain" style="text-align: left;">;</code></p>
</td>
</tr>
</tbody></table></div>
<h4 id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-ComponentInstantiationofSPICEPrimitivesinVHDL-DigitalcomponentInstantiation_VHDLDigital">Component Instantiation of SPICE Primitives in VHDL-Digital<span class="confluence-anchor-link" id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-componentInstantiation_VHDLDigital"></span></h4>

<p>When VHDL digital signals connect to SPICE primitives, you need to create your own components for the SPICE primitives and instantiate the components. In this scenario, CEs will be required and need to be precompiled, which will be automatically inserted by the tool.</p>

<p>For example, if you want to instantiate a resistor in VHDL-Digital, you could define a component and instantiate the component as shown in the following example. The tool will insert the CE automatically for<span>&#160;</span><code>p1<span>&#160;</span></code>and<code><span>&#160;</span>p2.</code><span>&#160;</span>The instance<span>&#160;</span><code>r1<span>&#160;</span></code>will be an instantiation of the<span>&#160;</span><code>resistor</code>&#160;SPICE primitive.</p>

<p><code>COMPONENT resistor IS</code><br /><code>&#160; &#160; GENERIC (r : real);</code><br /><code>&#160; &#160; PORT (SIGNAL x : out STD_LOGIC;</code><br /><code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; SIGNAL y : in STD_LOGIC);</code><br /><code>END COMPONENT;</code><br /><code>&#160; &#160; SIGNAL p1, p2 : STD_LOGIC;</code><br /><code>begin</code><br /><code>&#160; &#160; r1 : resistor GENERIC MAP (1000.0) PORT MAP (p1, p2);</code><br /><code>ends;</code></p>
<h4 id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-DirectInstantiationofSPICEPrimitivesinVHDL-AMSDirectInstantiation_VHDLAMS">Direct Instantiation of SPICE Primitives in VHDL-AMS<span class="confluence-anchor-link" id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-DirectInstantiation_VHDLAMS"></span></h4>

<p>Direct instantiation of SPICE primitives is supported through the use of a Cadence-provided file that contains some predefined common skeletons for built-in primitives. This file is located at:</p>

<p><code>${CDS_INST_DIR}/tools/affirma_ams/etc/vhdlams_spice_primitives/cds_spice_primitives_entities.vhms</code></p>

<p>In the skeletons, parameters such as port type, generic type, name, etc. are hardcoded. The predefined file needs to be precompiled also. If none of the predefined skeletons in this file suit your requirement, use component instantiation.</p>
<h4 id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-InstantiationofSPICEPrimitivesthroughSPICEModelsDirectInstantiation_SPICE">Instantiation of SPICE Primitives through SPICE Models<span class="confluence-anchor-link" id="SPICEBuiltInPrimitivesinVHDLAMSandVHDLDigital-DirectInstantiation_SPICE"></span></h4>

<p>You can instantiate SPICE models as SPICE built-in primitives by specifying the model file with<code><span>&#160;</span>MODELPATH<span>&#160;</span></code>option of the<code><span>&#160;</span>xrun<span>&#160;</span></code>command, as shown in the following example.</p>

<p><code>xrun -modelpath model.ckt .....</code></p>

<p>model.ckt:</p>

<p><code>simulator lang = spectre</code></p>

<p><code>model myresistor resistor r=1 l=2u w=2u</code></p>

<p>SPICE model instantiation:</p>

<p><code>component myresistor is -- model of resistor, defined in model.ckt</code></p>

<p><code>&#160;&#160;&#160;&#160;port (terminal a, b : electrical);</code></p>

<p><code>end component;</code></p>

<p><code>r2 : myresistor port map (a, b);</code></p>

<p>You can also specify model files for an analog device using the<code>&#160;include&#160;</code>statement in the AMS control file.</p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Mapping_Verilog-AMS_Disciplines_to_VHDL-AMS_Natures.html" id="prev" title="Mapping_Verilog-AMS_Disciplines_to_VHDL-AMS_Natures">Mapping_Verilog-AMS_Discipline ...</a></em></b><b><em><a href="String_Type_Literals_and_Generics_in_VHDL-AMS.html" id="nex" title="String_Type_Literals_and_Generics_in_VHDL-AMS">String_Type_Literals_and_Gener ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>