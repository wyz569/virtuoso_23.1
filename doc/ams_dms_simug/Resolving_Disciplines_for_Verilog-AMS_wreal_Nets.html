
<html><head><title>Resolving Disciplines for Verilog-AMS wreal Nets</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668934" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Resolving Disciplines for Verilog-AMS wreal Nets" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="task" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Real Number Modeling, Real Number Modeling," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668934" />
<meta name="NextFile" content="wreal_Nets_at_Mixed-Language_Boundaries.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Verilog-AMS_wreal_and_Analog_Signal_Connections.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Resolving Disciplines for Verilog-AMS wreal Nets" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />
<script type="text/javascript" src="styles/shCore1.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shCore.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushCpp.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushJava.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushXml.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPython.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPowerShell.js">/*<![CDATA[*//*]]>*/</script><link rel="stylesheet" href="styles/shCoreDefault.css" type="text/css" /><link rel="stylesheet" href="styles/shCoreMidnight.css" type="text/css" /><script type="text/javascript">/*<![CDATA[*/
SyntaxHighlighter.all();
/*]]>*/</script>
        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Verilog-AMS_wreal_and_Analog_Signal_Connections.html" title="Verilog-AMS_wreal_and_Analog_Signal_Connections">Verilog-AMS_wreal_and_Analog_S ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="wreal_Nets_at_Mixed-Language_Boundaries.html" title="wreal_Nets_at_Mixed-Language_Boundaries">wreal_Nets_at_Mixed-Language_B ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Resolving Disciplines for Verilog-AMS wreal Nets</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="ResolvingDisciplinesforVerilogAMSwrealNets-wrealDisciplineResolution"></span><span class="confluence-anchor-link" id="ResolvingDisciplinesforVerilogAMSwrealNets-1044287"></span><span class="inline-comment-marker" data-ref="4cd6af6a-0f9b-435b-8349-b0e79faddb96">The </span>&#160;treats&#160;<span style=""><a class="message-url" href="../verilogamsref/chap4.html#wreal">wreal</a>&#160;</span>nets as Verilog-AMS wires from a discipline resolution point of view. The elaborator resolves <code>wreal</code> nets to either the digital or the analog domain based on how they are connected in the design and how the discipline resolution process propagates domain and disciplines up and down the design hierarchy.</p>

<p>Like Verilog-AMS wires, <code>wreal</code> nets can have any discipline (discrete or continuous) based on how they are declared, used, or resolved. To keep wreal signals in the discrete domain, use the <code>â€‘ams_dig_wreal</code>&#160;option&#160;</p>

<p>Using default discipline resolution with a default discipline of <code>logic</code>, discrete nets that connect to<code> wreal</code> nets can become<code> wreal</code> nets. Consider the following example:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">module top;
&#160;&#160;wreal a;
&#160;&#160;child1 c1(a);
endmodule

module child1(b) ;
&#160;&#160;input b;
&#160;&#160;logic b;
&#160;&#160;child2 c2(b);
endmodule

module child2(c);
&#160;&#160;input c;
&#160;&#160;electrical c;
&#160;&#160;child3 c3(c);
endmodule

module child3(d);
&#160;&#160;input d;
&#160;&#160;wire d;
&#160;&#160;child4 c4(d);
endmodule

module child4(e);
&#160;&#160;input e;
&#160;&#160;wire e;
&#160;&#160;assign e = 1&#39;b1;
&#160;&#160;...
endmodule</pre>
</div>
</div>

<p>According to the default discipline resolution where the default discipline is<code> logic</code>, nets<code> top.a </code>(a<code> wreal</code>) and<code> top.c1.b</code> (discrete net with discipline<code> logic</code>) are equivalent and<code> top.c1.b </code>resolves to a<code> wreal </code>(discipline<code> logic</code>).</p>

<p>Nets<code> top.c1.b </code>(discrete) and<code> top.c1.c2.c </code>(continuous) have incompatible disciplines (<code>logic</code>/<code>wreal </code>versus<code> electrical</code>) as do nets<code> top.c1.c2.c </code>and<code> top.c1.c2.c3.d </code>(<code>electrical </code>versus<code> logic</code>/<code>wire</code>) so the software needs to insert connect modules where these nets connect. The software determines which connect module to insert using connect rules. For example:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">connectrules myrules;
&#160;&#160;connect w2e input logic, output electrical;
&#160;&#160;connect a2d input electrical, output logic;
endconnectrules</pre>
</div>
</div>

<p>The port value type (<code>wreal</code>,<code> electrical</code>,<code> logic</code>) defines the selection of a connect module. The first connect rule above says to use the<code> w2e </code>connect module when connecting<code> wreal </code>(defaults to<code> logic </code>discipline) to<code> electrical </code>nets. The second connect rule above says to use the<code> a2d </code>connect module when connecting<code> electrical </code>to<code> logic </code>nets.</p>

<p>Nets<code> top.c1.c2.c3.d </code>and<code> top.c1.c1.c3.c4.e </code>are both discrete wires so the software does not need to insert connect modules here.</p>
<p align="left"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/475368317/475368318.png" data-linked-resource-container-id="475368317" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="wrealModeling.12.1.2.png" data-linked-resource-id="475368318" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/475368317/475368318.png" width="640px" /></span></p>

<p>In the absence of unidirectional ports, the number of drivers on the<code> wreal </code>net determines the behavior of the connect module. For example, when an<code> inout wreal </code>connects to an<code> inout </code><code> electrical</code>, you can use the&#160;<span style=""><a class="message-url" href="../verilogamsref/chap9.html#driver_count">$driver_count</a>&#160;</span>function in the connect module definition to determine the number of drivers on the<code> wreal </code>net. If there are no drivers on the<code> wreal </code>net, the connect module does the conversion from<code> electrical </code>to<code> wreal.</code> (See <a href="Verilog-AMS_wreal_and_Analog_Signal_Connections.html">Verilog-AMS wreal and Analog Signal Connections</a>)</p>
<h2 id="ResolvingDisciplinesforVerilogAMSwrealNets-VHDLBlockswithRealSignalPortsonaSchematic1044390">VHDL Blocks with Real Signal Ports on a Schematic<span class="confluence-anchor-link" id="ResolvingDisciplinesforVerilogAMSwrealNets-1044390"></span></h2>

<p><span class="inline-comment-marker" data-ref="8b9af2a3-bd8b-4aba-a2d0-c30fc4381da3">Whe</span>n you instantiate a VHDL block containing real signal ports on a schematic, you create a connection of VHDL real signals to Verilog-AMS wires from above. In such a situation, the simulator coerces the Verilog-AMS wire to become a digital<code> wreal </code>to integrate such VHDL blocks into the AMS flow.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>AMS Designer resolves Verilog-AMS&#160;<span style=""><a class="message-url" href="../verilogamsref/chap4.html#wreal">wreal</a>&#160;</span>nets to the analog or digital domain during the discipline resolution process. AMS Designer does something similar with Verilog-AMS wires. When AMS Designer resolves to the digital domain, it is the digital simulator that handles the computations for that net.</p>
</div>
</div>
<h5 id="ResolvingDisciplinesforVerilogAMSwrealNets-RelatedTopic">Related Topic</h5><ul><li><a href="Verilog-AMS_wreal_and_Analog_Signal_Connections.html">Verilog-AMS wreal and Analog Signal Connections</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Verilog-AMS_wreal_and_Analog_Signal_Connections.html" id="prev" title="Verilog-AMS_wreal_and_Analog_Signal_Connections">Verilog-AMS_wreal_and_Analog_S ...</a></em></b><b><em><a href="wreal_Nets_at_Mixed-Language_Boundaries.html" id="nex" title="wreal_Nets_at_Mixed-Language_Boundaries">wreal_Nets_at_Mixed-Language_B ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>