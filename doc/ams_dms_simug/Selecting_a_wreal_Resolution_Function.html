
<html><head><title>Selecting a wreal Resolution Function</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668938" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Selecting a wreal Resolution Function" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="task" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Real Number Modeling, Real Number Modeling," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668938" />
<meta name="NextFile" content="Predefined_wreal_Resolution_Functions.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Using_wreal_in_Assertions.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Selecting a wreal Resolution Function" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />
<script type="text/javascript" src="styles/shCore1.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shCore.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushCpp.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushJava.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushXml.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPython.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPowerShell.js">/*<![CDATA[*//*]]>*/</script><link rel="stylesheet" href="styles/shCoreDefault.css" type="text/css" /><link rel="stylesheet" href="styles/shCoreMidnight.css" type="text/css" /><script type="text/javascript">/*<![CDATA[*/
SyntaxHighlighter.all();
/*]]>*/</script>
        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Using_wreal_in_Assertions.html" title="Using_wreal_in_Assertions">Using_wreal_in_Assertions</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Predefined_wreal_Resolution_Functions.html" title="Predefined_wreal_Resolution_Functions">Predefined_wreal_Resolution_Fu ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Selecting a wreal Resolution Function</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-wreal_resolution"></span><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-1049176"></span>You can define a resolution function for each net in a design on a per scope basis by using the Verilog-AMS discipline mechanism. You can also designate a global resolution function that can be used for undisciplined nets and for the nets with disciplines that do not define a<code> wreal </code>resolution function.</p>

<p>You can define resolution function in the following ways:</p>
<ul><li><strong>Defining a wreal Resolution Function for a Discipline</strong>. You can define<code style="letter-spacing: 0.0px;">&#160;</code><code style="letter-spacing: 0.0px;">wreal </code><span style="letter-spacing: 0.0px;">resolution functions for a discipline in the following&#160;two methods:</span><ul><li>
<p><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-1050077"></span><strong>Defining a Resolution Function Directly in the Discipline Definition</strong><span style="font-weight: 400;letter-spacing: 0.0px;">. To define a&#160;</span><code style="font-weight: 400;letter-spacing: 0.0px;">wreal</code><span style="font-weight: 400;letter-spacing: 0.0px;"> </span><span style="font-weight: 400;letter-spacing: 0.0px;">resolution function for a discipline, use the</span><span style="font-weight: 400;letter-spacing: 0.0px;"> </span><code style="font-weight: 400;letter-spacing: 0.0px;">realresolve</code><span style="font-weight: 400;letter-spacing: 0.0px;"> </span><span style="font-weight: 400;letter-spacing: 0.0px;">parameter in the discipline definition. The syntax of this parameter is as follows:</span></p>

<p><code>realresolve&#160; <em>resolveFunction </em></code></p>

<p>where the<em><code> resolveFunction</code></em> be&#160;any of the predefined wreal resolution functions such as&#160;<code>default</code>,&#160;<code>fourstate</code>,&#160;<code>sum</code>,&#160;<code>avg</code>,&#160;<code>min</code>,&#160;<code>max</code>,&#160;<code>none</code>. See&#160;<a href="Predefined_wreal_Resolution_Functions.html">Predefined wreal Resolution Functions</a>.</p>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>Note that wreal resolution function names are case-sensitive. Therefore, if you specify the <code>sum</code> resolution function name as <code>Sum</code> or <code>SUM</code> , it will result in an error.</p>
</div>
</div>

<p><span style="letter-spacing: 0.0px;">If you specify the value of&#160;<code>resolveFunction</code>&#160;as&#160;<code>none</code>, it is equivalent to not using the&#160;<code>realresolve</code>&#160;parameter at all. Nets of such disciplines use the global resolution function. An error occurs if an invalid value is specified for the&#160;<code>resolveFunction</code>&#160;variable.</span></p>

<p>The following example defines a discrete discipline named<code> wrealavg </code>that uses the<code> avg </code>resolution function for wreal nets.</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">discipline wrealavg

&#160;&#160;&#160;&#160;domain discrete;

&#160;&#160;&#160;&#160;realresolve avg;

enddisicipline</pre>
</div>
</div>
</li><li>
<p><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-1050106"></span><strong>Defining a Resolution Function with the AMSCB connectmap Card</strong><span style="letter-spacing: 0.0px;">.&#160;</span>You can use the<code> realresolve </code>parameter with the<code> connectmap </code>card to define a resolution function for one or more disciplines. See&#160;<a href="connectmap.html">connectmap</a>.</p>
</li></ul></li></ul><ul><li><strong>Defining a Global wreal Resolution Function</strong>. You define a global<code style="letter-spacing: 0.0px;"> wreal</code><code style="letter-spacing: 0.0px;"> </code><span style="letter-spacing: 0.0px;">resolution function in the following two methods:</span><ul><li>
<p><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-1050287"></span><strong>Defining Global wreal Resolution Function Using -wreal_resolution</strong><span style="letter-spacing: 0.0px;">. You can use the&#160;</span><span style=""><code><a href="xrun_Command-Line_Options_for_Mixed-Signal_Designs.html#xrunCommandLineOptionsforMixedSignalDesigns-wreal_resolution">-wreal_resolution</a></code>&#160;</span><span style="letter-spacing: 0.0px;">command-line option with</span><code style="letter-spacing: 0.0px;"> xmelab </code><span style="letter-spacing: 0.0px;">or</span><code style="letter-spacing: 0.0px;"> xrun </code><span style="letter-spacing: 0.0px;">to specify how you want the elaborator to resolve&#160;</span><span style=""><a class="message-url" href="../verilogamsref/chap4.html#wreal">wreal</a>&#160;</span><span style="letter-spacing: 0.0px;">nets that have more than one driver. The format of this command-line option is as follows:</span></p>

<p><code>-wreal_resolution resolutionFunction </code></p>

<p>where<em><code> resolutionFunction </code></em>can be&#160;any of the predefined wreal resolution functions such as&#160;<code>default</code>,&#160;<code>fourstate</code>,&#160;<code>sum</code>,&#160;<code>avg</code>,&#160;<code>min</code>,&#160;<code>max</code>,&#160;<code>none</code>. See&#160;<a href="Predefined_wreal_Resolution_Functions.html">Predefined wreal Resolution Functions</a>.<br /><br /></p>

<p>If you do not specify a resolution function using this command-line option, the elaborator uses the&#160;<code>default</code>&#160;resolution function algorithm.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-1044454"></span>For those cases where the elaborator issues a run-time warning message, you can cause the message to be fatal using the<code style="letter-spacing: 0.0px;">&#160;-xmfatal&#160;</code><span style="letter-spacing: 0.0px;">command-line option. For more information about this option, see&#160;</span><code style="letter-spacing: 0.0px;"><a href="../XceliumSC_Ref/-xmfatal.html">-xmfatal</a></code><span style="">.<span style=""><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-ncfatal"></span><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-ncfatal"></span></span></span></div>
</div>
<div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The <code>none</code> resolution function is not a valid option to<code> -wreal_resolution</code>. It is only a valid value to the <code>realresolution</code> parameter of the discipline. An error will be issued if <code>none</code> is passed as an argument to <code>-wreal_resolution</code>.</p>
</div>
</div>
</li><li>
<p><span class="confluence-anchor-link" id="SelectingawrealResolutionFunction-1050258"></span><strong>Defining Global wreal Resolution Function Using the AMSCB connectmap Card</strong><span style="letter-spacing: 0.0px;">. For a</span><code style="letter-spacing: 0.0px;"> connectmap </code><span style="letter-spacing: 0.0px;">card, if the</span><code style="letter-spacing: 0.0px;"> discipline </code><span style="letter-spacing: 0.0px;">parameter is absent, the resolution function specified by the</span><code style="letter-spacing: 0.0px;"> realresolve </code><span style="letter-spacing: 0.0px;">parameter applies globally to all disciplines that are not covered by other</span><code style="letter-spacing: 0.0px;"> connectmap </code><span style="letter-spacing: 0.0px;">cards.</span></p>

<p>Consider the following example:</p>

<p><code> amsd{ </code></p>

<p><code> &#160;&#160;&#160;&#160;&#160;connectmap realresolve=max </code></p>

<p><code> &#160;&#160;&#160;&#160;&#160;connectmap discipline=&quot;disc1 disc2&quot; realresolve=min </code></p>

<p><code> &#160;&#160;&#160;&#160;&#160;connectmap discipline=&quot;disc3 disc4&quot; realresolve=sum </code></p>

<p><code> &#160;&#160;&#160;&#160;&#160;} </code></p>

<p>In the above example:</p>
<ul><li>The<code> disc1 </code>and<code> disc2 </code>disciplines will have the resolution function<code> min.</code></li><li>
<p>The<code> disc3 </code>and<code> disc4 </code>disciplines will have the resolution function<code> sum.</code></p>
</li><li>Any other discipline will have the resolution function<code> max.</code></li></ul></li></ul></li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><ul><li>The resolution function defined through the<code> -wreal_resolution </code>command-line option has precedence over the one defined through the AMSCB<code> connectmap </code>card. So, if both methods are used and they specify different resolution functions, the global<code> wreal </code>resolution function takes its value from the command-line option and a warning is printed on the screen.</li><li>If no global<code> wreal </code>resolution function is specified using these two methods, it is set to the&#160;<code><a href="Predefined_wreal_Resolution_Functions.html#PredefinedwrealResolutionFunctions-1062848">default</a> wreal </code>resolution function.</li></ul></div>
</div>
<h3 id="SelectingawrealResolutionFunction-OrderofPrecedenceforDeterminingtheResolutionFunctiononaNet">Order of Precedence for Determining the Resolution Function on a Net</h3>

<p>If a discipline has a resolution function defined in the discipline definition and also has a resolution function defined in the AMS Control Block using the<code> connectmap </code>card, the<code> connectmap </code>card resolution function will take precedence and will be used as the resolution function for all nets of that discipline. This allows you to override the resolution function without changing the discipline definition.</p>

<p>Following is the order of precedence for determining the resolution function on a net:</p>
<ol><li>Explicitly declared resolution on a net it is connected to (typed wreal or SV-RNM nettype)</li><li>Resolution function explicitly defined in the AMS Control Block using the<code> connectmap </code>card</li><li>Resolution function explicitly defined in the nets discipline definition</li><li>Resolution function of the discipline of the net to which a given net is connected</li><li>Global resolution function specified with the<code> -wreal_resolution </code>command-line option</li><li>Global resolution function specified with the<code> connectmap </code>card (without the<code> discipline </code>parameter)</li><li>The<code> default </code>global resolution function</li></ol><h3 id="SelectingawrealResolutionFunction-RulestoDeterminetheResolvedResolutionFunctionforConnectedwrealNets">Rules to Determine the Resolved Resolution Function for Connected wreal Nets</h3>

<p>During elaboration, the connected<code> wreal </code>nets are collapsed into a single simulated<code> wreal </code>net with a single resolution function. The resolved value of this simulated<code> wreal </code>net is determined by considering all its drivers and processing their values through the resolved resolution function.</p>

<p>The set of rules listed below are followed to determine the resolved resolution function.</p>
<ul><li>
<p>If all connected<code> wreal </code>nets have the same resolution function, the resolved resolution function is that resolution function.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The connected<code>&#160;wreal&#160;</code>nets need not have the same discipline as long as the resolution function of each net is the same.</p>
</div>
</div>
</li><li>If two or more<code> wreal </code>nets are connected together and they do not have the same<code> wreal </code>resolution function, an error occurs.</li><li>If a<code> wreal </code>net does not belong to any discipline or its discipline does not have a specified resolution function, the resolution function of the<code> wreal </code>net is the global resolution function. When a<code> wreal </code>net with the global resolution function is connected to other<code> wreal </code>nets, its resolution function is ignored for the purpose of determining the resolved resolution function for the connection.</li></ul><ul><li>If none of the<code> wreal </code>nets in a connection has a specified resolution function, the resolved resolution function for the connection will be the global resolution function.</li></ul>
<p>The table below summarizes how the resolved resolution function is determined from the resolution functions of the three<code> wreal </code>nets:<code> w1</code>,<code> w2</code>, and<code> w3.</code></p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">
<p>w1</p>
</th><th class="confluenceTh">
<p>w2</p>
</th><th class="confluenceTh">
<p>w3</p>
</th><th class="confluenceTh">
<p>Resolved</p>
</th></tr>
<tr><td class="confluenceTd">
<p><code> avg </code></p>
</td>
<td class="confluenceTd">
<p><code> avg </code></p>
</td>
<td class="confluenceTd">
<p><code> avg </code></p>
</td>
<td class="confluenceTd">
<p><code> avg </code></p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code> avg </code></p>
</td>
<td class="confluenceTd">
<p>UNSPECIFIED</p>
</td>
<td class="confluenceTd">
<p>UNSPECIFIED</p>
</td>
<td class="confluenceTd">
<p><code> avg </code></p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code> avg </code></p>
</td>
<td class="confluenceTd">
<p>UNSPECIFIED</p>
</td>
<td class="confluenceTd">
<p><code> sum </code></p>
</td>
<td class="confluenceTd">
<p>ERROR</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p>UNSPECIFIED</p>
</td>
<td class="confluenceTd">
<p>UNSPECIFIED</p>
</td>
<td class="confluenceTd">
<p>UNSPECIFIED</p>
</td>
<td class="confluenceTd">
<p>GLOBAL</p>
</td>
</tr>
</tbody></table></div>
<h5 id="SelectingawrealResolutionFunction-RelatedTopic">Related Topic</h5><ul><li><a href="Predefined_wreal_Resolution_Functions.html">Predefined wreal Resolution Functions</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Using_wreal_in_Assertions.html" id="prev" title="Using_wreal_in_Assertions">Using_wreal_in_Assertions</a></em></b><b><em><a href="Predefined_wreal_Resolution_Functions.html" id="nex" title="Predefined_wreal_Resolution_Functions">Predefined_wreal_Resolution_Fu ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>