
<html><head><title>Wreal Connections with Concatenated Nettypes to Array of Instances</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677669029" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Wreal Connections with Concatenated Nettypes to Array of Instances" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Digital Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Wreal/Real Nets, Real Number Modeling," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677669029" />
<meta name="NextFile" content="Wreal_Connections_with_Concatenated_Wires_and_Nettype_Ports.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Enabling_Net_Aliasing_for_SV-UDN_Connections.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Wreal Connections with Concatenated Nettypes to Array of Instances" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Enabling_Net_Aliasing_for_SV-UDN_Connections.html" title="Enabling_Net_Aliasing_for_SV-UDN_Connections">Enabling_Net_Aliasing_for_SV-U ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Wreal_Connections_with_Concatenated_Wires_and_Nettype_Ports.html" title="Wreal_Connections_with_Concatenated_Wires_and_Nettype_Ports">Wreal_Connections_with_Concate ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Wreal Connections with Concatenated Nettypes to Array of Instances</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p>For connections between concatenated wires and array of instances, the tool enables coercion of parent wires in concatenation expression to respective mapped nettype, if the wires are coercible. However, for the such connections to function correctly, RNM processing must be enabled using the <code>-rnm_tech</code> option.&#160; &#160;&#160;</p>
<h2 id="WrealConnectionswithConcatenatedNettypestoArrayofInstances-Example1">Example 1</h2>

<p>In the following example, the wires<code> in1</code> and<code> in2</code> in the concatenation expression are coerced to nettype <code>EEnet</code>. The tool checks if each bit or slice of net in the concatenation expression is compatible with the port connection.</p>

<p><code># Design:</code><br /><code>module test();</code><br /><code>&#160; wire in1;</code><br /><code>&#160; wire in2;</code><br /><code>&#160; test1 test1( .out({in2,in1}) );</code><br /><code>endmodule</code></p>

<p><code>&#160;module test1( output&#160; [1:0] out );</code><br /><code>&#160; test1_1 test1_1[1:0](out);</code><br /><code>endmodule</code></p>

<p><code>&#160;module test1_1( output EEnet out );</code><br /><code>endmodule</code></p>

<p><code>&#160;# Log info:</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.in1 is coerced to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;&#160;&#160;&#160; &lt;&lt; -- coercion</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.in2 is coerced to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;&#160;&#160;&#160; &lt;&lt; -- coercion</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.test1.out is coerced to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.test1.test1_1[1].out is declared to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.test1.test1_1[0].out is declared to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.test2_1.in is coerced to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.test2_1.tes3.in is declared to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.test2_2.in is coerced to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;</code><br /><code>&#160; &#160; &#160; &#160; &#160;RNM_INFO: test.test2_2.tes3.in is declared to nettype &#39;EEnet&#39; with resolution &#39;res_EE&#39;</code></p>

<p><code>&#160;RNM Report Summary:</code><br /><code>&#160; &#160; &#160; &#160; RNM declared total: 4</code><br /><code>&#160; &#160; &#160; &#160; RNM coerced total: 3</code></p>
<h2 id="WrealConnectionswithConcatenatedNettypestoArrayofInstances-Example2">Example 2</h2>

<p>Similarly, if the width of a concatenation expression of parent nets is equal to the width of an individual child port multiplied by the size of an instance array, the tool splits the concatenation expression and connects each bit/slice of the parent net to the port of one instance of the instance array.</p>

<p>The following example illustrates a design with bit-selected signal connecting to port of one instance.&#160;The width of the concatenation expression (<code>4</code>) is equal to the width of child port (<code>1</code>) multiplied by size of instance array (<code>4</code>). So, each bit/slice of a net in the concatenation expression connects with the port of one instance of the instance array.</p>

<p><code># Design:</code><br /><code>module test (</code><br /><code>&#160; output wrealsum out,</code><br /><code>&#160; input&#160; wrealsum in,</code><br /><code>&#160; inout&#160; wrealsum io</code><br /><code>);</code><br /><code>endmodule</code></p>

<p><code>module top ();</code><br /><code>&#160; wire net1, net2;</code><br /><code>&#160; wire net3, net4;</code><br /><code>&#160; wire net5, net6;</code><br /><code>&#160; wire [2:0]net7, net8, net9;</code></p>

<p><code>&#160; test test[3:0] (.out({net1, net7[1:0], net2}),</code><br /><code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; .in ({net3, net8[2:1], net4}),</code><br /><code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; .io ({net5, net9[0], net9[2], net6}));</code><br /><code>endmodule</code></p>
<h2 id="WrealConnectionswithConcatenatedNettypestoArrayofInstances-Example3">Example 3</h2>

<p>The following is an example of a part-selected signal connecting to a port of one instance. The width of concatenation expression (<code>4</code>) is equal to the width of child port (<code>2</code>) multiplied by the size of instance array (<code>net 2</code>). The concatenation expression separates into 2 parts. Each part with 2 bits/slices is connected with the port of one instance of the instance array.</p>

<p><code># Design:</code><br /><code>module test (</code><br /><code>&#160; output wrealsum out[1:0],</code><br /><code>&#160; input&#160; wrealsum in[1:0],</code><br /><code>&#160; inout&#160; wrealsum io[1:0]</code><br /><code>);</code><br /><code>endmodule</code></p>

<p><code>module top ();</code><br /><code>&#160; wire net1, net2;</code><br /><code>&#160; wire net3, net4;</code><br /><code>&#160; wire net5, net6;</code><br /><code>&#160; wire [2:0]net7, net8, net9;</code></p>

<p><code>&#160; test test[1:0] (.out({net1, net7[1:0], net2}),</code><br /><code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; .in ({net3, net8[2:1], net4}),</code><br /><code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; .io ({net5, net9[0], net9[2], net6}));</code><br /><code>endmodule</code></p>
<h2 id="WrealConnectionswithConcatenatedNettypestoArrayofInstances-Example4">Example 4</h2>

<p>If the width of concatenation expression of parent nets is equal to the width of individual child port, the tool connects the entire concatenation expression to the port of each instance in an array of instances.</p>

<p>The following is an example of how an entire concatenation expression connects to the port of each instance. The width of concatenation expression (<code>3</code>), equals to the width of child port (<code>3</code>); so, the entire concatenation expression is connected with the port of each instance of the instance array.</p>

<p><code># Design:</code><br /><code>module test (</code><br /><code>&#160; output EEnet out[2:0],</code><br /><code>&#160; input&#160; EEnet in[2:0],</code><br /><code>&#160; inout&#160; EEnet io[2:0]</code><br /><code>);</code><br /><code>endmodule</code></p>

<p><code>module top ();</code><br /><code>&#160; EEnet net1[2:0];</code><br /><code>&#160; EEnet net2[2:0];</code><br /><code>&#160; EEnet net3[2:0];</code><br /><code>&#160; EEnet net4[2:0];</code><br /><code>&#160; EEnet net5[2:0];</code><br /><code>&#160; EEnet net6[2:0];</code></p>

<p><code>&#160; test test[1:0] (.out({net1[2:1], net2[0]}),</code><br /><code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; .in ({net3[2], net4[1:0]}),</code><br /><code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; .io ({net5[0], net6[0], net6[0]}));</code><br /><code>endmodule</code></p>

<p>And, the tool reports an error in the following design scenarios:</p>
<ul><li>If a wire in concatenation expression is declared/resolved to electrical.</li><li>If the nettype of concatenated parent wire is incompatible with that of child port in a design when an entire concatenation expression is connecting to each instance of instance array.</li><li>If the nettype of concatenated parent wire is incompatible with that of child port in a design when the bit/part of concatenation expression connecting to an instance of instance array.</li><li>If the concatenation expression contains non-collapsible net.</li></ul><h2 id="WrealConnectionswithConcatenatedNettypestoArrayofInstances-Limitations">Limitations</h2>

<p>Currently, the following connections are not supported:</p>
<ul><li>Mixed bus with electrical signal</li><li>Multi-Dimensional arrays of nets in concatenation</li><li>Multiple concatenation</li></ul><h5 id="WrealConnectionswithConcatenatedNettypestoArrayofInstances-RelatedTopic">Related Topic</h5><ul><li><a href="Wreal_Connections_with_Concatenated_Wires_and_Nettype_Ports.html">Wreal Connections with Concatenated Wires and Nettype Ports</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Enabling_Net_Aliasing_for_SV-UDN_Connections.html" id="prev" title="Enabling_Net_Aliasing_for_SV-UDN_Connections">Enabling_Net_Aliasing_for_SV-U ...</a></em></b><b><em><a href="Wreal_Connections_with_Concatenated_Wires_and_Nettype_Ports.html" id="nex" title="Wreal_Connections_with_Concatenated_Wires_and_Nettype_Ports">Wreal_Connections_with_Concate ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>