
<html><head><title>Verilog-AMS wreal and Analog Signal Connections</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668933" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Verilog-AMS wreal and Analog Signal Connections" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Real Number Modeling, Real Number Modeling," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668933" />
<meta name="NextFile" content="Resolving_Disciplines_for_Verilog-AMS_wreal_Nets.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="wreal_Independent_Variables_in_a__table_model.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Verilog-AMS wreal and Analog Signal Connections" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />
<script type="text/javascript" src="styles/shCore1.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shCore.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushCpp.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushJava.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushXml.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPython.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPowerShell.js">/*<![CDATA[*//*]]>*/</script><link rel="stylesheet" href="styles/shCoreDefault.css" type="text/css" /><link rel="stylesheet" href="styles/shCoreMidnight.css" type="text/css" /><script type="text/javascript">/*<![CDATA[*/
SyntaxHighlighter.all();
/*]]>*/</script>
        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="wreal_Independent_Variables_in_a__table_model.html" title="wreal_Independent_Variables_in_a__table_model">wreal_Independent_Variables_in ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Resolving_Disciplines_for_Verilog-AMS_wreal_Nets.html" title="Resolving_Disciplines_for_Verilog-AMS_wreal_Nets">Resolving_Disciplines_for_Veri ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Verilog-AMS wreal and Analog Signal Connections</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="VerilogAMSwrealandAnalogSignalConnections-wrealToElectrical"></span><span class="confluence-anchor-link" id="VerilogAMSwrealandAnalogSignalConnections-1047557"></span>In mixed-signal designs, you can connect&#160;<span style=""><a class="message-url" href="../verilogamsref/chap4.html#wreal">wreal</a>&#160;</span>nets to<code> electrical </code>nets, with either one on top, provided that appropriate connect modules are available to translate between signal types. For example, you can specify the following connection (<code>wreal </code>connected to<code> electrical</code>) when you have appropriate connect rules and modules available.</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">module top;
&#160;&#160;&#160;&#160;wreal w;
&#160;&#160;&#160;&#160;child c1(w); // wreal connected to electrical
endmodule

module child(e);
&#160; &#160; input e;
&#160;&#160;&#160;&#160;electrical e;
endmodule</pre>
</div>
</div>

<p>When the<code> wreal </code>and<code> electrical </code>nets are connected, the port can be<code> input</code>,<code> output</code>, or<code> inout.</code></p>

<p>The elaborator uses the signal type (<code>wreal </code>or<code> electrical</code>) to identify appropriate connect rules. For example, if<code> myrule </code>is defined as</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">connectrules myrule;
&#160;&#160;&#160;&#160;connect a2d input electrical output logic;
&#160;&#160;&#160;&#160;connect wreal_a2d input electrical output logic;
endconnectrules;</pre>
</div>
</div>

<p>the domains and directions are insufficient to distinguish between the a2d rule and the wreal_a2d rule. If you add the information that the logic domain signal is actually wreal , the elaborator can select the connect module that has a wreal port of the appropriate direction.</p>

<p>You can find the&#160;<a href="Glossary.html#Glossary-1033873">E2R</a>&#160;and&#160;<a href="Glossary.html#Glossary-1036188">R2E</a>&#160;connect modules in the Cadence hierarchy:</p>

<p><code><em> your_install_dir</em>/tools/affirma_ams/etc/connect_lib/E2R.vams</code></p>

<p>and</p>

<p><code><em> your_install_dir</em>/tools/affirma_ams/etc/connect_lib/R2E.vams</code></p>

<p>These connect modules have appropriate port types and directions for use in connecting<code> wreal </code>nets to<code> electrical </code>nets. For example,</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">connectrules ConnRules_full_fast;
&#160;&#160;connect L2E_2;
&#160;&#160;connect E2L_2;
&#160;&#160;connect Bidir_2;
&#160;&#160;connect E2R;
&#160;&#160;connect R2E;
&#160;&#160;connect ER_bidir;
endconnectrules</pre>
</div>
</div>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>In addition to connecting Verilog-AMS wreals to electrical nets, you can connect the SystemVerilog real ports to electrical nets.</p>
</div>
</div>

<p><span style="">The basic, full, and full_fast R2E connect modules have been enhanced to support the current mode, in which electrical current is converted between wreal and electrical connection.</span></p>

<p>Following new parameters have been added to these connect modules to support wreal current. You can specify all the parameters in the <code>ie</code>&#160;card.</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">
<p>Parameter Name</p>
</th><th class="confluenceTh">
<p>Default Value</p>
</th><th class="confluenceTh">
<p>Description</p>
</th></tr>
<tr><td class="confluenceTd">
<p><span style="">currentmode </span></p>
</td>
<td class="confluenceTd">
<p>0</p>
</td>
<td class="confluenceTd">
<p>1 for wreal current</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><span style="">clamp </span></p>
</td>
<td class="confluenceTd">
<p>0</p>
</td>
<td class="confluenceTd">
<p>When set to 1, enables voltage clamp. It limits the signal voltage level to be within the supply voltage range, regardless of the value of the wreal current.</p>
<ul><li>With parameter<code> dvclamp</code>, the clamp zone is defined to be from vss to vss + dvclamp and from vdd - dvclamp to vdd.</li></ul><ul><li>When wreal current signal drives the electrical signal voltage to be entering clamp zone, the electrical current converted from the wreal signal is reduced so that the electrical voltage never goes beyond the supply voltage range.</li></ul><ul><li>When the signals goes into the clamp zone, the converted electrical signal is distorted and is not equal to wreal signal value.</li></ul><ul><li>When<code> clamp </code>is enabled, the simulation may be more stable. However, to ensure the accuracy of circuit function, you need to ensure that the converted electrical signal does not go into the clamp zone.</li></ul></td>
</tr>
<tr><td class="confluenceTd">
<p><span style="">rin </span></p>
</td>
<td class="confluenceTd">
<p>200</p>
</td>
<td class="confluenceTd">
<p>Current load resistance</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><span style="">idelta </span></p>
</td>
<td class="confluenceTd">
<p>10u</p>
</td>
<td class="confluenceTd">
<p>Current delta of absdelta</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><span style="">itoldelta </span></p>
</td>
<td class="confluenceTd">
<p><code>(`idelta) </code>/4</p>
</td>
<td class="confluenceTd">
<p>Current tolerance of absdelta</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><span style="">ix </span></p>
</td>
<td class="confluenceTd">
<p>0</p>
</td>
<td class="confluenceTd">
<p>Current of wreal x</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><span style="">vbias </span></p>
</td>
<td class="confluenceTd">
<p><code>`vss+(`vsup)/2 </code></p>
</td>
<td class="confluenceTd">
<p>Bias voltage of current load</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><span style="">vcclamp </span></p>
</td>
<td class="confluenceTd">
<p><code>(`vsup)/20 </code></p>
</td>
<td class="confluenceTd">
<p>Voltage clamp zone</p>
</td>
</tr>
</tbody></table></div>

<p>You can create a customized connect rule<code> CR_full_fast_current </code>with discipline<code> wreal_current </code>and define<code> wreal_current </code>on applicable wreal ports of Verilog-AMS modules.</p>

<p>The current polarity of wreal port for wreal current modeling should be defined such that:</p>
<ul><li>For wreal input port, positive current means current flowing into the module.</li><li>For wreal output port, positive current means current flowing out of the module.</li></ul>
<p>Note that this wreal port current definition is different than the port current definition of Verilog-A/SPICE, in which positive current means current flowing into the module/subckt (regardless the port direction declaration if any).</p>

<p>With this wreal port current definition and the Verilog-A port current definition, the Electrical-Wreal connect modules in current mode are basically modeled as:</p>
<ul><li>&#160;R2E (input wreal Din, electrical Aout):<br />&#160;<code>I(Aout) &lt;- -Din;</code></li><li>E2R (electrical Ain, output wreal Dout):<br /><code>Dout = I(Ain);</code></li></ul>
<p>The following figures show the equivalent circuits for current-based connect modules:</p>
<p align="left"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/475368311/475368312.png" data-linked-resource-container-id="475368311" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="image2019-3-14_12-43-54.png" data-linked-resource-id="475368312" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" height="192" src="attachments/475368311/475368312.png" /></span></p>
<h5 id="VerilogAMSwrealandAnalogSignalConnections-RelatedTopic">Related Topic</h5><ul><li><a href="Resolving_Disciplines_for_Verilog-AMS_wreal_Nets.html">Resolving Disciplines for Verilog-AMS wreal Nets</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="wreal_Independent_Variables_in_a__table_model.html" id="prev" title="wreal_Independent_Variables_in_a__table_model">wreal_Independent_Variables_in ...</a></em></b><b><em><a href="Resolving_Disciplines_for_Verilog-AMS_wreal_Nets.html" id="nex" title="Resolving_Disciplines_for_Verilog-AMS_wreal_Nets">Resolving_Disciplines_for_Veri ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>