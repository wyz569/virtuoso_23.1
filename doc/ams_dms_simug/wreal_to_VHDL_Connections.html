
<html><head><title>wreal to VHDL Connections</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668950" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="wreal to VHDL Connections" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Real Number Modeling, Real Number Modeling," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668950" />
<meta name="NextFile" content="XRUN_Invocation_for_Mixed-Signal_Designs.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Real_Number_Modeling_Debug_Options.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- wreal to VHDL Connections" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Real_Number_Modeling_Debug_Options.html" title="Real_Number_Modeling_Debug_Options">Real_Number_Modeling_Debug_Opt ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="XRUN_Invocation_for_Mixed-Signal_Designs.html" title="XRUN_Invocation_for_Mixed-Signal_Designs">XRUN_Invocation_for_Mixed-Sign ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>wreal to VHDL Connections</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p>In mixed-signal designs, to map VHDL analog X/Z states with the Verilog wrealZ/X states use the <code>xrun</code> command-line option,&#160;<code>-wreal2vhdlmap file</code>.</p>

<p>You can specify the VHDL/wreal X and Z state mappings in a<code> file</code>. The template format is in the form of wreal2vhdlmap card which defines the mapping for the specified VHDL data type. Multiple wreal2vhdlmap cards can be specified in the file. The format of the wreal2vhdlmap card is shown below:</p>

<p><code>wreal2vhdlmap type=[ &quot;default&quot; | &quot;&lt;vhdl type&gt;&quot; ] \ </code></p>

<p><code>wrealXState = &quot;&lt;vhdl primary xstate&gt; &lt;vhdl secondary xstate&gt;  ......&quot; \ </code></p>

<p><code>wrealZState = &quot;&lt;vhdl primary zstate&gt; &lt;vhdl secondary zstate&gt;,....&quot; </code></p>

<p>When<code> type </code>is set to<code> default </code>, it indicates the default mapping, otherwise,<code> type </code>specifies the VHDL type or subtype that needs to be mapped. If a type-based match is not found, the default mapping is used. You can specify only one<code> wreal2vhdlmap </code>card with<code> type=default.</code></p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>Currently, a simulation run supports only five wreal2vhdlmap card entries.</p>
</div>
</div>

<p>The<code> wrealXState </code>and<code> wrealZState </code>arguments support a list of values to be mapped. The first element in the list is considered the primary value map and the remaining elements, if specified, are considered as secondary value maps. The primary value map is significant because it defines the value mapping for both Verilog driving VHDL and VHDL driving Verilog. The secondary maps are only used for mapping VHDL driving Verilog. In this form, a one-to-one mapping is supported for Verilog driving VHDL, whereas a many-to-one mapping is supported for VHDL driving Verilog. The<code> wrealXState </code>parameter defines the X state maps while the<code> wrealZState </code>parameter defines the Z state mapping.</p>

<p>When VHDL is driving a primary or secondary value, the value is mapped to the wrealXState or wrealZState value in the Verilog domain. Note that the primary and secondary values specified in<code> wrealXState </code>and<code> wrealZState </code>parameter must be unique, otherwise, a fatal error is reported.</p>

<p>The type argument (except<code> type=default </code>) is used when an exact match is desired.<code> wreal2vhdlmap </code>card also supports derived mapping. Derived mapping can be performed by specifying the<code> derived_type </code>argument in the<code> wreal2vhdlmap </code>card, as shown below.</p>

<p><code>wreal2vhdlmap derived_type=&quot;&lt;vhdl type&gt;&quot;\ </code></p>

<p><code>wrealXState = &quot;&lt;vhdl xstate1&gt; &lt;vhdl xstate2&gt;  ......&quot; \ </code></p>

<p><code>wrealZState = &quot;&lt;vhdl zstate1&gt; &lt;vhdl zstate2&gt;,....&quot;</code></p>

<p>In this mode, the search is extended to the type decomposition of the actual. A match occurs when the specified<code> derived_type </code>matches one of the decomposed types of the actual. Note that the mapping algorithms find the best map where the order of precedence is<code> type </code>mappings,<code> derived_type </code>mappings and<code> default </code>mappings. For<code> derived_type </code>mappings the lookup algorithm binds to the<code> derived_type </code>mapping closest with respect to the decomposition to the actual type.</p>

<p><span style=""><strong>Example</strong></span>:</p>

<p>The following example shows a VHDL package with type declaration to be mapped to wreal. The constant values represent the VHDL values to be mapped to wreal x and z states. This package<code> myPkg </code>is compiled into the library<code> myLib.</code></p>

<p><code>package is myPkg<br /></code><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">type analog_ut is range real&#39;low to real&#39;high;<br /></span><code>type analog_vector_ut is array (natural range &lt;&gt;) of analog_ut;<br /></code><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">constant ANALOG_U : analog_ut := analog_ut&#39;left;<br /></span><code>constant ANALOG_X : analog_ut := analog_ut(real(analog_ut&#39;left) / 2.0);<br /></code><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">constant ANALOG_Z : analog_ut := analog_ut(real(analog_ut&#39;left) / 4.0);<br /></span><code>end myPkg;</code></p>

<p>Following is the file that contains the wreal2vhdlmap template for the VHDL type above:</p>

<p><code>wreal2vhdlmap type=&quot;myLib.myPkg.analog_ut&quot; wrealXState = &quot;myLib.myPkg.ANALOG_X myLib.myPkg.ANALOG_U&quot; \ </code></p>

<p><code>wrealZState = &quot;myLib.myPkg.ANALOG_Z&quot;</code></p>

<p>This template states that for mixed language boundary net connections of <code>myLib.myPkg</code>,<code> analog_ut</code> connecting to Verilog real, the following mapping occurs:</p>
<ul><li>Verilog driving a<code> wrealXState </code>value will be mapped to a<code> myLib.myPkg.ANALOG_X </code>VHDL value (primary value)</li></ul><ul><li><code>Verilog driving a wrealZState value will be mapped to a myLib.myPkg.ANALOG_Z </code>VHDL value.</li></ul><ul><li>VHDL driving<code> myLib.myPkg.ANALOG_X </code>or<code> myLib.myPkg.ANALOG_U </code>value will be mapped to a<code> wrealXState </code>Verilog value.</li></ul>
<p>VHDL driving a<code> myLib.myPkg.ANALOG_Z </code>value will be mapped to a<code> wrealZState </code>Verilog value.</p>
<h5 id="wrealtoVHDLConnections-RelatedTopic">Related Topic</h5><ul><li><a href="wreal_Nets_at_Mixed-Language_Boundaries.html">wreal Nets at Mixed-Language Boundaries</a></li></ul>
<p><br /></p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Real_Number_Modeling_Debug_Options.html" id="prev" title="Real_Number_Modeling_Debug_Options">Real_Number_Modeling_Debug_Opt ...</a></em></b><b><em><a href="XRUN_Invocation_for_Mixed-Signal_Designs.html" id="nex" title="XRUN_Invocation_for_Mixed-Signal_Designs">XRUN_Invocation_for_Mixed-Sign ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>