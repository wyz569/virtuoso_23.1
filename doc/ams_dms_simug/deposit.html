
<html><head><title>deposit</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677669085" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="deposit" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Tcl Commands, Tcl Commands," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677669085" />
<meta name="NextFile" content="describe.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="call.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- deposit" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="call.html" title="call">call</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="describe.html" title="describe">describe</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>deposit</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="deposit-1032965"></span> <span class="confluence-anchor-link" id="deposit-Tcl_deposit"></span>Sets the value of an object. Behaviors that are sensitive to value changes on the object run when the simulation resumes, just as if the value change was caused by the Verilog or VHDL code.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>In this release, you cannot set the value of an analog object. In addition, you cannot use the <code>deposit</code> command to set the value of digital objects while the analog solver is active.</p>
</div>
</div>

<p>The <code>deposit</code>&#160;command without a delay is similar to a force in that the specified value takes effect and propagates immediately. However, it differs from a force in that future transaction on the signal are not blocked.</p>

<p>You can specify that the deposit is to take effect at a time in the future (<code>-after -absolute</code>) or after some amount of time has passed (<code>-after -relative</code>). In VHDL, a deposit with a delay is different from Verilog in that it creates a transaction on a driver, much the same as a VHDL signal assignment statement. Use the <code>-inertial</code>&#160;or <code>-transport</code>&#160;option to deposit the value after an inertial delay or after a transport delay, respectively.</p>

<p>For VHDL, you can deposit to ports, signals, and variables if no delay is specified. If a delay is specified, you cannot deposit to variables or to signals with multiple sources.</p>

<p>For Verilog, you can deposit to ports, signals (wires and registers), and variables.</p>

<p>If the object is a memory or a range of memory elements, the specified value is deposited into each element of the memory or into each element in the specified range.</p>

<p>If the object is currently forced, the specified value appears on the object after the force is released, unless the release value is overwritten by another assignment in the meantime.</p>

<p>If the object is a register that is currently forced or assigned, the <code>deposit</code>&#160;command has no effect.</p>

<p>The value assigned to the object must be a literal. The literal can be generated with Tcl value substitution or command substitution. (See the &quot;Verilog Value Substitution&quot; and &quot;Command Substitution&quot; sections, in the &quot;Basics of Tcl&quot; appendix of<em> <span style=""> Cadence Verilog Simulation User Guide </span> </em>for details on Tcl substitution.)</p>

<p>For VHDL, the value specified with the<code> deposit </code>command must match the type and subtype constraints of the VHDL object. Integers, reals, physical types, enumeration types, and strings (including std_logic_vector and bit_vector) are supported. Records and non-character array values are not supported, but objects of these types can be assigned to by issuing commands for each subelement individually.</p>

<p>The object to which the value is to be deposited must have read/write access. An error is generated if the object does not have this access. See <a href="Access_to_Digital_Simulation_Objects.html">Access to Digital Simulation Objects</a>.</p>

<p>For an SV-UDN net, you can deposit value to a scalar net, whole array, or bit-select and part-select of arrays. And, you can use order-based or name-based approach to deposit a value. For the name-based approach, the filed order can be different from that defined in the SV-UDN&#160;net. You can also assign <code>real&#39;z</code> or <code>real&#39;x</code> values to SV-UDN.</p>

<p>Additionally, you can use the <code>xm_deposit</code> system task to assign value on an SV-UDN net. The syntax is: <code>xm_desposit (&#8220;&lt;name&#8221;, &#8220;value&#8221;)</code>. The value string should not contain any space; and, for the scalar UDN or bit-selected UDN array, the <code>value</code> string should not contain <code>{}</code>. For example:</p>

<p><code>$xm_deposit(&quot;dut.ve[1:2]&quot;, &quot;{V:1.7,R:10,I:real&#39;z}{1.7,real&#39;x,20}&quot;);</code></p>

<p>The <code>deposit</code>&#160;command is supported on user-defined nettypes (UDNs).</p>
<h3 id="deposit-depositCommandSyntax">deposit Command Syntax</h3>

<p><code>
    <span style="">deposit object_name [=] value<br /> &#160;&#160;&#160;&#160;[-after time_spec {-relative | -absolute}]<br />&#160;&#160;&#160;&#160;[-inertial]<br />&#160;&#160;&#160;&#160;[-transport]<br />&#160;&#160;&#160;&#160;[-generic]</span>
  </code></p>
<h3 id="deposit-depositCommandOptions">deposit Command Options</h3>

<p>This section describes the options that you can use with the Tcl&#160;<code>deposit</code> command.</p>
<div class="table-wrap"><table class="confluenceTable cadenceTable" id="cadDefaultfont" style="width: 720px;"><colgroup><col style="width: 245px;" /><col style="width: 64%px;" /></colgroup><tbody><tr><td class="confluenceTd" style="border:none;"><div class="content-wrapper">
<p><code>-after &lt;<em>time_spec</em>&gt;&#160;[&lt;<em>value</em>&gt; â€‘after &lt;<em>time_spec</em>&gt;...]<span class="confluence-anchor-link" id="deposit-time_spec"></span></code></p>
</div>
</td>
<td class="confluenceTd" style="border:none;">
<p>Causes the assignment to occur at a time in the future&#160;rather than immediately. The time specified using the&#160;<span style=""><code><em>time_spec</em></code>&#160;</span>argument&#160;can be relative or absolute. Relative is the default.</p>

<p>If you do not specify a time, the assignment happens immediately&#160;before simulation resumes. If the specified time is the current simulation time, the assignment occurs after simulation resumes&#160;but before time advances.</p>
</td>
</tr>
<tr><td class="confluenceTd" style="border:none;"><code>-relative</code></td>
<td class="confluenceTd" style="border:none;">Causes the assignment to occur after the amount of time specified in <code>time_spec</code> has passed. This is the default.</td>
</tr>
<tr><td class="confluenceTd" style="border:none;"><code>-absolute</code></td>
<td class="confluenceTd" style="border:none;">Causes the assignment to occur at the simulation time specified in <code>time_spec</code>.</td>
</tr>
<tr><td class="confluenceTd" style="border:none;"><code>-inertial</code></td>
<td class="confluenceTd" style="border:none;">Deposits the value after an inertial delay.</td>
</tr>
<tr><td class="confluenceTd" style="border:none;"><code>-transport</code></td>
<td class="confluenceTd" style="border:none;">Deposits the value after a transport delay.</td>
</tr>
<tr><td class="confluenceTd" style="border:none;"><code>-generic</code></td>
<td class="confluenceTd" style="border:none;">Deposits generic value. This operation might lead to violation of globally static bounds.</td>
</tr>
</tbody></table></div>
<h3 id="deposit-depositCommandExample">deposit Command Example</h3>
<h4 id="deposit-DigitalVerilog-AMSexamples:">Digital Verilog-AMS examples:</h4>

<p>The following command assigns the value<code> 8&#39;h1F </code>to<code> r[0:7].</code> No time for this assignment is specified, so the assignment occurs immediately. The equal sign is optional.</p>

<p><code> xcelium&gt; deposit r[0:7] = 8&#39;h1F </code></p>

<p>The following command assigns <code>25</code>&#160;to <code>r[8:15]</code>&#160;after simulation resumes and 1 time unit has elapsed.</p>

<p><code> xcelium&gt; deposit r[8:15] = 25 -after 1 </code></p>

<p>The following command assigns <code>25</code>&#160;to <code>r[8:15]</code>&#160;at simulation time 1 ns.</p>

<p><code> xcelium&gt; deposit r[8:15] = 25 -after 1 ns -absolute </code></p>

<p>The following command sets the value of <code>x</code>&#160;to the current value of <code>w.</code> The assignment occurs at simulation time 10 ns.</p>

<p><code> xcelium&gt; deposit x = #w -after 10 ns -absolute </code></p>

<p>The following command uses both command and value substitution. The object <code>y</code>&#160;is set to the value returned by the Tcl <code>expr</code>&#160;command, which evaluates the expression<code> #r[0] &amp; ~#r[1] </code>using the current value of <code>r.</code></p>

<p><code> xcelium&gt; deposit y = [expr #r[0] &amp; ~#r[1]] </code></p>

<p>The following command shows the error message that is displayed if you run in regression mode and then try to deposit a value to an object that does not have read/write access.</p>

<p><code> xcelium&gt; deposit clrb 1<br />xmsim: *E,RWACRQ: Object does not have read/write access:<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;hardrive.h1.clrb. </code></p>
<h4 id="deposit-VHDLexamples:">VHDL examples:</h4>

<p>The following command deposits the value 1 to object<code>:t_nickel_out</code>&#160;(std_logic). The equal sign is optional.</p>

<p><code> xcelium&gt; deposit :t_nickel_out = &#39;1&#39; </code></p>

<p>The following command deposits the value 1 to object<code>:top:DISPENSE_tempsig</code>&#160;(std_logic).</p>

<p><code> xcelium&gt; deposit :top:DISPENSE_tempsig &#39;1&#39; </code></p>

<p>The following command deposits the value 0 to object<code>:t_dimes </code>(std_logic_vector) after 10 ns has elapsed.</p>

<p><code> xcelium&gt; deposit -after 10 ns -relative :t_DIMES {&quot;00000000&quot;} </code></p>

<p>The following command deposits the value TRUE to object<code> stoppit </code>(boolean).</p>

<p><code> xcelium&gt; deposit stoppit true </code></p>

<p>The following command deposits the value 10 to object<code>:count </code>(integer).</p>

<p><code> xcelium&gt; deposit :count 10</code></p>
<h4 id="deposit-SV-UDNexamples:">SV-UDN examples:</h4>

<p>The following example illustrates the SV-UDN structure and how to apply the <code>deposit</code> command to a scalar net with name-based value:</p>

<p><code>typedef struct {</code> <br /><code>&#160; &#160; real V;</code> <br /><code>&#160; &#160; real I;</code> <br /><code>&#160; &#160; real R;</code> <br /><code>}&#160; EEstruct;</code></p>

<p><code>Time: 0 FS: tb.ve = (&#39;{V:0, I:0, R:1e+06},&#39;{V:0, I:0, R:1e+06},&#39;{V:0, I:0, R:1e+06})</code> <br /><code>Time: 0 FS: tb.e = &#39;{V:0, I:0, R:1e+06}</code></p>

<p><code>xcelium&gt; deposit tb.e {V:1.2, I:real&#39;z, R:500};</code> <br /><code>Time: 40 NS: tb.e = &#39;{V:1.2, I:`wrealZState, R:500}</code></p>

<p>The following example illustrates how the deposit command applies value on bit-select of an array with order-based value. Values 1.2, real&#8217;z, and 50 are applied on real variable V, I, and R, respectively in the order in which it is defined/declared in the structure:</p>

<p><code># Bit-Selected : Order-Based Value </code><br /><code>xcelium&gt; deposit tb.ve[1] {1.2, real&#39;z, 50}</code></p>

<p><code>Time: 40 NS: tb.ve = (&#39;{V:0, I:0, R:1e+06},&#39;{V:1.2, I:`wrealZState, R:50},&#39;{V:0, I:0, R:1e+06})</code></p>

<p>The following example applies the deposit command on part-select of an array with order-based value:</p>

<p><code>xcelium&gt; deposit tb.ve[2:1] {{V:1.0, R:10, I:real&#39;z} {1.5, real&#39;x, 20}}</code></p>

<p><code>Time: 60 NS: tb.ve = (&#39;{V:1, I:`wrealZState, R:10},&#39;{V:1.2, I:`wrealZState, R:50},&#39;{V:0, I:0, R:1e+06}) </code><br /><code>Time: 60 NS: tb.ve = (&#39;{V:1, I:`wrealZState, R:10},&#39;{V:1.5, I:`wrealXState, R:20},&#39;{V:0, I:0, R:1e+06})</code></p>
<h5 id="deposit-RelatedTopics">Related Topics</h5><ul><li><a href="deposit.html">deposit</a></li><li><a href="Specifying_User-Defined_Nettype_and_Resolution_Function.html">User-Defined Nettype and Resolution Function</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="call.html" id="prev" title="call">call</a></em></b><b><em><a href="describe.html" id="nex" title="describe">describe</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>