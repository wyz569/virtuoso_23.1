
<html><head><title>L2R and R2L Connect Modules</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668944" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="L2R and R2L Connect Modules" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Real Number Modeling, Real Number Modeling," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668944" />
<meta name="NextFile" content="Port_Connections_through_Real-to-Logic_Connect_Modules.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Wreal_Concatenation_Expressions.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- L2R and R2L Connect Modules" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />
<script type="text/javascript" src="styles/shCore1.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shCore.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushCpp.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushJava.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushXml.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPython.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPowerShell.js">/*<![CDATA[*//*]]>*/</script><link rel="stylesheet" href="styles/shCoreDefault.css" type="text/css" /><link rel="stylesheet" href="styles/shCoreMidnight.css" type="text/css" /><script type="text/javascript">/*<![CDATA[*/
SyntaxHighlighter.all();
/*]]>*/</script>
        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Wreal_Concatenation_Expressions.html" title="Wreal_Concatenation_Expressions">Wreal_Concatenation_Expression ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Port_Connections_through_Real-to-Logic_Connect_Modules.html" title="Port_Connections_through_Real-to-Logic_Connect_Modules">Port_Connections_through_Real- ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>L2R and R2L Connect Modules</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="L2RandR2LConnectModules-1056409"></span><span class="inline-comment-marker" data-ref="516dc087-a384-4d36-ac98-885a085f3af3">Logic-to-Real</span> connect modules (L2R) are similar to Logic-to-Electrical (L2E) connect modules. They are also declared with the keyword<code> connectmodule </code>and contain two ports: one a scalar wreal net (R) and the other a scalar logic net (L). They must be flat and can contain no sub-hierarchies. They take their parameter overrides from the connect rules, just like the L2E connect modules. The internals of the L2R connect modules convert the driven value of one side of the logic/real boundary to the appropriate data type, and drive it to the other side of the boundary.</p>

<p>The L2R and R2L connect modules are defined for unidirectional ports (input and output) and only pass driver information in a single direction as indicated by the port directions.</p>
<div class="pbi_avoid">
<p>Here is an example of an L2R connect module:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">connectmodule L2R(L, R);
&#160;&#160;&#160;&#160;input L; \logic L;
&#160;&#160;&#160;&#160;output R; wreal_dsp R;

&#160;&#160;&#160;&#160;parameter real vsup = 1.8 from (0:inf);
&#160;&#160;&#160;&#160;parameter real vlo = 0;
&#160;&#160;&#160;&#160;parameter real vhi = vsup from (vlo:vsup);
&#160;&#160;&#160;&#160;parameter real vtlo = vsup / 3;
&#160;&#160;&#160;&#160;parameter real vthi = vsup /1.5;

&#160; &#160; wire [31:0] L_val;
&#160;&#160;&#160;&#160;reg [1:0] L_code;
&#160;&#160;&#160;&#160;real L_real;

&#160;&#160;&#160;&#160;initial
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;begin
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$BIE_input_strength(L, L_val);
&#160;&#160;&#160;&#160;end

&#160;&#160;&#160;&#160;// Determine the value and strength of L and convert to a real number
&#160;&#160;&#160;&#160;always
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;begin
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;L_code = L_val &amp; 2&#39;b11;

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case (L_code)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;2&#39;b00: L_real = vlo;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;2&#39;b01: L_real = vsup;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;2&#39;b11: L_real = `wrealXState
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;2&#39;b10: L_real = `wrealZState;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;endcase

&#160; &#160; &#160; &#160; &#160; &#160; @(L_val)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end

&#160;&#160;&#160;&#160;// drive the converted value back onto the R output pin

assign R = L_real;

endmodule64ce7</pre>
</div>
</div>
</div>
<div class="pbi_avoid">
<p>Here is an example of an R2L connect module:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">connectmodule R2L(L, R);
&#160;&#160;&#160;&#160;output L; \logic L;
&#160;&#160;&#160;&#160;input R; wreal_dsp R;

&#160;&#160;&#160;&#160;parameter real vsup = 1.8 from (0:inf);
&#160;&#160;&#160;&#160;parameter real vlo = 0;
&#160;&#160;&#160;&#160;parameter real vhi = vsup from (vlo:vsup);
&#160;&#160;&#160;&#160;parameter real vtlo = vsup / 3;
&#160;&#160;&#160;&#160;parameter real vthi = vsup /1.5;

&#160;&#160;&#160;&#160;wreal R_val;
&#160;&#160;&#160;&#160;reg R_logic;

&#160;&#160;&#160;&#160;initial
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;begin
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$BIE_input_real(R, R_val);
&#160;&#160;&#160;&#160;end

&#160;&#160;&#160;&#160;// Determine the value of R and convert to a logic value
&#160;&#160;&#160;&#160;always
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;begin
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(R_val &gt;= vthi)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;R_logic = 1&#39;b1;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else if (R_val &lt;= vtlo)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;R_logic = 1&#39;b0;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else if(R_val === `wrealZState)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;R_logic = 1&#39;bz;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;R_logic = 1&#39;bx;

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@(R_val);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end

&#160;&#160;&#160;&#160;// drive the converted value back onto the output L pin
&#160;&#160;&#160;&#160;assign L = R_logic;

endmodule</pre>
</div>
</div>
</div>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>Currently, R2L/L2R connect modules with mixed-signal and/or mixed-language interactions are not supported.</p>
</div>
</div>

<p>Inherited connections are allowed inside the L2R and R2L connect modules with the following limitations:</p>
<ul><li>The net you are inheriting from must be a wreal net.</li></ul><ul><li>The discipline of the wreal net you are inheriting from must be digital.&#160;<a href="Glossary.html#Glossary-1033873">E2R</a>&#160;connect modules are not inserted into L2R connect modules.</li></ul><ul><li>The connect module cannot drive a value onto the inherited connection.</li></ul>
<p>If any of these conditions is violated, an error will occur.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The discipline restriction also affects the logic nets. Logic nets in the connect modules cannot inherit from nets with incompatible discipline.</p>
</div>
</div>
<h5 id="L2RandR2LConnectModules-RelatedTopics">Related <span class="inline-comment-marker" data-ref="5e5ca66f-6d8a-4023-b36a-6c222a651f9a">Topics</span></h5><ul><li><a href="Port_Connections_through_Real-to-Logic_Connect_Modules.html">Port Connections through Real-to-Logic Connect Modules</a></li><li><a href="Inherited_Connections_in_R2L_L2R_Connect_Modules.html">Inherited Connections in R2L/L2R Connect Modules</a></li><li><a href="Aliasing_Nets_to_Hierarchical_Nets_in_L2R_R2L_Interface_Elements.html">Aliasing Nets to Hierarchical Nets in L2R/R2L Interface Elements</a></li><li><a href="L2R_R2L_Insertion_in_Multiple-Supply_Designs.html">L2R/R2L Insertion in Multiple-Supply Designs</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Wreal_Concatenation_Expressions.html" id="prev" title="Wreal_Concatenation_Expressions">Wreal_Concatenation_Expression ...</a></em></b><b><em><a href="Port_Connections_through_Real-to-Logic_Connect_Modules.html" id="nex" title="Port_Connections_through_Real-to-Logic_Connect_Modules">Port_Connections_through_Real- ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>