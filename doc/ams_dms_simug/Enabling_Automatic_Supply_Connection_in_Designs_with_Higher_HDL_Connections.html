
<html><head><title>Enabling Automatic Supply Connection in Designs with Higher HDL Connections</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677669064" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Enabling Automatic Supply Connection in Designs with Higher HDL Connections" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="task" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Digital Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Low-Power Mixed-Signal, Unified Power Format (UPF)," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677669064" />
<meta name="NextFile" content="Enabling_Automatic_Supply_Connection_in_Designs_Using_Liberty_Models_with_a_Default_VCT_Value.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Automatic_Supply_Connections_in_Mixed_Signal_Designs_with_Liberty_Model.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Enabling Automatic Supply Connection in Designs with Higher HDL Connections" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Automatic_Supply_Connections_in_Mixed_Signal_Designs_with_Liberty_Model.html" title="Automatic_Supply_Connections_in_Mixed_Signal_Designs_with_Liberty_Model">Automatic_Supply_Connections_i ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Enabling_Automatic_Supply_Connection_in_Designs_Using_Liberty_Models_with_a_Default_VCT_Value.html" title="Enabling_Automatic_Supply_Connection_in_Designs_Using_Liberty_Models_with_a_Default_VCT_Value">Enabling_Automatic_Supply_Conn ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Enabling Automatic Supply Connection in Designs with Higher HDL Connections</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="EnablingAutomaticSupplyConnectioninDesignswithHigherHDLConnections-Higher_HDL_Connections"></span>If there is a mixed-signal supply network existing on both HDL and UPF scope; and, if the supply nets have the same name with UPF supply nets on the design top, use the <code>-lps_ams_supply_hiconn</code> command‚Äêline option to instruct the tool to trace the HDL high connection of power ports of liberty model, and optimize the automatic supply connection between HDL and UPF to the top-level design. The VCT of this connection is used either from the explicit UPF command <code>connect_supply_net</code> on port ports of liberty model or the default VCT command <code>-lps_ams_default_power_vct</code>/<code>-lps_ams_default_ground_vct</code>.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>For value conversion between the analog voltage and UPF power state, you must specify the default analog VCT through xrun command-line option, <code>connect_supply_net</code>. The tool then uses the default VCT based on connect direction for analog value conversion. If the default VCT is not specified, the tool ignores the connection on this net. Then, you must explicitly specify the VCT using the <code>connect_supply_net</code> command in the UPF file for that particular net. The only exception when you do not have to specify VCT is when the signal is electrical/wreal. In this case, the tool propagates voltage values from UPF to HDL directly without any VCT and applies an automatic connection.</p>
</div>
</div>

<p><br />The following are some design scenarios and how the tool behaves when the -<code>lps_ams_supply_hiconn</code> option is specified for the automatic supply network:</p>
<ul><li>If there is no UPF supply net defined with the same name at the top level, the tool automatically creates an internal reference UPF supply net for supply connection and reports a warning.</li><li>If a liberty model is encountered and its supply port is treated as analog (electrical, wreal, SV-UDN), the tool traces the high connection of the supply port and gets the HDL supply net on the highest hierarchical level. If the HDL supply net has the same as UPF supply net, then the tool applies a connection between that HDL supply net and the UPF supply net on the top level, instead of the supply port of liberty model on a leaf.</li><li>If the net at the top level is logic, the tool reports a warning and ignores the connection on this net.</li><li>If the selected UPF supply net at the top level (coming from HDL high connection) is different from the original one (coming from UPF definition), the UPF supply net at the top level from HDL connection is used for automatic supply connection. However, for such cases, you can explicitly specify the <code>connect_supply_net</code> command in the UPF file to connect the supply net.</li><li>If the analog net has the same name as that of the UPF supply net, the tool does not create an automatic supply connection on it and reports a warning. If you want the tool to connect these supply nets, you can specify using the <code>connect_supply_net</code> command in the UPF file.</li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>If you have specified the <code>connect_supply_net</code> option with VCT, it takes priority and overwrites the <code>-lps_ams_supply_hiconn</code> command-line option.</p>
</div>
</div>

<p>Additionally, in mixed-signal designs if you want the tool to use an existing UPF supply specified in the UPF file, you can use the <code>-lps_infer_upf_supply</code> command-line option. If the tool identifies a connection on the specific signal in HDL that has explicit supply connection to another UPF supply net, the tool redirects the supply connection on this signal to this specific UPF supply net specified in the UPF file.</p>

<p>In the following example, the tool connects <code>tb.dut.i_ana1.vdd</code> to supply net <code>vdd</code> instead of supply net <code>vdd1</code>, which is part of supply set <code>SSD</code> and power domain <code>PDD</code>. <br /><code>-------------Top.sv--------------</code><br /><code>module top();</code><br /><code>wire avdd, avss;</code><br /><code>ana1 i_ana1(avdd, avss);</code><br /><code>ana2 i_ana2(avdd, avss);</code><br /><code>endmodule </code><br /><code>module ana1(vdd, vss);</code><br /><code>output wTsum vdd, vss;</code><br /><code>endmodule </code><br /><code>module ana2(vdd, vss);</code><br /><code>input wTsum vdd, vss; </code><br /><code>endmodule </code><br /><code>-------------------Top.upf-------------</code><br /><code>create_supply_net vdd</code><br /><code>create_supply_net vss</code><br /><code>create_supply_net vdd1</code><br /><code>create_supply_net vss1</code><br /><code>create_supply_set SSD -function {power vdd1} -function {ground vss1}</code><br /><code>create_power_domain PDD -supply {primary SSD} -include_scope </code><br /><code>connect_supply_net vdd -ports {i_ana2/vdd}</code><br /><code>connect_supply_net vss -ports {i_ana2/vss}</code></p>

<p>And, the tool reports the following MPSNIF warning message:</p>

<p><code>xmelab: *W,MPSNIF: [LPS] The program redirects the supply connection of signal (tb.dut.i_ana1.vss) from UPF supply net (vss1) to (vss).</code><br /><code>xmelab: *W,MPSNIF: [LPS] The program redirects the supply connection of signal (tb.dut.i_ana1.vdd) from UPF supply net (vdd1) to (vdd).</code></p>
<h5 id="EnablingAutomaticSupplyConnectioninDesignswithHigherHDLConnections-RelatedTopics">Related Topics</h5><ul><li><a href="Automatic_Supply_Connections_in_Mixed_Signal_Designs_with_Liberty_Model.html">Automatic Supply Connections in Mixed‚ÄêSignal Designs with Liberty Model</a></li><li><a href="Enabling_Automatic_Supply_Connection_in_Designs_Using_Liberty_Models_with_a_Default_VCT_Value.html">Enabling Automatic Supply Connection in Designs Using Liberty Models with a Default VCT Value</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Automatic_Supply_Connections_in_Mixed_Signal_Designs_with_Liberty_Model.html" id="prev" title="Automatic_Supply_Connections_in_Mixed_Signal_Designs_with_Liberty_Model">Automatic_Supply_Connections_i ...</a></em></b><b><em><a href="Enabling_Automatic_Supply_Connection_in_Designs_Using_Liberty_Models_with_a_Default_VCT_Value.html" id="nex" title="Enabling_Automatic_Supply_Connection_in_Designs_Using_Liberty_Models_with_a_Default_VCT_Value">Enabling_Automatic_Supply_Conn ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>