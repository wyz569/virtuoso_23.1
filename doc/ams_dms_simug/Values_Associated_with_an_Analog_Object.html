
<html><head><title>Values Associated with an Analog Object</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668918" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Values Associated with an Analog Object" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Spectre AMS Designer," />
<meta name="prod_subfeature" content="Verilog-AMS, Verilog-AMS," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668918" />
<meta name="NextFile" content="Strength-Based_Interface_Element__SIE_.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Reusing_Mixed-Language_Testbenches.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Values Associated with an Analog Object" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Reusing_Mixed-Language_Testbenches.html" title="Reusing_Mixed-Language_Testbenches">Reusing_Mixed-Language_Testben ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Strength-Based_Interface_Element__SIE_.html" title="Strength-Based_Interface_Element__SIE_">Strength-Based_Interface_Eleme ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Values Associated with an Analog Object</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="ValuesAssociatedwithanAnalogObject-1070525"></span></p>

<p>You can use the function<code> cds_get_analog_value </code>to fetch the voltage, current, input, output, or power values associated with an analog object. This function is especially useful while writing testbenches and assertions for a design.</p>

<p>The<code> cds_get_analog_value </code>function is meant to be used only on objects belonging to a continuous domain. It can be called from within Verilog, Verilog-A, SystemVerilog (SV), or Verilog-AMS scope, and always returns a real number.</p>

<p>Following is the syntax of the<code> cds_get_analog_value </code>function.</p>

<p><code> real $cds_get_analog_value (hierarchical_name, [optional index, [optional quantity&#160;qualifier]])</code></p>

<p>Or</p>

<p><code> real $cgav (hierarchical_name, [optional index, [optional quantity qualifier]]) </code></p>

<p>where,</p>
<ul><li><code> cgav </code>is an alias of<code> cds_get_analog_value.</code> They have an identical signature.</li><li>
<p>The object referred to by<code> hierarchical_name </code>must exist and must be owned by the analog solver. It must be a scalar object.<code> hierarchical_name </code>can be a relative or absolute path.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>You can check whether the object referred to by<code>&#160;hierarchical_name&#160;</code>meets these conditions by using the helper functions<code>&#160;cds_analog_is_valid</code>,<code>&#160;cds_analog_exists</code>, and<code>&#160;cds_analog_get_width.</code></p>
</div>
</div>

<p>The hierarchical name can refer to a Verilog-AMS context or Spectre/SPICE (a node or instance from a Spectre/SPICE format netlist) context.</p>
</li><li style="list-style-type: none;">
<p>For the Spectre/SPICE netlist formats, bus or vector object notation is currently not supported. In the analog context, bus can be expanded as bits. If&#160;<code>&lt;&gt;</code>&#160;are bus delimiters,&#160;<code>&lt;</code> and <code>&gt;</code> cannot be used in identifier names in hierarchical path in Verilog/SystemVerilog. Verilog and SystemVerilog allow these illegal characters to be used in a name by escaping the identifier.</p>

<p>In the hierarchical name, when a bus is referred to in the Spectre/SPICE context, escape the bus node bit name.</p>

<p>For example, to fetch the voltage <code>tb.DUT.n&lt;2&gt;</code>, you will need to escape the node <code>.$cgav(&quot;tb.DUT.\S&lt;2&gt;&quot;,&quot;potential&quot;);</code>.</p>
</li><li>
<p>The index can be variable, reg, or parameters so long as their value evaluates to an integral constant.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p><span style="">&#160;</span>Index applies only for vector objects.</p>
</div>
</div>

<p>Example:<br /><code>$cgav(&quot;tb.DUT.n&quot;, 2, &quot;potential&quot;).</code><br />This statement probes voltage of the vector bit node. The return value is the voltage <code>V(top.DUT.n[2])</code>.</p>
Note that the <code>$cgav</code> index feature works only if the <code>top.n[2]</code> vector is in the Verilog-AMS context or scope.</li><li>The quantity qualifier can be<code> potential </code>,<code> flow </code>,<code> pwr </code>, or<code> param.</code> If none is specified,<code> potential </code>is assumed.</li></ul><p style="margin-left: 30.0px;">If any of the above conditions is not satisfied, the behavior of the<code> cds_get_analog_value </code>function will be undefined. To test that these conditions are satisfied by the analog object being referenced and to create more reusable testbench code with failsafe behavior, you can use the following helper functions:</p>
<ul><li><code> cds_analog_exists </code>- Function to determine if the object is a member of the analog domain.<br /><br />Signature:<br /><br /><code> int $cds_analog_exists(hierarchical_name, [optional index])<br /><br /> </code>Return value:<br /><br /><code> 1/0<br /><br /> </code>(where<code> 1 </code>is true and<code> 0 </code>is false)<br /><br />Arguments:<ul><li><code> hierarchical_name </code>can be in pure Verilog syntax.</li></ul></li></ul><ul><li style="list-style-type: none;background-image: none;"><ul><li>If<code> index </code>is not specified, the object is assumed to be<code> scalar.</code></li></ul></li><li><code> cds_analog_get_width </code>- Function to determine the width of an object<br /><br />Signature:<code> <br /><br />int $cds_analog_get_width(hierarchical_name)<br /><br /> </code>Return value:<br /><br /><code> width of the object </code></li><li><code> cds_analog_is_valid </code>- Function to test if the reference object can be probed using the<code> cds_get_analog_value </code>function.<br /><br />Signature:<code> <br /><br />int $cds_analog_is_valid(hierarchical_name, [optional index, [optional quantity qualifier]])<br /><br /> </code>Return value:<br /><br /><code> 1/0 <br /><br /></code>Arguments:<ul><li><code> hierarchical_name </code>can be in pure Verilog syntax.</li></ul></li></ul><ul><li style="list-style-type: none;background-image: none;"><ul><li>If<code> index </code>is not specified, the object is assumed to be<code> scalar.</code></li></ul></li></ul><ul><li style="list-style-type: none;background-image: none;"><ul><li>If quantity qualifier is not specified, it is assumed that the hierarchical name is a net.</li></ul></li><li><code>cds_set_temperature</code> - Function&#160;to change the global circuit temperature parameter during simulation.<br /><br />Signature:<code>&#160;</code><br /><br />$cds_set_temperature(expression)<br /><br />Return value:<br /><code><br /><code>1/0&#160;</code><br /></code><br />Argument:<br /><br /><code>expression</code> should be a real-type expression that represents the temperature to be set in degree Celsius. You can use variables and parameters in the expression.</li><li><code>simprobe</code> - Function to allow probing of values within a sibling instance during simulation in analog context.<br /><br />Signature:<br /><br /><code>$simprobe( &lt;inst_name&gt; (string), &lt;param_name&gt; (string), [ optional real valued expression ] )</code><br /><br />Return value:<br /><br />Double value of the parameter that is probed.&#160;<br /><br />Arguments:<br /><ul><li><code>inst_name</code>&#160;the name of the sibling instance in the current parent instance.</li><li><code>param_name</code>&#160;is the&#160;output variable to be probed in inst_name.</li><li>If a parameter is not found and the <code>optional real valued expression</code> is set, then that would be the output.</li></ul></li><li><span><code>$simprobe$str</code> -&#160;&#160;Function to&#160;allow probing of values within a sibling instance during simulation in analog context.<br /><br />Signature:<br /><br /><code>$simprobe$str( &lt;inst_name&gt; (string), &lt;param_name&gt; (string), [ optional string expression] )</code></span><br /><br />Return value:<br /><br />String value of the parameter that is probed.&#160;<br /><br />Arguments:<br /><ul><li><code>inst_name</code>&#160;the name of the sibling instance in the current parent instance.</li><li><code>param_name</code>&#160;is the&#160;output variable to be probed in inst_name.</li><li>If a parameter is not found and the&#160;<code>optional real valued string</code>&#160;is set, then that would be the output.</li></ul></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Reusing_Mixed-Language_Testbenches.html" id="prev" title="Reusing_Mixed-Language_Testbenches">Reusing_Mixed-Language_Testben ...</a></em></b><b><em><a href="Strength-Based_Interface_Element__SIE_.html" id="nex" title="Strength-Based_Interface_Element__SIE_">Strength-Based_Interface_Eleme ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>