
<html><head><title>Waveforms</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677669010" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Waveforms" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Analog Mixed-Signal,Spectre AMS Designer," />
<meta name="prod_subfeature" content="AMS Designer,AMS Designer," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677669010" />
<meta name="NextFile" content="Displaying_Debug_Settings.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="Automatically-Inserted_Connect_Modules.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Waveforms" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="Automatically-Inserted_Connect_Modules.html" title="Automatically-Inserted_Connect_Modules">Automatically-Inserted_Connect ...</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Displaying_Debug_Settings.html" title="Displaying_Debug_Settings">Displaying_Debug_Settings</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Waveforms</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="Waveforms-simwave"></span><span class="confluence-anchor-link" id="Waveforms-1033909"></span>You can use the SimVision Waveform window to display and analyze waveforms.</p>

<p>This section explains how to open a database, how to probe signals, and how to open the&#160;<span style=""><a class="message-url" href="../Waveform/waveform_data.html">SimVision Waveform window</a>.</span></p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The&#160;objects that you want to probe to a database must have read access. Analog objects have read access, but, by default, Verilog-AMS digital objects in the design do not have read access. Use the<code>&#160;-access +r&#160;</code>option or the<code>&#160;-afile&#160;</code><code>access_file&#160;</code>option when you elaborate the design to provide read access.</p>
</div>
</div>
<h3 id="Waveforms-CreatingaDatabaseandProbingSignals">Creating a Database and Probing Signals</h3>

<p>You can open a database, probe signals, and save the results in the database by typing Tcl commands at the prompt or by using the graphical user interface.&#160;</p>

<p>You also can use a set of system tasks from the digital context to open an&#160;SHM&#160;database, probe signals, and save the results. You must type these system tasks in the Verilog-AMS code prior to simulation. The system tasks are</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><th class="confluenceTh">
<p><span>System task</span></p>
</th><th class="confluenceTh">
<p><span>Description</span></p>
</th></tr>
<tr><td class="confluenceTd">
<p><code><span>$shm_open();</span></code></p>
</td>
<td class="confluenceTd">
<p>Opens a simulation database.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code><span>$shm_probe();</span></code></p>
</td>
<td class="confluenceTd">
<p>Selects signals whose simulation value changes will enter the simulation database.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code>$shm_close;</code></p>
</td>
<td class="confluenceTd">
<p>Closes a simulation database.</p>
</td>
</tr>
</tbody></table></div>

<p>Example:</p>

<p><code> initial<br />&#160;&#160;&#160;&#160;begin<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$shm_open(&quot;waves.shm&quot;);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;$shm_probe();<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;#1 $stop; // stop simulation at time 1<br />&#160;&#160;&#160;&#160;end</code></p>

<p><br /></p>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>When you send signals to the Waveform window and click <em>Run</em>, SimVision creates a probe for every signal in the Waveform window. In this way, you can quickly and easily probe objects.</p>
</div>
</div>

<p><br /></p>
<h3 id="Waveforms-OpeningaDatabasewith$shm_openshm_open1032068">Opening a Database with $shm_open<span class="confluence-anchor-link" id="Waveforms-shm_open"></span><span class="confluence-anchor-link" id="Waveforms-1032068"></span></h3>

<p>Use the<code> $shm_open </code>system task from a digital context to open an&#160;<a href="Glossary.html#Glossary-1034342">SHM</a>&#160;database. You cannot use a database created in this way to save data for analog objects.</p>

<p>Syntax:</p>

<p><code><span>$shm_open ( [&quot; db_name &quot;],[ is_sequence_time ],[ db_size ],[ is_compression ] );</span></code><br />Where,<br />&quot;<code>db_name</code>&quot; specifies the filename of the simulation database. If you do not specify the database name, a database called<code> waves.shm </code>is opened in the current directory.<br /><em><code> is_sequence_time </code></em>dumps all value changes to the database.</p>

<p>By default, when probing to an SHM database, the simulator discards multiple value changes for an object during one simulation time and dumps only the final value at the end of that simulation time. Specify 1 for the<code> is_sequence_time </code>argument if you want to dump all value changes to the SHM database. For example,</p>

<p><code> $shm_open(&quot;mywaves.shm&quot;, 1, , ) ;</code><br /><code> db_size </code>Specifies the maximum size (in bytes) of the transition file (<code>.trn </code>file).</p>

<p>The simulator maintains the size limit by discarding the earliest recorded values as new values are dumped, such that the database always contains the most recent values for each probed object.</p>

<p>When the size limit is exceeded, the waveform window displays an unknown value for each object from the beginning of the simulation to the time of the first non-discarded value.</p>

<p>The SHM database uses about 2.5Mb of disk space, even if you specify a lower limit. However, the database size will not exceed the limit if the limit is greater than 2.5Mb. For example,</p>

<p><code> $shm_open(&quot;mywaves.shm&quot;, 1, 250000,); </code><br /><code> is_compression </code>Compresses the SHM database to reduce its size. The default setting is 0. Specify 1 to compress the database file. For example,</p>

<p><code> $shm_open(&quot;mywaves.shm&quot;, 1, , 1); </code></p>
<h3 id="Waveforms-ProbingSignalswith$shm_probeshm_probe1032088">Probing Signals with $shm_probe<span class="confluence-anchor-link" id="Waveforms-shm_probe"></span><span class="confluence-anchor-link" id="Waveforms-1032088"></span></h3>

<p>The syntax for the<code> $shm_probe </code>system task, which can be used only on digital objects and must be used from a digital context, is</p>

<p><code><span>$shm_probe( scope0 , node0 , scope1 , node1 , ...);</span></code></p>

<p><em><code> scope </code></em>refers to a scope in the hierarchy, and<code> node </code>refers to a node specifier.If<em><code> scope </code></em>is omitted, the default is the current scope. If <em><code>node&#160;</code></em> is omitted, the default is all inputs, outputs, and inouts of the specified scope.</p>

<p>The word<em><code><span style=""> node</span></code></em>, as used here, refers to nodes in a hierarchical structure; it has nothing to do with the word as it is used in analog simulation. A<em><code> node </code></em>can be one of the following:</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><th class="confluenceTh">
<p><span>Node</span></p>
</th><th class="confluenceTh">
<p><span>Signals That Enter the Database</span></p>
</th></tr>
<tr><td class="confluenceTd">
<p><code> &quot;A&quot; </code></p>
</td>
<td class="confluenceTd">
<p>All nodes (including inputs, outputs, and inouts) of the specified scope</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code> &quot;S&quot; </code></p>
</td>
<td class="confluenceTd">
<p>Inputs, outputs, and inouts of the specified scope, and in all instantiations below it, except inside library cells.</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code> &quot;C&quot; </code></p>
</td>
<td class="confluenceTd">
<p>Inputs, outputs, and inouts of the specified scope, and in all instantiations below it, including inside library cells</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code> &quot;AS&quot; </code></p>
</td>
<td class="confluenceTd">
<p>All nodes (including inputs, outputs, and inouts) of the specified scope, and in all instantiations below it, except inside library cells)</p>
</td>
</tr>
<tr><td class="confluenceTd">
<p><code> &quot;AC&quot; </code></p>
</td>
<td class="confluenceTd">
<p>All nodes (including inputs, outputs, and inouts) in the specified scope and in all instantiations below it, even inside library cells)</p>
</td>
</tr>
</tbody></table></div>

<p>For example, the following system task specifies all nodes in the current scope:</p>

<p><code> $shm_probe(&quot;A&quot;); </code></p>

<p>The following system task specifies all inputs, outputs, and inouts in the<code> alu </code>and<code> adder </code>modules:</p>

<p><code> $shm_probe(alu, adder); </code></p>

<p>The following system task specifies all inputs, outputs, and inouts in the current scope and below, excluding those in library cells; as well as all the nodes in the<code> top.alu </code>module and below, including those in library cells.</p>

<p><code> $shm_probe(&quot;S&quot;, top.alu, &quot;AC&quot;); </code></p>
<h3 id="Waveforms-OpeningtheSimVisionWaveformWindow">Opening the SimVision Waveform Window</h3>

<p>When working with waveforms, there are two use models:</p>
<ul><li>Using a Waveform window to&#160;view a post-simulation database&#160;after the simulation ends.</li></ul><ul><li>Using a Waveform window for&#160;interactive waveform display&#160;so that you can view the waveforms as the simulation progresses.</li></ul><h4 id="Waveforms-UsingtheWaveformWindowtoViewaPost-SimulationDatabaseppe1032131">Using the Waveform Window to View a Post-Simulation Database<span class="confluence-anchor-link" id="Waveforms-ppe"></span><span class="confluence-anchor-link" id="Waveforms-1032131"></span></h4>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>When you use SimVision to view a post-simulation database, you are using it in PPE&#160;mode. For more information, see the<em>&#160;SimVision User Guide</em>.</p>
</div>
</div>

<p>To view the waveforms using SimVision after the simulator creates the database, do the following:</p>
<ol><li>Open the viewer by typing<br /><code>simvision -waves</code></li><li>Choose<span style=""><em> File&#160;- Open Database</em>.</span></li><li>In the Open Database browser, navigate to the<code> .trn </code>file for your data.</li><li>Click<span style=""><em> Open</em>.</span></li><li>In the Waveform window, choose<span style=""><em> Windows&#160;- New Design Browser</em>.</span></li><li>In the Design Browser, select the signals you want to display.</li><li>Click<em><span style=""> Send selected object(s) to target waveform window </span></em>to add the signals to the Waveform window.</li></ol><h4 id="Waveforms-UsingtheWaveformWindowforInteractiveWaveformDisplayduringSimulationinteractive1041648">Using the Waveform Window for Interactive Waveform Display during Simulation<span class="confluence-anchor-link" id="Waveforms-interactive"></span><span class="confluence-anchor-link" id="Waveforms-1041648"></span></h4>

<p>To view the waveforms as the simulation progresses, do the following:</p>
<ol><li><span style=""><a class="message-url" href="../DesignBrowser/monitoring_objects.html">Preselect the signals you want to view</a>.</span></li><li><span style=""><a class="message-url" href="../RunningSimVision/controlsimulation.html">Run the simulation</a>.</span></li></ol>
<p>If you do not preselect objects, you can use the Design Browser to probe signals and add them to the Waveform window.</p>
<h5 id="Waveforms-RelatedTopics">Related Topics</h5><ul><li><a href="Managing_Databases.html">Managing Databases</a></li><li><a href="Setting_and_Deleting_Probes.html">Setting and Deleting Probes</a></li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Automatically-Inserted_Connect_Modules.html" id="prev" title="Automatically-Inserted_Connect_Modules">Automatically-Inserted_Connect ...</a></em></b><b><em><a href="Displaying_Debug_Settings.html" id="nex" title="Displaying_Debug_Settings">Displaying_Debug_Settings</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>