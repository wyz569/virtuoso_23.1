
<html><head><title>force</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677669091" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator and Xcelium Simulator with mixed-signal option that supports the Verilog-AMS,  VHDL-AMS, and SystemVerilog-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="force" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="command reference" />
<meta name="prod_feature" content="Analog Mixed-Signal,Digital Mixed-Signal," />
<meta name="prod_subfeature" content="Tcl Commands, Tcl Commands," />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677669091" />
<meta name="NextFile" content="get_analog_param.html" />
<meta name="Group" content="Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="finish.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- force" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simugTOC.html">Contents</a></li><li><a class="prev" href="finish.html" title="finish">finish</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="get_analog_param.html" title="get_analog_param">get_analog_param</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>force</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="force-1033448"></span>&#160;<span class="confluence-anchor-link" id="force-Tcl_force"></span>The Tcl&#160;<code><span style="">force</span></code>&#160;command sets a specified object to a given value and forces it to retain that value until another force is placed on it or until it is released with:</p>
<ul><li>A&#160;<code><a href="release.html">release</a></code>&#160;command</li><li>A&#160;<code><span style="">force -release</span></code>&#160;command</li><li>A&#160;<code><a href="deposit.html">deposit</a></code><code>&#160;-release</code>&#160;command</li></ul>
<p>The new value takes effect immediately, and, in the case of Verilog wires and VHDL signals and ports, the new value propagates throughout the hierarchy before the command returns. Releasing a force causes the value to immediately return to the value that would have been there if the force had not been blocking transactions.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>You cannot use the <code>force</code> command on an analog object or use the <code>force</code> command on digital objects while the analog solver is active.</p>
</div>
</div>

<p>The object cannot be:</p>
<ul><li>A Verilog memory</li></ul><ul><li>A Verilog memory element</li></ul><ul><li>A bit-select or part-select of a Verilog register</li></ul><ul><li>A bit-select or part-select of an unexpanded Verilog wire</li></ul><ul><li>A VHDL variable</li></ul>
<p>For Verilog, a force created by the <code>force</code>&#160;command is identical in behavior to a force created by a Verilog <code>force</code>&#160;procedural statement. The force can be released by a Verilog <code>release</code>&#160;statement or replaced by a Verilog <code>force</code>&#160;statement during subsequent simulation.</p>

<p>The value must be a literal, and the literal is treated as a constant. Even if the literal is generated using value substitution or Tcl&#39;s <code>expr</code>&#160;command, the value is considered to be a constant. The forced value does not change if objects used to generate the literal change value during subsequent simulation.</p>

<p>For VHDL, the value specified with the <code>force</code>&#160;command must match the type and subtype constraints of the VHDL object. Integers, reals, physical types, enumeration types, and strings (including std_logic_vector and bit_vector) are supported. Records and non-character array values are not supported, but objects of these types can be assigned to by issuing commands for each subelement individually.</p>

<p>Forces created by the<code> force </code>command and those created by a Verilog<code> force </code>procedural statements are saved if the simulation is saved.</p>

<p>The<code> force </code>command can also be used on wreals with the following limitations:</p>
<ul><li>The value being forced should be a literal value. The Tcl value substitution (<code>value x</code>) and <code>expr</code>&#160;command (<code>expr 2+3</code>) are supported.</li></ul><ul><li>Out of module references (OOMRs) to wreals that require support of Hierarchical IE optimization and IE insertion in VHDL scope are not supported.</li></ul>
<p>You can apply the <code>force</code>&#160;command on bit-select and part-select of wreal arrays, or on an entire wreal array. In case of part-select, the number of forced values should be equal to the width of part-select. In case of entire wreal arrays, the number of forced values should be equal to the width of the array.</p>

<p>The following net types are supported:</p>
<ul><li>wreal array, explicitly defined in Verilog-AMS<br /><code> module foo();<br /> </code> <code>&#160; wreal ra[3:0];<br /> </code> <code> endmodule </code></li></ul><ul><li>wire vector defined in Verilog-AMS or SystemVerilog file, and coerced to wreal array<br /><code> module top();<br /> </code> <code>&#160; wire [3:0]ra;<br /> </code> <code>&#160; foo inst(ra);<br /> </code> <code> endmodule <br />
      <br />
    </code> <code>module foo();<br /> </code> <code>&#160; wreal ra[3:0];<br /> </code> <code> endmodule </code></li></ul><ul><li>interconnect vector defined in a SystemVerilog file, and coerced to wreal array<br /><code> module top();<br /> </code> <code>&#160; interconnect [3:0]ra;  &lt;&lt;&lt; applying TCL force/release on each bit will be supported<br />
    </code> <code>&#160; foo inst(ra);<br /> </code> <code> endmodule<br />
      <br />
    </code> <code>module foo();<br /> </code> <code>&#160; wreal ra[3:0];<br /> </code> <code> endmodule </code></li></ul>
<p>A wreal net can also be forced to <code>`wrealXState</code>&#160;and <code>`wrealZState.</code></p>

<p>For an SV-UDN net, the forced value overrides all previous forces on the entire SV-UDN structure. The forced value is frozen, and the resolution function result is overridden always, until another force or release command is applied. The forced value is the final value of net, and no resolution function is executed at that time.</p>

<p>You can apply the <code>force</code> command on scalar, whole array, bit-select, or part-select of arrays of SV-UDN. And, you can use order-based or name-based approach to force a value. For the name-based approach, the filed order can be different from that defined in the SV-UDN&#160;net. You can also assign <code>real&#39;z</code> or <code>real&#39;x</code> values to SV-UDN.</p>

<p>A limitation of applying the <code>force</code> command on an SV-UDN net is that you cannot force value on individual/specific fields of the SV-UDT. You must specify all the fields of the SV-UDN structure in the <code>force</code> command.</p>

<p>Additionally, you can use the <code>xm_force</code> system task to assign value on an SV-UDN net. The syntax is: <code>xm_force (&#8220;&lt;name&#8221;, &#8220;value&#8221;)</code>. The &#8220;value&#8221; string should not contain any space; and, for the scalar UDN or bit-selected UDN array, the &#8220;value&#8221; string should not contain <code>{}</code>. For example:</p>

<p><code>$xm_force(&quot;dut.ve[0:1]&quot;, &quot;{V:1.0,R:10,I:real&#39;z}{1.5,real&#39;x,20}&quot;);</code></p>
<h3 id="force-forceCommandSyntax">force Command Syntax</h3>

<p><code>force&#160;<em>&lt;object-name&gt; [=] &lt;value&gt;<br /></em></code></p>

<p><code><em> </em>
  </code></p>
<h3 id="force-forceCommandOptions">force Command Options</h3>

<p>None.</p>
<h3 id="force-forceCommandExamples">force Command&#160;Examples</h3>

<p><span style="">The following examples illustrate use cases for the</span><span style="">&#160;</span><code>force</code><span style="">&#160;</span><span style="">command:</span></p>
<ul><li><a href="#force-force_vams">Digital Verilog-AMS</a></li><li><a href="#force-force_vhdl">VHDL</a></li><li><a href="#force-force_wreal">Wreal</a></li><li><a href="#force-force_svudn">SV-UDN</a></li></ul><h4 id="force-force_vamsDigitalVerilog-AMSExamples"><span class="confluence-anchor-link" id="force-force_vams"></span>Digital Verilog-AMS Examples</h4>

<p>The following command forces object <code>r</code>&#160;to the value <code>`bx.</code> The equal sign is optional.</p>

<p><code> xcelium&gt; force r = `bx </code></p>

<p>The following command uses value substitution. Object<code> x </code>is forced to the current value of w.</p>

<p><code> xcelium&gt; force x = #w </code></p>

<p>The following command uses command substitution and value substitution. Object <code>y</code>&#160;is forced to the result of the Tcl <code>expr</code>&#160;command, which evaluates the expression <code>#r[0] &amp; ~#r[1] </code>using the current value of<code> r.</code></p>

<p><code> xcelium&gt; force y [expr #r[0] &amp; ~#r[1]] </code></p>

<p>The following command shows the error message that is displayed if you run in regression mode and then use the <code>force</code>&#160;command on an object that does not have write access.</p>

<p><code> xcelium&gt; force clrb 1<br />xmsim: *E,RWACRQ: Object does not have read/write access:<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;hardrive.h1.clrb. </code></p>
<h4 id="force-force_vhdlVHDLExamples"><span class="confluence-anchor-link" id="force-force_vhdl"></span><span style="">VHDL Examples</span></h4>

<p>The following command forces object<code> :t_nickel_out </code>(std_logic) to 1. The equal sign is optional.</p>

<p><code> xcelium&gt; force :t_nickel_out = &#39;1&#39; </code></p>

<p>The following command forces object<code> :top:DISPENSE_tempsig </code>(std_logic)<code> to 1. </code></p>

<p><code> xcelium&gt; force :top:DISPENSE_tempsig &#39;1&#39; </code></p>

<p>The following command forces object<code> :t_dimes </code>(std_logic_vector) to 0.</p>

<p><code> xcelium&gt; force :t_DIMES {&quot;00000000&quot;} </code></p>

<p>The following command forces object<code> is_ok </code>(boolean) to TRUE.</p>

<p><code> xcelium&gt; force :is_ok true </code></p>

<p>The following command forces object<code> :count </code>(integer) to 10.</p>

<p><code> xcelium&gt; force :count 10 </code></p>
<h4 id="force-force_wrealWrealExamples"><span class="confluence-anchor-link" id="force-force_wreal"></span>Wreal Examples</h4>

<p>The following command applies the <code>force</code>&#160;command on bit-select of wreal arrays:</p>

<p><code> Time: 100 NS: top.wrvInst.ra = (0,0,0,0)</code> <br /><code>xcelium&gt; force top.wv[3] 1.2</code> <br /><code>Time: 100 NS: top.wrvInst.ra = (1.2,0,0,0)</code></p>

<p>The following command applies the <code>force</code>&#160;command on part-select of wreal arrays:</p>

<p><code> Time: 100 NS: top.wrvInst.ra = (0,0,0,0)</code> <br /><code>xcelium&gt; force top.wrvInst.ra[2:1] {1.5 1.8}</code> <br /><code>Time: 200 NS: top.wrvInst.ra = (0,1.5,0,0)</code> <br /><code>Time: 200 NS: top.wrvInst.ra = (0,1.5,1.8,0)</code></p>

<p>The following command applies the force command on an entire wreal array:</p>

<p><code> Time: 100 NS: top.wrvInst.ra = (0,0,0,0)</code> <br /><code>xcelium&gt; force top.wrvInst.ra {1.8 1.6 1.4 1.2}</code> <br /><code>Time: 100 FS: top.wrvInst.ra = (1.8,0,0,0)</code> <br /><code>Time: 100 FS: top.wrvInst.ra = (1.8,1.6,0,0)</code> <br /><code>Time: 100 FS: top.wrvInst.ra = (1.8,1.6,1.4,0)</code> <br /><code>Time: 100 FS: top.wrvInst.ra = (1.8,1.6,1.4,1.2)</code></p>

<p>The following command forces the wreal net <code>top.wrvInst.r </code>to a value<code> real&#39;x.</code></p>

<p><code> xcelium&gt; force top.wrvInst.r=real&#39;x </code></p>

<p>The following command forces the wreal net <code>top.wrvInst.r </code>to a value<code> real&#39;z.</code></p>

<p><code> xcelium&gt; force top.wrvInst.r=real&#39;z </code></p>

<p>The following command forces wreal net <code>top.wrvInst.ra</code>&#160;to `<code> wrealXState</code>&#160;and <code>`wrealZState.</code></p>

<p><code> xcelium&gt; force top.wrvInst.ra {real&#39;x 1.6 1.4 real&#39;z}</code> <br /><code>Time: 100 NS: top.wrvInst.ra = (`wrealXState,0,0,0)</code> <br /><code>Time: 100 NS: top.wrvInst.ra = (`wrealXState,1.6,0,0)</code> <br /><code>Time: 100 NS: top.wrvInst.ra = (`wrealXState,1.6,1.4,0)</code> <br /><code>Time: 100 NS: top.wrvInst.ra = (`wrealXState,1.6,1.4,`wrealZState)</code></p>
<h4 id="force-force_svudnSV-UDNExamples"><span class="confluence-anchor-link" id="force-force_svudn"></span>SV-UDN Examples</h4>

<p>The following example illustrates the SV-UDN structure and how the force command applies a name-based value to a scalar net. Values 1.2, real&#8217;z, and 500 are forced on real variable V, I, and R, respectively.</p>

<p><code>typedef struct {</code> <br /><code> real V;</code> <br /><code> real I;</code> <br /><code> real R;</code> <br /><code>} EEstruct;</code> <br /><br /><code>Time: 0 FS: tb.ve = (&#39;{V:0, I:0, R:1e+06},&#39;{V:0, I:0, R:1e+06},&#39;{V:0, I:0, R:1e+06})</code> <br /><code>Time: 0 FS: tb.e = &#39;{V:0, I:0, R:1e+06}</code></p>

<p><code>xcelium&gt; force tb.e {V:1.2, I:real&#39;z, R:500}; </code> <br /><code>Time: 40 NS: tb.e = &#39;{V:1.2, I:`wrealZState, R:500}</code></p>

<p>The following example illustrates how the <code>force</code> command applies value on bit-select of an array with order-based value. Values 1.2, real&#8217;z, and 50 are forced on real variable V, I, and R, respectively in the order in which it is declared in the structure:</p>

<p><code>xcelium&gt; force tb.ve[1] {1.2, real&#39;z, 50}</code></p>

<p><code>Time: 40 NS: tb.ve = (&#39;{V:0, I:0, R:1e+06},&#39;{V:1.2, I:`wrealZState, R:50},&#39;{V:0, I:0, R:1e+06})</code></p>

<p>The following example applies the force command on part-select of an array:</p>

<p><code># Part-Selected</code> <br /><code>xcelium&gt; force tb.ve[2:1] {{V:1.0, R:10, I:real&#39;z} {1.5, real&#39;x, 20}} //named-based and order-based approach</code></p>

<p><code>Time: 60 NS: tb.ve = (&#39;{V:1, I:`wrealZState, R:10},&#39;{V:1.2, I:`wrealZState, R:50},&#39;{V:0, I:0, R:1e+06})</code></p>

<p><code>Time: 60 NS: tb.ve = (&#39;{V:1, I:`wrealZState, R:10},&#39;{V:1.5, I:`wrealXState, R:20},&#39;{V:0, I:0, R:1e+06})</code></p>
<h5 id="force-RelatedTopics">Related Topics</h5><ul><li><a href="Access_to_Digital_Simulation_Objects.html">Enabling Read, Write, or Connectivity Access to Digital Simulation Objects</a></li><li>
<p><a class="external-link" href="https://support.cadence.com/apex/techpubDocViewerPage?xmlName=debugging.xml&amp;title=Xcelium:%20Command-Line%20Debug%20--%20Forcing%20and%20Releasing%20Signal%20Values%20-%20Command-Line%20Debug%20:%20Forcing%20and%20Releasing%20Signal%20Values&amp;hash=&amp;c_version=21.09&amp;path=Debugging/Debugging21.09/Forcing_and_Releasing_Signal_Values.html" rel="nofollow">Forcing and Releasing Signal Values</a></p>
</li><li>
<p>Basics of Tcl appendix in<em> <span style=""> Cadence Verilog Simulation User Guide</span></em></p>
</li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="finish.html" id="prev" title="finish">finish</a></em></b><b><em><a href="get_analog_param.html" id="nex" title="get_analog_param">get_analog_param</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>