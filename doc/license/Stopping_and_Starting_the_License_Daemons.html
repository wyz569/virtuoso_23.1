
<html><head><title>Stopping and Starting the License Daemons</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="priyaej" />
<meta name="CreateDate" content="2023-04-05" />
<meta name="CreateTime" content="1680693788" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Cadence License Manager" />
<meta name="DocTitle" content="Cadence License Manager" />
<meta name="DocType" content="Installation" />
<meta name="FileTitle" content="Stopping and Starting the License Daemons" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="license" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-04-05" />
<meta name="ModifiedTime" content="1680693788" />
<meta name="NextFile" content="Changing_the_License_File.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools," />
<meta name="PrevFile" content="Monitoring_Licensing.html" />
<meta name="c_product" content="Cadence Shared Tools," />
<meta name="Product" content="Cadence Shared Tools," />
<meta name="ProductFamily" content="Cadence Shared Tools," />
<meta name="ProductVersion" content="22.01" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Cadence License Manager -- Stopping and Starting the License Daemons" />
<meta name="Version" content="22.01" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="license1212" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.030" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="licenseTOC.html">Contents</a></li><li><a class="prev" href="Monitoring_Licensing.html" title="Monitoring_Licensing">Monitoring_Licensing</a></li><li style="float: right;"><a class="viewPrint" href="license.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Changing_the_License_File.html" title="Changing_the_License_File">Changing_the_License_File</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Cadence License Manager<br />Product Version 22.01, April 2023</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Stopping and Starting the License Daemons</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p>You need to stop and restart the license daemons</p>
<ul><li>After you modify</li></ul><ul><ul><li>The path to the license file</li></ul></ul><ul><ul><li>The host name or port number in the license file</li></ul></ul><ul><ul><li>The <a href="Managing_Licenses.html"> <span style="font-family: Courier New;font-size: small;">options</span> </a> file</li></ul></ul><ul><li>To start a <a href="Monitoring_Licensing.html">new debug log file</a></li></ul>
<p> You must stop the license daemons carefully to prevent loss of users&#39; data.</p>
<ul><li><span style=""> <u> <a href="#StoppingandStartingtheLicenseDaemons-stoplicdem">Stopping the License Daemons</a> </u> </span></li></ul><ul><li><span style=""> <u> <a href="#StoppingandStartingtheLicenseDaemons-startlicdem">Starting the License Daemons</a> </u> </span></li></ul><h3 id="StoppingandStartingtheLicenseDaemons-StoppingtheLicenseDaemons">Stopping the License Daemons</h3>

<p><span class="confluence-anchor-link" id="StoppingandStartingtheLicenseDaemons-stoplicdem"></span></p>

<p>If you are not the owner of the daemon, you will need to be <span style="font-family: Courier New;font-size: small;">root</span> or be listed in <span style="font-family: Courier New;font-size: small;">lmadmin</span> group or group <span style="font-family: Courier New;font-size: small;">0</span> in <span style="font-family: Courier New;font-size: small;">/etc/group</span> or <span style="font-family: Courier New;font-size: small;">NIS</span> or its equivalent to stop the daemons.</p>
<div>
<p><br /></p>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p><span style="font-size: medium;"> Ensure that you stop and restart the license manager during low activity time. Do <strong>not</strong> use the <span style="font-family: Courier New;font-size: small;">-9</span> option of the <span style="font-family: Courier New;font-size: small;">kill</span> command. </span></p>
</div>
</div>

<p><br /></p>
</div>

<p>Follow these steps to stop the daemons.</p>
<ul><li>Notify users that you are terminating the license daemons so that they can exit the products properly.</li><li> Verify that no users are accessing FlexNet licenses.</li></ul>
<p><br /><span style="font-family: Courier New;font-size: small;"> cd <span style="font-family: Courier New;font-size: small;"> <em>install_dir</em> </span>/tools/bin<br />./lmstat -a -c <span style="font-family: Courier New;font-size: small;"> <em>license_file</em> </span> </span></p>
<ul><li>Terminate the licensing daemons.</li></ul>
<p><br /><span style="font-family: Courier New;font-size: small;"> ./lmdown -c <span style="font-family: Courier New;font-size: small;"> <em>license_file</em> </span> </span></p>

<p><span style=""> <strong>Note: </strong> </span>  You only need to execute <span style="font-family: Courier New;font-size: small;">lmdown</span> on one node of a license fault tolerant system.</p>

<p>The <span style="">lmdown<span style=""> </span></span>utility shuts down ALL license daemons in the specified license file. If you do not specify a license file and you have multiple license files in your path,</p>

<p><span style="font-family: Courier New;font-size: small;">lmdown </span>shuts down ALL license daemons in all license files. The license daemons write their last messages to the debug log file, close the file, and exit. All licenses granted by those daemons return to the license pool. If an application is still running when you terminate the license daemons, the next time the client program tries to verify its license, the license will not be valid.</p>

<p>Only use your operating system&#39;s <span style="">kill<span style=""> </span></span>command if <span style="">lmdown<span style=""> </span></span>does not work. If you started <span style="">lmgrd<span style=""> </span></span>with lmgrd <span style="">-2 -p -x lmdown</span>, you cannot use <span style="">lmdown<span style=""> </span></span>to shut the daemons down.</p>
<ul><li>Verify that the license daemons are no longer running.</li></ul>
<p><span style="font-family: Courier New;font-size: small;"> ./lmstat -a -c <span style="font-family: Courier New;font-size: small;"> <em>license_file</em> </span> <em> </em> </span></p>

<p>Go to <a href="#StoppingandStartingtheLicenseDaemons-startlicdem">Starting the License Daemons</a></p>
<h3 id="StoppingandStartingtheLicenseDaemons-StartingtheLicenseDaemons">Starting the License Daemons</h3>

<p><span class="confluence-anchor-link" id="StoppingandStartingtheLicenseDaemons-startlicdem"></span></p>

<p>If you have multiple license servers, restart the license daemons on each license server that you have shut down.</p>

<p> To restart the license daemons, follow these steps.</p>
<ul><li>Verify that the daemons are not running.<br /><span style="font-family: Courier New;font-size: small;">cd <span style="font-family: Courier New;font-size: small;"> <em>install_dir</em> </span>/tools/bin</span><br /><span style="font-family: Courier New;font-size: small;">./lmstat -c <span style="font-family: Courier New;font-size: small;"> <em>license_file</em> </span> <em> </em>-a</span></li><li>If the license daemons are running,&#160;<a href="#StoppingandStartingtheLicenseDaemons-stoplicdem">stop the daemons</a><span style="">.</span></li></ul><div>
<p><br /></p>
<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p><span style="font-size: medium;"> Ensure that you stop and restart the license manager during low activity time. Do <strong>not</strong> use the <span style="font-family: Courier New;font-size: small;">-9</span> option of the <span style="font-family: Courier New;font-size: small;">kill</span> command. </span></p>
</div>
</div>

<p><br /></p>
</div>
<ul><li>Start the license daemons.<ul><li>You must have write permission to the log file to start the license daemons.</li><li>The license server must be started with the <code>-c &lt;<em>license_file</em>&gt;</code> option. The license file specified using <code>LM_LICENSE_FILE</code> or the default path &quot;<code>/usr/local/flexlm/licenses/license.dat</code>&quot; are not supported for starting the server.</li><li>If the <span style="font-family: Courier New;font-size: small;">/etc/rc.lic</span> script starts the license daemons, type <br /><span style="font-family: Courier New;font-size: small;"> /etc/<a href="Configuring_Licensing.html"> <span style="">rc.lic</span> </a> </span></li><li>If you did not create the script to start the license daemons, type <br /><span style="font-family: Courier New;font-size: small;"> nohup lmgrd -c <span style="font-family: Courier New;font-size: small;"> <em>license_file</em> </span> &gt; /usr/tmp/license.log &amp;</span></li></ul></li></ul><p style="margin-left: 120.0px;"><span style=""> This command starts the license daemons using <span style="font-family: Courier New;font-size: small;"> <em>license_file</em> </span>, records the licensing activity in <span style="font-family: Courier New;font-size: small;">/usr/tmp/license.log</span>, and runs in the background. </span></p>
<ol><ul><li>Check the log file for error messages. <br /><span style=""> If you see the following message in the license log file, <br /><span style="font-family: Courier New;font-size: small;">/usr/tmp/license.log</span>, another license daemon is probably running.</span></li></ul></ol><p style="margin-left: 90.0px;"><span style="font-family: Courier New;font-size: small;"> ERROR: <span style="font-family: Courier New;font-size: small;"> <em>date</em> </span> <span style="font-family: Courier New;font-size: small;"> <em>time</em> </span> (cdslmd) Retrying socket bind (address in use)</span></p>
<p style="margin-left: 60.0px;"><span style=""> &#160;Depending on the settings on your machine, sometimes take as long as five minutes to close a port after you have shut down the daemons. Wait and try again.</span></p>
<ul><li>Verify that the license daemons are up and running.</li></ul><p style="margin-left: 60.0px;"><span style="font-family: Courier New;font-size: small;"> ./lmstat -a -c <span style="font-family: Courier New;font-size: small;"> <em>license_file</em> </span> </span></p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Monitoring_Licensing.html" id="prev" title="Monitoring_Licensing">Monitoring_Licensing</a></em></b><b><em><a href="Changing_the_License_File.html" id="nex" title="Changing_the_License_File">Changing_the_License_File</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>