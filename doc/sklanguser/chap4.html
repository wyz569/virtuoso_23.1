
<html><head><title>Data Structures</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-08-23" />
<meta name="CreateTime" content="1692797222" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the SKILL language to new users and helps them understand advanced topics, encourages sound SKILL programming methods, and introduces the SKILL++ language" />
<meta name="DocTitle" content="Cadence SKILL Language User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Data Structures" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="sklanguser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-08-23" />
<meta name="ModifiedTime" content="1692797222" />
<meta name="NextFile" content="chap5.html" />
<meta name="Group" content="SKILL Language" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="chap3.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="SKILL" />
<meta name="ProductFamily" content="SKILL" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Cadence SKILL Language User Guide -- Data Structures" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="sklanguserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="sklanguserTOC.html">Contents</a></li><li><a class="prev" href="chap3.html" title="Creating Functions in SKILL">Creating Functions in SKILL</a></li><li style="float: right;"><a class="viewPrint" href="sklanguser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="Arithmetic and Logical Expressions">Arithmetic and Logical Express ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Cadence SKILL Language User Guide<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1005655"></a></h1>
<h1>
<a id="pgfId-1008199"></a><hr />
<a id="36255"></a>Data Structures<hr />
</h1>

<p>
<a id="pgfId-1009671"></a>For information on data structures and related topics, see the following sections:</p>
<ul><li>
<a id="pgfId-1009793"></a><a href="chap4.html#26118">Access Operators</a>  </li><li>
<a id="pgfId-1009795"></a><a href="chap4.html#93665">Symbols</a>  </li><li>
<a id="pgfId-1009809"></a><a href="chap4.html#25541">Disembodied Property Lists</a>  </li><li>
<a id="pgfId-1009815"></a><a href="chap4.html#14249">Strings</a>  </li><li>
<a id="pgfId-1009833"></a><a href="chap4.html#20000">Defstructs</a>  </li><li>
<a id="pgfId-1009843"></a><a href="chap4.html#45389">Arrays</a>  </li><li>
<a id="pgfId-1009849"></a><a href="chap4.html#36049">Association Tables</a>  </li><li>
<a id="pgfId-1009861"></a><a href="chap4.html#25069">Association Lists</a>  </li><li>
<a id="pgfId-1009863"></a><a href="chap4.html#22060">User-Defined Types</a>  </li></ul>









<h2>
<a id="pgfId-1008203"></a><a id="26118"></a>Access Operators</h2>

<p>
<a id="pgfId-1008206"></a>Several of the data <a id="marker-1008204"></a>access <a id="marker-1008205"></a>operators have a generic nature. That is, the syntax of accessing data for different data types can be the same. You can view the arrow operator as being a property accessor and the array reference operator [ ] as an indexer. The operators described below are used in examples throughout this chapter.</p>

<h4>
<a id="pgfId-1008207"></a>Arrow (-&gt;) Operator</h4>

<p>
<a id="pgfId-1008208"></a>The arrow (-&gt;) operator can be applied to disembodied property lists, defstructs, association tables, and user types (special application-supplied types) to access property values. The property must always be a symbol and the value of the property can be any valid Cadence&#174; SKILL language type.</p>

<h4>
<a id="pgfId-1008209"></a>Squiggle Arrow (~&gt;) Operator </h4>

<p>
<a id="pgfId-1008210"></a>The squiggle arrow (~&gt;) operator is a generalization of the arrow operator. It works the same way as an arrow operator when applied directly to an object, but it can also accept a list of such objects. It walks the list applying the arrow operator whenever it finds an atomic object.</p>
<p>
<a id="pgfId-1014425"></a>The underlying functions for ~&gt; operator are the <code>setSGq</code> and <code>getSGq</code> functions, which set and retrieve the value of an attribute or a property. For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014426"></a>setSGq(obj value prop)&#160;&#160;           ; is equivalent to:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014379"></a>obj~&gt;prop=value</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014446"></a>a=getSGq(obj prop)&#160;&#160;               ; is equivalent to:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014450"></a>a=obj~&gt;prop</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014519"></a>info=getSGq(cvId objType)&#160;&#160;        ; is equivalent to:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014616"></a>info=cvId~&gt;objType</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014617"></a>setSGq(rect list(10:10 100:120) bBox) ; is equivalent to:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014618"></a>rect~&gt;bBox=list(10:10 100:120)</pre>
<h4>
<a id="pgfId-1008211"></a>Array Access Syntax [ ]</h4>

<p>
<a id="pgfId-1008214"></a>The <a id="marker-1008212"></a>array <a id="marker-1008213"></a>access syntax [ ] can be used to access </p>
<ul><li>
<a id="pgfId-1008215"></a>Elements of an array</li><li>
<a id="pgfId-1008216"></a>Key-value pairs in an association list</li></ul>


<h2>
<a id="pgfId-1008218"></a><a id="93665"></a>Symbols</h2>

<p>
<a id="pgfId-1008222"></a>S<a id="marker-1008219"></a>ymbols in <a id="Symbols"></a>SKILL correspond to variables in <a id="marker-1008221"></a>C. In SKILL, the terms &#8220;symbol&#8221; and &#8220;variable&#8221; are often used interchangeably even though symbols in SKILL are used for other things as well. Each symbol has the following components: </p>
<ul><li>
<a id="pgfId-1008223"></a>Print name</li><li>
<a id="pgfId-1008224"></a>Value</li><li>
<a id="pgfId-1008225"></a>Function binding</li><li>
<a id="pgfId-1008226"></a>Property list</li></ul>



<p>
<a id="pgfId-1008227"></a>Except for the name slot, all slots can be optionally empty. It is not advisable to give symbols both a value and a function binding.</p>

<h3>
<a id="pgfId-1008228"></a>Creating Symbols</h3>

<p>
<a id="pgfId-1008230"></a>The system creates a <a id="marker-1008229"></a>symbol whenever it encounters a text reference to the symbol for the first time. When the system creates a new symbol, the value of the symbol is set to <em>unbound</em>.</p>
<p>
<a id="pgfId-1008231"></a>Normally, you do not need to explicitly create symbols. However, the following functions let you create symbols.</p>

<h4>
<a id="pgfId-1008233"></a>Creating a Symbol with a Given Base Name (<a id="marker-1008232"></a>gensym) </h4>

<p>
<a id="pgfId-1008234"></a>Use the <em>gensym</em> function to create a symbol with a given base name. The system determines the index appended to the base name to ensure that the symbol is new. The <em>gensym</em> function returns the newly created symbol, which has the value <em>unbound. </em>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008235"></a>gensym( &#39;net ) =&gt; net2</pre>
<h4>
<a id="pgfId-1008237"></a>Creating a Symbol from Several Strings (<a id="marker-1008236"></a>concat)</h4>

<p>
<a id="pgfId-1008238"></a>Use the <em>concat</em> function to create a symbol when you need to build the name from several strings.</p>

<h3>
<a id="pgfId-1008239"></a>The Print Name of a Symbol</h3>

<p>
<a id="pgfId-1008242"></a>Symbol names can contain alphanumeric characters (a-z, A-Z, 0-9), the underscore (_) character, and the question mark (?). If the first character of a symbol is a digit, it must be preceded by the backslash character (\). Other printable characters can be used in symbol names by preceding each special character with a backslash.<a id="marker-1008240"></a><a id="marker-1008241"></a> </p>

<h4>
<a id="pgfId-1008244"></a>Retrieving the Print Name of a Symbol (<em></em><a id="marker-1008243"></a>get_pname)</h4>

<p>
<a id="pgfId-1008245"></a>Use the <em>get_pname</em> function to retrieve the print name of a symbol. This function is most useful in a program that deals with a variable whose value is a symbol. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008246"></a>location = &#39;U235<br />get_pname( location ) =&gt; &quot;U235&quot;</pre>
<h3>
<a id="pgfId-1008247"></a>The Value of a Symbol</h3>

<p>
<a id="pgfId-1008249"></a>The value of a <a id="marker-1008248"></a>symbol can be any type, including the type <em>symbol</em>.</p>

<h4>
<a id="pgfId-1008250"></a>Assigning a Symbol&#8217;s Value</h4>

<p>
<a id="pgfId-1008251"></a>Use the = operator to assign a value to a symbol. The <em>setq</em> function corresponds to the = operator. The following are equivalent.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008252"></a>U235 = 100<br />setq( U235 100 )</pre>
<h4>
<a id="pgfId-1008254"></a><a id="marker-1008253"></a>Retrieving a Symbol&#8217;s Value</h4>

<p>
<a id="pgfId-1008255"></a>Refer to the symbol&#8217;s name to retrieve its value.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008256"></a>U235 =&gt; 100</pre>
<h4>
<a id="pgfId-1008258"></a>Using the<a id="marker-1008257"></a> Quote Operator with a Symbol</h4>

<p>
<a id="pgfId-1008259"></a>If you need to refer to a symbol itself instead of its value, use the quote operator. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008260"></a>location = &#39;U235 =&gt; U235</pre>
<h4>
<a id="pgfId-1008262"></a>Storing a Symbol&#8217;s Value Indirectly (<a id="marker-1008261"></a>set)</h4>

<p>
<a id="pgfId-1008263"></a>You can assign a value indirectly to a symbol with the <em>set</em> function. There is no operator that corresponds to the <em>set</em> function. The following assigns 200 to the symbol <em>U235</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008264"></a>set( location 200 )</pre>
<h4>
<a id="pgfId-1008266"></a>Retrieving a Symbol&#8217;s Value Indirectly (<a id="marker-1008265"></a>symeval)</h4>

<p>
<a id="pgfId-1008267"></a>You can retrieve a symbol&#8217;s value indirectly with the <em>symeval</em> function. There is no operator that corresponds to the <em>symeval</em> function.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008268"></a>symeval( location ) =&gt; 200</pre>
<h4>
<a id="pgfId-1008269"></a>Global and Local Values for a Symbol</h4>

<p>
<a id="pgfId-1008270"></a>Global and local variables and function parameters are handled differently in SKILL than they are in <a id="marker-1008271"></a>C and <a id="marker-1008272"></a>Pascal.</p>
<p>
<a id="pgfId-1008273"></a>SKILL uses symbols for both global and local variables. A symbol&#8217;s current value is accessible at any time from anywhere. SKILL manages a symbol&#8217;s value slot transparently as if it were a stack. The current value of a symbol is the top of the stack. Assigning a value to a symbol changes only the top of the stack. Whenever the flow of control enters a <em>let</em> or <em>prog</em> expression, the system pushes a temporary value onto the value stack of each symbol in the local variable list. </p>

<h3>
<a id="pgfId-1008274"></a>The Function Binding of a Symbol</h3>

<p>
<a id="pgfId-1008275"></a>When you declare a SKILL function, the system uses the function&#8217;s name to determine a symbol to hold the function definition. The function definition is stored in the function slot. </p>
<p>
<a id="pgfId-1008276"></a>If you are redefining the function, the same symbol is reused and the previous function definition is discarded. </p>
<p>
<a id="pgfId-1008277"></a>Unlike the symbol&#8217;s value slot, the symbol&#8217;s function slot is not affected when the flow of control enters or exits <em>let</em> or <em>prog</em> expressions.</p>

<h3>
<a id="pgfId-1008279"></a><a id="36411"></a>The Property List of a Symbol</h3>

<p>
<a id="pgfId-1008281"></a>A <em>property list</em> is a list containing property name/value pairs. Each name/value pair is stored as two consecutive elements on a property list. The <em>property</em><a id="marker-1008280"></a> <em>name</em>, which must be a symbol, comes first. The <em>property value</em>, which can be of any data type, comes next. </p>
<p>
<a id="pgfId-1008282"></a>When a symbol is created, SKILL automatically attaches to it a property list initialized to <em>nil</em>. A symbol property list can be accessed in the same way structures or records are accessed in C or Pascal, by using the dot operator and arrow operators.<a id="marker-1008283"></a><a id="marker-1008284"></a></p>

<h4>
<a id="pgfId-1008286"></a>Setting a Symbol&#8217;s Property List (<a id="marker-1008285"></a>setplist)</h4>

<p>
<a id="pgfId-1008287"></a>The <em>setplist</em> function sets a symbol&#8217;s property list. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008288"></a>setplist( &#39;U235 &#39;( x 200 y 300 ) ) =&gt; ( x 200 y 300 )</pre>
<h4>
<a id="pgfId-1008290"></a>Retrieving a Symbol&#8217;s Property Lst (<a id="marker-1008289"></a>plist)</h4>

<p>
<a id="pgfId-1008291"></a>The <em>plist</em> function returns the property list associated with a symbol.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008292"></a>plist( &#39;U235 ) =&gt; ( x 200 y 300 )</pre>
<h4>
<a id="pgfId-1008294"></a>Using the <a id="marker-1008293"></a>Dot Operator to Retrieve Symbol Properties</h4>

<p>
<a id="pgfId-1008296"></a>The <a id="marker-1008295"></a>dot (.) operator gives you a simple way of accessing properties stored on a symbol&#8217;s property list. The dot operator cannot be nested, and both the left and right sides of the dot operator must be symbols. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008297"></a>U235.x =&gt; 200</pre>

<p>
<a id="pgfId-1008299"></a>The <em>getqq</em><a id="marker-1008298"></a> function implements the dot operator. For example, the following behave identically.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008300"></a>U235.x <br />getqq( U235 x )</pre>

<p>
<a id="pgfId-1008301"></a>The <em>qq</em> suffix informally indicates that both arguments are implicitly quoted.</p>
<p>
<a id="pgfId-1008302"></a>If you ask for the value of a particular property on a symbol and the property does not exist on the symbol&#8217;s property list, <em>nil</em> is returned.</p>

<h4>
<a id="pgfId-1008303"></a>Using the Dot and Assignment Operators to Store Symbol Properties</h4>

<p>
<a id="pgfId-1008305"></a>If you assign<a id="marker-1008304"></a> a value to a property that does not exist, that property is created and put on the property list.</p>

<h4>
<a id="pgfId-1008307"></a>Using the <a id="marker-1008306"></a>arrow operator toRetrieve Symbol Properties</h4>

<p>
<a id="pgfId-1008308"></a>The arrow ( -&gt; ) operator gives you a simple way of indirectly accessing properties stored on a symbol&#8217;s property list. The <em>getq</em> function implements the arrow operator. Both the left and right sides of the -&gt; operator must be symbols. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008309"></a>designator = &#39;U235<br />U235.x = 200 <br />U235.y = 300<br />designator-&gt;x =&gt; 200<br />designator-&gt;y =&gt; 300</pre>
<h4>
<a id="pgfId-1008310"></a>Using the Arrow Operator and the Assignment Operator to Store Symbol Properties</h4>

<p>
<a id="pgfId-1008311"></a>The arrow ( -&gt; ) operator and the assignment ( = ) operator work together to provide a simple way of indirectly storing properties on a symbol&#8217;s property list. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008312"></a>designator-&gt;x = 250<br />U235.x =&gt; 250</pre>

<p>
<a id="pgfId-1008314"></a>The <em>putpropq</em><a id="marker-1008313"></a> function implements both the arrow operator and the assignment operator. For example, the following behave identically.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008315"></a>designator-&gt;x = 250<br />putpropq( designator 250 x )</pre>
<h3>
<a id="pgfId-1008317"></a><a id="18488"></a>Important Symbol Property List Considerations</h3>

<p>
<a id="pgfId-1008320"></a>Property lists<a id="Important Symbol"></a> attached to <a id="marker-1008319"></a>symbols are <em>globally visible to all applications</em>. Whenever you pass a symbol to a function, that function can add or alter properties on that symbol&#8217;s property list.</p>
<p>
<a id="pgfId-1008321"></a>In the following example, even though the sample property is established within a <em>let</em> expression, it is still available outside the <em>let</em> expression. In other words, when the flow of control enters and subsequently exits a <em>let</em> or <em>prog</em> expression, the property lists of local symbols are not affected.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008322"></a>x = 0<br />let( ( x ) <br />      x = 2 <br />      x.example = 5 <br />      ) ; let<br />x =&gt; 0<br />plist( &#39;x ) =&gt; (example 5)</pre>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1008323"></a>
If you want to use symbol property lists to pass data from one function to another, you must make sure you choose unique names to avoid possible name collisions with other applications. Use setplist with caution because you might inadvertently destroy properties of importance to other applications.</div>
<h2>
<a id="pgfId-1008324"></a><a id="25541"></a>Disembodied Property Lists</h2>

<p>
<a id="pgfId-1008327"></a>A <a id="marker-1008325"></a>disembodied property list<a id="marker-1008326"></a> is logically equivalent to a record. Unlike C structures or Pascal records, new fields can be dynamically added or removed. The arrow operator (-&gt;) can be used to store and retrieve properties in a disembodied property list.</p>
<p>
<a id="pgfId-1008328"></a>A disembodied property list starts with a SKILL data object, usually <em>nil</em>, followed by alternating name/value pairs. The property names must satisfy the SKILL symbol syntax to be visible to the arrow operator. The first element of the disembodied list does not have to be <em>nil</em>. It can be any SKILL data object. </p>
<p>
<a id="pgfId-1008329"></a>In the following example, a disembodied property list is used to represent a complex number.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008330"></a>procedure( trMakeComplex( @key ( real 0 ) ( imaginary 0 ) )<br />      let( ( result )<br />            result = ncons(nil)<br />            result-&gt;real = real <br />            result-&gt;imaginary = imaginary<br />            result <br />      ) ; let<br />) ; procedure</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1009477"></a>complex1 = trMakeComplex( ?real 2 ?imaginary 3 )<br />      =&gt; (nil imaginary 3 real 2)<br />complex2 = trMakeComplex( ?real 4 ?imaginary 5 )<br />      =&gt; (nil imaginary 5 real 4)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008332"></a>i = trMakeComplex( ?imaginary 1 )<br />      =&gt; (nil imaginary 1 real 0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008333"></a>procedure( trComplexAddition( cmplx1 cmplx2 )<br />      trMakeComplex( <br />            ?real        cmplx1-&gt;real + cmplx2-&gt;real <br />            ?imaginary   cmplx1-&gt;imaginary + cmplx2-&gt;imaginary<br />      )<br />) ; procedure<br />
procedure( trComplexMultiplication( cmplx1 cmplx2 )
&#160;&#160;    trMakeComplex( <br />            ?real<br />                  cmplx1-&gt;real * cmplx2-&gt;real -<br />                  cmplx1-&gt;imaginary * cmplx2-&gt;imaginary<br />            ?imaginary<br />                  cmplx1-&gt;imaginary * cmplx2-&gt;real +<br />                  cmplx1-&gt;real * cmplx2-&gt;imaginary<br />      ) <br />) ; procedure</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008334"></a>trComplexMultiplication( i i ) =&gt; (nil imaginary 0 real -1)</pre>

<p>
<a id="pgfId-1008335"></a>In several circumstances using a disembodied property list to represent a record has advantages over using a symbol&#8217;s property list.</p>
<ul><li>
<a id="pgfId-1008336"></a>An appropriate symbol to which you can attach a property list might not be available. For example, no symbol exists for complex numbers in the example above.</li><li>
<a id="pgfId-1008337"></a>If you create a symbol for each record your application tracks and your application requires many records, SKILL will have a lot of extra symbols to manage.</li><li>
<a id="pgfId-1008338"></a>It is easier to pass a disembodied property list as a parameter than it is to pass a symbol as a parameter.</li></ul>


<p>
<a id="pgfId-1008339"></a>You can store a disembodied property list as the value of a symbol without affecting the symbol&#8217;s property list. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008340"></a>setplist( &#39;x &#39;( example 0.5 ))<br />x = complex1     =&gt; (nil imaginary 3 real 2)<br />plist( &#39;x )&#160;&#160;    =&gt; ( example 0.5 )</pre>
<h3>
<a id="pgfId-1008341"></a>Important Considerations</h3>

<p>
<a id="pgfId-1008342"></a>Be careful when you are assigning disembodied property lists to variables. </p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1008343"></a>
Property list functions that modify property lists modify the original list structures directly. If the property list is not to be shared, use the copy function to make a copy of the original property list.</div>

<p>
<a id="pgfId-1008344"></a>This caution applies in general to assigning lists as values. Internally, SKILL uses pointers to the lists in virtual memory. For example, as a result of the following assignment</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008345"></a>complex1 = complex2</pre>

<p>
<a id="pgfId-1008346"></a>both symbols <em>complex1</em> and <em>complex2</em> refer to the same list in virtual memory. Using the arrow operator to modify the <em>real</em> or <em>imaginary</em> properties of <em>complex2</em> is reflected in <em>complex1</em>. </p>
<p>
<a id="pgfId-1008347"></a>Notice that </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008348"></a>complex1 == complex2     =&gt; t<br />eq( complex1 complex2 )&#160;&#160;=&gt; t</pre>

<p>
<a id="pgfId-1008349"></a>To avoid this problem, perform the assignment as follows.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008350"></a>complex1 = copy( complex2 )</pre>

<p>
<a id="pgfId-1008351"></a>Notice that </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008352"></a>complex1 == complex2     =&gt; t<br />eq( complex1 complex2 )&#160;&#160;=&gt; nil</pre>
<h3>
<a id="pgfId-1008353"></a>Additional Property List Functions</h3>
<h4>
<a id="pgfId-1008355"></a>Adding Properties to Symbols or Disembodied Property Lists (<a id="marker-1008354"></a>putprop)</h4>

<p>
<a id="pgfId-1008356"></a><em>putprop</em> adds properties to symbols or disembodied property lists. If the property already exists, the old value is replaced with a new one. The <em>putprop</em> function is a <em>lambda</em> function, which means all of its arguments are evaluated.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008357"></a>putprop(&#39;s 1+2 &#39;x)   =&gt; 3<br />s.x = 1+2&#160;&#160;          =&gt; 3</pre>

<p>
<a id="pgfId-1008358"></a>Both examples are equivalent expressions that set the property <em>x</em> on symbol <em>s</em> to 3.</p>

<h4>
<a id="pgfId-1008360"></a>Getting the Value of a Named Property in a Property List (<a id="marker-1008359"></a>get)</h4>

<p>
<a id="pgfId-1008361"></a><em>get</em> returns the value of a named property in a property list. <em>get</em> is used with <em>putprop</em>, where <em>putprop</em> stores the property and <em>get</em> retrieves it.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008362"></a>putprop( &#39;U235 8 &#39;pins ) </pre>
<p class="webflare-indent2">
<a id="pgfId-1008363"></a>Assigns the property <em>pins</em> on the symbol <em>U235</em> to a value of 8.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008364"></a>get( &#39;U235 &#39;pins )   =&gt; 8<br />U235.pins&#160;&#160;                             =&gt; 8</pre>
<h4>
<a id="pgfId-1008366"></a>Adding Properties to Symbols or Disembodied Property Lists (<a id="marker-1008365"></a>defprop) </h4>

<p>
<a id="pgfId-1008367"></a><em>defprop</em> adds properties to symbols or disembodied property lists, but none of its arguments are evaluated. <em>defprop</em> is the same as <em>putprop</em> except that none of its arguments are evaluated.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008368"></a>defprop(s 3 x)&#160;&#160;     =&gt; 3</pre>
<p class="webflare-indent2">
<a id="pgfId-1008369"></a>Sets property <em>x</em> on symbol <em>s</em> to 3.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008370"></a>defprop(s 1+2 x)&#160;&#160;   =&gt; 1+2</pre>
<p class="webflare-indent2">
<a id="pgfId-1008371"></a>Sets property <em>x</em> on symbol <em>s</em> to the unevaluated expression 1+2.</p>
<h4>
<a id="pgfId-1008373"></a>Removing a Property and Restoring a Previous Value (<a id="marker-1008372"></a>remprop)</h4>

<p>
<a id="pgfId-1008374"></a><em>remprop</em> removes a property from a property list. The return value is not useful.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008375"></a>setplist( &#39;U235 &#39;( x 100 y 200 )) =&gt; (x 100 y 200)</pre>
<p class="webflare-indent1">
<a id="pgfId-1008376"></a>Sets the property list to <em>(x 100 y 200 )</em>.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008377"></a>putprop( &#39;U235 8 &#39;pins )&#160;&#160;     =&gt; 8</pre>
<p class="webflare-indent1">
<a id="pgfId-1008378"></a>Sets the value of the pins property to 8.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008379"></a>plist( &#39;U235 )&#160;&#160;     =&gt; (pins 8 x 100 y 200)</pre>
<p class="webflare-indent1">
<a id="pgfId-1008380"></a>Verifies the operation.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008381"></a>get( &#39;U235 &#39;pins )&#160;&#160;     =&gt; 8</pre>
<p class="webflare-indent1">
<a id="pgfId-1008382"></a>Retrieves the pins property.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008383"></a>remprop( &#39;U235 &#39;x )</pre>
<p class="webflare-indent1">
<a id="pgfId-1008384"></a>Removes the <em>x</em> property.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008385"></a>plist( &#39;U235 )&#160;&#160;     =&gt; (pins 8 y 200)</pre>
<h2>
<a id="pgfId-1008386"></a><a id="14249"></a>Strings</h2>

<p>
<a id="pgfId-1008387"></a>A <em>string</em> is a specialized one-dimensional array whose elements are characters.</p>
<p>
<a id="pgfId-1008390"></a>The <a id="marker-1008388"></a>string <a id="marker-1008389"></a>functions in this section are patterned after functions of the same name in the C run-time library. Strings can be compared, taken apart, or concatenated.</p>

<h3>
<a id="pgfId-1008391"></a>Concatenating Strings</h3>
<h4>
<a id="pgfId-1008394"></a>C<a id="marker-1008392"></a>oncatenating a List of Strings with Separation Characters (<a id="marker-1008393"></a>buildString) </h4>

<p>
<a id="pgfId-1008395"></a><em>buildString</em> makes a single string from the list of strings. You specify the separation character in the third argument. A null string is permitted. If this argument is omitted, <em>buildString</em> provides a separating space as the default.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008396"></a>buildString( &#39;(&quot;test&quot; &quot;il&quot;) &quot;.&quot;)  =&gt; &quot;test.il&quot;<br />buildString( &#39;(&quot;usr&quot; &quot;mnt&quot;) &quot;/&quot;)  =&gt; &quot;usr/mnt&quot;<br />buildString( &#39;(&quot;a&quot; &quot;b&quot; &quot;c&quot;))      =&gt; &quot;a b c&quot;<br />buildString( &#39;(&quot;a&quot; &quot;b&quot; &quot;c&quot;) &quot;&quot;)&#160;&#160; =&gt; &quot;abc&quot;</pre>
<h4>
<a id="pgfId-1008398"></a>Concatenating Two or More Input Strings (<a id="marker-1008397"></a>strcat)</h4>

<p>
<a id="pgfId-1008399"></a><em>strcat</em> creates a new string by concatenating two or more input strings. The input strings are left unchanged.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008400"></a>strcat( &quot;l&quot; &quot;ab&quot; &quot;ef&quot; ) =&gt; &quot;labef&quot; </pre>

<p>
<a id="pgfId-1008401"></a>You are responsible for any separating space.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008402"></a>strcat( &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; )     =&gt; &quot;abcd&quot; <br />strcat( &quot;a &quot; &quot;b &quot; &quot;c &quot; &quot;d &quot; ) =&gt; &quot;a b c d &quot;</pre>
<h4>
<a id="pgfId-1008404"></a>Appending a Maximum Number of Characters from Two Input Strings (<a id="marker-1008403"></a>strncat)</h4>

<p>
<a id="pgfId-1008405"></a><em>strncat</em> is similar to <em>strcat</em> except that the third argument indicates the maximum number of characters from <em>string2</em> to append to <em>string1</em> to create a new string. <em>string1</em> and <em>string2</em> are left unchanged.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008406"></a>strncat( &quot;abcd&quot; &quot;efghi&quot; 2)   =&gt; &quot;abcdef&quot;<br />strncat( &quot;abcd&quot; &quot;efghijk&quot; 5) =&gt; &quot;abcdefghi&quot;</pre>
<h3>
<a id="pgfId-1008407"></a>Comparing Strings</h3>
<h4>
<a id="pgfId-1008410"></a>C<a id="marker-1008408"></a>omparing Two String or Symbol Names Alphabetically (<a id="marker-1008409"></a>alphalessp)</h4>

<p>
<a id="pgfId-1008411"></a><em>alphalessp</em> compares two objects, which must be either a string or a symbol, and returns <em>t</em> if <em>arg1</em> is alphabetically less than the name of <em>arg2</em>. <em>alphalessp</em> can be used with the <em>sort</em> function to sort a list of strings alphabetically. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008412"></a>stringList = &#39;( &quot;xyz&quot; &quot;abc&quot; &quot;ghi&quot; )<br />sort( stringList &#39;alphalessp ) =&gt; (&quot;abc&quot; &quot;ghi&quot; &quot;xyz&quot;)</pre>

<p>
<a id="pgfId-1008413"></a>The next example returns a sorted list of all the files in the login directory.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008414"></a>sort( getDirFiles( &quot;~&quot; ) &#39;alphalessp )</pre>
<h4>
<a id="pgfId-1008416"></a>Comparing Two Strings Alphabetically (<a id="marker-1008415"></a>strcmp)</h4>

<p>
<a id="pgfId-1008417"></a><em>strcmp</em> compares two strings. To test if two strings are equal or not, you can use the <em>equal</em> command. The return values for <em>strcmp</em> indicate</p>

<p>
<a id="pgfId-1010301"></a></p>
<table class="webflareTable" id="#id1010305">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1010307">
<a id="pgfId-1010307"></a>Return Value </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1010309">
<a id="pgfId-1010309"></a>Meaning</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010311"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010313"></a>string1 is alphabetically greater than string2. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010315"></a>0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010317"></a>string1 is alphabetically equal to string2.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010319"></a>-1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010321"></a>string1 is alphabetically less than string2.</p>
</td>
</tr>
</tbody></table>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008420"></a>strcmp( &quot;abc&quot; &quot;abb&quot; )=&gt; 1<br />strcmp( &quot;abc&quot; &quot;abc&quot;)=&gt; 0<br />strcmp( &quot;abc&quot; &quot;abd&quot;)=&gt; -1</pre>
<h4>
<a id="pgfId-1008421"></a>Comparing Two String or Symbol Names Alphanumerically or Numerically 
(<a id="marker-1008422"></a>alphaNumCmp)</h4>

<p>
<a id="pgfId-1008423"></a><em>alphaNumCmp</em> compares two string or symbol names. If the third optional argument is non-nil and the first two arguments are strings holding purely numeric values, a numeric comparison is performed on the numeric representation of the strings. The return values indicate</p>

<p>
<a id="pgfId-1010331"></a></p>
<table class="webflareTable" id="#id1010335">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1010337">
<a id="pgfId-1010337"></a>Return Value </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1010339">
<a id="pgfId-1010339"></a>Meaning</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010341"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010343"></a>arg1 is alphanumerically greater than arg2. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010345"></a>0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010347"></a>arg1 is alphanumerically identical to arg2. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010349"></a>-1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010351"></a>arg2 is alphanumerically greater than arg1.</p>
</td>
</tr>
</tbody></table>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008426"></a>alphaNumCmp( &quot;a&quot; &quot;b&quot; )           =&gt;-1<br />alphaNumCmp( &quot;b&quot; &quot;a&quot; )           =&gt; 1<br />alphaNumCmp( &quot;name12&quot; &quot;name12&quot; ) =&gt; 0<br />alphaNumCmp( &quot;name23&quot; &quot;name12&quot; ) =&gt; 1<br />alphaNumCmp( &quot;00.09&quot; &quot;9.0E-2&quot; t) =&gt; 0</pre>
<h4>
<a id="pgfId-1008428"></a>Comparing a Limited Number of Characters (<a id="marker-1008427"></a>strncmp)</h4>

<p>
<a id="pgfId-1008429"></a><em>strncmp</em> compares two strings alphabetically, but only up to the maximum number of characters indicated in the third argument. The return values indicate the same as for <em>strcmp</em> above.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008430"></a>strncmp( &quot;abc&quot; &quot;ab&quot; 3) =&gt; 1<br />strncmp( &quot;abc&quot; &quot;de&quot; 4) =&gt; -1</pre>
<h3>
<a id="pgfId-1008431"></a>Getting Character Information in Strings</h3>
<h4>
<a id="pgfId-1008434"></a>Getting the Length of a <a id="marker-1008432"></a>String in Characters (<a id="marker-1008433"></a>strlen)</h4>

<p>
<a id="pgfId-1008437"></a>Refer to <h-hot><a href="chap4.html#33126"></a><xrefstd>&#8220;Pattern Matching of Regular Expressions&#8221;<h-hot /></xrefstd></h-hot> for information on the backslash notation used below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008439"></a>strlen( &quot;abc&quot; ) =&gt; 3<br />strlen( &quot;\007&quot; )=&gt; 1</pre>
<h3>
<a id="pgfId-1008440"></a>Indexing with Character Pointers</h3>
<h4>
<a id="pgfId-1008442"></a>Getting the Index Character of a <a id="marker-1008441"></a>String (getchar)</h4>

<p>
<a id="pgfId-1008443"></a><em>getchar</em> returns an indexed character of a string or the print name if the string is a symbol. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008444"></a>getchar(&quot;abc&quot; 2) =&gt; b<br />getchar(&quot;abc&quot; 4) =&gt; nil</pre>

<p>
<a id="pgfId-1008445"></a><em>getchar</em> returns a symbol whose print name is the character, not a string.</p>
<p>
<a id="pgfId-1008446"></a>SKILL represents an individual character by the symbol whose print name is the string consisting solely of the character. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008447"></a>getchar( &quot;1.2&quot; 2 )               =&gt; \.<br />type( getchar( &quot;1.2&quot; 2 ) )       =&gt; symbol<br />get_pname( getchar( &quot;1.2&quot; 2 ) )&#160;&#160;=&gt; &quot;.&quot;</pre>

<p>
<a id="pgfId-1008449"></a>If you are familiar with C, you might notice that the <em>getchar</em><a id="marker-1008448"></a> SKILL function is totally unrelated to the C function of the same name. </p>

<h4>
<a id="pgfId-1008453"></a>Getting the Tail of a <a id="marker-1008450"></a>String (<a id="marker-1008451"></a>index, <a id="marker-1008452"></a>rindex)</h4>

<p>
<a id="pgfId-1008454"></a><em>index</em> returns the remainder of <em>string1</em> beginning with the first occurrence of <em>string2</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008455"></a>index( &quot;abc&quot; &#39;b )                                       =&gt; &quot;bc&quot;<br />index( &quot;abcdabce&quot; &quot;dab&quot; )                    =&gt; &quot;dabce&quot;<br />index( &quot;abc&quot; &quot;cba&quot; )                                =&gt; nil<br />index( &quot;dandelion&quot; &quot;d&quot;)&#160;&#160;        =&gt; &quot;dandelion&quot;</pre>

<p>
<a id="pgfId-1008456"></a><em>rindex</em> returns the remainder of <em>string1</em> beginning with the last occurrence of <em>string2</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008457"></a>rindex( &quot;dandelion&quot; &quot;d&quot;)&#160;&#160;       =&gt; &quot;delion&quot;</pre>
<h4>
<a id="pgfId-1008459"></a>Getting the Character Index of a String (<a id="marker-1008458"></a>nindex)</h4>

<p>
<a id="pgfId-1008460"></a><em>nindex</em> finds the symbol or string, <em>string2</em>, in <em>string1</em> and returns the character index, starting from one, of the first point at which <em>string2</em> matches part of <em>string1</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008461"></a>nindex( &quot;abc&quot; &#39;b )         =&gt; 2<br />nindex( &quot;abcdabce&quot; &quot;dab&quot; ) =&gt; 4<br />nindex( &quot;abc&quot; &quot;cba&quot; )&#160;&#160;    =&gt; nil</pre>
<h3>
<a id="pgfId-1008462"></a>Creating Substrings</h3>
<h4>
<a id="pgfId-1008464"></a>Copying Substrings (<a id="marker-1008463"></a>substring)</h4>

<p>
<a id="pgfId-1009514"></a><em>substring</em><a id="marker-1009513"></a> creates a new substring from an input string, starting at an index point (<em>arg2</em>) and continuing for a given length (<em>arg3</em>).</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1009515"></a>substring(&quot;abcdef&quot; 2 4)=&gt; &quot;bcde&quot;<br />substring(&quot;abcdef&quot; 4 2)=&gt; &quot;de&quot;</pre>
<h4>
<a id="pgfId-1008469"></a>Breaking Lists Into Substrings (<a id="marker-1008468"></a>parseString)</h4>

<p>
<a id="pgfId-1010503"></a><em>parseString</em> breaks a string into a list of substrings with specified break characters, which are indicated by an optional second argument.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1010504"></a>parseString( &quot;Now is the time&quot; ) =&gt; (&quot;Now&quot; &quot;is&quot; &quot;the&quot; &quot;time&quot;)</pre>
<p class="webflare-indent1">
<a id="pgfId-1010505"></a>Space is the default break character</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1010499"></a>parseString( &quot;prepend&quot; &quot;e&quot; )&#160;&#160;    =&gt; (&quot;pr&quot; &quot;p&quot; &quot;nd&quot; ) </pre>
<p class="webflare-indent1">
<a id="pgfId-1010500"></a><em>e</em> is the break character.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008475"></a>parseString( &quot;feed&quot; &quot;e&quot;)&#160;&#160;        =&gt; (&quot;f&quot; &quot;d&quot;)</pre>
<p class="webflare-indent1">
<a id="pgfId-1008476"></a>A sequence of break characters in <em>t_string</em> is treated as a single break character.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008477"></a>parseString( &quot;~/exp/test.il&quot; &quot;./&quot;) =&gt; (&quot;~&quot; &quot;exp&quot; &quot;test&quot; &quot;il&quot;)</pre>
<p class="webflare-indent1">
<a id="pgfId-1008478"></a>Both . and / are break characters.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008479"></a>parseString( &quot;abc de&quot; &quot;&quot;)&#160;&#160;       =&gt; (&quot;a&quot; &quot;b&quot; &quot;c&quot; &quot; &quot; &quot;d&quot; &quot;e&quot;)</pre>
<p class="webflare-indent1">
<a id="pgfId-1008480"></a>The single space between c and d contributes &quot; &quot; in the return result.</p>
<h3>
<a id="pgfId-1008481"></a>Converting Case</h3>
<h4>
<a id="pgfId-1008484"></a>C<a id="marker-1008482"></a>onverting to Upper Case (<em>upperCase</em><a id="marker-1008483"></a>)</h4>

<p>
<a id="pgfId-1008485"></a><em>upperCase</em> replaces lowercase alphabetic characters with their uppercase equivalents. If the parameter is a symbol, the name of the symbol is used.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008486"></a>upperCase(&quot;Hello world!&quot;)&#160;&#160;  =&gt; &quot;HELLO WORLD!&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008487"></a>symName = &quot;nameofasymbol&quot;    =&gt; &quot;nameofasymbol&quot;<br />upperCase(symName)&#160;&#160;         =&gt; &quot;NAMEOFASYMBOL&quot;</pre>
<h4>
<a id="pgfId-1008489"></a>Converting to Lower Case (<em>lowerCase</em><a id="marker-1008488"></a>)</h4>

<p>
<a id="pgfId-1008490"></a><em>lowerCase</em> replaces uppercase alphabetic characters with their lowercase equivalents. If the parameter is a symbol, the name of the symbol is used.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008491"></a>lowerCase(&quot;Hello World!&quot;)&#160;&#160;        =&gt; &quot;hello world!&quot; </pre>
<h3>
<a id="pgfId-1008493"></a><a id="33126"></a>Pattern <a id="patternMatching"></a>Matching of Regular Expressions</h3>

<p>
<a id="pgfId-1008494"></a>In many applications, you need to match strings or symbols against a pattern. SKILL provides a number of p<a id="marker-1008495"></a>attern matching functions that are built on a few primitive C library routines with a corresponding SKILL interface.</p>
<p>
<a id="pgfId-1008496"></a>A <em>pattern</em> used in the pattern matching functions is a string indicating a regular expression.</p>
<p>
<a id="pgfId-1015732"></a>Here is a brief summary of the rules for constructing regular expressions in SKILL: </p>

<p>
<a id="pgfId-1015742"></a></p>
<table class="webflareTable" id="#id1010362">
<caption style="text-align:left;"><p>
</p><div class="ft-figtabl-title">
<a id="pgfId-1010364"></a>Rules for Constructing Regular Expressions</div></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1010368">
<a id="pgfId-1010368"></a>Synopsis</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1010370">
<a id="pgfId-1010370"></a>Meaning</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010372"></a>c</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010374"></a>Any ordinary character (not a special character listed below) matches itself.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010376"></a>.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010378"></a>A dot matches any character.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010380"></a>\</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010382"></a>A backslash when followed by a special character matches that character literally. When followed by one of &lt;, &gt;, (, ), and 1,&#8230;,9, it has a special meaning as described below.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010384"></a>[c&#8230;]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010386"></a>A nonempty string of characters enclosed in square brackets (called a set) matches one of the characters in the set. If the first character in the set is ^, it matches a character not in the set. A shorthand S-E is used to specify a set of characters S up to E, inclusive. The special characters ] and - have no special meaning if they appear as the first character in a set. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010388"></a>*</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010390"></a>A regular expression in the above form, followed by the closure character * matches zero or more occurrences of that form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010392"></a>+</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010394"></a>Similar to *, except it matches <em>one</em> or more times. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010396"></a>\(&#8230;\)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010398"></a>A regular expression wrapped as \( form \) matches whatever <em>form</em> matches, but saves the string matched in a numbered register (starting from one, can be up to nine).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010400"></a>\n</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010402"></a>A backslash followed by a digit <em>n</em> matches the contents of the <em>n</em>th register from the current regular expression.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010404"></a>\&lt;&#8230;\&gt;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010406"></a>A regular expression starting with a \&lt; and/or ending with a \&gt; restricts the pattern matching to the beginning and/or the end of a word. A word defined to be a character string can consist of letters, digits, and underscores. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010408"></a>rs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010410"></a>A composite regular expression <em>rs</em> matches the longest match of <em>r</em> followed by a match for <em>s</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010412"></a>^, $</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1010414"></a>A ^ at the beginning of a regular expression matches the beginning of a string. A $ at the end matches the end of a string. Used elsewhere in the pattern, ^ and $ are treated as ordinary characters.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1008550"></a>How Pattern Matching Works</h4>

<p>
<a id="pgfId-1008551"></a>The mechanism for pattern matching</p>
<ul><li>
<a id="pgfId-1008552"></a>Compiles a pattern into a form and saves the form internally </li><li>
<a id="pgfId-1008553"></a>Uses that internal form in every subsequent matching against the targets until the next pattern is supplied </li></ul>

<p>
<a id="pgfId-1008554"></a>The <em>rexCompile</em> function does the first part of the task, that is, the compilation of a pattern. The <em>rexExecute</em> function takes care of the second part, that is, matching a target against the previously compiled pattern. Sometimes this two-step interface is too low-level and awkward to use, so functions for higher-level abstraction (such as <em>rexMatchp</em>) are also provided in SKILL.</p>

<h4>
<a id="pgfId-1008555"></a>Avoiding Null and Backslash Problems</h4>

<ul><li>
<a id="pgfId-1008556"></a>A null string (&quot;&quot;) is interpreted as no pattern being supplied, which means the previously compiled pattern is still used. If there was no previous pattern, an error is signaled. </li><li>
<a id="pgfId-1008557"></a>To put a backslash character (\) into a pattern string, you need an extra backslash (\) to escape the backslash character itself. </li></ul>

<p>
<a id="pgfId-1008558"></a>For example, to match a file name with dotted extension &#8220;.il&#8221;, the pattern &#8220;^[a-zA-Z]+\\.il$&#8221; can be used, but &#8220;^[a-zA-Z]\.il$&#8221; gives a syntax error. However, if the pattern string is read in from an input function such as <em>gets</em> that does not interpret backslash characters specifically, you should <em>not</em> add an extra backslash to enter a backslash character.</p>

<h3>
<a id="pgfId-1008560"></a>Pattern Matching <a id="marker-1008559"></a>Functions</h3>
<h4>
<a id="pgfId-1008561"></a>Finding a Pattern Within a String or Symbol (rexMatchp)</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1010509"></a><a id="marker-1010508"></a>rexMatchp(&quot;[0-9]*[.][0-9][0-9]*&quot; &quot;100.001&quot;)   =&gt; t<br />rexMatchp(&quot;[0-9]*[.][0-9]+&quot; &quot;.001&quot;)           =&gt; t<br />rexMatchp(&quot;[0-9]*[.][0-9]+&quot; &quot;.&quot;)              =&gt; nil<br />rexMatchp(&quot;[0-9]*[.][0-9][0-9]*&quot; &quot;10.&quot;)&#160;&#160;   =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008564"></a>rexMatchp(&quot;[0-9&quot; &quot;100&quot;)<br />=&gt; *Error* rexMatchp: Missing ] - &quot;[0-9&quot;</pre>
<h4>
<a id="pgfId-1013487"></a>Finding a Pattern within a String, Symbol, or PCRE object (pcreMatchp)</h4>
<a id="pgfId-1013489"></a><a id="marker-1013488"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
pcreMatchp( 
<code><em>g_pattern</em></code> 
<code><em>S_subject</em></code> 
[ <code><em>x_compOptBits</em></code> ] 
[ <code><em>x_execOptBits</em></code> ] 
) 
=&gt; t | nil</pre>

<p>
<a id="pgfId-1013490"></a>Checks to see if a string or symbol matches a given regular expression.</p>

<h4>
<a id="pgfId-1013491"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013492"></a>pcreMatchp( &quot;[0-9]*[.][0-9][0-9]*&quot; &quot;100.001&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013493"></a>pcreMatchp( &quot;[0-9]*[.][0-9]+&quot; &quot;.001&quot; ) &#160;&#160;&#160;&#160; =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013494"></a>pcreMatchp( &quot;[0-9]*[.][0-9]+&quot; &quot;.&quot; )    &#160;&#160;&#160;&#160; =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013495"></a>pcreMatchp( &quot;[0-9&quot; &quot;100&quot; ) =&gt; <br />*Error* pcreCompile: compilation failed at offset 4: missing terminating ] for character class nil</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013496"></a>pcreMatchp( &quot;((?i)rah)\\s+\\1&quot; &quot;rah rah&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013497"></a>pcreMatchp( &quot;^[0-9]+&quot; &quot;abc\n123\nefg&quot; <br />pcreGenCompileOptBits(?multiLine t) pcreGenExecOptBits( ?notbol t) )<br />=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013485"></a></pre>
<h4>
<a id="pgfId-1008565"></a>Compiling a Regular Expression String Pattern (rexCompile)</h4>

<p>
<a id="pgfId-1008567"></a><em>rexCompile</em><a id="marker-1008566"></a> compiles a regular expression string pattern into an internal representation to be used by succeeding calls to <em>rexExecute</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1011202"></a>rexCompile(&quot;^[a-zA-Z]+&quot;)                  =&gt; t<br />rexCompile(&quot;\\([a-z]+\\)\\.\\1&quot;)          =&gt; t<br />rexCompile(&quot;^\\([a-z]*\\)\\1$&quot;)           =&gt; t<br />rexCompile(&quot;[ab&quot;) =&gt; *Error* rexCompile: Missing ] - &quot;[ab&quot;</pre>
<h4>
<a id="pgfId-1013506"></a>Compiling a Regular Expression String Pattern (pcreCompile)</h4>

<p>
<a id="pgfId-1013507"></a>Compiles a regular expression string pattern (<span class="webflare-courier-new" style="white-space:pre"><em>t_pattern</em></span>) into an internal representation that you can use in a <span class="webflare-courier-new" style="white-space:pre"><em>pcreExecute</em></span> function call.</p>

<a id="pgfId-1013509"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
pcreCompile( 
<code><em>t_pattern</em></code> 
[ <code><em>x_options</em></code> ] 
) 
=&gt; <code><em>o_comPatObj</em></code> | nil</pre>
<h4>
<a id="pgfId-1015975"></a>For information about Perl Compatible Regular Expressions (PCRE), see vendor-specific documentation at <a actuate="user" class="URL" href="http://www.pcre.org" show="replace" xml:link="simple">http://www.pcre.org</a> or by using the <code>man pcrepattern</code> command.</h4>
<h4>
<a id="pgfId-1013510"></a>Examples</h4>

<p>
<a id="pgfId-1013511"></a>comPat1 = pcreCompile( &quot;[12[:^digit:]]&quot; ) =&gt; pcreobj@0x27d150</p>
<p>
<a id="pgfId-1013512"></a>comPat2 = pcreCompile( &quot;((?i)ab)c&quot; ) =&gt; pcreobj@0x27d15c</p>
<p>
<a id="pgfId-1013513"></a>comPat3 = pcreCompile( &quot;\\d{3}&quot; ) =&gt; pcreobj@0x27d168</p>

<h4>
<a id="pgfId-1008569"></a>Matching Against a Previously Compiled Pattern (rexExecute)</h4>

<p>
<a id="pgfId-1008571"></a><em>rexExecute</em><a id="marker-1008570"></a> matches a string or symbol against the previously compiled pattern created by the last <em>rexCompile</em> call.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008572"></a>rexCompile(&quot;^[a-zA-Z][a-zA-Z0-9]*&quot;)       =&gt; t<br />rexExecute(&#39;Cell123)                      =&gt; t<br />rexExecute(&quot;123 cells&quot;)&#160;&#160;                =&gt; nil</pre>

<p>
<a id="pgfId-1008573"></a>The target &quot;123 cells&quot; does not begin with a-z/A-Z.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008574"></a>rexCompile(&quot;\\([a-z]+\\)\\.\\1&quot;)          =&gt; t<br />rexExecute(&quot;abc.bc&quot;)                      =&gt; t<br />rexExecute(&quot;abc.ab&quot;)&#160;&#160;                   =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008575"></a>rexCompile(&quot;\\(^[a-z]+\\)\\.\\1&quot;)         =&gt;t<br />rexExecute(&quot;abc.bc&quot;)&#160;&#160;                   =&gt; nil</pre>

<p>
<a id="pgfId-1008576"></a>The caret (^) in the <em>rexCompile</em> pattern requires that the pattern must match from the beginning of the input string.</p>

<h4>
<a id="pgfId-1013522"></a>Matching Against a Previously Compiled Pattern (pcreExecute)</h4>

<p>
<a id="pgfId-1013523"></a>Matches against a string or symbol (<span class="webflare-courier-new" style="white-space:pre"><em>S_subject</em></span>) against a previously compiled pattern set up by the last pcreCompile call.</p>
<p>
<a id="pgfId-1013525"></a>pcreExecute<a id="marker-1013524"></a>( <br /><span class="webflare-courier-new" style="white-space:pre"><em>o_comPatObj</em></span> 
<span class="webflare-courier-new" style="white-space:pre"><em>S_subject</em></span> <br />[ <span class="webflare-courier-new" style="white-space:pre"><em>x_options</em></span> ] <br />) <br />=&gt; t | nil</p>

<h4>
<a id="pgfId-1013526"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013527"></a>comPat1 = pcreCompile( &quot;[12[:^digit:]]&quot; ) =&gt; pcreobj@0x27d150
pcreExecute( comPat1 &quot;abc&quot; )     &#160;&#160;&#160;&#160;    =&gt; t </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013528"></a>comPat2 = pcreCompile( &quot;((?i)ab)c&quot; ) =&gt; pcreobj@0x27d15c<br />pcreExecute( comPat2 &quot;aBc&quot; )&#160;&#160;       =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013529"></a>comPat3 = pcreCompile( &quot;\\d{3}&quot; ) =&gt; pcreobj@0x27d168<br />pcreExecute( comPat3 &quot;789&quot; )&#160;&#160;    =&gt; t </pre>
<h4>
<a id="pgfId-1008577"></a>Matching a List of Strings or Symbols (rexMatchList)</h4>

<p>
<a id="pgfId-1008579"></a><em>rexMatchList</em><a id="marker-1008578"></a> matches a list of strings or symbols against a regular expression string pattern and returns a list of the strings or symbols that match.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008580"></a>rexMatchList(&quot;^[a-z][0-9]*&quot; &#39;(a01 x02 &quot;003&quot; aa01 &quot;abc&quot;))<br />=&gt; (a01 x02 aa01 &#8220;abc&#8221;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008581"></a>rexMatchList(&quot;^[a-z][0-9][0-9]*&quot; <br />      &#39;(a001 b002 &quot;003&quot; aa01 &quot;abc&quot;))<br />=&gt; (a001 b002)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008582"></a>rexMatchList(&quot;box[0-9]*&quot; &#39;(square circle &quot;cell9&quot; &quot;123&quot;))<br />=&gt; nil</pre>
<h4>
<a id="pgfId-1008583"></a>Creating an Association List Made of Matching Strings (rexMatchAssocList)</h4>

<p>
<a id="pgfId-1008585"></a><em>rexMatchAssocList</em><a id="marker-1008584"></a> returns a new association list created out of those elements of an association list whose key matches a regular expression string pattern.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008586"></a>rexMatchAssocList(&quot;^[a-z][0-9]*$&quot;<br />      &#39;((abc &quot;ascii&quot;) (&quot;123&quot; &quot;number&quot;) (a123 &quot;alphanum&quot;)<br />      (a12z &quot;ana&quot;)))<br />=&gt; ((a123 &quot;alphanum&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008587"></a>rexMatchAssocList(&quot;^[a-z]*[0-9]*$&quot;<br />      &#39;((abc &quot;ascii&quot;) (&quot;123&quot; &quot;number&quot;) (a123 &quot;alphanum&quot;)<br />      (a12z &quot;ana&quot;)))<br />=&gt; ((abc &quot;ascii&quot;) (&quot;123&quot; &quot;number&quot;) (a123 &quot;alphanum&quot;))</pre>
<h4>
<a id="pgfId-1008588"></a>Turning Meta-Characters On and Off (rexMagic)</h4>

<p>
<a id="pgfId-1008590"></a><em>rexMagic</em><a id="marker-1008589"></a> turns on or off the special interpretation associated with the meta-characters (^, $, *, +, \, [, ], and so forth) in regular expressions. Users of <em>vi</em> will recognize this as equivalent to the <em>set magic/set nomagic</em> commands.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016300"></a>rexCompile( &quot;^[0-9]+&quot; )      =&gt; t<br />rexExecute( &quot;123abc&quot; )       =&gt; t<br />rexSubstitute( &quot;got: \\0&quot;)   =&gt; &quot;got: 123&quot;<br />rexMagic( nil )                                  =&gt; nil<br />rexCompile( &quot;^[0-9]+&quot; )      =&gt; t;Recompile w/o magic.<br />rexExecute( &quot;123abc&quot; )       =&gt; nil<br />rexExecute( &quot;**^[0-9]+!**&quot;)  =&gt; t<br />rexSubstitute( &quot;got: \\0&quot;)   =&gt; &quot;got: \\0&quot;<br />rexMagic( t )                                       =&gt; t<br />rexSubstitute( &quot;got: \\0&quot;)   =&gt; &quot;got: ^[0-9]+&quot;<br />
rexMagic(nil) ;; switch off
rexSubstitute(&quot;[&amp;]&quot;)=&gt; &quot;[&amp;]&quot;</pre>
<h4>
<a id="pgfId-1008592"></a>Replacing a Substring (rexReplace)</h4>

<p>
<a id="pgfId-1008594"></a><em>rexReplace</em><a id="marker-1008593"></a> replaces the substring(s) in the source string that matched the last regular expression compiled by the replacement string. The third argument tells which occurrence of the matched substring is to be replaced. If it&#8217;s 0 or negative, all the matched substrings will be replaced. Otherwise only the specified occurrence is replaced. <em>rexReplace</em> returns the source string if the specified match is not found</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1016262"></a>rexCompile( &quot;[0-9]+&quot; )=&gt; t<br />rexReplace( &quot;abc-123-xyz-890-wuv&quot; &quot;(*)&quot; 1)=&gt; &quot;abc-(*)-xyz-890-wuv&quot;<br />rexReplace( &quot;abc-123-xyz-890-wuv&quot; &quot;(*)&quot; 2)=&gt; &quot;abc-123-xyz-(*)-wuv&quot;<br />rexReplace( &quot;abc-123-xyz-890-wuv&quot; &quot;(*)&quot; 3)=&gt; &quot;abc-123-xyz-890-wuv&quot;<br />rexReplace( &quot;abc-123-xyz-890-wuv&quot; &quot;(*)&quot; 0)=&gt; &quot;abc-(*)-xyz-(*)-wuv&quot;<br />
rexCompile( &quot;xyz&quot; )&#160;&#160;            =&gt; t<br />rexReplace( &quot;xyzzyxyzz&quot; &quot;xy&quot; 0)  =&gt; &quot;xyzyxyz&quot; ; No rescanning!<br />
rexCompile(&quot;^teststr&quot;) 
rexReplace(&quot;teststr_a&quot; &quot;bb&quot; 0) =&gt; &quot;bb_a&quot;
rexReplace(&quot;teststr_a&quot; &quot;bb&amp;&quot; 0) =&gt; &quot;bbteststr_a&quot;
rexReplace(&quot;teststr_a&quot; &quot;[&amp;]&quot; 0) =&gt; &quot;[teststr]_a&quot;</pre>
<h2>
<a id="pgfId-1008596"></a><a id="20000"></a>Defstructs</h2>

<p>
<a id="pgfId-1008597"></a>Defstructs are collections of one or more variables. They can be of different types and grouped together under a single name for easy handling. They are the equivalent of structs in <a id="marker-1008598"></a>C. </p>
<p>
<a id="pgfId-1008599"></a>The following template for <em>defstruct</em> defines a data structure with the named slots:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008600"></a>defstruct( s_name s_slot1 [s_slot2..] ) =&gt; t</pre>

<p>
<a id="pgfId-1013436"></a>The <em>defstruct</em><a id="marker-1013435"></a> also creates a constructor function, <em>make_name</em>, where <em>name </em>is the structure name supplied to <em>defstruct</em>. The constructor function takes keyword arguments: one for each slot in the structure. All arguments are symbols and none need to be quoted.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1013773"></a>The increment (pre-increment, post-increment) and decrement (pre-decrement, post-decrement) operations can&#8217;t be used to directly modify the variable values when used within structures. However, you can use these operations with arrays and associated table elements. For example,</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013775"></a>array[index]++</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013777"></a>array[index]--</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013779"></a>--array[index]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1013781"></a>++array[index]</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015561"></a>The name of any local or global variable should not coincide with the structure name, as it it can hide the structure name and overwrite the <code>defstruct</code> master array.</div>

<h3>
<a id="pgfId-1008603"></a>Behavior Is Similar to Disembodied Property Lists </h3>

<p>
<a id="pgfId-1008604"></a>Once created, structures behave just like disembodied property lists, but are more efficient in space utilization and access times. Structures can have new slots added at any time. However, these dynamic slots are less efficient than the statically declared slots, both in access time and space utilization.</p>
<p>
<a id="pgfId-1008605"></a>Defstructs respond to the following operations, assuming <em>struct</em> is an instance built from a constructor function:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008606"></a>struct-&gt;slot</pre>

<p>
<a id="pgfId-1008607"></a>Returns the value associated with a slot of an instance.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008608"></a>struct-&gt;slot = newval</pre>

<p>
<a id="pgfId-1008609"></a>Modifies the value associated with a slot of an instance.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008610"></a>struct-&gt;?</pre>

<p>
<a id="pgfId-1008611"></a>Returns a list of the slot names associated with an instance.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008612"></a>struct-&gt;??</pre>

<p>
<a id="pgfId-1008613"></a>Returns a property list (not a disembodied property list) containing the slot names and values associated with an instance.</p>

<h3>
<a id="pgfId-1008614"></a>Additional Defstruct Functions</h3>
<h4>
<a id="pgfId-1008616"></a>Testing a SKILL Object (<a id="marker-1008615"></a>defstructp)</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008617"></a>defstructp( g_object [st_name] ) =&gt; t / nil</pre>

<p>
<a id="pgfId-1008618"></a><em>defstructp</em> tests a SKILL object, returning<em> t</em> if it&#8217;s a structure instance, otherwise <em>nil</em>. The second argument is optional and denotes the name of the structure to test for. The test in this case is stronger and only returns <em>t</em> if <em>g_object</em> is an instance of defstruct <em>st_name</em>. The name can be passed either as a symbol or a string.</p>

<h4>
<a id="pgfId-1008620"></a>Printing the Contents of a Structure (<a id="marker-1008619"></a>printstruct)</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008621"></a>printstruct( r_structureInstance ) =&gt; t</pre>

<p>
<a id="pgfId-1008622"></a>For debugging, the <em>printstruct</em> function prints the contents of a structure in an easily readable form. It recursively dumps out any slot value that is also a structure instance. The <em>printstruct</em> function dumps out a structure instance.</p>

<h4>
<a id="pgfId-1008624"></a>Beware of Structure Sharing (<em></em><a id="marker-1008623"></a>copy_&lt;name&gt;)</h4>

<p>
<a id="pgfId-1008625"></a>Structures can contain instances of other structures; therefore, you need to be careful about structure sharing. If sharing is not desired, a special copy function can be used to generate a copy of the structure being inserted. The <em>defstruct</em> function also creates a function for the given <em>defstruct</em> called <em>copy_&lt;name&gt;</em>. This function takes one argument, an instance of the <em>defstruct</em>. It creates and returns a copy of the instance.</p>

<h4>
<a id="pgfId-1008627"></a>Making a Deep or Recursive Copy (<a id="marker-1008626"></a>copyDefstructDeep)</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008628"></a>copyDefstructDeep( r_object ) =&gt; r_object </pre>

<p>
<a id="pgfId-1008629"></a>Performs a deep or recursive copy on defstructs with other defstructs as sub-elements, making copies of all the defstructs encountered. The various <em>copy_name</em> functions are called to create copies for the defstructs encountered in the deep copy. </p>

<h3>
<a id="pgfId-1008630"></a>Accessing Named Slots in SKILL Structures</h3>
<h4>
<a id="pgfId-1008631"></a>Slot Access Example</h4>

<p>
<a id="pgfId-1008632"></a>This example defines a <em>card</em> structure and allocates an instance of <em>card</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008633"></a>defstruct( card rank suit faceUp ) =&gt; t</pre>

<p>
<a id="pgfId-1008634"></a>This structure has three slots: <em>rank suit faceUp</em>. Next, allocate an instance of <em>card</em> and <a id="marker-1008635"></a>store a reference to it in <em>aCard</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008636"></a>aCard = make_card( ?rank &#39;ace ?suit &#39;spades )<br />=&gt; array[5]:21556040</pre>

<p>
<a id="pgfId-1008639"></a>Structure instances are implemented as arrays. Refer to <h-hot><a href="chap4.html#45389"></a><xrefstd>&#8220;Arrays&#8221;<h-hot /></xrefstd></h-hot>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008641"></a>aCard =&gt; array[5]:21556040</pre>

<p>
<a id="pgfId-1008642"></a>The <em>type</em> function returns the structure name.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008643"></a>type( aCard ) =&gt; card</pre>
<h4>
<a id="pgfId-1008644"></a>Use the Arrow Operator -&gt; and ~&gt; to Access Slots </h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008645"></a>aCard-&gt;rank =&gt; ace<br />aCard-&gt;faceUp = t =&gt; t</pre>
<h4>
<a id="pgfId-1008647"></a>Use <a id="marker-1008646"></a>-&gt;? to Get a List of the Slot Names </h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008648"></a>aCard-&gt;? =&gt; ( faceUp suit rank )</pre>
<h4>
<a id="pgfId-1008650"></a>Use <a id="marker-1008649"></a>-&gt;?? to Get a List of Slot Names and Values </h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008651"></a>aCard-&gt;?? =&gt; ( faceUp t suit spades rank ace )</pre>

<p>
<a id="pgfId-1008652"></a>Slots can be created dynamically for an instance by referencing them with the -&gt; operator.</p>
<p>
<a id="pgfId-1008653"></a>If you have a list of instances of defstructs and you wish access the same slot in all the instances in that list use the ~&gt; operator. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008654"></a>cardList = list( make_card( ?rank &#39;ace ?suit &#39;spades )<br />                   make_card( ?rank &#39;king ?suit &#39;diamonds))<br />
cardList~&gt;rank&#160;&#160;     =&gt; (ace king)<br />cardList~&gt;faceUp     =&gt; (nil nil)<br />cardList~&gt;faceUp = t =&gt; (t t)<br />cardList~&gt;faceUp&#160;&#160;   =&gt; (t t)</pre>
<h3>
<a id="pgfId-1008656"></a>Extended <a id="marker-1008655"></a>defstruct Example</h3>
<ol><li>
<a id="pgfId-1008657"></a>Define a structure.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008658">
<a id="pgfId-1008658"></a>defstruct(point x y)             =&gt; t</pre></li><li>
<a id="pgfId-1008659"></a>Define another structure.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008660">
<a id="pgfId-1008660"></a>defstruct(bbox ll ur)            =&gt; t</pre></li><li>
<a id="pgfId-1008661"></a>Make an instance.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008662">
<a id="pgfId-1008662"></a>p1 = make_point(?x 100 ?y 200)   =&gt; array[4]:xxx </pre></li><li>
<a id="pgfId-1008663"></a>Make another instance.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008664">
<a id="pgfId-1008664"></a>p2 = make_point(?x 0 ?y 0)       =&gt; array[4]:xxxx</pre></li><li>
<a id="pgfId-1008665"></a>Make a <em>bbox</em> instance.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008666">
<a id="pgfId-1008666"></a>b1 = make_bbox()                 =&gt; array[4]:xxxx  </pre></li><li>
<a id="pgfId-1008667"></a>Set a field in <em>b1</em>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008668">
<a id="pgfId-1008668"></a>b1-&gt;ll = p2                      =&gt; array[4]:xxxx</pre></li><li>
<a id="pgfId-1008669"></a>Set the other field.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008670">
<a id="pgfId-1008670"></a>b1-&gt;ur = p1                      =&gt; array[4]:xxxx</pre></li><li>
<a id="pgfId-1008671"></a>Look inside and note the recursive printing.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1010973">
<a id="pgfId-1010973"></a>printstruct( b1 )                ; Look inside
 Structure of type bbox :        ; Note the recursive printing 
      ll :  
       Structure of type point:
                  x:0
            y:0
</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1010974">
<a id="pgfId-1010974"></a>ur:
      Structure of type point:
            x: 100
      y: 200</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1008674">
<a id="pgfId-1008674"></a>b1-&gt;ll-&gt;x = 12 
=&gt; 12</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1008675">
<a id="pgfId-1008675"></a>printstruct( p2 )
Structure of type point :
      x: l2
      y: 0</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1008676">
<a id="pgfId-1008676"></a>p1-&gt;??
=&gt; (y 200 x 100)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1008677">
<a id="pgfId-1008677"></a>b1-&gt;??
=&gt; (ur array[4]:xxx ll array[4]:xxx)</pre></li><li>
<a id="pgfId-1008678"></a>Add a previously undefined slot.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1008679">
<a id="pgfId-1008679"></a>b1-&gt;color = &#39;blue
printstruct( b1 )
      Structure of type bbox :
            ll :
                  Structure of type point :
            x: 12
            y: 0
      ur:
      Structure of type point  :
            x: 100
            y: 200
      color: blue</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1008680">
<a id="pgfId-1008680"></a>b1-&gt;?
=&gt; (color ll ur)</pre><span class="indent-as-level2">
<a id="pgfId-1008681"></a>Returns the list of currently defined fields.</span></li></ol>










































<h2>
<a id="pgfId-1008683"></a><a id="45389"></a>Arrays</h2>

<p>
<a id="pgfId-1008685"></a>An <em>array</em><a id="marker-1008684"></a> represents aggregate data objects in SKILL. Unlike simple data types, you must explicitly create arrays before using them so the necessary storage can be allocated. SKILL arrays allow efficient random indexing into a data structure using familiar syntax. </p>
<ul><li>
<a id="pgfId-1008686"></a>Arrays are not typed. Elements of the same array can be different data types. </li><li>
<a id="pgfId-1008687"></a>SKILL provides run-time array bounds checking. </li><li>
<a id="pgfId-1008688"></a>Arrays are one dimensional. You can implement higher dimensional arrays using single dimensional arrays. You can create an array of arrays.</li><li>
<a id="pgfId-1008689"></a>The array bounds are checked with each array access during run-time. An error occurs if the index is outside the array bounds. </li></ul>




<h3>
<a id="pgfId-1008690"></a>Allocating an Array of a Given Size</h3>

<p>
<a id="pgfId-1008693"></a>Use the <em>declare</em><a id="marker-1008691"></a> function to allocate an array of a given size. <a id="marker-1008692"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008694"></a>declare( week[7] )       =&gt; array[7]:9780700 <br />week                     =&gt; array[7]:9780700<br />type( week )             =&gt; array <br />arrayp( week )           =&gt; t <br />days = &#39;(monday tuesday wednesday <br />                  thursday friday saturday sunday) <br />for( day 0 length(week)-1 <br />      week[day] = nth(day days))</pre>

<ul><li>
<a id="pgfId-1008695"></a>The <em>declare</em> function returns the reference to the array storage and stores it as the value of <em>week</em>. </li><li>
<a id="pgfId-1008696"></a>The <em>type</em> function returns the symbol <em>array</em>. </li><li>
<a id="pgfId-1008697"></a>The <em>arrayp</em> function returns <em>t</em>. </li></ul>



<h3>
<a id="pgfId-1008698"></a>Accessing Arrays</h3>

<p>
<a id="pgfId-1008700"></a>When the name of an <a id="marker-1008699"></a>array appears without an index on the right side of an assignment statement, only the array object is used in the assignment; the values stored in the array are not copied. It is therefore possible for an array to be accessible by different names. Indexes are used to specify elements of an array and always start with 0; that is, the first element of an array is element 0. SKILL normally checks for an out-of-bounds array index with each array access.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008701"></a>declare(a[10])<br />a[0] = 1<br />a[1] = 2.0<br />a[2] = a[0] + a[1]</pre>

<p>
<a id="pgfId-1008702"></a>Creates an array of 10 elements.<em> a</em> is the name of the array, with indexes ranging from 0 to 9. Assigns the integer 1 to element 0, the float 2.0 to element 1, and the float 3.0 to element 2.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008703"></a>b = a </pre>

<p>
<a id="pgfId-1008704"></a><em>b</em> now refers to the same array as <em>a</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008705"></a>declare(c[10]) </pre>

<p>
<a id="pgfId-1008706"></a>Declares another array of 10 elements.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008707"></a>declare(d[2]) </pre>

<p>
<a id="pgfId-1008708"></a>Declares <em>d</em> as an array of 2 elements.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008709"></a>d[0] = b</pre>

<p>
<a id="pgfId-1008710"></a><em>d[0]</em> now refers to the array pointed to by <em>b</em> and <em>a</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008711"></a>d[1] = c</pre>

<p>
<a id="pgfId-1008712"></a><em>d[1]</em> is the array referred to by <em>c</em>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008713"></a>d[0][2] </pre>

<p>
<a id="pgfId-1008714"></a>Accesses element 2 of the array referred to by <em>d[0]</em>. <br />This is the same element as <em>a[2]</em>.</p>
<p>
<a id="pgfId-1008715"></a>Brackets ([ ]) are used to represent array references and are part of the statement <a id="marker-1008716"></a>syntax. The <em>declare</em> function is also an example of an <em>nlambda</em> function. The arguments of <em>nlambda</em> functions are passed literally (that is, not evaluated). It is up to the called function to evaluate selected arguments when necessary. </p>

<h2>
<a id="pgfId-1008719"></a><a id="AssociationTables"></a><a id="36049"></a>Association <a id="Association Tables"></a>Tables</h2>

<p>
<a id="pgfId-1008721"></a>An <a id="marker-1008720"></a>association table is a generalized array, a collection of key/value pairs. The SKILL data types that can be used as keys in a table are integer, float, string, list, symbol, and instances of certain user-defined types. An association table is implemented internally as a <a id="marker-1008722"></a>hash table.</p>
<p>
<a id="pgfId-1008723"></a>An association table lets you look up any entry with valid instances of SKILL data types. Data is stored in key/value pairs that can be quickly accessed with syntax for standard array access and various iterative functions. This access is based on a system that uses the SKILL <em>equal</em> function to compare keys.</p>
<p>
<a id="pgfId-1008724"></a>Association tables offer convenience and performance not available in disembodied property lists, arrays, or association lists. Disembodied property lists and <a id="marker-1008725"></a>association lists are not efficient in situations where their contents can expand greatly. In addition, using symbols for properties or keys in a <a id="marker-1008726"></a>disembodied property list can be wasteful. A simple conversion process converts disembodied property lists and association lists to association tables. An association table can also be converted to a list of association pairs.</p>
<p>
<a id="pgfId-1017138"></a>The following sections describe how to create, access, and modify association tables. For more information, see the <h-hot><a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O3w00000ADlfrEAD" show="replace" xml:link="simple">Data Structures</a></h-hot> video on the Cadence Online Support website.&#8221; </p>

<h3>
<a id="pgfId-1008727"></a>Initializing Tables</h3>

<p>
<a id="pgfId-1008730"></a>The<a id="marker-1008728"></a> <em>makeTable</em> function defines and initializes the association table. This function takes a single string argument as the table name for printing purposes. An optional second argument provides the default value that is returned when a query to the table yields no match. The <em>tablep</em><a id="marker-1008729"></a> predicate verifies the data type of a table, and the <em>length</em> function determines the number of keys in the table. To refer to and add elements, use the syntax for standard array access. </p>
<p>
<a id="pgfId-1008731"></a>The following example creates a table and loads it with keys and related values that pair numbers and colors for a color map. The keys can be any of the data type mentioned earlier; they are not restricted to numeric data types.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008732"></a>myTable = makeTable(&quot;atable1&quot; 0) =&gt; table:atable1<br />tablep(myTable)                  =&gt; t<br />myTable[1] = &quot;blue&quot;              =&gt; &quot;blue&quot;<br />myTable[&quot;two&quot;] = &#39;(r e d)        =&gt; (r e d)<br />myTable[&quot;three&quot;] = &#39;green        =&gt; green<br />length(myTable)&#160;&#160;                =&gt; 3</pre>

<p>
<a id="pgfId-1008733"></a>If a new pair is added to the table but its key already exists, the new value replaces the existing value in the table. </p>
<p>
<a id="pgfId-1008734"></a>If a key to be accessed does not exist, the process returns either the default value specified at table creation or the symbol <em>unbound</em>, if no default value was specified. </p>

<h3>
<a id="pgfId-1008735"></a>Manipulating Table Data</h3>

<p>
<a id="pgfId-1008737"></a>The <em>foreach, forall,</em> and <em>setof</em> functions <a id="marker-1008736"></a>scan the contents of an association table and perform iterative programming functions on each key and its associated value. Standard input and output functions are available through the <em>readTable, writeTable</em>, and <em>printstruct</em> functions.</p>
<p>
<a id="pgfId-1015110"></a>The <em>append</em><a id="marker-1015109"></a> function appends data from existing disembodied property lists, association lists, or an association table to another existing association table. You specify the association table (created with the <em>makeTable</em> function) as the first argument for this function. For the second argument, you specify the disembodied property list, association list, or other association table whose data is to be appended. You can use the <em>remove</em> function to remove an entry from an association table.</p>

<h4>
<a id="pgfId-1008777"></a><a id="marker-1008740"></a>Testing Whether a Data Value is a Table (<a id="marker-1008776"></a>tablep)</h4>

<p>
<a id="pgfId-1008778"></a>Use the <em>tablep</em> function to test whether a data value is a table. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008779"></a>myTable = makeTable(&quot;atable1&quot; 0)  =&gt; table:atable1<br />tablep(myTable)                   =&gt; t<br />tablep(9)&#160;&#160;                       =&gt; nil</pre>
<h4>
<a id="pgfId-1008780"></a>Converting the Contents of an Association Table to an Association List (<a id="marker-1008781"></a>tableToList) </h4>

<p>
<a id="pgfId-1008782"></a>This function eliminates the efficiency that you gain from referencing data in an association table. Do not use this function for processing data in an association table. Instead, use this function interactively to look at the contents of a table.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008783"></a>tableToList(myTable)<br />=&gt; ((&quot;two&quot; (r e d)) (&quot;three&quot; green) (1 &quot;blue&quot;))</pre>
<h4>
<a id="pgfId-1008785"></a>Writing the Contents of an Association List to a File (<a id="marker-1008784"></a>writeTable) </h4>

<p>
<a id="pgfId-1008786"></a>The <em>writeTable</em> function is for writing basic SKILL data types that are stored in an association table. The function cannot write database objects or other user-defined types that might be stored in association tables.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008787"></a>writeTable(&quot;inventory.log&quot; myTable) =&gt; t</pre>
<h4>
<a id="pgfId-1008789"></a>Appending the Contents of a File to an Existing Association Table (<a id="marker-1008788"></a>readTable)</h4>

<p>
<a id="pgfId-1008790"></a>The file must have been created with the <em>writeTable</em> function so that the contents are in a usable format.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008791"></a>readTable(&quot;inventory.log&quot; myTable)=&gt; t</pre>
<h4>
<a id="pgfId-1008793"></a>Printing the Contents of an Object in a Tabular Format (<a id="marker-1008792"></a>printstruct)</h4>

<p>
<a id="pgfId-1008794"></a>For debugging, the <em>printstruct</em> function prints the contents of a structure in an easily readable form. It recursively prints nested structures.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008795"></a>printstruct(myTable)<br />=&gt;      1: &quot;blue&quot;<br />      &quot;three&quot;: green<br />      &quot;two&quot;: (r e d)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014720"></a></pre>
<h4>
<a id="pgfId-1015120"></a>Removing Contents from a Table (remove)</h4>

<p>
<a id="pgfId-1015121"></a>The <em>remove</em> function can be used to remove an entry from an association table. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015122"></a>remove(g_key o_table)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014875"></a>     =&gt; l_result</pre>

<p>
<a id="pgfId-1015006"></a>Consider an example with the structure of the type association table <code>myTable</code> as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014922"></a>  &quot;1&quot;: &quot;blue&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014923"></a>  &quot;3&quot;: &quot;yellow&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014924"></a>  &quot;0&quot;: &quot;red&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014925"></a>  &quot;2&quot;: &quot;green&quot;</pre>

<p>
<a id="pgfId-1014909"></a>Use the remove function as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014937"></a>remove(&quot;1&quot; myTable)</pre>

<p>
<a id="pgfId-1015060"></a>When you print the contents of the table again, the entry &#8220;1&#8221; is removed from the table.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014991"></a>Structure of type association table (table:myTable):</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014992"></a>  &quot;3&quot;: &quot;yellow&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014993"></a>  &quot;0&quot;: &quot;red&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014994"></a>  &quot;2&quot;: &quot;green&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014982"></a></pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1014882"></a>When you use the <em>remove</em> function, the removal is destructive, that is, any other reference to the table will also see the changes (see &#8220;<a href="chap8.html#10794">Removing Elements from a List</a></div>

<h3>
<a id="pgfId-1014851"></a>Traversing <a id="marker-1014850"></a>Association Tables</h3>

<p>
<a id="pgfId-1008799"></a>Use the <em>foreach</em><a id="marker-1008798"></a> function to visit every key in an association table. For example, use the following function call to print each key/value pair in a table.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1015450"></a>foreach( key myTable<br />            println( <br />                  list( key myTable[ key ] ) <br />                  )<br />      )</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1015451"></a>You can also use <code>myTable[&#39;?]</code> or <code>myTable-&gt;?</code> to get a list of all the available keys in an association table.</div>
<p>
<a id="pgfId-1015410"></a>You can also use the functions <em>forall, exists</em><a id="marker-1008801"></a><a id="marker-1008802"></a> and <em>setof</em><a id="marker-1008803"></a> to traverse association tables. (These functions are described in detail in <a href="chap8.html#16206">&#8220;Advanced List Operations&#8221;</a>)</p>
<p>
<a id="pgfId-1008805"></a>For example, use the following function call to test if every key/value pair in a table are such that the key is a string and value is an integer.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008806"></a>forall( key myTable<br />            stringp(key) &amp;&amp; fixp(myTable[key])<br />            )</pre>

<p>
<a id="pgfId-1008807"></a>To check if there is a single pair that satisfies the above expression, call the following function.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008808"></a>exists( key myTable<br />            stringp(key) &amp;&amp; fixp(myTable[key])<br />            )</pre>

<ul><li>
<a id="pgfId-1008809"></a>To write the entire contents of a table to a file, use <em>writeTable</em>. </li><li>
<a id="pgfId-1008810"></a>To read a file (created using <em>writeTable</em>), use <em>readTable</em>. </li><li>
<a id="pgfId-1015151"></a>To view the contents of a table, use <em>printstruct</em>. </li></ul>


<p>
<a id="pgfId-1015152"></a>The <em>append</em> function appends data from existing disembodied property lists or association lists to an existing association table. In addition, the <em>append</em> function can add data from one association table to another association table as shown in the following example. </p>

<h3>
<a id="pgfId-1015140"></a>Implementing Sparse Arrays</h3>

<p>
<a id="pgfId-1008814"></a>A sparse array is an indexed collection, most of whose entries are unused. For large sparse <a id="marker-1008815"></a>arrays, it is wasteful to allocate the entire array. Instead, you can use an association table for a one-dimensional array. Use integers as the keys. To implement a two-dimensional sparse array, use lists of index pairs as keys.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008816"></a>procedure( tr2DSparseArray()<br />            makeTable( gensym( &#39;trSparseArray ) )<br />      ) ; procedure<br />
trSparseTimesTable = tr2DSparseArray( )
for( i 0 3 
&#160;&#160;    for( j 0 6 <br />            trSparseTimesTable[ list( i j ) ] = i*j<br />            ) ; for<br />      ) ; for </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014758"></a></pre>
<h3>
<a id="pgfId-1014773"></a>List-Oriented Functions for Association Tables</h3>

<p>
<a id="pgfId-1014774"></a>Several list-oriented functions also work on tables, including iteration. </p>

<p>
<a id="pgfId-1014808"></a></p>
<table class="webflareTable" id="#id1014775">
<caption style="text-align:left;"><p>
<span class="tbl-head" id="#id1014777">
<a id="pgfId-1014777"></a>List-Oriented Functions for Tables</span>
</p></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014781">
<a id="pgfId-1014781"></a>Use this </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014783">
<a id="pgfId-1014783"></a>To do this </span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014785"></a>Syntax for array access</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014787"></a>To store and retrieve entries in a table</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014789"></a><em>makeTable</em> function</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014791"></a>To create and initialize the association table. The arguments are the table name (required) and (optional) the default value to return for keys not present in the table. The default is <em>unbound</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014793"></a><em>foreach </em>function</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014795"></a>To execute a collection of SKILL expressions for each key/value pair in a table</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014797"></a><em>setof</em> function</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014799"></a>To return a list of keys in a table that satisfy a criterion.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014801"></a><em>length</em> function</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014803"></a>To return the number of key/value pairs in a table</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014805"></a><em>remove</em> function</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1014807"></a>To remove a key from a table</p>
</td>
</tr>
</tbody></table>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1014765"></a></pre>
<h2>
<a id="pgfId-1008817"></a><a id="25069"></a>Association Lists</h2>

<p>
<a id="pgfId-1008819"></a>A list of key/value pairs is a natural means to record <a id="marker-1008818"></a>associations. An association list is a list of lists. The first element of each list is the key. The key can be an instance of any of SKILL types.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008820"></a>assocList = &#39;( ( &quot;A&quot; 1 ) ( &quot;B&quot; 2 ) ( &quot;C&quot; 3 ) )</pre>

<p>
<a id="pgfId-1008822"></a>The <em>assoc</em><a id="marker-1008821"></a> function retrieves the list given the index.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008823"></a>assoc( &quot;B&quot; assocList ) =&gt; ( &quot;B&quot; 2 )<br />assoc( &quot;D&quot; assocList ) =&gt; nil</pre>

<p>
<a id="pgfId-1008825"></a>Use the <em>rplaca</em><a id="marker-1008824"></a> function to destructively update an entry. The following replaces the <em>car</em> of the <em>cdr</em> of the association list entry.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1008826"></a>rplaca( cdr( assoc( &quot;B&quot; assocList ) ) &quot;two&quot; ) <br />=&gt; ( &quot;two&quot; )<br />
assocList =&gt; (( &quot;A&quot; 1 ) ( &quot;B&quot; &quot;two&quot; ) ( &quot;C&quot; 3 ))</pre>

<p>
<a id="pgfId-1008827"></a>Association lists behave the same way as association tables. For lists with less than ten pairs, it is more efficient to use association lists than association tables. For lists likely to grow beyond ten pairs, it is more efficient to use association tables.</p>

<h2>
<a id="pgfId-1008828"></a><a id="22060"></a>User-Defined Types</h2>

<p>
<a id="pgfId-1008830"></a>User-defined types are special foreign or external <a id="marker-1008829"></a>data types exported into SKILL by various applications. Their behavior is predetermined by the applications that own them. For example, database and window objects are usually implemented as C-structs and exported into SKILL as user-defined types. </p>
<p>
<a id="pgfId-1008831"></a>The application that defines the SKILL behavior for the user-defined types provides methods for SKILL to apply in various situations. For example, when you apply the accessor operators -&gt; or ~&gt; to a user-defined type, the SKILL engine resolves the operation by calling the accessor method implemented for that type by an application.</p>
<p>
<a id="pgfId-1008832"></a>There are other methods to support a user-defined type&#8217;s behavior in SKILL. For example, to test two user-defined types for equality (<em>equal</em>), the application exporting the type provides a method to overload the SKILL <em>equal</em> function just for that type. The equal method takes two arguments and returns <em>t</em> or <em>nil</em>.</p>
<p>
<a id="pgfId-1008833"></a>The application exporting the type determines what methods are needed to support the type in SKILL. If the application does not supply a method, SKILL applies a default behavior. In general, to a user, instances of a user-defined type look and feel similar to instances of <em>defstructs</em>. </p>
<p>
<a id="pgfId-1008834"></a>Specific information on user-defined types is supplied by the applications exporting the types. For example, creating instances of user-defined types happens when certain application functions are called, such as <em>dbOpen</em>.</p>
<p>
<a id="pgfId-1008835"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3.html" id="prev" title="Creating Functions in SKILL">Creating Functions in SKILL</a></em></b><b><em><a href="chap5.html" id="nex" title="Arithmetic and Logical Expressions">Arithmetic and Logical Express ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>