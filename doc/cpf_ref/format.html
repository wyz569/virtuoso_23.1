
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="GENERATOR" content="Quadralay WebWorks Publisher AutoMap 6.0.7">
<meta name="TEMPLATEBASE" content="CadencePubs_HelpTopics">
<meta name="LASTUPDATED" content="Wed Jul 17 14:09:05 2013">

<script TYPE="text/javascript" LANGUAGE="JavaScript" >
  <!--
  // Dummy script statement to get rid of Netscape timing errors which may
  // print garbage JavaScript code at the top in Unix 4.x Netscape browser.
  // -->
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Browser.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Cookies.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript" src="/Search.js">
  </script>
                                                                                                                                                                
  <script type="text/javascript" language="JavaScript">
  <!--
  function window_resized(){
    window.location.reload();
  }
  window.onresize=window_resized;
                                                                                                                                                                
  /*
  * Initializes before submitting query
  */
  function initOnSubmit() {
    storeStateAndQuery();
  }
                                                                                                                                                                
  setCookie("DocumentTitle", "Common Power Format Language Reference");
  setCookie("Chapter", "N/A");
  setCookie("Keyword", "search");
  setCookie("Version", "Product Version 2.2");

  // -->
  </script>


<title>Common Power Format Language Reference -- 3. Understanding the CPF Format</title>
<META NAME="Approver" CONTENT="Technical Publications">
<META NAME="Author" CONTENT="Technical Publications">
<META NAME="CreateDate" CONTENT="2013-07-17">
<META NAME="CreateTime" CONTENT="1374095377">
<META NAME="DataType" CONTENT="Manuals">
<META NAME="Description" CONTENT="Describes CPF">
<META NAME="DocTitle" CONTENT="Common Power Format Language Reference">
<META NAME="DocType" CONTENT="Manual">
<META NAME="FileTitle" CONTENT="3. Understanding the CPF Format">
<META NAME="FileType" CONTENT="Chapter">
<META NAME="Keyword" CONTENT="cpf_ref">
<META NAME="Language" CONTENT="English">
<META NAME="ModifiedDate" CONTENT="2013-07-17">
<META NAME="ModifiedTime" CONTENT="1374095377">
<META NAME="NextFile" CONTENT="domains_and_modes.html">
<META NAME="PageCount" CONTENT="14">
<META NAME="Platform" CONTENT="ALL">
<META NAME="PrevFile" CONTENT="concepts.html">
<META NAME="Product" CONTENT="Languages">
<META NAME="ProductFamily" CONTENT="Cadence Shared Tools">
<META NAME="ProductVersion" CONTENT="2.0">
<META NAME="RightsManagement" CONTENT="Copyright 2006 Cadence Design Systems Inc.">
<META NAME="Title" CONTENT="Common Power Format Language Reference -- 3. Understanding the CPF Format">
<META NAME="TopicTags" CONTENT="FALSE">
<META NAME="Version" CONTENT="2.0">
</head>

<body bgcolor="#ffffff">
<a name="firstpage"></a>
<a name="pagetop"></a>

<p>
<!-- Begin Buttons -->

<form name="advancedform" action="/vtopic.isapi" method="GET" onSubmit="initOnSubmit()">
<input type=hidden name="action" value="FilterSearch">
<input type=hidden name="Filter" value="altsearchfilter.hts">
<input type=hidden name="resulttemplate" value="altsearchresults.hts">
<input type=hidden name="resultcount" value="10">
<input type=hidden name="resultmaxdocs" value="-1">
<input type=hidden name="queryhidden" value="null">
<input type=hidden name="queryitemselected" value="no">

<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="36" width="650" colspan="10"><img src="../support/header_doc.gif" WIDTH="650" HEIGHT="36"></td>
</tr>
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="cpf_refTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><a href="cpf_refIX.html"><img src="../support/nav2_index.gif" border="0" alt="View Index for This Manual" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="concepts.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="domains_and_modes.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="cpf_ref.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><img src="../support/nav2_black.gif" height="20" width="61"></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
 <tr>
    <td colspan="10">
      <script type="text/javascript">
      <!--// We wrap all this inside javascript because we only want to display  -->
      <!--// the search bar if the http server is running. If it is not running  -->
      <!--// the search bar should not be visible to the user                    -->
      <!-- BEGIN SEARCH BAR -->
      var isloaded = isLoaded();
      var enteredquery = getCookie("enteredquery");
      if(enteredquery) {
        enteredquery = enteredquery.replace(/</g,"&lt ");
        enteredquery = enteredquery.replace(/>/g,"&gt ");
      } else {
         enteredquery = "";
      }
                                                                                                                                                                
      <!-- Only display search bar if server is running -->
      if(isloaded) {
                                                                                                                                                                
        display_search_bar(enteredquery);
                                                                                                                                                                
      }
      <!-- END SEARCH BAR -->
      </script>
    </td>
  </tr>
</table>
</form>

<!-- End Buttons -->
<p>
<p>
<hr>
<p>
<h3><center>Common Power Format Language Reference&#0044; Version 2.0</center></h3><br>
<p>


<blockquote>

  
<div align="right">
<h1 align="left">
  <a name="1032955"> </a>3</h1>
</div>

<hr>
<h1>
  <a name="1035250"> </a>Understanding the CPF Format</h1>





<ul>
  <a name="1035921"></a><li><p><a href="format.html#1046329">Introduction</a></p>

  <a name="1038866"></a><li><p><a href="format.html#1039197">Objects</a></p>

  <a name="1047738"></a><li><p><a href="format.html#1047674">Object Names</a></p>

  <a name="1038871"></a><li><p><a href="format.html#1048789">Object Lists</a></p>

  <a name="1047941"></a><li><p><a href="format.html#1049427">Escape Character</a></p>

  <a name="1039862"></a><li><p><a href="format.html#1046930">Hierarchy Delimiter</a></p>

  <a name="1048610"></a><li><p><a href="format.html#1048564">Wildcards</a></p>

  <a name="1038876"></a><li><p><a href="format.html#1039851">Bus Delimiters</a></p>

  <a name="1041971"></a><li><p><a href="format.html#1048097">Range Specification</a></p>

  <a name="1039871"></a><li><p><a href="format.html#1049501">Individual Registers Names</a></p>

  <a name="1038881"></a><li><p><a href="format.html#1039722">Expressions</a></p>

  <a name="1047956"></a><li><p><a href="format.html#1046835">Units</a></p>

  <a name="1035926"></a><li><p><a href="format.html#1041332">Example</a></p>
</ul>
<br><br><br>
<h2>
  <a name="1046329"> </a>Introduction</h2>


<p>
  <a name="1037548"> </a>The Common Power Format (CPF) is a strictly Tcl-based format. </p>


<p>
  <a name="1043781"> </a>The CPF file is a power specification file. This implies that the functionality of the design does not change when sourcing a CPF file. The CPF file complements the HDL description of the design and can be used throughout the design creation, design implementation, and design verification flow.</p>


<br><br><br>
<h2>
  <a name="1039197"> </a>Objects</h2>


<p>
  <a name="1039198"> </a>The CPF file contains two categories of objects:</p>

<ul>
  <a name="1039216"></a><li><p><a href="concepts.html#1036032">Design Objects</a> are objects that already exists in the description of the design.</p>

  <a name="1047672"></a><li><p><a href="concepts.html#1036563">CPF Objects</a> are objects that are created in the CPF file.</p>
</ul>
<br><br><br>
<h2>
  <a name="1047674"> </a>Object Names </h2>


<br><br>
<h3>
  <a name="1048458"> </a>Design Objects</h3>


<p>
  <a name="1048398"> </a>The design object name must be a valid SystemVerilog or VHDL name. If a CPF file is written for RTL, use the RTL object names. if a CPF is written for a gate-level netlist, use the gate-level netlist object names. </p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1048399"> </a>In VHDL, object names in the format of extended identifier (VHDL LRM,13.3.2) are not supported.
</p>

<p>
  <a name="1049256"> </a>See <a href="structure.html#1135885">Object References</a> for more information on referencing design objects.</p>


<br><br>
<h3>
  <a name="1048459"> </a>CPF Objects</h3>


<p>
  <a name="1046583"> </a>CPF objects are created by CPF commands. The string that follows the <code>-name</code> option in a CPF command identifies the CPF object that is created. For example,</p>


<pre><a name="1048508"></a><nobr>create_power_mode -name PM1 ...</nobr></pre>

<p>
  <a name="1048509"> </a>This command creates a power mode <code>PM1</code> in the current scope (part of the design that is visible).</p>


<p>
  <a name="1048473"> </a>A CPF object can have the same name as a design object, but must have a unique name within the scope.</p>


<p>
  <a name="1048472"> </a>A CPF object name cannot contain the hierarchy delimiter character.</p>


<p>
  <a name="1037843"> </a>CPF object names can contain </p>

<ul>
  <a name="1048460"></a><li><p>any sequence of letters (of the alphabet)</p>

  <a name="1048461"></a><li><p>digits</p>

  <a name="1048462"></a><li><p>the underscore (_)</p>

  <a name="1048463"></a><li><p>the period (.)</p>
<dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1047678"> </a>The period (.) can only be used for a nominal condition name and the operating corner.
</p>

</dl></ul>
<p>
  <a name="1049152"> </a>See <a href="structure.html#1135885">Object References</a> for more information on referencing CPF objects inside and outside the current scope.</p>


<br><br><br>
<h2>
  <a name="1048789"> </a>Object Lists</h2>


<p>
  <a name="1046823"> </a>Lists of objects must be enclosed in braces. CPF files can contain simple and complex lists.</p>


<p>
  <a name="1046824"> </a>A simple list is a list of <em>single</em> design objects or CPF objects.</p>


<p>
  <a name="1046825"> </a>A complex list can be a </p>

<ul>
  <a name="1046826"></a><li><p>List of lists </p>
<dl>
<p>
  <a name="1046827"> </a>For example: <code>{{iso_en PCM/ISO} {restore PCM/WAKE}}</code></p>

</dl>
  <a name="1046828"></a><li><p>List of compound objects </p>
<dl>
<p>
  <a name="1049424"> </a>For example: <code>{PD1@high_max PD2@high_min PD3@low_max}</code></p>


<p>
  <a name="1049425"> </a>A compound object is created by joining two CPF objects with the at sign (@) character.</p>

</dl></ul>
<br><br>
<h3>
  <a name="1049430"> </a>Empty Lists</h3>


<p>
  <a name="1049431"> </a>In some cases, the object list specified with a command option can be empty. For example,</p>


<pre><a name="1049432"></a><nobr>create_isolation_rule -name ISO1 -from PD1 -pins [find_design_objects \<br>-object_type port A*]</nobr></pre>

<p>
  <a name="1049438"> </a>If the design has no ports matching the pattern A*, the <code>find_design_objects</code> command retrurns an empty list. In this case, the isolation rule does not apply to any ports in the design. This is equivalent to specifying:</p>


<pre><a name="1049451"></a><nobr>create_isolation_rule -name ISO1 -from PD1 -pins <code><strong>{}</strong></code></nobr></pre>

<br><br><br>
<h2>
  <a name="1049427"> </a>Escape Character</h2>


<p>
  <a name="1047925"> </a>The Tcl escape character is the backslash character (\). Use it to escape special characters that have special meaning to the Tcl interpreter, such as square brackets.</p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1047937"> </a>The escape character is not required when the special character is contained within curly braces or double quotes.
</p>

<br><br><br>
<h2>
  <a name="1046930"> </a>Hierarchy Delimiter</h2>


<p>
  <a name="1037621"> </a>The supported hierarchy delimiter characters are</p>

<ul>
  <a name="1037684"></a><li><p>period (.) -- <em>default</em></p>

  <a name="1048517"></a><li><p>slash (/)</p>

  <a name="1047389"></a><li><p>colon (:)</p>
</ul>
<p>
  <a name="1037668"> </a>The hierarchical delimiter can be specified using the <a href="reference.html#1086938"><code>set_hierarchy_separator</code></a> command. See <a href="structure.html#1067330">Information Inheritance</a> for more information on the scope sensitivity of this command.</p>

<p>
<a name="1037785"> </a>This character only has this special meaning in object names. An escaped hierarchy delimiter character loses its meaning as a hierarchy delimiter.</p>
<p>
<a name="1048464"> </a>The semantics of building an object reference using the hierarchical separator are specified in <a href="structure.html#1135885">Object References</a>.</p>
<p>
<a name="1048291"> </a>In the following rule example, the period is the default hierarchy delimiter. The first period is escaped, while the second period is not. Consequently the second period acts as hierarchy delimiter, and instance <code>c[0]</code> is considered to belong to hiearchical instance named <code>block.xxx.</code></p>

<pre><a name="1048292"></a><nobr><code>create_state_retention_rule -name ret -instances</code><code><strong> {block\.xxx.c[0]}</strong></code></nobr></pre>

<p>
<strong>Note:&nbsp;</strong>
<a name="1048410"> </a>The hierarchy delimiter is also the pin delimiter when referencing a pin object.
</p>

<br><br><br>
<h2>
  <a name="1048564"> </a>Wildcards</h2>


<p>
  <a name="1048565"> </a>You can specify multiple objects of the same type by including wildcards. Wildcards are expanded only on objects within the current scope.</p>

<ul>
  <a name="1048567"></a><li><p>* matches zero or more characters </p>

  <a name="1048568"></a><li><p>? matches a single character </p>
</ul>
  <a name="1048569"> </a><table border="0"><tr><td valign="top"><img src="../support/important.gif"></td><td>Wildcard characters can represent bus delimiters, but they do <em>not</em> represent the hierarchical separator.</td></table>

     <dl><dl>
<p>
  <a name="1048570"> </a>For example, c*[3] can represent <code>c1[3]</code> and <code>c1[0][3]</code>, while <code>a*/b</code> can represent <code>a1/b</code> and <code>a2/</code>b, but not <code>a/x/b</code> or <code>a/x/y/b</code> (assuming / is used as the hierarchical separator).</p>

</dl><dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="1048572"> </a>In rule specifications, wildcards are considered to specify the targeted design objects <em>explicitly</em> (by expanding the string to a list). See <a href="rules.html#1036979">Different Categories of Rules</a>.
</p>

</dl>     </dl>
<br><br><br>
<h2>
  <a name="1039851"> </a>Bus Delimiters</h2>


<p>
  <a name="1039852"> </a>The default bus delimiters are the square brackets ([ ]). </p>


<p>
  <a name="1048022"> </a>Because the square brackets ([&nbsp;]) are reserved characters in Tcl syntax, you can do one of the following for bus bit names:</p>

<ul>
  <a name="1048195"></a><li><p>Enclose the bus bit name in braces</p>
<dl>
<p>
  <a name="1048209"> </a><code>-pins {a[0]}</code></p>

</dl>
  <a name="1048198"></a><li><p>Escape the open square bracket ([) and the closing square bracket (]) when you use these characters as bus delimiters</p>
<dl>
<p>
  <a name="1048094"> </a><code>-pins a\[0\]</code></p>

</dl></ul><p>
<a name="1048228"> </a>The square brackets only have this special meaning in object names. </p>
<p>
<a name="1048634"> </a>When the entire object name is escaped, the square brackets lose their meaning as bus delimiters. For example, the Verilog names <code>a[0]</code> and <code>\a[0]</code> are not equivalent. Only <code>a[0]</code> represents bit 0 of bus <code>a</code>, while <code>\a[0]</code> is a scalar object name. To avoid Tcl errors for the scalar object name in CPF, enter it as either</p>
<ul>
  <a name="1048183"></a><li><p><code>a\\[0\\] </code></p>

  <a name="1049170"></a><li><p><code>{ a\[0\] }</code></p>
</ul>
<p>
  <a name="1049470"> </a>The recommended format for a list of objects is: <code>{{a\[0\]} {a\[1\]}}</code></p>


<br><br><br>
<h2>
  <a name="1048097"> </a>Range Specification</h2>


<p>
  <a name="1040255"> </a>To specify a range (multiple bits of a bus or of a register array), use the bus delimiters and the colon (:). For example:</p>


<pre><a name="1040231"></a><nobr>a[2:7] <br>b[6:3]<br>c_reg[4:2]</nobr></pre>

<p>
  <a name="1047847"> </a>To specify all pins of a bus pin or bus port, use the bus pin or bus port name without a range.</p>


<br><br><br>
<h2>
  <a name="1049501"> </a>Indiv<a name="naming"></a>idual Registers Names</h2>


<p>
  <a name="1049545"> </a>For a CPF file written for an RTL design, the register names are based on</p>

<ul>
  <a name="1049546"></a><li><p>A base name</p>

  <a name="1049547"></a><li><p>(optional) A bit select appended to the base name. </p>
</ul>
<p>
  <a name="1049565"> </a>Examples of register names in CPF: <code>register_A</code>, <code>register_A[0]</code></p>


<p>
  <a name="1048356"> </a>The format of a register name in <strong>RTL</strong> and the corresponding flip-flop or latch instance names in the <strong>netlist</strong> can be different. When reading in a CPF file written for RTL together with a gate-level netlist, you need to specify how the base name and bit information are represented in the gate-level netlist. This is explained in the following sections.</p>


<br><br>
<h3>
  <a name="1048359"> </a>Specifying the Representation of the Base Name </h3>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1038527"> </a>	 To specify the suffix that is appended to the base name of a flip-flop or latch instance in the netlist, use the <a href="reference.html#1070097"><code>set_register_naming_style</code></a> command.</td>
</table>

     <dl><dl>
<p>
  <a name="1043287"> </a>The <code>set_register_naming_style</code> command expects a string with the following format:</p>

</dl><dl>
<pre><a name="1043288"></a><nobr><code>string%s</code></nobr></pre>
</dl><dl>
<p>
  <a name="1039282"> </a>The default format is:<em> </em><code>_reg%s</code></p>


<p>
  <a name="1045180"> </a>See <a href="structure.html#1067330">Information Inheritance</a> for more information on the scope sensitivity of this command.</p>

</dl>     </dl>
<p>
  <a name="1038257"> </a>The following rules apply:</p>

<ul>
  <a name="1043248"></a><li><p>An instance name is always started with the base name.</p>

  <a name="1043254"></a><li><p>The suffix is appended to the base name to form the instance name, according to the format specified in the string. </p>

  <a name="1038258"></a><li><p>If the corresponding RTL register is an array, <code>%s</code> represents the bit information (see also <a href="format.html#1039694">Specifying the Representation of the Bits</a>).</p>
</ul>
<br><br>
<h3>
  <a name="1039694"> </a>Specifying the Representation of the Bits</h3>


<table border="0" cellpadding="0">
<tr>
<td valign="top"><img src=../chars/arrwrite.gif>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a name="1039695"> </a>	 To specify how the bit information of a flip-flop or latch instance is represented in the netlist, use the <a href="reference.html#1086932"><code>set_array_naming_style</code></a> command.</td>
</table>

     <dl><dl>
<p>
  <a name="1038935"> </a>The <code>set_array_naming_style</code> command expects a string with the following format:</p>

</dl><dl>
<pre><a name="1043262"></a><nobr>[<code><em>character</code></em>]%d[<code><em>character</code></em>]</nobr></pre>
</dl><dl>
<p>
  <a name="1038936"> </a>The default format is:<em> </em><code>\[%d\]</code> </p>


<p>
  <a name="1045188"> </a>See <a href="structure.html#1067330">Information Inheritance</a> for more information on the scope sensitivity of this command.</p>

</dl>     </dl>
<p>
  <a name="1038909"> </a>For example, this option can have values such as:</p>


<pre><a name="1038964"></a><nobr>&lt;%d&gt;,\[%d\], _%d_, _%d</nobr></pre>

<p>
  <a name="1038969"> </a>The following rules apply: </p>

<ul>
  <a name="1038973"></a><li><p>A suffix is generated for each dimension, according to the format specified in this string. </p>

  <a name="1038978"></a><li><p>The %d represents an index of a certain dimension. </p>
</ul>
<p>
  <a name="1046616"> </a>All pieces of the suffix are concatenated, from the highest dimension to the lowest dimension, to form a combined suffix for multi-dimensional arrays. </p>


<h4>  <a name="1045671"> </a><i><strong>Examples</strong> </i>
</h4>


<p>
  <a name="1045672"> </a>Assume the following RTL input:</p>

     <dl><dl>
<pre><a name="1045673"></a><nobr>reg a;<br>reg [3:2] b;<br>reg [5:4][3:2] c;</nobr></pre>
</dl>     </dl><ul>
  <a name="1045674"></a><li><p>If you specify the following commands:</p>
<dl>
<pre><a name="1045675"></a><nobr>set_register_naming_style <code><strong>%s<br></strong></code>set_array_naming_style <code><strong>_%d</strong></code></nobr></pre>
</dl><dl>
<p>
  <a name="1045676"> </a>The corresponding instance names in the netlist are expanded as follows:</p>

</dl><dl>
<pre><a name="1045677"></a><nobr>a &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nobr></pre>

<pre><a name="1045678"></a><nobr>b_2 </nobr></pre>

<pre><a name="1045679"></a><nobr>b_3 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nobr></pre>

<pre><a name="1045680"></a><nobr>c_4_2</nobr></pre>

<pre><a name="1045681"></a><nobr>c_4_3 </nobr></pre>

<pre><a name="1045682"></a><nobr>c_5_2</nobr></pre>

<pre><a name="1045683"></a><nobr>c_5_3</nobr></pre>
</dl>
  <a name="1045684"></a><li><p>If you specify the following commands:</p>
<dl>
<pre><a name="1045685"></a><nobr>set_register_naming_style <code><strong>_reg%s<br></strong></code>set_array_naming_style <code><strong>_%d_</strong></code></nobr></pre>
</dl><dl>
<p>
  <a name="1045686"> </a>The instance names are expanded as follows:</p>

</dl><dl>
<pre><a name="1045687"></a><nobr>a_reg &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nobr></pre>

<pre><a name="1045688"></a><nobr>b_reg_2_ </nobr></pre>

<pre><a name="1045689"></a><nobr>b_reg_3_ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nobr></pre>

<pre><a name="1045690"></a><nobr>c_reg_4__2_</nobr></pre>

<pre><a name="1045691"></a><nobr>c_reg_4__3_ </nobr></pre>

<pre><a name="1045692"></a><nobr>c_reg_5__2_</nobr></pre>

<pre><a name="1045693"></a><nobr>c_reg_5__3_</nobr></pre>
</dl>
  <a name="1045694"></a><li><p>If you specify the following commands:</p>
<dl>
<pre><a name="1045695"></a><nobr>set_register_naming_style <code><strong>%s</strong></code></nobr></pre>

<pre><a name="1045696"></a><nobr>set_array_naming_style <code><strong>\[%d\]</strong></code></nobr></pre>
</dl><dl>
<p>
  <a name="1045697"> </a>The instance names are expanded as follows:</p>

</dl><dl>
<pre><a name="1045698"></a><nobr>a &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nobr></pre>

<pre><a name="1045699"></a><nobr>b[2] </nobr></pre>

<pre><a name="1045700"></a><nobr>b[3] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nobr></pre>

<pre><a name="1045701"></a><nobr>c[4][2] </nobr></pre>

<pre><a name="1045702"></a><nobr>c[4][3] </nobr></pre>

<pre><a name="1045703"></a><nobr>c[5][2] </nobr></pre>

<pre><a name="1045704"></a><nobr>c[5][3] </nobr></pre>
</dl></ul>
  <a name="1045705"> </a><table border="0"><tr><td valign="top"><img src="../support/important.gif"></td><td>Because the square brackets represent command substitution in the Tcl language, you need to either escape the entire instance name or escape each bracket character and enclose the entire name in braces, if you want to reference these instance names in CPF commands. The following are equivalent:</td></table>

     <dl><dl>
<pre><a name="1045706"></a><nobr>{c[4][2]}<br>and<br>c\[4\]\[2\]</nobr></pre>
</dl>     </dl>
<br><br><br>
<h2>
  <a name="1039722"> </a>Expressions</h2>


<p>
  <a name="1039723"> </a>In this document, all expressions refer to SystemVerilog Boolean expressions. The current version only supports the following operators for Boolean expressions:</p>


<p>
  <a name="1039745"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1039726"> </a>Operator</strong></p></div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1039728"> </a>Description</strong></p></div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1048436"> </a>~ </p>
</td>
    <td valign="top"><p>
<a name="1048438"> </a>bit-wise negation</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1039734"> </a>&amp;</p>
</td>
    <td valign="top"><p>
<a name="1039736"> </a>bit-wise AND</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1039738"> </a>|</p>
</td>
    <td valign="top"><p>
<a name="1039740"> </a>bit-wise OR</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1048441"> </a>^</p>
</td>
    <td valign="top"><p>
<a name="1048443"> </a>bit-wise XOR</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1048453"> </a>!</p>
</td>
    <td valign="top"><p>
<a name="1048455"> </a>logical negation</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1048445"> </a>&amp;&amp;</p>
</td>
    <td valign="top"><p>
<a name="1048447"> </a>logical AND</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1048449"> </a>||</p>
</td>
    <td valign="top"><p>
<a name="1048451"> </a>logical OR</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1043886"> </a>All operators associate left to right. When operators differ in precedence, the operators with higher precedence apply first. In the table above, the operators are shown in order of precedence.</p>


<p>
  <a name="1047795"> </a>Unless otherwise specified, operands can be one of the following:</p>

<ul>
  <a name="1047796"></a><li><p>A port</p>

  <a name="1047825"></a><li><p>An instance pin</p>

  <a name="1047815"></a><li><p>A library cell pin</p>
</ul>
  <a name="1048340"> </a><table border="0"><tr><td valign="top"><img src="../support/important.gif"></td><td></td></table>

   <ul><ul>
  <a name="1045162"> </a><li><p>You can use parentheses () to change the operator precedence.
</p>

  <a name="1046576"> </a><li><p>Pin names in expressions cannot represent buses.
</p>

  <a name="1048334"> </a><li><p>If a design object name contains a Boolean operator, you must escape the Boolean 
operator.
</p>
</ul>   </ul>
<br><br><br>
<h2>
  <a name="1046835"> </a>Units</h2>


<p>
  <a name="1046839"> </a>To specify the power unit, use the <a href="reference.html#1328275"><code>set_power_unit</code></a> command. The default power unit is <code>mW</code>.</p>


<p>
  <a name="1046843"> </a>To specify the time unit, use the <a href="reference.html#1291602"><code>set_time_unit</code></a> command. The default time unit is <code>ns</code>.</p>


<p>
  <a name="1046845"> </a>All voltage values must be specified in volt (V).</p>


<br><br><br>
<h2>
  <a name="1041332"> </a>Example</h2>


<p>
  <a name="1041336"> </a>Consider the example design shown in <a href="format.html#1041338">Figure 3-1</a>. </p>


  <a name="1041338"> </a><h4>
Figure 3-1   Example Design for CPF</h4>


<p>
  <a name="1041344"> </a><img src="images/formatx1.png" border="0">
</p>


<p>
  <a name="1041345"> </a>The design has four domains:</p>

<ul>
  <a name="1041346"></a><li><p>The top-level of the design and hiearchical instance <code>pm_inst</code> belong to the default domain <code>PD1</code></p>

  <a name="1041347"></a><li><p>Hierarchical instances <code>inst_A</code> and <code>inst_B </code>belong to power domain <code>PD2</code></p>
<dl>
<p>
  <a name="1047963"> </a>Hierarchical instance <code>inst_B</code> is an instantiation of an IP block. Its power domain is mapped to power domain <code>PD2</code>.</p>


<p>
  <a name="1047978"> </a>The IP is designed to be used either in a switchable or non-switchable top design. If it is used in a switchable top design, all of the registers of <code>inst_B</code> need to be implemented as state retention flops.</p>

</dl>
  <a name="1041348"></a><li><p>Hierarchical instance <code>inst_C</code> belongs to power domain <code>PD3</code></p>

  <a name="1041349"></a><li><p>Hierarchical instance <code>inst_D</code> belongs to power domain <code>PD4</code></p>
</ul>
<p>
  <a name="1041353"> </a><a href="format.html#1041354">Table 3-1</a> shows the static behavior (voltage) for each power domain in each of the modes.</p>


<p>
<strong>Note:&nbsp;</strong>
<a name="1045169"> </a>A voltage of 0.0V indicates that the power domain is off.
</p>

  <a name="1041354"> </a><h4>
Table 3-1   Static Behavior</h4>


<p>
  <a name="1041416"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1044713"> </a>Power Mode</strong></p></div></font></th>
    <th colspan=4 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1044715"> </a>Power Domain</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1044725"> </a>PD1</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1044727"> </a>PD2</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1044729"> </a>PD3</p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1044731"> </a>PD4</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1044733"> </a>PM1</p>
</td>
    <td valign="top"><p>
<a name="1044735"> </a>1.2V</p>
</td>
    <td valign="top"><p>
<a name="1044737"> </a>1.1V</p>
</td>
    <td valign="top"><p>
<a name="1044739"> </a>1.2V</p>
</td>
    <td valign="top"><p>
<a name="1044741"> </a>1.0V</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1044743"> </a>PM2</p>
</td>
    <td valign="top"><p>
<a name="1044780"> </a>1.2V</p>
</td>
    <td valign="top"><p>
<a name="1044747"> </a>0.0V</p>
</td>
    <td valign="top"><p>
<a name="1044790"> </a>1.2V</p>
</td>
    <td valign="top"><p>
<a name="1044794"> </a>1.0V</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1044753"> </a>PM3</p>
</td>
    <td valign="top"><p>
<a name="1044755"> </a>1.2V</p>
</td>
    <td valign="top"><p>
<a name="1044786"> </a>0.0V</p>
</td>
    <td valign="top"><p>
<a name="1044759"> </a>0.0V</p>
</td>
    <td valign="top"><p>
<a name="1044796"> </a>1.0V</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1044763"> </a>PM4</p>
</td>
    <td valign="top"><p>
<a name="1044765"> </a>1.0V</p>
</td>
    <td valign="top"><p>
<a name="1044788"> </a>0.0V</p>
</td>
    <td valign="top"><p>
<a name="1044792"> </a>0.0V</p>
</td>
    <td valign="top"><p>
<a name="1044771"> </a>0.0V</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="1041417"> </a>The power manager (<code>pm_inst</code>) generates three sets of control signals to control each power domain. These signals are available on pins <code>pse_enable</code>, <code>ice_enable</code> and <code>pge_enable</code>.</p>


  <a name="1041418"> </a><h4>
Table 3-2   Signals Controlling the Power Domains</h4>


<p>
  <a name="1041468"> </a><p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th colspan=1 rowspan=2><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1041421"> </a>Power Domain</strong></p></div></font></th>
    <th colspan=3 rowspan=1><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="1041423"> </a>Control Signals</strong></p></div></font></th>
  </div></tr>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1041431"> </a>power switch </p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1041433"> </a>isolation cell </p>
</div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p>
<a name="1041435"> </a>state retention cell</p>
</div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="1041437"> </a>PD1</p>
</td>
    <td valign="top"><p>
<a name="1041439"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1041441"> </a>no control signal</p>
</td>
    <td valign="top"><p>
<a name="1041443"> </a>no control signal</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1041445"> </a>PD2</p>
</td>
    <td valign="top"><p>
<a name="1041447"> </a>pse_enable[0]</p>
</td>
    <td valign="top"><p>
<a name="1041449"> </a>ice_enable[0]</p>
</td>
    <td valign="top"><p>
<a name="1041451"> </a>pge_enable[0]</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1041453"> </a>PD3</p>
</td>
    <td valign="top"><p>
<a name="1041455"> </a>pse_enable[1]</p>
</td>
    <td valign="top"><p>
<a name="1041457"> </a>ice_enable[1]</p>
</td>
    <td valign="top"><p>
<a name="1041459"> </a>pge_enable[1]</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="1041461"> </a>PD4</p>
</td>
    <td valign="top"><p>
<a name="1041463"> </a>pse_enable[2]</p>
</td>
    <td valign="top"><p>
<a name="1041465"> </a>ice_enable[2]</p>
</td>
    <td valign="top"><p>
<a name="1041467"> </a>pge_enable[2]</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<br><br>
<h3>
  <a name="1041470"> </a>CPF File of IP </h3>


<pre><a name="1048419"></a><nobr># Define IP mod_B, file name IPB.cpf <br>#----------------------------------- <br>set_design power_design_B -modules mod_B </nobr></pre>

<pre><a name="1048420"></a><nobr>create_power_domain -name PDX -default </nobr></pre>

<pre><a name="1047990"></a><nobr>create_state_retention_rule -name RETB1 -domain PDX </nobr></pre>

<pre><a name="1047991"></a><nobr>end_design power_design_B</nobr></pre>

<br><br>
<h3>
  <a name="1047987"> </a>CPF File of Top Design</h3>


<pre><a name="1041471"></a><nobr># Define top design<br>#------------------</nobr></pre>

<pre><a name="1041472"></a><nobr><code><strong>set_design</strong></code> top </nobr></pre>

<pre><a name="1041473"></a><nobr># Set up logic structure for all power domains<br>#---------------------------------------------</nobr></pre>

<pre><a name="1047992"></a><nobr><code><strong>include</strong></code> IPB.cpf</nobr></pre>

<pre><a name="1041474"></a><nobr><code><strong>create_power_domain</strong></code> -name PD1 -default</nobr></pre>

<pre><a name="1041475"></a><nobr>create_power_domain -name PD2 -instances {inst_A} \<br>-shutoff_condition {!pm_inst.pse_enable[0]} -base_domains PD1</nobr></pre>

<pre><a name="1041476"></a><nobr>create_power_domain -name PD3 -instances inst_C \<br>-shutoff_condition {!pm_inst.pse_enable[1]} -base_domains PD1</nobr></pre>

<pre><a name="1041477"></a><nobr>create_power_domain -name PD4 -instances inst_D \<br>-shutoff_condition {!pm_inst.pse_enable[2]} -base_domains PD1</nobr></pre>

<pre><a name="1048005"></a><nobr><code><strong>set_instance </strong></code>inst_B -domain_mapping { PDX PD2 } -design mod_B</nobr></pre>

<pre><a name="1041623"></a><nobr># Define static behavior of all power domains and specify timing constraints<br>#---------------------------------------------------------------------------</nobr></pre>

<pre><a name="1048001"></a><nobr><code><strong>set_instance </strong></code>inst_B -design power_design_B -domain_mapping { PDX PD2 }</nobr></pre>

<pre><a name="1048432"></a><nobr><code><strong>create_nominal_condition</strong></code> -name high -voltage 1.2</nobr></pre>

<pre><a name="1043398"></a><nobr>create_nominal_condition -name medium -voltage 1.1</nobr></pre>

<pre><a name="1043395"></a><nobr>create_nominal_condition -name low -voltage 1.0</nobr></pre>

<pre><a name="1043739"></a><nobr><code><strong>create_power_mode</strong></code> -name PM1 -domain_conditions {PD1@high PD2@medium PD3@high \ <br>PD4@low}</nobr></pre>

<pre><a name="1045720"></a><nobr><code><strong>update_power_mode</strong></code> -name PM1 -sdc_files ../SCRIPTS/cm1.sdc \<br>-activity_file ../SIM/top_1.tcf -activity_file_weight 1</nobr></pre>

<pre><a name="1041486"></a><nobr>create_power_mode -name PM2 -domain_conditions {PD1@high PD3@high PD4@low}</nobr></pre>

<pre><a name="1045725"></a><nobr>update_power_mode -name PM2 -sdc_files ../SCRIPTS/cm2.sdc</nobr></pre>

<pre><a name="1041487"></a><nobr>create_power_mode -name PM3 -domain_conditions {PD1@high PD4@low}</nobr></pre>

<pre><a name="1041488"></a><nobr>create_power_mode -name PM4 -domain_conditions {PD1@low}</nobr></pre>

<pre><a name="1042467"></a><nobr># Set up required isolation and state retention rules for all domains<br>#--------------------------------------------------------------------</nobr></pre>

<pre><a name="1042468"></a><nobr><code><strong>create_state_retention_rule</strong></code> -name sr1 -domain PD2 \<br>-restore_edge {!pm_inst.pge_enable[0]} </nobr></pre>

<pre><a name="1041499"></a><nobr>create_state_retention_rule -name sr2 -domain PD3 \<br>-restore_edge {!pm_inst.pge_enable[1]} </nobr></pre>

<pre><a name="1041500"></a><nobr>create_state_retention_rule -name sr3 -domain PD4 \<br>-restore_edge {!pm_inst.pge_enable[2]}</nobr></pre>

<pre><a name="1042225"></a><nobr><code><strong>create_isolation_rule</strong></code> -name ir1 -from PD2 \<br>-isolation_condition {pm_inst.ice_enable[0]} -isolation_output high</nobr></pre>

<pre><a name="1042226"></a><nobr>create_isolation_rule -name ir2 -from PD3 \<br>-isolation_condition {pm_inst.ice_enable[1]}</nobr></pre>

<pre><a name="1041503"></a><nobr>create_isolation_rule -name ir3 -from PD4 \<br>-isolation_condition {pm_inst.ice_enable[2]} </nobr></pre>

<pre><a name="1045910"></a><nobr><code><strong>create_level_shifter_rule</strong></code> -name lsr1 -to {PD1 PD3}</nobr></pre>

<pre><a name="1036409"></a><nobr><code><strong>end_design</strong></code></nobr></pre>

  

</blockquote>

<br>
<a href="#pagetop">Return to top of page</a>
<hr>
<p>
<!-- Begin Buttons -->
<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="cpf_refTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><a href="cpf_refIX.html"><img src="../support/nav2_index.gif" border="0" alt="View Index for This Manual" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="concepts.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="domains_and_modes.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="cpf_ref.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><a href="/search.htm"><img src="../support/nav2_search.gif" border="0"  alt="Search Cadence Library" height="20" width="61"></a></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
</table>
<!-- End Buttons -->
<p>
<p>


<!-- NOTES; -->

<!-- /address -->
<p>
<br>
<font size="-1">
For support, see <a href=http://www.cadence.com/support>http://www.cadence.com/support</a>
or try Cadence's <a href=http://sourcelink.cadence.com target=_blank>SourceLink</a> service.
<br><br>
<i>Copyright &#169; 2013, <a href=http://www.cadence.com>Cadence Design Systems, Inc.</a></i> 
<br>
All rights reserved.
<br>
<a href="titlecopy.html">Legal notices and trademark attributions</a>
<br>
<!-- This file was created with Quadralay WebWorks Publisher AutoMap 6.0.7 -->
<!-- -->
<!-- Last updated: Wed Jul 17 14:09:05 2013 -->
</font>
</body>
</html>


