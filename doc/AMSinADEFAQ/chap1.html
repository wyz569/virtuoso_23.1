
<html><head><title>AMS Designer in ADE Explorer FAQ</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2023-06-12" />
<meta name="CreateTime" content="1686583351" />
<meta name="DataType" content="FAQs" />
<meta name="Description" content="Describes the Frequently asked questions for new users of AMS in ADE" />
<meta name="DocTitle" content="AMS in ADE Explorer FAQ" />
<meta name="DocType" content="FAQ" />
<meta name="FileTitle" content="AMS Designer in ADE Explorer FAQ" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="AMSinADEFAQ" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-12" />
<meta name="ModifiedTime" content="1686583351" />
<meta name="NextFile" content="" />
<meta name="Order" content="2" />
<meta name="Group" content="ADE Explorer" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="AMSinADEFAQTOC.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="AMS in ADE Explorer FAQ -- AMS Designer in ADE Explorer FAQ" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="AMSinADEFAQIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="AMSinADEFAQTOC.html">Contents</a></li><li><a class="prev" href="AMSinADEFAQTOC.html" title="Contents">Contents</a></li><li style="float: right;"><a class="viewPrint" href="AMSinADEFAQ.pdf">View/Print PDF</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>AMS in ADE Explorer FAQ<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>
<a id="pgfId-1035250"></a><hr />
<a id="44786"></a>AMS Designer in ADE Explorer FAQ<hr />
</h1>

<p>
<a id="pgfId-1042338"></a>This page contains the answers to customer&#8217;s most frequently asked questions about the interface to the Spectre AMS Designer and Xcelium Mixed-Signal in ADE and ADE Explorer. For more information, see the <em>Virtuoso ADE Explorer User Guide</em>.</p>
<p>
<a id="pgfId-1042340"></a>The frequently asked questions are organized under the following sections:</p>
<ul><li>
<a id="pgfId-1039485"></a><a href="chap1.html#13777">General FAQ on the AMS Designer Interface in ADE Explorer</a></li><li>
<a id="pgfId-1039490"></a><a href="chap1.html#93429">General FAQ on the AMS UNL Netlister</a></li><li>
<a id="pgfId-1039495"></a><a href="chap1.html#14700">FAQ on xrun</a></li><li>
<a id="pgfId-1039500"></a><a href="chap1.html#64173">FAQ on Migration from SpectreVerilog to AMS Designer</a></li><li>
<a id="pgfId-1039505"></a><a href="chap1.html#74704">FAQ on the AMS UNL Netlisting Flow</a></li><li>
<a id="pgfId-1039515"></a><a href="chap1.html#36783">UNL Netlister FAQ</a></li><li>
<a id="pgfId-1039520"></a><a href="chap1.html#34809">Miscellaneous FAQ on AMS Designer Interface in ADE and ADE Explorer</a></li></ul>







<h2>
<a id="pgfId-1037409"></a><a id="13777"></a>Gen<a id="usr1faq"></a>eral FAQ on the AMS Designer Interface in ADE Explorer</h2>

<ul><li>
<a id="pgfId-1039460"></a><a href="chap1.html#23375">Which AMS netlisters are available in ADE Explorer to netlist my mixed-signal design?</a></li><li>
<a id="pgfId-1039465"></a><a href="chap1.html#39088">Which simulation mode is available in ADE Explorer to simulate the netlist created by the AMS UNL netlister flow?</a></li><li>
<a id="pgfId-1043947"></a><a href="chap1.html#74912">Does AMS Designer support multi-threading capability?</a></li><li>
<a id="pgfId-1044135"></a><a href="chap1.html#20659">How to compile user defined connect modules?</a></li></ul>




<h3>
<a id="pgfId-1037421"></a><a id="23375"></a>Which AMS netlisters are available in ADE Explorer to netlist my mixed-signal design?</h3>

<p>
<a id="pgfId-1039653"></a>ADE Explorer provides the AMS Unified Netlister (AMS UNL) to run your mixed-signal designs.</p>

<h3>
<a id="pgfId-1037464"></a><a id="39088"></a>Which simulation mode is available in ADE Explorer to simulate the netlist created by the AMS UNL netlister flow?</h3>

<p>
<a id="pgfId-1037467"></a>If you create the netlist using the AMS UNL flow, ADE Explorer will simulate the design using the xrun executable from the AMS Designer simulator.</p>

<h3>
<a id="pgfId-1043793"></a><a id="74912"></a>Does AMS Designer support multi-threading capability?</h3>

<p>
<a id="pgfId-1043815"></a>Yes, AMS Designer supports multi threading capability with Spectre solver. You can enable multithreading by passing the following options to <code>xmsim</code> or <code>xrun</code>: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043819"></a>xmsim -spectre_args +mt=&lt;number_of_threads&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043821"></a>xrun -spectre_args +mt=2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1043804"></a>xrun -spectre_args +mt&#160;&#160;  // Simulator automatically chooses the number of threads</pre>

<p>
<a id="pgfId-1043857"></a>If you are running APS solver from ADE Explorer, you can enable/disable multithreading using the <em>High-Performance Simulation Options</em> form under the <em>Setup</em> menu. You can choose from the following options:</p>
<ul><li>
<a id="pgfId-1043890"></a>Disable - On selection, disables multithreading.</li><li>
<a id="pgfId-1043892"></a>Auto - On selection, enables multithreading and automatically chooses the number of threads.</li><li>
<a id="pgfId-1043882"></a>Manual - On selection, enables multithreading and allows you to specify the number of threads</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044311"></a>Currently, multithreading is available only on the linux and solaris platforms.</div>

<h3>
<a id="pgfId-1044114"></a><a id="20659"></a>How to compile user defined connect modules?</h3>

<p>
<a id="pgfId-1044115"></a>In order to compile user defined connect modules, you need to do the following:</p>
<ul><li>
<a id="pgfId-1044116"></a>Create 5x hierarchy for connect modules, as shown below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1044117">
<a id="pgfId-1044117"></a><code>ncvlog -ams -use5x -work libName module_file</code></pre></li><li>
<a id="pgfId-1044118"></a>Create a <span class="webflare-courier-new" style="white-space:pre"><em>connectRules.il</em></span> file under <span class="webflare-courier-new" style="white-space:pre"><em>libname</em></span>, as shown below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1044119">
<a id="pgfId-1044119"></a><code>cd libName</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1044120">
<a id="pgfId-1044120"></a><code>genConnRulesFile -lib $workLib */*/*.vams -destpath .</code></pre>
<a id="pgfId-1044121"></a>All the connect modules in the <span class="webflare-courier-new" style="white-space:pre"><em>connectRules.il</em></span> file will be listed in the <em>Built-in rules</em> groupbox of ADE Explorer <em>Select Connect Rules</em> form.</li></ul>









<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044122"></a>Ignore the second step if you do not want to display user-defined rules as built-in rules.</div>

<h2>
<a id="pgfId-1037492"></a><a id="93429"></a>General FAQ on the AMS UNL Netlister</h2>

<ul><li>
<a id="pgfId-1039567"></a><a href="chap1.html#36347">What is the AMS UNL flow?</a></li><li>
<a id="pgfId-1039572"></a><a href="chap1.html#48849">What is UNL Verilog-AMS netlister?</a></li><li>
<a id="pgfId-1039587"></a><a href="chap1.html#16458">How can I set the AMS UNL netlister in ADE Explorer?</a></li><li>
<a id="pgfId-1039592"></a><a href="chap1.html#84939">What is the name of the netlist file created by the UNL netlister, and where is it located?</a></li><li>
<a id="pgfId-1039597"></a><a href="chap1.html#62049">Does the UNL netlister also create cellview-level netlists?</a></li><li>
<a id="pgfId-1039602"></a><a href="chap1.html#70834">Does the UNL netlister also need the implicit/explicit temporary library or writable design library?</a></li><li>
<a id="pgfId-1039607"></a><a href="chap1.html#99154">Can I save OCEAN scripts for the UNL netlister and run them later?</a></li><li>
<a id="pgfId-1039617"></a><a href="chap1.html#73992">Is there a command-line executable for the UNL netlister?</a></li></ul>








<h3>
<a id="pgfId-1037493"></a><a id="36347"></a>What is the AMS UNL flow?</h3>

<p>
<a id="pgfId-1039701"></a>UNL stands for Unified Netlister. It is the final AMS netlisting solution culminating many years of development and lessons learned from past AMS Netlisting flows. Its purpose is to support complex text natively in AMS designs of today. Also, it is meant to replace all previous AMS Virtuoso flows including SpectreVerilog, AMS Cell-based, and AMS OSSN with one &quot;unified&quot; solution supporting all aspects of complex AMS designs. It is still a partially OSS-based netlister utilizing the OA side of hierarchical netlisting.</p>

<h3>
<a id="pgfId-1037510"></a><a id="48849"></a>What is UNL Verilog-AMS netlister?</h3>

<p>
<a id="pgfId-1037511"></a>The UNL Verilog-AMS netlister is a Verilog-AMS netlister integrated into ADE and ADE Explorer. It translates schematics and layout cellviews into a Verilog-AMS structural netlist for compilation, elaboration, and simulation.</p>

<h3>
<a id="pgfId-1037541"></a><a id="16458"></a><a id="98083"></a>How can I set the AMS UNL netlister in ADE Explorer?</h3>

<p>
<a id="pgfId-1039731"></a>On the ADE Explorer window, choose <em>Simulation - Netlist and Run Options</em>. On the resulting form, select <em>AMS Unified netlister with xrun</em>.</p>
<p>
<a id="pgfId-1039732"></a>Alternatively, do one of the following:</p>
<ul><li>
<a id="pgfId-1039733"></a>Add the following entry in your <code>.cdsinit</code> file: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1039753">
<a id="pgfId-1039753"></a>envSetVal(&quot;ams.envOpts&quot; &quot;netlisterMode&quot; &#39;string &quot;AMS-UNL&quot;)</pre></li><li>
<a id="pgfId-1039734"></a>Add the following entry in your <code>.cdsenv</code> file: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1037546">
<a id="pgfId-1037546"></a>ams.envOpts netlisterMode string &quot;AMS-UNL&quot;</pre></li></ul>






<h3>
<a id="pgfId-1037586"></a><a id="84939"></a>What is the name of the netlist file created by the UNL netlister, and where is it located?</h3>

<p>
<a id="pgfId-1037587"></a>The UNL netlister creates a <code>netlist.vams</code> file in the netlist directory.</p>

<h3>
<a id="pgfId-1037588"></a><a id="62049"></a>Does the UNL netlister also create cellview-level netlists?</h3>

<p>
<a id="pgfId-1037589"></a>No. The UNL netlister creates a single netlist of all the schematics. However, this netlist does not contain all the design information needed by the simulator. Several other files such as <code>textInputs</code> file, simulator control file and probe Tcl file that contain design information are also passed to the simulator. </p>

<h3>
<a id="pgfId-1037625"></a><a id="70834"></a>Does the UNL netlister also need the implicit/explicit temporary library or writable design library?</h3>

<p>
<a id="pgfId-1037626"></a>No. The UNL netlister creates the netlist in the netlist directory and all compiled text and netlist in the xrun <code>INCA_libs</code> directory for every run. Hence, it does not need any external temporary library or writable design library.</p>

<h3>
<a id="pgfId-1037638"></a><a id="99154"></a>Can I save OCEAN scripts for the UNL netlister and run them later?</h3>

<p>
<a id="pgfId-1037639"></a>Yes.</p>

<h3>
<a id="pgfId-1037653"></a><a id="73992"></a>Is there a command-line executable for the UNL netlister?</h3>

<p>
<a id="pgfId-1039821"></a>Yes. </p>
<p>
<a id="pgfId-1042745"></a>The command-line executable for the UNL netlister is called <code>runams</code>.</p>

<h2>
<a id="pgfId-1037675"></a><a id="14700"></a>FAQ on xrun</h2>

<ul><li>
<a id="pgfId-1040143"></a><a href="chap1.html#26834">What is xrun?</a></li><li>
<a id="pgfId-1040151"></a><a href="chap1.html#48404">What is the advantage of xrun over ncverilog?</a></li><li>
<a id="pgfId-1043781"></a><a href="chap1.html#52295">What is the advantage of single step simulation (xrun) over 3-step simulation (ncvlog, xmelab, xmsim)?</a></li><li>
<a id="pgfId-1043783"></a><a href="chap1.html#16435">I want to pass a pre-compiled lib but xrun is not reading </a><code>cds.lib</code><a href="chap1.html#16435"> from the project directory, what should I do?</a></li></ul>




<h3>
<a id="pgfId-1043785"></a><a id="26834"></a>What is xrun?</h3>

<p>
<a id="pgfId-1039843"></a><code>xrun</code> is an executable available in your IUS release. It allows you to compile, elaborate, and simulate your design using a single command. <code>xrun</code> is the replacement for <code>ncverilog</code>.</p>
<p>
<a id="pgfId-1039844"></a><code>xrun</code> can simulate Verilog, SystemVerilog, VHDL/VHDL-AMS, Verilog-AMS, Verilog-A, C, C++, SPICE, compiled object, dynamic library, and PSL files for Verilog/VHDL/SystemC.</p>
<p>
<a id="pgfId-1039845"></a><code>xrun</code> uses file extension to determine file type, and automatically compiles them using the appropriate compiler. After compilation, <code>xrun</code> automatically invokes <code>xmelab</code> to elaborate the design, and then <code>xmsim</code> to simulate.</p>

<h3>
<a id="pgfId-1037706"></a><a id="48404"></a>What is the advantage of xrun over ncverilog?</h3>

<p>
<a id="pgfId-1037707"></a><code>ncverilog</code> can simulate only Verilog and Verilog-AMS, whereas <code>xrun</code> can simulate Verilog, SystemVerilog, VHDL, Verilog-AMS, C, C++, SPICE, compiled object, dynamic library, and PSL files for Verilog, VHDL and SystemC.</p>

<h3>
<a id="pgfId-1037709"></a><a id="52295"></a>What is the advantage of single step simulation (xrun) over 3-step simulation (ncvlog, xmelab, xmsim)?</h3>

<p>
<a id="pgfId-1039915"></a>Single step simulation is faster than 3-step simulation because of the following reasons:</p>
<ul><li>
<a id="pgfId-1039916"></a><code>xrun</code> uses file extension to determine file type and automatically compiles them using the appropriate compilers. After compilation, <code>xrun</code> automatically invokes <code>xmelab</code> to elaborate the design, and then <code>xmsim</code> to simulate.</li><li>
<a id="pgfId-1039917"></a>No 5x library structure is needed for compilation.</li><li>
<a id="pgfId-1039918"></a>In 3-step simulation, users need to call different compilers for different file types. So, 3-step simulation takes more time and needs more effort from users.</li><li>
<a id="pgfId-1044402"></a><code>xrun</code> can also run in a multi-step mode using <code>xrun -compile</code>, <code>xrun -elaborate</code>, and <code>xrun -r</code>. This mode is the most efficient for AMS regression flows where compilation and elaboration are not required for every simulation.</li></ul>




<h3>
<a id="pgfId-1043618"></a><a id="16435"></a>I want to pass a pre-compiled lib but xrun is not reading <code>cds.lib</code> from the project directory, what should I do?</h3>

<p>
<a id="pgfId-1043635"></a>Use <code>-reflib</code> to pass the pre-compiled library.</p>

<h2>
<a id="pgfId-1037803"></a><a id="64173"></a>FAQ on Migration from SpectreVerilog to AMS Designer</h2>

<ul><li>
<a id="pgfId-1040164"></a><a href="chap1.html#76314">I am using SpectreVerilog and want to migrate to AMS Designer. Which netlister should I use?</a></li><li>
<a id="pgfId-1040174"></a><a href="chap1.html#91642">I am using SpectreVerilog and want to migrate to AMS Designer. Will my existing design configuration view work with the UNL netlister?</a></li><li>
<a id="pgfId-1040179"></a><a href="chap1.html#10502">Will the Verilog Library files (-v) and the Verilog Library directories (-y) fields that I use with SpectreVerilog netlister work in the same way with the UNL netlister?</a></li></ul>



<h3>
<a id="pgfId-1037804"></a><a id="76314"></a>I am using SpectreVerilog and want to migrate to AMS Designer. Which netlister should I use?</h3>

<p>
<a id="pgfId-1040004"></a>We recommend you to use the AMS UNL netlister. The use model is similar to that of SpectreVerilog and you will be able to use your existing PDKs without any modification. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1040005"></a>If you are creating a new design configuration view, use the <code>AMS</code> template in Hierarchy Editor. </div>

<h3>
<a id="pgfId-1037806"></a><a id="91642"></a>I am using SpectreVerilog and want to migrate to AMS Designer. Will my existing design configuration view work with the UNL netlister?</h3>

<p>
<a id="pgfId-1037807"></a>Yes. All your SpectreVerilog netlister design configuration views will work with the UNL netlister without modification.</p>

<h3>
<a id="pgfId-1037808"></a><a id="10502"></a>Will the Verilog Library files (-v) and the Verilog Library directories (-y) fields that I use with SpectreVerilog netlister work in the same way with the UNL netlister?</h3>

<p>
<a id="pgfId-1037809"></a>Yes.</p>
<p>
<a id="pgfId-1037810"></a>You can use these fields to pass Verilog library files and directories using the <code>-v</code> and <code>-y</code> options to <code>xrun</code>. These fields are available on the Main tab page of the AMS Options form (<em>Simulation &#8211; Options &#8211; AMS Simulator</em>).</p>

<h2>
<a id="pgfId-1037866"></a><a id="74704"></a>FAQ on the AMS UNL Netlisting Flow</h2>

<ul><li>
<a id="pgfId-1040682"></a><a href="chap1.html#13693">How does the UNL netlister compile Verilog-A files?</a></li><li>
<a id="pgfId-1040692"></a><a href="chap1.html#90136">Why can&#39;t I use SimVision for debugging Verilog-A files when I use the UNL netlister?</a></li></ul>


<h3>
<a id="pgfId-1038231"></a><a id="13693"></a>How does the UNL netlister compile Verilog-A files?</h3>

<p>
<a id="pgfId-1044702"></a>The UNL netlister flow utilizes support for Verilog-A buses, complex port connectivity, and instance and occurrence-based cellview bindings through a new xrun feature enabling auto generation of Verilog-AMS-wrappers around the <code>ahdl_include</code> veriloga source. </p>
<p>
<a id="pgfId-1044703"></a>The Verilog-A files are spectre parsed through <code>ahdl_include</code> for better performance (ahdlCMI compiled Verilog-A) and consistency with Spectre flow.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038236"></a>The <code>ahdl_include</code> statements specify the path of the Verilog-A text file. This behavior is same across the Spectre and SpectreVerilog netlisters.</div>
<p>
<a id="pgfId-1038237"></a>As the Verilog-A files are compiled by the analog solver, SimVision or NC debug cannot take place as it can for Verilog-AMS source code. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044746"></a>Even though AMS UNL netlister is a shadow-free text solution, Verilog-A is an exception. Verilog-A still requires a shadow and must be created and edited using the traditional DFII text import method with CV2CV.</div>

<h3>
<a id="pgfId-1038304"></a><a id="90136"></a>Why can&#39;t I use SimVision for debugging Verilog-A files when I use the UNL netlister?</h3>

<p>
<a id="pgfId-1040503"></a>The UNL netlister compiles Verilog-A files using the analog solver (<code>ahdl_include</code> with Spectre or APS). This gives you improved performance and consistency with Spectre.</p>
<p>
<a id="pgfId-1040504"></a>However, the disadvantage is that you cannot use SimVision to debug Verilog-A files. If you need to debug Verilog-A, a workaround is to rename the <code>veriloga.va</code> files to <code>verilog.vams</code>. <code>xrun</code> will then compile the file using <code>ncvlog</code> and you will be able to debug it in SimVision. This is essentially what happens when you use the Cellview-based netlister.</p>

<h2>
<a id="pgfId-1038401"></a><a id="36783"></a>UNL Netlister FAQ</h2>

<ul><li>
<a id="pgfId-1041616"></a><a href="chap1.html#84212">How can I use Verilog text files?</a></li><li>
<a id="pgfId-1041624"></a><a href="chap1.html#52899">How can I use VHDL text files?</a></li><li>
<a id="pgfId-1041629"></a><a href="chap1.html#97472">Can I use VHDL-AMS text with the UNL netlister?</a></li><li>
<a id="pgfId-1041634"></a><a href="chap1.html#21315">Can the UNL netlister create a VHDL-AMS netlist?</a></li><li>
<a id="pgfId-1041639"></a><a href="chap1.html#44243">How does the UNL netlister pass the HDL text files to xrun?</a></li><li>
<a id="pgfId-1041644"></a><a href="chap1.html#21837">Are the values of -incdir, -v, -y and -f options relative to the current working directory, or relative to netlist directory?</a></li><li>
<a id="pgfId-1041649"></a><a href="chap1.html#53804">Where are the model files searched?</a></li><li>
<a id="pgfId-1041654"></a><a href="chap1.html#24750">I chose the Spectre solver, but I see both Spectre control file (amsControlSpectre.scs) and UltraSim control file (amsControlUltraSim.scs) in the netlist directory. Why?</a></li><li>
<a id="pgfId-1041659"></a><a href="chap1.html#33158">My design has two instances of the same library and cell, one bound to verilog view, and the other to Verilog-A view. Will the UNL netlister netlist and bind the instances correctly?</a></li><li>
<a id="pgfId-1041669"></a><a href="chap1.html#94883">My design has two instances of the same cell, one bound to verilog view, and the other bound to verilogams view. Will UNL netlister netlist the instances correctly?</a></li><li>
<a id="pgfId-1041681"></a><a href="chap1.html#48035">My design has two instances of same cell but they are bound to different views (schematic and verilog). Will the UNL netlister netlist the instances correctly?</a></li><li>
<a id="pgfId-1041691"></a><a href="chap1.html#67489">I see xmelab CUVMUR errors; model name in instance definition is incorrect. What is the solution?</a></li><li>
<a id="pgfId-1041696"></a><a href="chap1.html#54177">Why do I get SFE-23 errors during UNL Netlisting Step?</a></li><li>
<a id="pgfId-1041721"></a><a href="chap1.html#41283">What does the Clean snapshot and pak files check box in the Netlist and Run Options form do? When should I use it?</a></li><li>
<a id="pgfId-1041726"></a><a href="chap1.html#23412">How does the UNL netlister print inherited connections in the netlists?</a></li><li>
<a id="pgfId-1041731"></a><a href="chap1.html#30703">Where can I find basic information on how to use inherited connections with Cadence tools?</a></li><li>
<a id="pgfId-1041736"></a><a href="chap1.html#31129">Can the UNL netlister print inherited connections as pseudo ports, like the Spectre and SpectreVerilog netlisters?</a></li><li>
<a id="pgfId-1041741"></a><a href="chap1.html#92504">Do sideways inhconn netSets work with the UNL netlister?</a></li></ul>


















<h3>
<a id="pgfId-1038402"></a><a id="84212"></a>How can I use Verilog text files?</h3>

<p>
<a id="pgfId-1038403"></a>There are five ways to use Verilog text with the UNL netlister.</p>

<ol><li>
<a id="pgfId-1040743"></a>Import the Verilog text file using Verilog In </li><li>
<a id="pgfId-1044835"></a>Open and save the Verilog text file in a text editor using CV2CV text import from DFII. This will import the Verilog text into the 5x library (library:cell:view) structure. The path of the Verilog text file is printed in the <code>textInputs</code> file (located in the netlist directory) and passed to <code>xrun</code> using the <code>-f</code> option.</li><li>
<a id="pgfId-1044848"></a>Another way, typically used by SpectreVerilog and UltraSimVerilog users, is to use the symbol view as an HED stopping view and pass the Verilog text file separately using the<code> -v</code> or <code>-y</code> option. You can use the <em>Verilog Library files (-v)</em> and the <em>Verilog Library directories (-y)</em> fields in the Main tab page of the AMS Options form (<em>Simulation &#8211; Options &#8211; AMS Simulator</em>) for this purpose.</li><li>
<a id="pgfId-1044857"></a>Use the new HED Set Cell View binding property called <em>Mark As External HDL Text</em>. This mimics the same symbol stopping view behavior intended to blackbox a cellview to HED and netlisting visibility pointing to external text outside of the DFII environment. </li><li>
<a id="pgfId-1044881"></a>The most common import step for text within the AMS flow is to perform a command line <code>ncvlog -use5x</code> compilation of the text source code. This results in creating the HED 5x library.cell:view structure so as to register the text for use in HED view switching.</li></ol>






<h3>
<a id="pgfId-1038406"></a><a id="52899"></a>How can I use VHDL text files?</h3>

<p>
<a id="pgfId-1040796"></a>If your design configuration uses VHDL text files, both the entity view and the architecture view should exist. If you do not have the entity and architecture views already in DFII, use traditional DFII text import (CV2CV) to import the VHDL text file. VHDL import will create an entity view and an architecture view. The name of the architecture view will be the same as the name of the architecture defined in the VHDL file. The <code>entity/vhdl.vhd</code> file will have the entity definition, while the <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>architecture</em></span><code>&gt;/vhdl.vhd</code> file will have the definition of that particular architecture.</p>
<p>
<a id="pgfId-1040798"></a>For the design configuration view in the Hierarchy Editor (HED), you should bind the instance to the architecture view, and not to the entity view. You must also add the created architecture names to the HED view-list as valid architecture views to bind to.</p>
<p>
<a id="pgfId-1040800"></a>Both the entity view <code>vhdl.vhd</code> and the architecture view <code>vhdl.vhd</code> files are sent to <code>xrun</code> (the filepaths are printed in the <code>textInputs</code> file present in the netlist directory).</p>

<h3>
<a id="pgfId-1038429"></a><a id="97472"></a>Can I use VHDL-AMS text with the UNL netlister?</h3>

<p>
<a id="pgfId-1038430"></a>Yes.</p>

<h3>
<a id="pgfId-1038432"></a><a id="21315"></a>Can the UNL netlister create a VHDL-AMS netlist?</h3>

<p>
<a id="pgfId-1038433"></a>No.</p>
<p>
<a id="pgfId-1038434"></a>The netlister creates a Verilog-AMS netlist only.</p>

<h3>
<a id="pgfId-1040877"></a><a id="44243"></a>How does the UNL netlister pass the HDL text files to xrun?</h3>

<p>
<a id="pgfId-1040878"></a>The UNL netlister traverses the design and obtains a list of cells that have the following DFII imported view-types:</p>
<ul><li>
<a id="pgfId-1040879"></a>Verilog (Verilog text)</li><li>
<a id="pgfId-1040906"></a>VHDLAMSText (VHDL-AMS text)</li><li>
<a id="pgfId-1044956"></a>systemVerilogText (SystemVerilog text)</li><li>
<a id="pgfId-1044963"></a>VerilogAMSText (Verilog-AMS text)</li><li>
<a id="pgfId-1040919"></a>vhdl (VHDL text)</li><li>
<a id="pgfId-1040920"></a>Veriloga (Verilog-A text)</li></ul>





<p>
<a id="pgfId-1040921"></a>These are considered white-box design units (WDU) due to their visibility in HED and accessibility to cellview switching</p>
<p>
<a id="pgfId-1044992"></a>The HDL filenames are then printed in the <code>textInputs</code> file which is located in the netlist directory. The <code>textInputs</code> file is passed to <code>xrun</code> using the <code>-f</code> option.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044993"></a>The configuration&#39;s collection of text source files used in the design is defined in the textInputs file. UNL&#39;s advanced AMS xrun binding capabilities allow for true cell, instance, occurrence, and library-based bindings for text as defined in this file.</div>

<h3>
<a id="pgfId-1038435"></a><a id="21837"></a>Are the values of -incdir, -v, -y and -f options relative to the current working directory, or relative to netlist directory?</h3>

<p>
<a id="pgfId-1038436"></a>The value that you specify for the <code>-incdir</code>, <code>-v</code>, <code>-y</code>, and <code>-f</code> options are relative to the current working directory (CWD) from where you started the Virtuoso workbench.</p>

<h3>
<a id="pgfId-1038552"></a><a id="53804"></a>Where are the model files searched?</h3>

<p>
<a id="pgfId-1040984"></a>Model files are searched in the directories specified in the <em>Include Paths</em> field in the Simulation Files Setup form (<em>Setup &#8211; Simulation Files</em>).</p>
<p>
<a id="pgfId-1040985"></a>You can specify individual model files in the Model Library Setup form (<em>Setup &#8211; Model Libraries</em>) or specify the directory that contains model files in the <em>Include Path</em> field in the Simulation Files Setup form (<em>Setup &#8211; Simulation Files</em>).</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1040986"></a>If you are specifying the relative path to a model file in the Model Library Setup form, ensure that the path is relative to the current working directory (the directory from which you started the Virtuoso workbench).</div>
<p>
<a id="pgfId-1040987"></a>The paths to model files specified in the Model Library Setup form are passed to <code>xrun</code> using the <code>spiceModels.scs</code> file, while the value of the <em>Include Path</em> field is passed using the <br /><code>-modelincdir</code> option.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045002"></a>The <code>-modelpath</code> option has been deprecated and is replaced by another mechanism called <code>amsd_subckt_bind=yes</code> settings which reside in the <code>spiceModels.scs</code> file.</div>

<h3>
<a id="pgfId-1038595"></a><a id="24750"></a>I chose the Spectre solver, but I see both Spectre control file (amsControlSpectre.scs) and UltraSim control file (amsControlUltraSim.scs) in the netlist directory. Why?</h3>

<p>
<a id="pgfId-1041053"></a>Although you chose either the Spectre or the UltraSim analog solver, ADE Explorer create the AMS control files for both the analog solvers. This is done with the assumption that you might later change the solver, and as the control files for both the solvers are available, netlisting and simulation will take lesser time. </p>
<p>
<a id="pgfId-1041054"></a>However, the AMS control file of only the analog solver that you chose is passed to <code>xrun</code>. If you read the <code>runSimulation</code> file in the netlist directory, you will see the correct AMS control file specified against the <code>-analogControl</code> option.</p>

<h3>
<a id="pgfId-1038618"></a><a id="33158"></a>My design has two instances of the same library and cell, one bound to verilog view, and the other to Verilog-A view. Will the UNL netlister netlist and bind the instances correctly?</h3>
<h3>
<a id="pgfId-1038695"></a><a id="94883"></a>My design has two instances of the same cell, one bound to verilog view, and the other bound to verilogams view. Will UNL netlister netlist the instances correctly?</h3>

<p>
<a id="pgfId-1038696"></a>Yes.</p>
<p>
<a id="pgfId-1038697"></a>The UNL netlister uses the powerful AMS xrun binding engine (BIND2) specifically created to perform all types of cellview bindings possible within a config. Full support exists for cell, instance, occurrence, library, same cell from different libraries. All combinations of text and schematic are supported in any hierarchical configuration.</p>

<h3>
<a id="pgfId-1038769"></a><a id="48035"></a>My design has two instances of same cell but they are bound to different views (schematic and verilog). Will the UNL netlister netlist the instances correctly?</h3>

<p>
<a id="pgfId-1045063"></a>Yes.</p>

<h3>
<a id="pgfId-1038915"></a><a id="67489"></a>I see xmelab CUVMUR errors; model name in instance definition is incorrect. What is the solution?</h3>

<p>
<a id="pgfId-1038916"></a><code>CUVMUR</code> is an error mnemonic from the <code>ncvlog</code> and <code>xmvhdl</code> compilers. It means that the elaborator could not resolve or find the cell or module to elaborate. In other words, the module was not compiled, therefore was unresolved for elaboration. Check the <code>xrun.log</code> for proper compilation of the module before elaboration.</p>
<p>
<a id="pgfId-1038917"></a>For example, if you see the following <code>xmelab</code> error in <code>xrun.log</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038973"></a>vpulse #(0.05, 0.05)&#160;&#160; V0 ( .PLUS(net019), .MINUS(cds_globals.\gnd! ));</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038974"></a>xmelab: *E,CUVMUR (./netlist.vams,133|24): instance &#39;verilogtesttop.V0&#39; of design unit &#39;vpulse&#39; is unresolved in &#39;worklib.verilogtesttop:vams&#39;.</pre>

<p>
<a id="pgfId-1038920"></a>The instance definition of <code>V0</code> in netlist is:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038922"></a>vpulse #(0.05, 0.05)&#160;&#160; V0 ( .PLUS(net019), .MINUS(cds_globals.\gnd! ));</pre>

<p>
<a id="pgfId-1038924"></a>In the schematic, <code>V0</code> is an instance of <code>vpulse</code>. Hence, instead of model name, the cell name has been printed.</p>
<p>
<a id="pgfId-1038925"></a>Further, the parameter name-value pairs in the instance definition are not printed either.</p>
<p>
<a id="pgfId-1038926"></a>A common reason for this problem is that you are using a configuration in which the instances are bound to symbol view. The UNL netlister treats instances bound to symbol view with symbol view in HED stoplist as digital stopping views. Consequently, the netlister does not read the <code>spectre</code> CDF simulation information, prints incorrect model name, and does not print the parameter name-value pairs in the instance definition.</p>
<p>
<a id="pgfId-1038928"></a>While netlisting, you would have got the following pop-up window with the following message:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038929"></a>The following cells will be netlisted without using the spectre CDF simulation information, because they are bound to view symbol:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042530"></a>&lt; list of cells&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042531"></a>To use the spectre CDF simulation information, do one of the following</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042537"></a><code>Open your configuration in Hierarchy Editor and replace &quot;symbol&quot; with &quot;spectre&quot; in the view list and stop list.</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042540"></a>Choose Simulation-&gt;Options-&gt;Netlister and add &quot;symbol&quot; in the &quot;Netlist using spectre CDF simInfo&quot; field.</pre>

<p>
<a id="pgfId-1041304"></a>As specified in the message, the solution is to either edit the configuration, or add <code>symbol</code> in the <em>Netlist using spectre CDF simInfo</em> field on the Netlister tab page of the AMS Options form (<em>Simulation &#8211; Options &#8211; AMS Simulator</em>) to have symbol view act as an analog stopping view.</p>
<p>
<a id="pgfId-1041305"></a>Renetlist the design, and check that the netlist has the correct model name and all the parameter name-value pairs.</p>

<h3>
<a id="pgfId-1039035"></a><a id="54177"></a>Why do I get SFE-23 errors during UNL Netlisting Step?</h3>

<p>
<a id="pgfId-1045111"></a><code>Running netlist assembly..</code></p>
<p>
<a id="pgfId-1045112"></a><code>    ERROR (SFE-23): &quot;analog/input.scs&quot; 36: The instance `I153|NM0&#39; is referencing an undefined model or subcircuit, `nmos25</code></p>
<p>
<a id="pgfId-1045113"></a>The error refers to the portion of the UNL netlisting step which calls Spectre to parse the model cards could not resolve the definition of the analog primitive model nmos25. </p>
<p>
<a id="pgfId-1045114"></a>UNL Netlisting requires that the model libraries for analog primitives be setup prior to netlisting. The path of the model file will be either missing or incorrect. Open the Model Library Setup form (<em>Setup</em> - <em>Model Libraries</em>) and correct the value.</p>
<p>
<a id="pgfId-1045142"></a>Same setup requirement applies for Design Variables. These must be defined prior to UNL netlisting.</p>

<h3>
<a id="pgfId-1039214"></a><a id="41283"></a>What does the Clean snapshot and pak files check box in the Netlist and Run Options form do? When should I use it?</h3>

<p>
<a id="pgfId-1041552"></a>The <em>Clean snapshot and pak files</em> check box appears in the Netlist and Run Options form (<em>Simulation &#8211; Netlist and Run Options</em>) when you select <em>AMS Unified netlister with xrun</em>.</p>
<p>
<a id="pgfId-1041553"></a>By default, this check box is deselected. If you select this check box, the <code>INCA_libs</code> directory inside the netlist directory is deleted before calling <code>xrun</code>. The <code>INCA_libs</code> directory contains the simulation snapshot and the <code>.pak</code> files. Hence, if you choose to delete the <code>INCA_libs</code> directory, it essentially will lead to re-compilation, and hence re-elaboration and re-simulation of the design.</p>
<p>
<a id="pgfId-1039217"></a>If you select the <em>Clean snapshot and pak files</em> check box, the <code>-clean</code> option is passed to <code>xrun</code>.</p>

<h3>
<a id="pgfId-1039256"></a><a id="23412"></a>How does the UNL netlister print inherited connections in the netlists?</h3>

<p>
<a id="pgfId-1039257"></a>The UNL netlister prints the inherited connections (net expression wire labels and netSet properties) using the <code>cds_net_set</code> compiler attribute.</p>
<p>
<a id="pgfId-1039258"></a>Consider a module that has a wire segment with the following net expression label: <code>@n3vdd:%:vdd!</code></p>
<p>
<a id="pgfId-1039259"></a>For this net expression, the netlist will have the following definition:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039260"></a>wire (*</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039261"></a>integer inh_conn_prop_name = &quot;n3vdd&quot;;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039262"></a>integer inh_conn_def_value = &quot;cds_globals.\\vdd! &quot;;*)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039263"></a>cdsNet0;</pre>

<p>
<a id="pgfId-1039264"></a>Somewhere in the design hierarchy, a <code>netSet</code> property is defined on an instance. The <code>netSet</code> property appears as follows in the instance definition:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039265"></a>&lt;modelName&gt; (* integer cds_net_set</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039266"></a>[0:2] = { &quot;n3vdd&quot;,&quot;n2vdd&quot;,&quot;n2gnd&quot; };</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039267"></a>integer n3vdd = &quot;cds_globals.\\s_vdd! &quot;;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039268"></a>*) &lt;instName&gt;&#8230;</pre>
<h3>
<a id="pgfId-1039296"></a><a id="30703"></a>Where can I find basic information on how to use inherited connections with Cadence tools?</h3>

<p>
<a id="pgfId-1039297"></a>A tutorial on how to use inherited connections with various Cadence tools in the design flow is available at <code>&lt;your installation directory&gt;/tools/dfII/samples/tutorials/inhconn</code>. You can refer to the <em>Inherited Connections Flow Guide</em> on the <h-hot><a actuate="user" class="URL" href="https://support.cadence.com" show="replace" xml:link="simple">Cadence Online Support</a></h-hot> website to run through this tutorial.</p>
<p>
<a id="pgfId-1039298"></a>To understand how to set net expression wire labels and netSet properties in Virtuoso Schematic Editor, read the <em>Inherited Connections</em> section in the <em>Virtuoso Schematic Editor User L Guide</em>.</p>

<h3>
<a id="pgfId-1039321"></a><a id="31129"></a>Can the UNL netlister print inherited connections as pseudo ports, like the Spectre and SpectreVerilog netlisters?</h3>

<p>
<a id="pgfId-1039322"></a>No.</p>
<p>
<a id="pgfId-1039323"></a>The UNL netlister uses the <code>cds_net_set</code> compiler attribute to print the inherited connections.</p>

<h3>
<a id="pgfId-1039335"></a><a id="92504"></a>Do sideways inhconn netSets work with the UNL netlister?</h3>

<p>
<a id="pgfId-1039336"></a>Yes.</p>
<p>
<a id="pgfId-1039337"></a>As the UNL netlister uses compiler attributes to print netSet and net expressions in the netlist, sideways netSet works. This is particularly useful when your design uses inherited connection connect modules with built-in net expression attributes used for multiple supply designs.</p>

<h2>
<a id="pgfId-1039349"></a><a id="34809"></a>Miscellaneous FAQ on AMS Designer Interface in ADE and ADE Explorer</h2>

<ul><li>
<a id="pgfId-1041810"></a><a href="chap1.html#54542">How can I get more information on an error from the simulator?</a></li><li>
<a id="pgfId-1041769"></a><a href="chap1.html#30486">I defined a new value for a variable in the CIW and clicked on the Netlist and Run icon. However, I still see the same incorrect netlist. What is wrong?</a></li><li>
<a id="pgfId-1041779"></a><a href="chap1.html#63590">I do not have xrun in my older IUS release, but I have the ncverilog executable. Can I use ncverilog with the UNL netlister?</a></li></ul>



<h3>
<a id="pgfId-1039380"></a><a id="54542"></a>How can I get more information on an error from the simulator?</h3>

<p>
<a id="pgfId-1041867"></a>Select <em>Simulation &#8211; Output Log &#8211; Error Explanation</em>. You will see a list of error mnemonics in the <em>All Error Messages</em> pull-down menu. These are the error mnemonics reported by <code>xrun</code> when you simulated your design. The software reads all error mnemonics in the <code>xrun.log</code> file and populates the pull-down menu with those mnemonics.</p>
<p>
<a id="pgfId-1041868"></a>Select the mnemonic for which you want to read the explanation, and click <em>Explain</em>.</p>

<p>
<a id="pgfId-1038320"></a></p>
<div class="webflare-div-image">
<img src="images/errorExplain.gif" /></div>

<p>
<a id="pgfId-1035847"></a>You can also type any error mnemonic (not necessarily reported by <code>xrun</code> in the last simulation) in the <em>Error Message</em> field and click <em>Explain</em> to view the explanation.</p>
<p>
<a id="pgfId-1045200"></a>You can also find the error mnemonic from nchelp command line by doing the following:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1045201"></a>nchelp xmelab ERROR_MNEMONIC</pre>
<h3>
<a id="pgfId-1039414"></a><a id="30486"></a>I defined a new value for a variable in the CIW and clicked on the Netlist and Run icon. However, I still see the same incorrect netlist. What is wrong?</h3>

<p>
<a id="pgfId-1039415"></a>If you have defined a variable, you need to recreate the netlist, that is, choose <em>Netlist &#8211; Recreate</em>. Then you can either choose <em>Simulation</em> - <em>Netlist and run</em> or click the <em>Netlist and Run</em> button.</p>

<h3>
<a id="pgfId-1039429"></a><a id="63590"></a>I do not have xrun in my older IUS release, but I have the ncverilog executable. Can I use ncverilog with the UNL netlister?</h3>

<p>
<a id="pgfId-1039430"></a>No.</p>
<p>
<a id="pgfId-1039431"></a>The UNL netlister supports simulation with only <code>xrun</code>. If your IUS release does not have the <code>xrun</code> executable, you will see the following error message:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039432"></a>Failed to create the netlist because either the xrun executable is not in a directory listed in the &#39;path&#39; variable or you are running IUS 8.X in an unsupported platform.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041927"></a>Correct the value of the &#39;path&#39; variable or move to a supported platform and then try again.</pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="AMSinADEFAQTOC.html" id="prev" title="Contents">Contents</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>