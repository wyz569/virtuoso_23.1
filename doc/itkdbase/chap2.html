
<html><head><title>Getting Started with CDBA</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-06-12" />
<meta name="CreateTime" content="1686595137" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functions in the Integrators Toolkit. The functions provide C level access to the OpenAccess database." />
<meta name="DocTitle" content="Cadence Integrators Toolkit Database Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Getting Started with CDBA" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="itkdbase" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-12" />
<meta name="ModifiedTime" content="1686595137" />
<meta name="NextFile" content="chap3.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="chap1.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Cadence Integrators Toolkit Database Reference -- Getting Started with CDBA" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="itkdbaseIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="itkdbaseTOC.html">Contents</a></li><li><a class="prev" href="chap1.html" title="Introduction to CDBA">Introduction to CDBA</a></li><li style="float: right;"><a class="viewPrint" href="itkdbase.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3.html" title="CDBA Database Objects">CDBA Database Objects</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Cadence Integrators Toolkit Database Reference<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a name="pgfId-955154"></a></h1>
<h1>
<a name="pgfId-955186"></a><hr />
<a name="38480"></a>Getting Started with CDBA<hr />
</h1>

<p>
<a name="pgfId-956143"></a>This chapter gives you the information you need to write CDBA functions. This includes the following topics:</p>
<ul><li>
<a name="pgfId-956149"></a><a href="chap2.html#31238">CDBA Described</a></li><li>
<a name="pgfId-958092"></a><a href="chap2.html#42343">Generator Functions</a></li><li>
<a name="pgfId-956447"></a><a href="chap2.html#29555">Producer and Consumer Functions</a></li><li>
<a name="pgfId-956193"></a><a href="chap2.html#19246">CDBA Naming Conventions</a></li><li>
<a name="pgfId-956195"></a><a href="chap2.html#11270">Basics for Writing CDBA Functions</a></li><li>
<a name="pgfId-956197"></a><a href="chap2.html#21768">Using the Virtuoso Design Environment</a></li><li>
<a name="pgfId-956241"></a><a href="chap2.html#Specifying Run-Time Options">Specifying Run-Time Options</a></li><li>
<a name="pgfId-956246"></a><a href="chap2.html#Rules for Using CDBA">General Rules for Using CDBA</a></li><li>
<a name="pgfId-956165"></a><a href="chap2.html#31473">Troubleshooting Your Programs</a></li></ul>









<h2>
<a name="pgfId-955188"></a><a name="31238"></a>CDBA Described</h2>

<p>
<a name="pgfId-956145"></a>CDBA consists of procedural access layers on top of the OpenAccess database. CDBA insulates programs from changes made to the underlying physical data model. CDBA also takes advantage of the next generation of computing hardware and software environments. </p>
<p>
<a name="pgfId-955200"></a>CDBA functions include Component Description Format (CDF) functions and technology file functions. For more information on CDF functions, see the <em>Component Description Format User Guide</em>.</p>
<p>
<a name="pgfId-955199"></a>CDBA considers the following aspects of a good design:</p>
<ul><li>
<a name="pgfId-955203"></a>Robustness</li><li>
<a name="pgfId-955204"></a>Performance</li><li>
<a name="pgfId-955205"></a>Separate system and user address spaces</li><li>
<a name="pgfId-955206"></a>Multiprocessing environment</li></ul>




<h4>
<a name="pgfId-77350"></a>Robustness</h4>

<p>
<a name="pgfId-955162"></a>CDBA is as robust as possible without sacrificing performance. Objects and IDs are strongly typed, providing as much type checking as possible at compile time. Debugging facilities are designed into CDBA.</p>

<h4>
<a name="pgfId-77351"></a>Performance</h4>

<p>
<a name="pgfId-955163"></a>High performance is critical to a database for electronic design automation. To make CDBA run as fast as possible, most access functions are defined in a way that makes it possible to implement them as macros if needed.</p>

<h4>
<a name="pgfId-77352"></a>Separate System and User Address Spaces</h4>

<p>
<a name="pgfId-955164"></a>CDBA allows the database and your application to reside in separate process address spaces and communicate only via inter-process communication.</p>

<h4>
<a name="pgfId-77353"></a>Multiprocessing Environment</h4>

<p>
<a name="pgfId-955165"></a>CDBA is designed so that, in the future, the database and your application can run on two or more processors.</p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Example, Include, and Library Files to Use

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-488326"></a>Example, Include, and Library Files to Use</h3>

<p>
<a name="pgfId-955168"></a>Examples for using either CDBA or CDF functions are in </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-488420"></a><code><em>your_install_dir</em></code>/itkDB/samples/DB </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955251"></a><code><em>your_install_dir</em></code>/itkDB/samples/CDF </pre>

<p>
<a name="pgfId-954594"></a>The data structures and functions for CDBA and CDF are defined in </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-954595"></a><code><em>your_install_dir</em></code>/itkDB/include/ITKDB.h </pre>

<p>
<a name="pgfId-954597"></a>Link your application with </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-954598"></a><code><em>your_install_dir</em></code>/itkDB/lib/ITKDB.a </pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Finding OpenAccess Shared Libraries

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-959468"></a>Finding OpenAccess Shared Libraries<a name="marker-959466"></a><a name="marker-959467"></a> </h3>

<p>
<a name="pgfId-959469"></a>Your programs need to find the OpenAccess shared libraries. The recommended method is the following.</p>

<ol><li>
<a name="pgfId-959470"></a>Install your programs in the appropriate directory.<ul><li>
<a name="pgfId-959471"></a><code>dfII/bin/32bit</code></li><li>
<a name="pgfId-959472"></a><code>dfII/bin/64bit</code></li></ul><br />
<a name="pgfId-959473"></a>as <span class="webflare-courier-new" style="white-space:pre"><em>&lt;program_name&gt;</em></span></li><li>
<a name="pgfId-959474"></a>Install a symbolic link called <span class="webflare-courier-new" style="white-space:pre"><em>&lt;program_name&gt;</em></span> in the <code>dfII/bin</code> directory. The link should point to <code>../../../share/bin/cdnWrapperWithOA</code>.</li></ol>







<p>
<a name="pgfId-959476"></a>The <code>cdnWrapperWithOA</code> script adds <code>QTDIR</code>, <code>tools/lib</code>, and the OpenAccess library path to <code>LD_LIBRARY_PATH</code> and calls the executable.</p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-954600"></a><a name="42343"></a>Generator Functions<a name="Generators"></a></h2>

<p>
<a name="pgfId-958268"></a>Generator functions perform an action repeatedly on items, one by one, in a database that consists of either design data (OpenAccess) or technology data (technology file). </p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Sequence of Actions Used

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-958270"></a>Sequence of Actions Used</h3>

<p>
<a name="pgfId-957946"></a>Two functions usually work together to generate this sequence of actions: a function to start the generator (using the component <code>StartGen</code>) and a function to continue generating (using the component <code>Gen</code>) until all values have been acted on. </p>
<p>
<a name="pgfId-957871"></a>Together these two functions follow this sequence:</p>
<ol><li>
<a name="pgfId-957872"></a>Initialize a particular generator.</li><li>
<a name="pgfId-957873"></a>Retrieve and act on each item in the file, one at a time. With each iteration of the generator function, a name and value for the item retrieved is returned.</li><li>
<a name="pgfId-957874"></a>Stop the generator.</li></ol>



<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Relationships Represented

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-957936"></a>Relationships Represented</h3>

<p>
<a name="pgfId-957947"></a>Generator functions in CDBA represent one-to-many relationships in the logical data model. Through generators, you can visit every element of the relationship. These relationships can be direct or derived. </p>
<p>
<a name="pgfId-958678"></a>In a direct relationship, the objects are linked to a data structure such as a linked list. In a derived relationship, there are no direct pointers linking the objects, and the relationship is derived from other information, such as matching objects that have the same name.</p>
<p>
<a name="pgfId-958681"></a>For more detailed information on these types of relationships, see <a href="chap3.html#33764">&#8220;CDBA Database Objects&#8221;</a>.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Arguments in Generator Functions

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-958683"></a>Arguments in Generator Functions</h3>

<p>
<a name="pgfId-957948"></a>In all generator functions, the first argument is always the generator state identifier returned from the <code>startgen</code> function. The rest of the arguments (ranging from one to many) are pointers to one or more user-defined variables used to return what is being generated. Arguments to generator functions are returned by means of indirection.</p>
<p>
<a name="pgfId-958231"></a>You supply pointers to objects of a given type as arguments. These pointers are updated by the generator function if it is successful. The pointers are invalid if the generator or function returns FALSE. </p>

<h4>
<a name="pgfId-958056"></a>Values Returned</h4>

<p>
<a name="pgfId-958242"></a>A generator function using pointers succeeds if all the following are true:</p>
<ul><li>
<a name="pgfId-958057"></a>The generator function can assign these user variables by indirection</li><li>
<a name="pgfId-958058"></a>The variables are valid</li><li>
<a name="pgfId-958059"></a>The variables can be safely referenced by the user </li></ul>


<p>
<a name="pgfId-958043"></a>A returned value of FALSE signals that</p>
<ul><li>
<a name="pgfId-958044"></a>The values of the variables should not be used because they are undefined (never assigned and most likely contain garbage) or are invalid </li><li>
<a name="pgfId-958045"></a>The generator is finished, with no more variables to assign values to </li></ul>

<p>
<a name="pgfId-957981"></a>See <a href="chap11.html#36757">Chapter 12, &#8220;CDBA Relative Object Design Functions,&#8221;</a> for information on generator functions in technology files.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Naming Conventions for Generator Functions

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956318"></a>Naming Conventions for Generator Functions<a name="Naming Convention for Generators"></a></h3>

<p>
<a name="pgfId-956320"></a>Generator functions include the following components</p>
<ul><li>
<a name="pgfId-957980"></a>Prefix for application or interface used (such as <code>dd</code>, <code>db</code>, or <code>tech</code>)</li><li>
<a name="pgfId-957985"></a>Sequence in the generation process</li><li>
<a name="pgfId-957986"></a>Relationship between elements, if applicable</li></ul>



<h4>
<a name="pgfId-957987"></a>Sequence Indicated in Generator Functions</h4>

<p>
<a name="pgfId-957979"></a>All generator functions use the following components:</p>
<ul><li>
<a name="pgfId-956321"></a><code>StartGen</code>, indicating the function to prepare and start the generator</li><li>
<a name="pgfId-956322"></a><code>Gen</code>, indicating the function to generate</li><li>
<a name="pgfId-956323"></a><code>StopGen</code>, indicating the function to stop the generator</li></ul>



<h4>
<a name="pgfId-957969"></a>Relationship between Elements</h4>

<p>
<a name="pgfId-957991"></a>The name of a generator function describes the elements of the one-to-many relationship it represents, and the actions between them. </p>
<p>
<a name="pgfId-956324"></a>In some generator functions, the relationship between the elements is written as <span class="webflare-courier-new" style="white-space:pre"><em>source</em></span><code>To</code><span class="webflare-courier-new" style="white-space:pre"><em>dest</em></span>, as in the function names <code>MasterToInst</code> or <code>LayerToPurpose</code></p>
<p>
<a name="pgfId-956325"></a>When the one-to-many relationship starts from the cellview, you can omit both the <span class="webflare-courier-new" style="white-space:pre"><em>source</em></span> and the <code>To</code> connective. For example, instead of using the name <code>dbGenCellViewToMaster</code>, you can use the name <code>dbGenMaster</code>.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=The Generator State

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77368"></a>The Generator State</h3>

<p>
<a name="pgfId-77369"></a>The style of generators is based on a generator state, which stores the internal state of each active generator in a data structure allocated and managed by the database. The user has complete control over starting, stopping, and stepping through multiple generators simultaneously.</p>
<p>
<a name="pgfId-77370"></a>Because generator states are allocated and are therefore always visible to CDBA, you can implement various checks to prevent users from undesirable interactions, such as deleting the next active element in the middle of a generation loop. When the internal structure of generator states is hidden from the user, only the following type definition is visible in the header file.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-77373"></a>typedef <a name="marker-77371"></a>dbGenState * <a name="marker-77372"></a>dbGenStateId;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Starting the Generator

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77374"></a>Starting the Generator<a name="Starting the Generator"></a></h3>

<p>
<a name="pgfId-77376"></a>Each generator must be explicitly initialized by calling a specific <code>StartGen</code> function with the appropriate context information. The <code>StartGen</code> function returns a pointer to a newly allocated and initialized structure containing the generator state.</p>

<h4><em>
<a name="pgfId-77377"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77378"></a>dbGenStateId pState; /* generates all terms in a cellview */</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955252"></a>pState = dbStartGenTerm(cvId); /* starts the generator */</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Generator Loop

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77380"></a>Generator Loop<a name="Generator Loop"></a></h3>

<p>
<a name="pgfId-77381"></a>After a generator is initialized, you can call the corresponding <code>Gen</code> function to get the relationship elements one at a time. A <code>Gen</code> function takes the generator state as its first argument. The argument is followed by pointers to formal variables used in the generator loop. If there are multiple formal variables, they must appear in the same order as they appear in the name of the generator. </p>
<p>
<a name="pgfId-77382"></a>The generator state is updated to reflect the new state of the generator loop. The generator function returns FALSE if there are no more elements in the relationship, and TRUE if there are more elements to generate. This makes it possible to implement a generator loop with a <code>while</code> statement.</p>

<h4><em>
<a name="pgfId-77383"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77384"></a>while (dbGenTerm(pState, &amp;termId)) {</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956326"></a>    ...</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955254"></a>    func(termId); /* loop through and process each element */</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956328"></a>    ...</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955274"></a>}</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Stopping the Generator

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77385"></a>Stopping the Generator<a name="Stopping the Generator"></a></h3>

<p>
<a name="pgfId-77387"></a>At the end of a generator loop, you must call the <code>StopGen</code> function to notify CDBA that you are done with the generator. CDBA frees the generator state and invalidates the pointer to prevent its reuse. The <code>dbStopGen</code><a name="marker-77388"></a> function works for all generators.</p>

<h4><em>
<a name="pgfId-77389"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77390"></a>dbStopGen(pState);</pre>
<h4><em>
<a name="pgfId-77391"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77392"></a>/* Using the shapes generator to generate all shapes on a */<br />/* given layer-purpose pair&#160;&#160;                             */</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-958670"></a>dbGenStateId pState;         /* pointer to generator state */<br />dbShapeId shapeId;&#160;&#160;         /* formal argument */</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-958669"></a>/* Initializes the generator */<br />pState = dbStartGenShape( cvId );</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-958668"></a>/* Uses a while loop to generate all shapes. */<br />while (dbGenShape( pState, &amp;shapeId ) ) <br />{<br />  /* processes shapeId */<br />  ...<br />  /* user can even pass generator state to another function */<br />  /* for further generation inside that function            */<br />  func( pState, shapeId );<br />  ...<br />  break; /* user has complete control */<br />  ...<br />};</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-958671"></a>/* Inform the system that the generator is no longer active */<br />/* so the system can deallocate the generator state         */<br />dbStopGen( pState );</pre>
<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-958163"></a><a name="17042"></a>Get Functions</h2>

<p>
<a name="pgfId-958218"></a>Arguments to Get functions are returned by means of indirection. You supply pointers to objects of a given type as arguments. These pointers are updated by the Get function if it is successful. The pointers are invalid if the generator or function returns FALSE. </p>
<p>
<a name="pgfId-958164"></a>All Get functions return any parameters through the <code>propType</code> and <code>propValue</code> pointers. The parameter returned by <code>propValue</code> is either &quot;evaluated&quot; or &quot;raw&quot; data. Unless specifically directed, all Get functions evaluate parameters before return. The &quot;dumper&quot; is the only utility or application that needs the unevaluated expression.</p>
<p>
<a name="pgfId-958481"></a>If you want the unevaluated parameter expression, use <code>techSetEvaluate (FALSE)</code> before calling the <code>Get</code> function of your choice. Remember to call <code>techSetEvaluate (TRUE)</code> when you are finished.</p>

<h2>
<a name="pgfId-77402"></a><a name="29555"></a>Producer and Consumer Functions<a name="Producer/Consumer Functions"></a></h2>

<p>
<a name="pgfId-77404"></a>CDBA provides producer functions, which produce results processed by the consumer functions you provide. Each time you call a CDBA producer function, you must specify a pointer to your consumer function as one of the producer function arguments. For each item successfully produced, the producer calls your consumer function as the argument. This process is repeated until there are no more items to produce or the consumer returns FALSE to the producer.</p>

<h4><em>
<a name="pgfId-77405"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77406"></a>/* myConsumer( ) -<br />*<br />* This is a sample of a simple consumer function for the <br />* dbProduceMemName( ) function. It prints the member<br />* (such as member index) of the given full name and<br />* the member name produced by the producer function.<br />*/<br />
Boolean
myConsumer( memName, memIndex )
String&#160;&#160;    memName;<br />int         *memIndex;<br />
{
printf( &quot;Member %d is %s\n&quot;, memIndex, memName );
(*memIndex)++;
return(TRUE);
}

/* The following is a function that calls
 * dbProduceMemName( ) */
void
Afunc( )
{
Boolean&#160;&#160;    myConsumer( );<br />int          memIndex = 0;<br />dbProduceMemName(&quot;(A,B,C)&quot;, myConsumer, &amp;memIndex);<br />}</pre>
<h2>
<a name="pgfId-77411"></a><a name="19246"></a>CDBA Naming Conventions <a name="Naming Conventions"></a></h2>

<p>
<a name="pgfId-77412"></a>Adoption of uniform naming conventions and standard terminologies for CDBA and application-specific names for functions, constants, or global variables are critical for making design framework II simple to use. </p>

<h2>
<a name="pgfId-958117"></a><a name="17898"></a>Components of Function Names</h2>

<ul><li>
<a name="pgfId-958118"></a>Functions whose names include <code>Create</code> add sections to the technology file that do not exist, or replace entire or partial sections that do exist. </li><li>
<a name="pgfId-958119"></a>Functions whose names include <code>Set</code> update existing data or add new data to existing sections of the technology file. </li><li>
<a name="pgfId-958120"></a>Functions whose names include <code>Get</code> return data from sections of the technology file, or an error message if the data does not exist. </li><li>
<a name="pgfId-958121"></a>Functions whose names include <code>Delete</code> remove a specified piece of data from a section of the technology file.</li></ul>



<p>
<a name="pgfId-958125"></a>See <a href="chap2.html#38480">&#8220;Getting Started with CDBA&#8221;</a> for more information on components of function names. See <a href="appA.html#26012">&#8220;General Terms&#8221;</a> for a table on these components.</p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Components of Function Names

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956585"></a>Components of Function Names<a name="Naming Convention for Function Names"></a></h3>

<p>
<a name="pgfId-956732"></a>Construct a function name from related components. The combination of the components you use depends on what the function does. </p>

<h4>
<a name="pgfId-956796"></a>General Rules</h4>

<p>
<a name="pgfId-956797"></a>The following are some general guidelines for constructing function names:</p>
<ul><li>
<a name="pgfId-956798"></a>All names must be unique in the first 32 characters so that they are portable across systems.</li><li>
<a name="pgfId-956799"></a>All names in CDBA, whether they are names of functions, constants, or global variables, begin with a package prefix and are composed of words connected in a predefined order. To avoid name conflicts with other packages, CDBA developers prefix <code>db</code> to every function and global variable name offered in CDBA.</li><li>
<a name="pgfId-956800"></a>If you are an application developer, add a unique three-character package prefix to your function and global variable names to avoid name conflicts with CDBA function and global variable names. </li><li>
<a name="pgfId-956801"></a>If the function implements a binary operation, then both the source and destination objects need to be specified. However, if the function implements a unary operation, you need to specify only one object or element.</li><li>
<a name="pgfId-956927"></a>Function arguments are always given consistent, meaningful names that show their type and how they must be used.<br />
<a name="pgfId-956948"></a>The following function is a good model for this guideline.<br />
<a name="pgfId-956972"></a><code>dbCreatePolygon( </code><span class="webflare-courier-new" style="white-space:pre"><em>cellViewId</em></span><code>, </code><span class="webflare-courier-new" style="white-space:pre"><em>layer</em></span><code>, </code><span class="webflare-courier-new" style="white-space:pre"><em>purpose</em></span><code>, </code><span class="webflare-courier-new" style="white-space:pre"><em>nPoints</em></span><code>,</code><span class="webflare-courier-new" style="white-space:pre"><em>arrayOfPoints</em></span><code> )</code><br />
<a name="pgfId-958675"></a><table class="webflareTable" id="#id958493">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958495"></a><code>cellViewId </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958497"></a>Tells <code>dbCreatePolygon</code> in which cellview to create the polygon.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958499"></a><code>layer </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958501"></a>A scalar argument that defines on which layer to create the rectangle.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958503"></a><code>purpose </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958505"></a>A scalar argument that defines which purpose to assign to the rectangle</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958507"></a><code>nPoints </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958509"></a>Specifies the number of vertices stored in <code>arrayOfPoints</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958511"></a><code>arrayOfPoints</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958513"></a>Contains the vertices of the polygon to be created. The number of vertices is specified by <code>nPoints</code>.</p>
</td>
</tr>
</tbody></table></li></ul>









<h4>
<a name="pgfId-956742"></a>Frequently Used Components</h4>

<p>
<a name="pgfId-956779"></a>The following are frequently used components within names and examples for each. For a more complete list of components, see <a href="appA.html#26012">&#8220;General Terms&#8221;</a>. </p>

<p>
<a name="pgfId-958521"></a></p>
<table class="webflareTable" id="#id957270">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a name="pgfId-958535"></a><strong>Component Names</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a name="pgfId-958537"></a><strong>Examples</strong></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957419"></a>Package prefix </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957421"></a>db, dm</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957423"></a>Action verb </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957425"></a>Create, Delete, Get, Set, Is</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957427"></a>Qualifier for the source object </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957429"></a>Empty, All</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957431"></a>Type of source object </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957433"></a>Shape, Net</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957435"></a>Element within the source object </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957437"></a>Layer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957529"></a>Connective </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957531"></a>To</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957439"></a>Type of destination object </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957441"></a>Line, Polygon</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957443"></a>Element within the destination object </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957445"></a>nPoints</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957447"></a>Condition being tested for (applies only to predicate functions) </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957449"></a>Equal, Valid, Modified</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957451"></a>Postfix, if any </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957453"></a>Begin, End</p>
</td>
</tr>
</tbody></table>
<h4>
<a name="pgfId-956567"></a>Examples of Use of Components in Function Names</h4>

<p>
<a name="pgfId-956594"></a>The following are examples of how these components are used with each other in a function name:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-956568"></a>dbCreateRect</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956569"></a>dbGetRectLP</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956570"></a>dbGenLPToShape</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956571"></a>dbIsRect</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956572"></a>dbIsIdEqual</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956573"></a>ilGetString</pre>
<h4>
<a name="pgfId-956769"></a>Components and Usage to Avoid in Function Names</h4>

<p>
<a name="pgfId-956778"></a>To make names simple for users whose native language is not English, do not include the following in names: </p>
<ul><li>
<a name="pgfId-956770"></a>Articles (<em>a</em>, <em>an</em>, or <em>the</em>)</li><li>
<a name="pgfId-956771"></a>Plurals (such as <em>layers</em> or <em>points</em>)</li><li>
<a name="pgfId-956772"></a>Past tense forms of verbs</li><li>
<a name="pgfId-956773"></a>Phonetic abbreviations such as 2 (as an abbreviation for <em>to</em>) or 4 (as an abbreviation for <em>four</em>) </li></ul>




<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Case Used in CDBA Names

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956470"></a>Case Used in CDBA Names</h3>

<p>
<a name="pgfId-956471"></a>All characters appear in lowercase except for the first character after each word boundary (such as <code>ilGetInt</code>). </p>
<p>
<a name="pgfId-77413"></a>The first character of a CDBA name, the package prefix, is always in lowercase. If you are an application developer, you must always capitalize the first letter of your prefixes to avoid naming conflicts with CDBA names. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Using Abbreviations in Function Names

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77416"></a>Using Abbreviations in Function Names<a name="Use of Abbreviations"></a></h3>

<p>
<a name="pgfId-77417"></a>To avoid unreasonably long names, abbreviate words longer than seven characters. Exceptions can be made when an easy-to-remember abbreviation does not exist.</p>
<p>
<a name="pgfId-77418"></a>The rules that apply to a single word within a name also apply to an abbreviation of a word within a name. A word or its abbreviation appears in lowercase except for the first character after a word boundary. </p>
<p>
<a name="pgfId-956536"></a>An abbreviation for multiple words within a name, however, can consist of all uppercase letters if each word is abbreviated to its first letter. For example, you can abbreviate <em>layer-purpose</em> to <em>LP</em>. If an official abbreviation exists for a word, use it in all appropriate names, regardless of the length of the name.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Naming Conventions for Function Arguments

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77438"></a>Naming Conventions for Function Arguments<a name="Naming Convention for Function Arguments"></a></h3>

<p>
<a name="pgfId-77440"></a>The following sections describe types of function arguments. </p>

<h4>
<a name="pgfId-77441"></a>Creation Functions</h4>

<p>
<a name="pgfId-77442"></a>Arrange arguments for creation functions in the following order:</p>
<ul><li>
<a name="pgfId-956808"></a>Context arguments</li><li>
<a name="pgfId-956809"></a>Attributes</li><li>
<a name="pgfId-956810"></a>Argument interdependencies</li></ul>



<h4><em>
<a name="pgfId-77444"></a><a name="marker-77443"></a>Context</em></h4>

<p>
<a name="pgfId-955335"></a>Specify context arguments in descending order of generality (from general to specific). In the following examples, <code>cellViewId</code> is the most general type of context argument.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-77445"></a>dbCreateRect( cellViewId, ...)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955336"></a>dbCreatePolygon( cellViewId, ...)</pre>
<h4><em>
<a name="pgfId-77447"></a>Attributes</em></h4>

<p>
<a name="pgfId-955337"></a>For the object being created, specify <a name="marker-489473"></a>attributes after the context arguments in descending order of importance. In the following examples, <code>layer</code> is a more important attribute than purpose.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-77448"></a>dbCreateRect(..., layer, purpose, ...)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955338"></a>dbCreatePolygon(..., layer, purpose, ...)</pre>
<h4><em>
<a name="pgfId-77450"></a><a name="marker-77449"></a>Argument Interdependencies </em></h4>

<p>
<a name="pgfId-956847"></a>Specify descriptive arguments before the arguments they describe. The number of points always precedes the array of points it describes, as shown here:</p>

<a name="pgfId-956848"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCreatePolygon(cellViewId, layer, purpose, nPoints, pointArray)</pre>

<p>
<a name="pgfId-956886"></a>This function also illustrates the arguments, attributes, and argument interdependencies in a creation function.</p>

<h4>
<a name="pgfId-956849"></a>Retrieval Functions</h4>

<p>
<a name="pgfId-77453"></a>Arguments in retrieval functions that return data using function arguments must be in the same order as when the object was first created. Examples are</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-77455"></a>dbGetPolygon( polygonId, &amp;nPoints, &amp;pointArray )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955341"></a>dbGetPolygonLP( shapeId, &amp;layer, &amp;purpose )</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Conventions for Prototype Functions

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77456"></a>Conventions for Prototype Functions<a name="Convention for Prototype Functions"></a></h3>

<p>
<a name="pgfId-77458"></a>The following are conventions for describing arguments that appear in prototype functions:</p>
<ul><li>
<a name="pgfId-77459"></a>Pointers to data structures used to pass data to the function being called or to return data to the calling routine are indicated by adding the prefix <code>p</code> to the type name such as <code>pBBox</code>. </li><li>
<a name="pgfId-956607"></a>When data is returned using the pointer, a comment follows the argument description (for example, &#8220;<code>/* modifies BBox */</code>&#8221;). </li><li>
<a name="pgfId-956608"></a>Using a pointer replaces the old convention of preceding the argument with an ampersand (&amp;). This old convention demonstrated normal usage, but left confusion about the argument type.</li></ul>



<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Return Value Conventions

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956841"></a>Return Value Conventions<a name="Return Value Conventions"></a></h3>

<p>
<a name="pgfId-77486"></a>Most database functions in CDBA return Boolean status values indicating whether their operations are successful. A few retrieval functions, however, do return data as values of the functions so that calls can be nested within other expressions. Many of these retrieval functions are implemented as macros: therefore, errors are caught at compile time rather than at run time.</p>
<p>
<a name="pgfId-77487"></a>Scalar values returned via function arguments are always copied over to your storage space. You must declare these variables in your own program and pass pointers to them in function calls.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Naming Conventions for Name Types

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77488"></a>Naming Conventions for Name Types<a name="Miscellaneous Naming Conventions"></a></h3>

<p>
<a name="pgfId-954628"></a>After a package prefix, there is an optional third lowercase character that describes the type of the name.</p>
<p>
<a name="pgfId-956619"></a>The following table shows the character and meaning corresponding to each name type.</p>

<p>
<a name="pgfId-983606"></a></p>
<table class="webflareTable" id="#id958544">
<caption style="text-align:left;"><p>
</p><div class="ft-figtabl-title">
<a name="pgfId-958621"></a>Name Qualification Characters</div></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id958546">
<a name="pgfId-958546"></a>Name type </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id958548">
<a name="pgfId-958548"></a>Character</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id958550">
<a name="pgfId-958550"></a>Meaning</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958552"></a>Bit-field constants</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958554"></a>b</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958556"></a>A bit-field constant.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958558"></a>Constants</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958560"></a>c</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958562"></a>An enumerated constant.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958564"></a>Errors</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958566"></a>e</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958568"></a>The name of a structure describing an error.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958570"></a>Internal functions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958572"></a>i</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958574"></a>An internal function. These functions must not be called directly by application programs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958576"></a>Macros</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958578"></a>m</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958580"></a>A C-preprocessor macro.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958582"></a>Global variables</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958584"></a>v</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-958586"></a>A public global variable.</p>
</td>
</tr>
</tbody></table>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Exceptions to Naming Conventions

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-954674"></a>Exceptions to Naming Conventions<a name="Exceptions to Naming Conventions"></a></h3>

<p>
<a name="pgfId-77538"></a>Many existing property names were chosen when there was no system-wide, uniform naming convention. Because it is impractical for Cadence to change the names of existing properties, you need to learn historical names in addition to new names that conform to the uniform naming convention. </p>
<p>
<a name="pgfId-77539"></a>Rather than only following the new naming convention, keep applications as consistent as possible. If a different naming convention was originally used within an application, use the old convention to keep names consistent within the application. An example of an exception is the NLP (netlist property) prefix given to properties used by the netlister (because this prefix is in uppercase). To avoid unnecessary confusion for the user, give new properties for the netlister the same prefix. </p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-77542"></a><a name="11270"></a>Basics<a name="Fundamentals"></a> for Writing CDBA Functions</h2>

<p>
<a name="pgfId-955455"></a>To write CDBA functions, you should know the following:</p>
<ul><li>
<a name="pgfId-955456"></a>Design framework II requirements</li><li>
<a name="pgfId-955457"></a>Basic C data types used in CDBA</li><li>
<a name="pgfId-955458"></a>Coding standards for writing CDBA functions</li></ul>



  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Design Framework II Requirements

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77544"></a>Design Framework II<a name="Basic Assumptions"></a> Requirements</h3>

<p>
<a name="pgfId-77545"></a>Even though design framework II is written in portable C code, it does make basic<a name="marker-77546"></a> assumptions about the compiler and the computer it runs on. The following assumptions must be true for a machine and its compiler before design framework II can run:</p>
<ul><li>
<a name="pgfId-77547"></a>Integers (<code>int</code>) are 32 bits wide.</li><li>
<a name="pgfId-77548"></a>Long integers (<code>long</code>) are 32 bits wide.</li><li>
<a name="pgfId-77549"></a>Short integers (<code>short</code>) are 16 bits wide.</li><li>
<a name="pgfId-77550"></a>Characters (<code>char</code>) are 8 bits wide.</li><li>
<a name="pgfId-77551"></a>Virtual address space must be at least 16 megabytes (MB).</li></ul>




<p>
<a name="pgfId-77553"></a>Design framework II runs most efficiently when the following requirements are met:</p>
<ul><li>
<a name="pgfId-77554"></a>The amount of virtual memory available is at least 64 megabytes (MB).</li><li>
<a name="pgfId-77555"></a>The amount of main memory available is at least 8 megabytes (MB) for applications using CDBA.</li></ul>

<p>
<a name="pgfId-962503"></a>Design framework II can run correctly without these memory requirements, but the performance can become unacceptable.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Supported Platforms and Compilers for Integrator&#8217;s Toolkit (itk)

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-962504"></a><a name="marker-962511"></a>Supported Platforms and Compilers for Integrator&#8217;s Toolkit (itk)</h3>

<p>
<a name="pgfId-959168"></a>The supported development platforms and C compilers are the following. </p>
<p>
<a name="pgfId-983691"></a></p>
<table class="webflareTable" id="#id963027">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id977241">
<a name="pgfId-977241"></a>Platform</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id977243">
<a name="pgfId-977243"></a>Compiler</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977245"></a>Solaris Operating System 10 with support for STLPort4 C++ standard template libraries on x86_64 architecture</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977247"></a>Solaris Compiler: Forte Developer/Studio 11 C++ 5.8</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977249"></a>Solaris Operating System 10 with support for STLPort4 C++ standard template libraries on UltraSparc architecture</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977251"></a>Solaris Compiler: Forte Developer/Studio 12 C++ 5.9</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977253"></a>Linux (x86 and x86_64) Operating System: Redhat Enterprise 4.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977255"></a>Linux Compiler: gcc 4.1.2</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977257"></a>IBM Operating System: AIX 5.3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-977259"></a>IBM Compiler: XL C++ 7.0</p>

<p>
<a name="pgfId-977260"></a>When linking on AIX 5.3:<br />
&#160;&#160;         Do not use <code>-bexpall</code> or <code>-bexpfull</code>.<br />           Always link with the Tcl shared            library <code>libTcl8.4</code>. So instead of&#160;&#160;          <code>libTcl8.4.a</code>.<br />           Place <code>-lm -lc</code> in front of <code>-loaDesign</code>.</p>

</td>
</tr>
</tbody></table>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=C Data Types Used in CDBA

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-963012"></a>C Data Types Used in CDBA<a name="Basic C Data Types"></a></h3>

<p>
<a name="pgfId-77558"></a>To simplify programming and improve code readability, the following data types are predefined in <code>db.h</code>, the header file that must be included in every CDBA program.</p>

<h4>
<a name="pgfId-77560"></a><a name="marker-77559"></a>Boolean</h4>

<p>
<a name="pgfId-955344"></a>A Boolean specifies that the variable or function can only take the value of one of two predefined constants. </p>
<ul><li>
<a name="pgfId-77561"></a>TRUE (nonzero)</li><li>
<a name="pgfId-77562"></a>FALSE (zero) </li></ul>


<h4>
<a name="pgfId-77564"></a><a name="marker-77563"></a>String</h4>

<p>
<a name="pgfId-955345"></a>Strings specify that the variable or function is of type (<code>char *</code>), a pointer to a character string. A NULL string is not equivalent to an empty string.</p>

<h4>
<a name="pgfId-77566"></a><a name="marker-77565"></a>FuncIntPtr</h4>

<p>
<a name="pgfId-957573"></a><code>FuncIntPtr</code> declarations specify that the variable or function indicates a pointer to a function that returns an integer. This type is useful for passing functions as arguments to other functions, such as when handler functions are registered.</p>

<h4>
<a name="pgfId-77568"></a><a name="marker-77567"></a>FuncBooleanPtr</h4>

<p>
<a name="pgfId-955347"></a><code>FuncBooleanPtr</code> specify that the variable or function points to a function that returns a Boolean value. This type is useful for passing functions as arguments to other functions, such as when handler functions are registered.</p>

<h4>
<a name="pgfId-77570"></a><a name="marker-77569"></a>Enumerated Types and Enumerated Constants</h4>

<p>
<a name="pgfId-955348"></a>Variables that can only take on one of a limited number of values are declared in the C programming language as enumerated types (<code>enums</code>) whenever possible. You can also use the <code>#define</code> construct to define enumerations as unsigned integer constants. </p>
<p>
<a name="pgfId-77571"></a>All enumerated constants begin with the prefix <code>dbc</code>, and enumerated constants that belong to the same enumerated type are often grouped together using the same root words. Typically, an enumerated type has an unknown value, which is returned in some error conditions.</p>

<h4><em>
<a name="pgfId-77572"></a>Examples</em></h4>

<p>
<a name="pgfId-958638"></a>The following are examples of enumerated types:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-958639"></a>#define&#160;&#160;dbcConstantOne&#160;&#160;1</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-958640"></a>#define  dbcConstantTwo  2<br />enum dbPurpose {<br />   dbcUnknownPurpose,<br />   dbcDrawingPurpose,<br />   dbcWirePurpose,<br />   dbcPinPurpose<br />};</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77575"></a>typedef enum dbPurpose dbPurpose;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Coding Standards for CDBA Functions

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77577"></a>Coding Standards for CDBA Functions<a name="Coding Standards"></a></h3>

<p>
<a name="pgfId-956643"></a>Coding standards exist for code in general, for header files, and for calls to macros.</p>

<h4>
<a name="pgfId-956644"></a>General Coding Standards</h4>

<p>
<a name="pgfId-77578"></a>To write C programs that work in CDBA, follow these coding standards:</p>
<ul><li>
<a name="pgfId-77579"></a>Use only reentrant code. Because most commands can be nested, not using reentrant code can possibly lead to recursive calls on the same functions. </li><li>
<a name="pgfId-956645"></a>Do not use global and static variables. </li><li>
<a name="pgfId-77580"></a>Begin function names and global variables with a unique three-character prefix to avoid name conflicts. Use three-character prefixes in your applications to avoid name conflicts with Cadence packages, which often use two-character prefixes. The first character must be uppercase. </li><li>
<a name="pgfId-77581"></a>Use a default case to catch all unexpected values in every switch statement, particularly ones that switch on an enumerated type. This default case is extremely important to keep the code from breaking when new enumerated types are added.</li><li>
<a name="pgfId-77582"></a>Do not rely on the integer value of one enumerated constant being greater than the value of another enumerated constant, unless explicitly permitted by documentation in the manual.</li><li>
<a name="pgfId-956424"></a>Do not directly address the members in a structure, unless this is explicitly permitted by documentation in the manual.</li><li>
<a name="pgfId-957665"></a>Within a structure, declare all unions that contain a tag member, in addition to the union member. The tag member must be an enumeration of the union members, plus the special constant NULL. The value of NULL must be 0, which indicates an un-initialized structure. Set the tag member whenever the value is set. <br />
<a name="pgfId-956683"></a>The following is an example of this.<pre class="webflare-pre-block webflare-courier-new" id="#id956653">
<a name="pgfId-956653"></a>struct pkgUnion {
enum {
   pkgcNull = 0
   pkgcIntType = 1
   pkgcFloatType = 2
   pkgcBooleanType = 3
} tag;
union {
   int       aInt;
   float     aFloat;
   char      aBoolean;
} value
};</pre><pre class="webflare-pre-block webflare-courier-new" id="#id956666">
<a name="pgfId-956666"></a>typedef struct pkgUnion pkgUnion;</pre></li><li>
<a name="pgfId-77585"></a>Do not call any UNIX system function that can interfere with the operation of the graphics editor. In addition to all system functions that deal with signals and graphics, avoid using system functions (such as <code>sbrk</code>, <code>setjmp</code>, and <code>longjmp</code>) that affect the operating environment and can potentially have adverse effects on Cadence software.</li><li>
<a name="pgfId-77586"></a>Do not use the <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> standard file descriptors for input and output. Use functions provided by CDBA for getting interactive user input and for displaying prompts and messages.</li><li>
<a name="pgfId-77589"></a>Install all binary programs built on top of CDBA in the standard Cadence release hierarchy, just as you install the Cadence binary programs. The proper operation of CDBA depends on certain standard directories and files, which are stored in the Cadence release hierarchy.</li></ul>













<h4>
<a name="pgfId-77590"></a><a name="12016"></a>Header Files</h4>

<p>
<a name="pgfId-77591"></a>To use the C language effectively, Cadence provides the header file (<code>itkDB.h</code> for CDBA) containing internal data structure declarations, as well as constant definitions. Because of the way DFII is implemented, the contents of header files can change in the future. Do not write your programs based on undocumented details exposed by this header file. Always refer to this manual for information about CDBA.</p>

<h4>
<a name="pgfId-956979"></a>Macros and Functions</h4>

<p>
<a name="pgfId-957007"></a>CDBA allows most database access routines to be implemented as either a function or a macro. For programming ease, most of the macros in CDBA are implemented so they can be called like a function, without any undesirable side effects. Macros without undesirable side effects have the same <code>db</code> prefix as functions. Therefore, you do not have to distinguish between these macros and any functional counterparts.</p>
<p>
<a name="pgfId-957014"></a>The following are special considerations and good practices in using macros and functions:</p>
<ul><li>
<a name="pgfId-957001"></a>A performance-critical routine can occasionally require so much code that it is desirable to implement the routine both as a macro and as a function. Thus, you can choose between the two implementations according to the needs of your application. In this situation, the macro implementation must be given the prefix <code>dbm</code> to distinguish it from the function implementation. <br />
<a name="pgfId-957061"></a>In only a few cases, you must distinguish between a macro and a procedure that have the same functionality. This distinction is necessary because procedure calls can take up too much execution time, and macro calls can take up too much code space. <br />
<a name="pgfId-956981"></a>An additional prefix letter, <code>m</code>, is added to the name of the macro after the package prefix <code>db</code> (as in <code>dbm</code>) so you can choose between the two implementations.</li><li>
<a name="pgfId-957031"></a>In the C programming language, macros can be defined so their arguments appear many times within the macro expansion. Therefore, it is a bad programming practice to put expressions with permanent side effects (such as <em>assignments</em>) in the argument list of a macro call. Never pass as arguments to macros any expressions that have side effects. <br />
<a name="pgfId-957069"></a>Even when you use expressions with no permanent side effects, the processing of the macro is slowed by repeated evaluations of the same expression, and therefore, the macro can expand into a larger amount of in line code.</li><li>
<a name="pgfId-957053"></a>If a macro refers to any of its arguments more than once and is therefore vulnerable to side effects, you must give it the prefix <code>dbm</code> to alert the user that it is such a macro. Use the prefix even when the macro has no functional counterpart. </li><li>
<a name="pgfId-77599"></a>It is always good practice to first assign the value of an expression to a variable, then to use that variable in the argument list of a macro. If a routine is documented as being implemented as a macro, you must refrain from calling it with any expression in the argument list. The argument lists in your macro calls must contain only variables or simple expressions.</li></ul>







<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-77604"></a><a name="21768"></a>Using the Virtuoso Design Environment<a name="Using Design Framework II"></a></h2>

<p>
<a name="pgfId-959060"></a>Include the header file <code>itkDB.h</code> in every source file that refers to one of the Cadence Integrator&#8217;s Toolkit: Database (ITKDB) routines. </p>
<p>
<a name="pgfId-959061"></a>You can access the Virtuoso Design Environment routines through one of the library archives in the <code>your_install_dir/dfII/lib</code> directory. All Virtuoso procedures do intensive checking to help find programming inconsistencies quickly. </p>
<p>
<a name="pgfId-77607"></a>Include the <code>itkDB.a</code> file in the list of library archives given to the loader when linking an executable binary for your program. The order of libraries is important. The <code>itkDB.a</code> library must appear after all libraries that refer to ITKDB routines. Otherwise, the loader is not able to link your program successfully.</p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-982423"></a>The <code>itkDB.a</code> archive library depends on the <code>libplotCommon.so</code> shared library, which has a dependency on <code>freetype.so</code>. Applications that compile with <code>itkDB.a</code> must therefore, link with <code>freetype.so</code>. For example, the itkDB sample makefiles link the samples with <code>freetype.so</code>.</div>
<p>
<a name="pgfId-977387"></a>If you build your application with <code>itkDB.a</code>, license 111 must be present to run the application. License 111 is checked out every time you invoke any application from within the Virtuoso tool suite. This ensures that a valid user is trying the run the application. </p>
<p>
<a name="pgfId-977336"></a>If license 111 is not present, the application issues the following message and exits.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-959438"></a>dbInit: Existence of Cadence(R) Design Framework II&#160;&#160;license (product 111) is required to execute ITKDB based program.</pre>

<p>
<a name="pgfId-977277"></a>In advanced nodes version, itkDB.a will also checkout license 95111 along with license 111. </p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=ICADVM18.1 Only

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-977279"></a>ICADVM20.1 Only</h3>

<p>
<a name="pgfId-977280"></a>In advanced nodes, <code>Virtuoso_Adv_Node_Framework</code> license must be present in addition to license 111 to run an application. If either of these licenses is not present, the application issues an error message and exits.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a name="pgfId-77616"></a>
Your programs and libraries must have function names different from those used by Cadence. If name conflicts do exist, the loader cannot successfully link your program, or the loader might produce an executable program that behaves erroneously.</div>

<p>
<a name="pgfId-77617"></a>Refer to the standard documentation that comes with your Cadence programs for details.</p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-77628"></a><a name="Specifying Run-Time Options"></a>Specifying Run-Time Options <a name="Run Time Options"></a></h2>

<p>
<a name="pgfId-77629"></a>You can specify several processing options for your program. For example, if your program has the name <code>myProg</code>, the command line to run your program is </p>

<a name="pgfId-77655"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
myProg [-dbAssert] [-dbCheck] [-dbBind] <code><em>your_options</em></code></pre>
<p>
<a name="pgfId-958591"></a></p>
<table class="webflareTable" id="#id77630">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77633"></a><code>-dbAssert</code><a name="marker-77632"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77635"></a>Triggers an intensive checking of various conditions. If any internal consistency checks are not met, the program automatically stops processing. You can look at the log file (that is, <code>~/CDS.log</code>) to find out which condition failed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77638"></a><code>-dbCheck</code><a name="marker-77637"></a> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77640"></a>Causes the database code to extensively check database consistency at predetermined intervals. Warnings are issued when the database is inconsistent, but processing does not stop.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77643"></a><code>-dbBind</code><a name="marker-77642"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77645"></a>Opens and binds the master of each instance to the corresponding instance whenever a cellview is read in. With this option, you can traverse down a hierarchy without explicitly calling routines that bring master cellviews into virtual memory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77647"></a><span class="webflare-courier-new" style="white-space:pre"><em>your_options</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77650"></a>Modifies the <code>dbInit</code><a name="marker-77649"></a> function when CDBA command line options are present. After the call to <code>dbInit</code>, only the program name and options not recognized by CDBA remain in the command line:</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77652"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-77654"></a><code>myProg </code><span class="webflare-courier-new" style="white-space:pre"><em>your_options</em></span></p>
</td>
</tr>
</tbody></table>

<p>
<a name="pgfId-77656"></a>For more information on run-time options, refer to <a href="chap6.html#51676">&#8220;CDBA Input and Output Functions&#8221;</a>.</p>

<h2>
<a name="pgfId-77658"></a><a name="Rules for Using CDBA"></a>General Rules for Using CDBA<a name="Rules of Use"></a></h2>

<p>
<a name="pgfId-77659"></a>Cadence carefully documents all features of CDBA in this manual. You must use these features only as documented. Do not use undocumented features or try to take shortcuts when using design framework II. </p>

<div class="webflare-information-macro webflare-macro-warning">
<a name="pgfId-77668"></a>
Do not access database objects directly. Always use the CDBA routines. There are many interdependencies, and the underlying data structures can change without notice.</div>
<h2>
<a name="pgfId-77677"></a><a name="31473"></a>Troubleshooting Your Programs<a name="Troubleshooting"></a></h2>

<p>
<a name="pgfId-77678"></a>Even when you write your program carefully, it still might not work correctly. In addition, the source of the problem might not be obvious if there are many interactions with the database. Under these circumstances, take some or all of these steps to isolate the problem and identify obvious errors. The following checklist can be helpful.</p>
<ul><li>
<a name="pgfId-77679"></a>Is the code compiled and linked without errors? If the compiler does not accept a call to a database routine, check the documentation for that call to make sure you do not have any programming errors.</li><li>
<a name="pgfId-77681"></a>Have any run-time errors occurred, such as a bad ID return from a <code>dbOpenCellViewByType</code> call? This can happen if you do not have write permission on a cellview and are trying to open it for writing or appending.</li><li>
<a name="pgfId-77682"></a>Have you checked the log file for debugging and error messages? The log file (that is, <code>~/CDS.log</code>) normally contains a complete log of run-time errors.</li><li>
<a name="pgfId-77683"></a>Have you used a symbolic debugger to trace the problem? With a symbolic debugger, you can stop your program and examine the variables examined in the middle of a run. This interactive querying is often helpful in determining the status of a program. </li><li>
<a name="pgfId-77684"></a>Is your storage allocation safe? Although this interface will probably change in the future, setting the shell environment variable <code>CDS_MEM_DEBUG</code> to a value of <code>global:GET;PUT;PAD</code> can help you spot this type of problem. Examine your code for reuse of storage that belongs to CDBA. The following code fragment overwrites the name string returned from CDBA:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77685">
<a name="pgfId-77685"></a>String name;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id955368">
<a name="pgfId-955368"></a>name = dbGetCellViewCellName(cellViewId);</pre><pre class="webflare-pre-block webflare-courier-new" id="#id955371">
<a name="pgfId-955371"></a>printf(strcat(name, &quot; opened.&quot;));</pre></li><li>
<a name="pgfId-77686"></a>Are the proper actions being taken upon return from a database call? For instance, if the database call returns an error, does the program handle it properly, or does it continue running without checking for error conditions? In the previous example, the return value from <code>dbGetCellViewCellName</code> must be compared to <code>dbcNullString</code> before use elsewhere. </li></ul>








<p>
<a name="pgfId-967463"></a></p>
<p>
<a name="pgfId-976370"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap1.html" id="prev" title="Introduction to CDBA">Introduction to CDBA</a></em></b><b><em><a href="chap3.html" id="nex" title="CDBA Database Objects">CDBA Database Objects</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>