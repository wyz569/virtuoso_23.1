
<html><head><title>CDBA Representation of Elements</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-06-12" />
<meta name="CreateTime" content="1686595138" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functions in the Integrators Toolkit. The functions provide C level access to the OpenAccess database." />
<meta name="DocTitle" content="Cadence Integrators Toolkit Database Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="CDBA Representation of Elements" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="itkdbase" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-12" />
<meta name="ModifiedTime" content="1686595138" />
<meta name="NextFile" content="chap5.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="chap3.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Cadence Integrators Toolkit Database Reference -- CDBA Representation of Elements" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="itkdbaseIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="itkdbaseTOC.html">Contents</a></li><li><a class="prev" href="chap3.html" title="CDBA Database Objects">CDBA Database Objects</a></li><li style="float: right;"><a class="viewPrint" href="itkdbase.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="CDBA Design Management Functions">CDBA Design Management Functio ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Cadence Integrators Toolkit Database Reference<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a name="pgfId-959182"></a></h1>
<h1>
<a name="pgfId-959184"></a><hr />
<a name="32535"></a>CDBA Representation of Elements<hr />
</h1>

<p>
<a name="pgfId-955949"></a>This chapter covers the spacial and geometrical elements of a display, and the C functions used to implement them.</p>
<p>
<a name="pgfId-956037"></a>For more information, see the following topics:</p>
<ul><li>
<a name="pgfId-956016"></a><a href="chap4.html#29795">Database Units and User Units</a></li><li>
<a name="pgfId-956018"></a><a href="chap4.html#13422">Coordinates</a></li><li>
<a name="pgfId-956020"></a><a href="chap4.html#28822">Points</a></li><li>
<a name="pgfId-956022"></a><a href="chap4.html#34094">Bounding Boxes</a></li><li>
<a name="pgfId-956024"></a><a href="chap4.html#18669">Angles</a></li><li>
<a name="pgfId-956028"></a><a href="chap4.html#30766">Shape Transformation</a></li><li>
<a name="pgfId-971112"></a><a href="chap4.html#28415">Distance, Direction, and Time</a></li></ul>







<h2>
<a name="pgfId-955975"></a><a name="29795"></a>Database Units and User Units<a name="Database and User Units"></a></h2>

<p>
<a name="pgfId-956607"></a>A database unit is the smallest unit of spatial resolution that can be represented in the database. To be more efficient, all coordinates in the database are stored as 32-bit integers in database units. </p>
<p>
<a name="pgfId-956608"></a>A user unit, on the other hand, is the physical unit of interest to you and is typically equivalent to many database units. The typical user unit for IC layout is one micron. The typical user unit for schematic entry is either one inch or one centimeter, depending on the standard used. Measurements made in <a name="marker-956609"></a>user units are usually expressed as <a name="marker-956610"></a>floating-point numbers. </p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Scale Factors

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-955987"></a>Scale Factors</h3>

<p>
<a name="pgfId-955989"></a>Within each application area, such as layout or schematics, use the same scale factor (database units per user unit) throughout your design. </p>
<ul><li>
<a name="pgfId-955981"></a>The typical scale factor used in IC layout is 100&#8211;1000 database units per micron. </li><li>
<a name="pgfId-955982"></a>The typical scale factor used in schematic entry is 160 database units per inch (division into 1/16 of an inch) or 100 database units per centimeter. </li></ul>

<p>
<a name="pgfId-955983"></a>You must make any conversions between database and user units. Because CDBA handles only database units, the scale factor used at the root of a design hierarchy applies by default to the rest of the hierarchy. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=User Unit Type Attributes

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77339"></a>User Unit Type Attributes</h3>

<p>
<a name="pgfId-957522"></a>Each cellview has two user unit type attributes:</p>
<ul><li>
<a name="pgfId-957526"></a><a name="marker-957525"></a>DBUPerUU <br />
<a name="pgfId-957528"></a>Stores the number of database units (DBU) per user unit (UU) that was used when the cellview was created. For example, IC layout frequently uses 1000 database units per micron. </li><li>
<a name="pgfId-957531"></a><timesbold>

<a name="marker-957530"></a>userUnits <br />
<a name="pgfId-957533"></a>Stores the name of the unit being used as a string. The most commonly used units are metric (microns) and English (mils). The following table summarizes the choices available. <br />
<a name="pgfId-957592"></a><table class="webflareTable" id="#id957535">
<caption style="text-align:left;"><p>
</p><div class="ft-figtabl-title">
<a name="pgfId-957537"></a>Commonly Used Units</div></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id957545">
<a name="pgfId-957545"></a>User unit</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id957547">
<a name="pgfId-957547"></a>Number per inch</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id957549">
<a name="pgfId-957549"></a>Per centimeter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id957551">
<a name="pgfId-957551"></a>Per millimeter</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957553"></a>mil</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957555"></a>1000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957557"></a>393.701</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957559"></a>39.3701</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957561"></a>inch</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957563"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957565"></a>0.393701</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957567"></a>0.0393701</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957569"></a>millimeter</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957571"></a>25.4</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957573"></a>10</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957575"></a>1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957577"></a>centimeter</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957579"></a>2.54</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957581"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957583"></a>0.1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957585"></a>micron</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957587"></a>25400</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957589"></a>10000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-957591"></a>1000</p>
</td>
</tr>
</tbody></table><div class="webflare-information-macro webflare-macro-warning">
<a name="pgfId-77402"></a>
Although these values are accessible to you, NEVER use the values obtained from these functions to perform your own conversions between database units and user units. 

Do ALL unit conversions using one of the many conversion functions supplied by the User Interface Manager Human Interface (HI) functions to ensure consistency in converting values back and forth. See the Cadence User <em><a href="../skuiref/skuirefTOC.html#firstpage"></a></em>Interface SKILL Reference for more information.</div></timesbold></li></ul>








<p>
<a name="pgfId-77403"></a>Most Cadence<sup>&#174;</sup> software requires cellviews of the same type (for example, schematic) in a design hierarchy to have the same value of DBUPerUU. These attributes are normally initialized from the corresponding <em>sdatemplate</em><a name="marker-77405"></a>, and you are strongly advised against changing the value of either attribute in a cellview.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Functions for Database and User Unit Information

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77406"></a>Functions for Database and User Unit Information</h3>

<p>
<a name="pgfId-955990"></a>You can use the following functions to set and retrieve information about database and user units associated with a cellview.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetCellViewDBUPerUU

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-955986"></a><a name="marker-955198"></a>dbGetCellViewDBUPerUU</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77407"></a>double</pre>
<a name="pgfId-955056"></a><a name="marker-77408"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetCellViewDBUPerUU(
dbCellViewId cellViewId
);</pre>

<p>
<a name="pgfId-955058"></a>Returns the database unit per user-unit attribute associated with the cellview. If the <code>cellViewId</code> does not exist, a message is printed before 0 is returned.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetCellViewDBUPerUU

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-955059"></a><a name="marker-955205"></a>dbSetCellViewDBUPerUU</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955060"></a>Boolean </pre>
<a name="pgfId-955062"></a><a name="marker-955061"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetCellViewDBUPerUU(
dbCellViewId cellViewId, float dbUnitsPerUserUnit
);</pre>

<p>
<a name="pgfId-77413"></a>Sets the database unit per user-unit attribute on the cellview to the given value. If the <code>cellViewId</code> does not exist, a message is printed before FALSE is returned.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetCellViewUserUnitName

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77414"></a><a name="marker-955208"></a>dbGetCellViewUserUnitName</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77415"></a>String </pre>
<a name="pgfId-955064"></a><a name="marker-77416"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetCellViewUserUnitName(
dbCellViewId cellViewId
);</pre>

<p>
<a name="pgfId-77417"></a>Returns the name of the user units used as a cellview string. If the <code>cellViewId</code> does not exist, a message is printed before <code>dbcNullString</code> is returned.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetCellViewUserUnitName

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77418"></a><a name="marker-955211"></a>dbSetCellViewUserUnitName</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77419"></a>Boolean </pre>
<a name="pgfId-955066"></a><a name="marker-77420"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetCellViewUserUnitName(
dbCellViewId cellViewId, String unitName
);</pre>

<p>
<a name="pgfId-77421"></a>Sets the name of the user units used to the given name. If the <code>cellViewId</code> does not exist, a message is printed before FALSE is returned. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Functions to Convert between Database and User Units

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956423"></a>Functions to Convert between<a name="User-Database Coordinate Conversion"></a> Database and User Units</h3>

<p>
<a name="pgfId-956424"></a>The following routines perform part of the conversions between database and user units. They are called from the edit-to-user-unit conversion routines. </p>
<p>
<a name="pgfId-956425"></a>In rare circumstances in standalone applications, you might need these to transform coordinates that are not in the edit cellview. Check that you can call any of the functions documented instead of using these special functions. If the <code>cellViewId</code> does not exist or if any of the bounding boxes are not well-formed, a message is printed before returning.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbDBToUserCoord

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956427"></a><a name="marker-956426"></a>dbDBToUserCoord</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956428"></a>dbUserCoord</pre>
<a name="pgfId-956430"></a><a name="marker-956429"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbDBToUserCoord(
dbCellViewId cellViewId, dbCoord coord
);</pre>

<p>
<a name="pgfId-956431"></a>Converts coordinates from database units to user units.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbDBToUserPoint

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956433"></a><a name="marker-956432"></a>dbDBToUserPoint</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956434"></a>dbUserPoint</pre>
<a name="pgfId-956436"></a><a name="marker-956435"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbDBToUserPoint(
dbCellViewId cellViewId, dbPoint point
);</pre>

<p>
<a name="pgfId-956437"></a>Converts points from database units to user units.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbDBToUserBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956439"></a><a name="marker-956438"></a>dbDBToUserBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956440"></a>Boolean</pre>
<a name="pgfId-956442"></a><a name="marker-956441"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbDBToUserBBox(
dbCellViewId cellViewId, dbBBox pBBox, dbUserBBox pUserBBox
);/* modifies UserBBox */ </pre>

<p>
<a name="pgfId-956443"></a>Converts bounding box coordinates from database units to user units. Returns FALSE if any errors are detected.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUserToDBCoord

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956445"></a><a name="marker-956444"></a>dbUserToDBCoord</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956446"></a>dbCoord</pre>
<a name="pgfId-956448"></a><a name="marker-956447"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUserToDBCoord(
dbCellViewId cellViewId, dbUserCoord userCoord
);</pre>

<p>
<a name="pgfId-956449"></a>Converts coordinates from user units to database coordinates.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUserToDBPoint

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956451"></a><a name="marker-956450"></a>dbUserToDBPoint</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956452"></a>dbPoint</pre>
<a name="pgfId-956454"></a><a name="marker-956453"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUserToDBPoint(
dbCellViewId cellViewId, dbUserPoint userPoint
);</pre>

<p>
<a name="pgfId-956455"></a>Converts points from user units to database units.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUserToDBBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956457"></a><a name="marker-956456"></a>dbUserToDBBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956965"></a>Boolean</pre>
<a name="pgfId-956967"></a><a name="marker-956966"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUserToDBBBox(
dbCellViewId cellViewId, dbUserBBox pUserBBox, dbBBox pBBox
);/* modifies BBox */ </pre>

<p>
<a name="pgfId-956461"></a>Converts bounding box coordinates from user units to database units. Returns FALSE if any errors are detected.</p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-77433"></a><a name="13422"></a>Coordinates<a name="Coordinate (Coord)"></a></h2>

<p>
<a name="pgfId-956651"></a>All coordinates are in database units. A 32-bit integer represents the x or y coordinate in database units. The CDBA representation of a database coordinate is</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-956653"></a>typedef int <a name="marker-956652"></a>dbCoord; </pre>

<p>
<a name="pgfId-956647"></a>This representation indicates that <code>dbCoord</code> is defined as a 32-bit integer in CDBA, and CDBA allocates space and stores it on disk as the int data type. </p>
<p>
<a name="pgfId-955068"></a>Therefore, to prevent overflow and other calculation errors, restrict values to -228 to 228-1. </p>

<h2>
<a name="pgfId-77438"></a><a name="28822"></a>Point<a name="Point"></a>s</h2>

<p>
<a name="pgfId-77439"></a>A point is a structure containing the x and y point coordinates in a two dimensional space.</p>
<p>
<a name="pgfId-77442"></a>Points are so fundamental to geometrical operations that they are treated as primitive types, much like integers. Unlike other C structures used in CDBA, points are treated similarly to scalar values in function calls. Entire structures representing points are passed as function arguments and returned as function values. This greatly simplifies bookkeeping and memory allocation. </p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=CDBA Representation of a Point

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-955997"></a>CDBA Representation of a Point</h3>

<p>
<a name="pgfId-956078"></a>A point is represented as follows in CDBA:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-956001"></a>struct <a name="marker-956000"></a>dbPoint{ <br />   dbCoord x, y; <br />}; <br />typedef struct dbPoint dbPoint; </pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Point Arrays

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77444"></a>Point Arrays<a name="Point Array"></a></h3>

<p>
<a name="pgfId-77445"></a>The points in a point array specify the vertices of a complex shape. Indexes for point arrays are stored internally as unsigned short (that is, 16-bit) integers. A point array can contain a maximum of 65535 points. The following are functions for point arrays:</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCopyPointArray

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77446"></a><a name="marker-955216"></a>dbCopyPointArray</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77447"></a>dbPoint * </pre>
<a name="pgfId-955080"></a><a name="marker-77448"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCopyPointArray(
dbPoint pointArray, unsigned nPoints
);</pre>

<p>
<a name="pgfId-77449"></a>Allocates an array of points with size specified by <code>nPoints</code>, then copies the entire <code>pointArray</code> to the newly allocated storage. It returns a pointer to the newly created point array.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbFreePointArray

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77450"></a><a name="marker-955219"></a>dbFreePointArray</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77451"></a>Boolean </pre>
<a name="pgfId-955082"></a><a name="marker-77452"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbFreePointArray(
dbPoint pointArray, unsigned nPoints
);</pre>

<p>
<a name="pgfId-77453"></a>Frees the array of points pointed to by <code>pointArray</code>, which must be allocated by <code>dbCopyPointArray</code>. </p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-77454"></a><a name="34094"></a>Bounding Boxes<a name="Bounding Box (BBox)"></a></h2>

<p>
<a name="pgfId-77456"></a>The bounding box of a geometrical shape is defined as the smallest completely enclosed rectangle with edges parallel to the x and y axes. </p>
<p>
<a name="pgfId-956091"></a>The data in the box must always be well formed. The x and y coordinates of the lower-left corner must have smaller values than the x and y coordinates of the upper-right corner. For calculating the width and height of a rectangle, both the lower-left and upper-right corners are included in the rectangle. A bounding box whose lower-left corner and upper-right corner are the same contains one point.</p>
<p>
<a name="pgfId-956092"></a>The database automatically computes and updates the bounding boxes whenever a shape is created, modified, or deleted. </p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=CDBA Representation of a Bounding Box

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956079"></a><a name="27363"></a>CDBA Representation of a Bounding Box</h3>

<p>
<a name="pgfId-956080"></a>A bounding box is represented by a structure containing two points specifying the lower-left and upper-right corners of the rectangle. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-77458"></a>struct <a name="marker-77457"></a>dbBBox{ <br />   dbPoint, lowerLeft, upperRight; <br />}; </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955088"></a>typedef struct dbBBox dbBBox; </pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Functions and Macros for Bounding Boxes

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956081"></a>Functions and Macros for Bounding Boxes</h3>

<p>
<a name="pgfId-956082"></a>The following macros and functions retrieve information in the database about coordinates for bounding boxes and modify coordinates for bounding boxes.</p>
<p>
<a name="pgfId-956241"></a>The first four macros (<code>dbLeft</code>, <code>dbBottom</code>, <code>dbRight</code>, and <code>dbTop</code>) are provided for accessing the four elements in a bounding box.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbLeft

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77461"></a><a name="marker-955222"></a>dbLeft</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77462"></a>dbCoord </pre>
<a name="pgfId-955090"></a><a name="marker-77463"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbLeft(
dbBBox pBBox
);</pre>

<p>
<a name="pgfId-77464"></a>Returns the x coordinate of the lower-left corner. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbBottom

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77465"></a><a name="marker-955225"></a>dbBottom</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77466"></a>dbCoord </pre>
<a name="pgfId-955092"></a><a name="marker-77467"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbBottom(
dbBBox pBBox
);</pre>

<p>
<a name="pgfId-77468"></a>Returns the y coordinate of the lower-left corner. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbRight

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77469"></a><a name="marker-955228"></a>dbRight</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77470"></a>dbCoord </pre>
<a name="pgfId-955094"></a><a name="marker-77471"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbRight(
dbBBox pBBox
);</pre>

<p>
<a name="pgfId-77472"></a>Returns the x coordinate of the upper-right corner. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbTop

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77473"></a><a name="marker-955231"></a>dbTop</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77474"></a>dbCoord </pre>
<a name="pgfId-956106"></a><a name="marker-956105"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbTop(
dbBBox pBBox
);</pre>

<p>
<a name="pgfId-956107"></a>Returns the y coordinate of the upper-right corner. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbFillBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77478"></a><a name="marker-955234"></a>dbFillBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77479"></a>dbBBox *<a name="marker-77480"></a></pre>
<a name="pgfId-956230"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbFillBBox (
dbBBox pBBox, dbCoord x1, dbCoord y1, dbCoord x2, dbCoord y2
);</pre>

<p>
<a name="pgfId-956220"></a>This macro provides a convenient template for filling in the contents of a bounding box. It lets you fill in a temporary <code>BBox</code> with x and y coordinates and pass the pointer to it as a function argument. </p>
<p>
<a name="pgfId-77481"></a>It fills the user-allocated bounding box <code>BBox</code> with the coordinates <code>x1:y1</code> for the lower-left corner and <code>x2:y2</code> for the upper-right corner. A pointer to the bounding box is returned for convenience. This macro is useful for filling in a temporary bounding box that can be passed as a function argument to functions such as <code>dbCreateRect</code>. </p>

<h4>
<a name="pgfId-77482"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77483"></a>dbBBox tempBBox;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955102"></a>dbCoord x1, x2, y1, y2;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955106"></a>dbCreateRect(cellViewId, layer, purpose, </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955108"></a>dbFillBBox(&amp;tempBBox, x1, y1, x2, y2) )</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbValidBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77484"></a><a name="marker-955237"></a>dbValidBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77485"></a>Boolean </pre>
<a name="pgfId-955110"></a><a name="marker-77486"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbValidBBox(
dbBBox pBBox
);</pre>

<p>
<a name="pgfId-77487"></a>This macro returns TRUE if the bounding box is well-formed, which means</p>
<ul><li>
<a name="pgfId-77488"></a>The left edge is coincident with or to the left of the right edge, and</li><li>
<a name="pgfId-77489"></a>The bottom edge is coincident with or below the top edge</li></ul>


<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbFixBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77490"></a><a name="marker-955240"></a>dbFixBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77491"></a>void </pre>
<a name="pgfId-955112"></a><a name="marker-77492"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbFixBBox(
dbBBox pBBox
);/* modifies BBox */ </pre>

<p>
<a name="pgfId-77493"></a>This function swaps left and right or top and bottom of the bounding box to make a well-formed bounding box. Most functions that use bounding boxes require them to be well formed. For example, the function to compute the union of two bounding boxes does not work correctly if the left edge of the bounding box is to the right of the right edge. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCopyBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77494"></a><a name="marker-955243"></a>dbCopyBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77495"></a>void </pre>
<a name="pgfId-955114"></a><a name="marker-77496"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCopyBBox(
dbBBox pSrcBBox, dbBBox pDstBBox
);</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955116"></a>/* modifies DstBBox */ </pre>

<p>
<a name="pgfId-77497"></a>Copies a bounding box. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbBBoxIntersect

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77498"></a><a name="marker-955246"></a>dbBBoxIntersect</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77499"></a>Boolean </pre>
<a name="pgfId-955118"></a><a name="marker-77500"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbBBoxIntersect(
dbBBox pBBox1, dbBBox pBBox2
);</pre>

<p>
<a name="pgfId-77501"></a>Determines whether two bounding boxes intersect. Returns TRUE if the two bounding boxes intersect. If the bounding boxes abut, they are considered to be intersecting. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUnionBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77502"></a><a name="marker-955249"></a>dbUnionBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77503"></a>void </pre>
<a name="pgfId-955120"></a><a name="marker-77504"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUnionBBox(
dbBBox pUnionBBox, dbBBox pBBox1, dbBBox pBBox2
);</pre>

<p>
<a name="pgfId-77505"></a>Computes the smallest bounding box that contains both <code>BBox1</code> and <code>BBox2. </code>The union bounding box is stored in <code>UnionBBox.</code><a name="marker-666597"></a> </p>

<p>
<a name="pgfId-980006"></a></p>
<div class="webflare-div-image">
<img width="503" height="191" src="images/chap4-3.gif" /></div>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUnionBBox2

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77518"></a><a name="marker-955252"></a>dbUnionBBox2</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77519"></a>void </pre>
<a name="pgfId-955122"></a><a name="marker-77520"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUnionBBox2(
dbBBox pUnionBBox, dbBBox pBBox2
);</pre>

<p>
<a name="pgfId-77521"></a>Computes the smallest bounding box that contains both <code>UnionBBox</code> and <code>BBox2</code>. The union bounding box is stored in <code>UnionBBox</code>. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIntersectBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77522"></a><a name="marker-955255"></a>dbIntersectBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77523"></a>void </pre>
<a name="pgfId-955124"></a><a name="marker-77524"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIntersectBBox(
dbBBox pIntersectBBox, dbBBox pBBox1, dbBBox pBBox2
);</pre>

<p>
<a name="pgfId-77525"></a>Computes the largest bounding box that contains the common area of both <code>BBox1</code> and <code>BBox2</code>. The intersection bounding box is stored in <code>IntersectBBox</code>.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIntersectBBox2

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77526"></a><a name="marker-955258"></a>dbIntersectBBox2</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77527"></a>void</pre>
<a name="pgfId-955126"></a><a name="marker-77528"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIntersectBBox2(
dbBBox pIntersectBBox, dbBBox pBBox2
);</pre>

<p>
<a name="pgfId-77529"></a>Computes the largest bounding box that contains the common area of both <code>IntersectBBox</code> and <code>BBox2</code>. The intersection bounding box is stored in <code>IntersectBBox</code>.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=User-Defined Coordinates for Bounding Boxes

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956246"></a>User-Defined Coordinates for Bounding Boxes</h3>

<p>
<a name="pgfId-956301"></a>The data structures for user-defined coordinates for bounding boxes are similar to the corresponding data structures that store database coordinates for bounding boxes as shown in <a href="chap4.html#27363">&#8220;CDBA Representation of a Bounding Box&#8221;</a>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-77549"></a>typedef double <a name="marker-77548"></a>dbUserCoord;<br />struct <a name="marker-77550"></a>dbUserPoint {<br />    dbUserCoord         x, y;<br />};<br />typedef struct dbUserPoint dbUserPoint;<br />struct <a name="marker-77552"></a>dbUserBBox {<br />    dbUserPoint         LowerLeft, upperRight;<br />};<br />typedef struct dbUserBBox dbUserBBox;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Functions and Macros for User Coordinates

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956248"></a>Functions and Macros for User Coordinates</h3>

<p>
<a name="pgfId-956304"></a>The following functions and macros retrieve user-defined information about coordinates of bounding boxes and modify coordinates of bounding boxes.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUserLeft

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77554"></a><a name="marker-955269"></a>dbUserLeft</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77555"></a>dbUserCoord</pre>
<a name="pgfId-955144"></a><a name="marker-77556"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUserLeft(
dbUserBBox pUserBBox
);</pre>

<p>
<a name="pgfId-77557"></a>Returns the x coordinate of the left edge of the bounding box.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUserBottom

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77558"></a><a name="marker-955272"></a>dbUserBottom</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77559"></a>dbUserCoord</pre>
<a name="pgfId-955150"></a><a name="marker-77560"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUserBottom(
dbUserBBox pUserBBox
);</pre>

<p>
<a name="pgfId-77561"></a>Returns the y coordinate of the bottom edge of the bounding box.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUserRight

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-955274"></a><a name="marker-955276"></a>dbUserRight</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77563"></a>dbUserCoord</pre>
<a name="pgfId-955152"></a><a name="marker-77564"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUserRight(
dbUserBBox pUserBBox
);</pre>

<p>
<a name="pgfId-77565"></a>Returns the x coordinate of the right edge of the bounding box.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbUserTop

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77566"></a><a name="marker-955279"></a>dbUserTop</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77567"></a>dbUserCoord</pre>
<a name="pgfId-955154"></a><a name="marker-77568"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbUserTop(
dbUserBBox pUserBBox
);</pre>

<p>
<a name="pgfId-77569"></a>Returns the y coordinate of the top edge of the bounding box.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbFillUserBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77571"></a><a name="marker-955282"></a>dbFillUserBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955194"></a>dbUserBBox *</pre>
<a name="pgfId-955156"></a><a name="marker-77572"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbFillUserBBox(
dbUserBBox pUserBBox, dbUserCoord x1, dbUserCoord y1, dbUserCoord x2, dbUserCoord y2
);</pre>

<p>
<a name="pgfId-77573"></a>This macro provides a convenient template for filling in the contents of a bounding box. It fills the user-allocated bounding box, <code>UserBBox</code>, with the coordinates x1:y1 for the lower-left corner and x2:y2 for the upper-right corner. If necessary, it swaps coordinates to make a well-formed bounding box. A pointer to the bounding box is returned for convenience. This macro is useful for filling in a temporary bounding box so it can be passed as an argument to various functions.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbFixUserBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77575"></a><a name="marker-955286"></a>dbFixUserBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955284"></a>void</pre>
<a name="pgfId-955158"></a><a name="marker-77576"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbFixUserBBox(
dbUserBBox pUserBBox
);/* modifies UserBBox */</pre>

<p>
<a name="pgfId-956009"></a>This function swaps the coordinates, if necessary, to make the data within the box well-formed (with the lower-left corner below and to the left of the upper-right corner).</p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-956269"></a><a name="18669"></a><a name="23227"></a>Angles<a name="Angles"></a></h2>

<p>
<a name="pgfId-956271"></a>All angles in CDBA are specified in <a name="marker-956270"></a>radians and measured counterclockwise from the x axis. Radians are used, rather than the more familiar <a name="marker-956272"></a>degrees, to be consistent with the trigonometric functions defined in the mathematical library of the C language. </p>
<p>
<a name="pgfId-956273"></a>Because of the limited precision inherent in floating-point arithmetic, never test for strict equality between angles, which are represented as floating-point numbers. Use appropriate &#8220;fudge&#8221; factors when making comparisons between floating-point numbers. </p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=CDBA Representation of an Angle

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956274"></a>CDBA Representation of an Angle</h3>

<p>
<a name="pgfId-956275"></a>The following is a type definition for angle (in radians):</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-956277"></a>typedef double <a name="marker-956276"></a>dbAngle;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Functions to Convert between Degrees and Radians

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956278"></a>Functions to Convert between Degrees and Radians</h3>

<p>
<a name="pgfId-956279"></a>For convenience, two macros are provided to convert between degrees and radians:</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbDegreeToRadian

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956281"></a><a name="marker-956280"></a>dbDegreeToRadian</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956282"></a>dbAngle</pre>
<a name="pgfId-956284"></a><a name="marker-956283"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbDegreeToRadian(
double angleInDegrees
);</pre>

<p>
<a name="pgfId-956285"></a>Converts the measurement of an angle from degrees to radians.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbRadianToDegree

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956287"></a><a name="marker-956286"></a>dbRadianToDegree</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-956288"></a>double</pre>
<a name="pgfId-956290"></a><a name="marker-956289"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbRadianToDegree(
dbAngle angleInRadians
);</pre>

<p>
<a name="pgfId-956291"></a>Converts the measurement of an angle from radians to degrees.</p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-77602"></a><a name="30766"></a>Shape Transformation<a name="Transformation"></a></h2>

<p>
<a name="pgfId-955354"></a>To transform shapes, use an orientation (angle and mirroring information), an offset in the x and y directions, and a magnification. This information is encapsulated in the <code>dbTransform</code> structure, which is treated like a scalar in argument passing.</p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=CDBA Representation of Shape Transformation

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-955355"></a>CDBA Representation of Shape Transformation</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955357"></a><code>struct dbTransform{ dbOrient orient, dbPoint offset, float mag, };</code><a name="marker-955356"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-955172"></a>typedef struct dbTransform dbTransform;</pre>

<p>
<a name="pgfId-77608"></a>The constant <code>dbcIdentTransform</code><a name="marker-77607"></a> represents the identity transformation. The variable <code>dbvIdentTransform</code><a name="marker-77609"></a> is a variable initialized to the identity transformation.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Functions to Transform Shapes

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-956326"></a>Functions to Transform Shapes</h3>

<p>
<a name="pgfId-956327"></a>Use the following functions to transform shapes and perform additional operations on the transformations.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbInvertTransform

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77610"></a><a name="marker-955332"></a>dbInvertTransform</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77611"></a>dbTransform</pre>
<a name="pgfId-955174"></a><a name="marker-77612"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbInvertTransform(
dbTransform transform
);</pre>

<p>
<a name="pgfId-77613"></a>Inverts the transformation on <code>transform</code>, and returns the inverted transformation as the value of the function.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbConcatTransform

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77614"></a><a name="marker-955335"></a>dbConcatTransform</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77615"></a>dbTransform</pre>
<a name="pgfId-955176"></a><a name="marker-77616"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbConcatTransform(
dbTransform trans1, dbTransform trans2
);</pre>

<p>
<a name="pgfId-77617"></a>Concatenates the second transformation onto the first transformation and returns it as the value of the function. This process is a matrix multiplication that applies <code>transform1</code> and then <code>transform2</code>. A message is printed if arithmetic overflow is detected.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbTransformPoint

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77618"></a><a name="marker-955338"></a>dbTransformPoint</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-668740"></a>dbPoint</pre>
<a name="pgfId-955178"></a><a name="marker-77619"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbTransformPoint(
dbPoint point, dbTransform transform
);</pre>

<p>
<a name="pgfId-77620"></a>Transforms the point passed in and returns the new point. A message is printed if there is arithmetic overflow.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbTransformPointArray

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77621"></a><a name="marker-955341"></a>dbTransformPointArray</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77622"></a>void</pre>
<a name="pgfId-955180"></a><a name="marker-77623"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbTransformPointArray(
dbTransform transform, dbPoint pBefore, dbPoint pAfter, int nPoints
);</pre>

<p>
<a name="pgfId-77624"></a>Transforms the point array passed in and returns the new point array referred to by <code>pAfter</code>. The argument <code>nPoints</code> specifies the number of points in the array.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbTransformBBox

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77625"></a><a name="marker-955347"></a>dbTransformBBox</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77626"></a>Boolean</pre>
<a name="pgfId-955182"></a><a name="marker-77627"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbTransformBBox(
dbBBox pOldBBox, dbTransform transform, dbBBox pNewBBox
);/* modifies NewBBox */ </pre>

<p>
<a name="pgfId-77628"></a>Transforms a bounding box. Always returns TRUE.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbTransformFigRec

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77629"></a><a name="marker-955344"></a>dbTransformFigRec</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77630"></a>Boolean</pre>
<a name="pgfId-955184"></a><a name="marker-77631"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbTransformFigRec(
dbFigRec pFigRec, dbTransform transform
);</pre>

<p>
<a name="pgfId-957172"></a>Transforms the figure record pointed by <code>pFigRec</code>. Returns FALSE if the transformation of an unsupported figure type is attempted.</p>
<p>
<a name="pgfId-957174"></a><code>dbTransformAccessDirection</code> is documented in <a href="chap7.html#28456">&#8220;Pins&#8221;</a>. </p>

<!-- [TOPIC_END] -->
<h2>
<a name="pgfId-957177"></a>Distance<a name="Direction and Distance"></a>, <a name="28415"></a>Direction, and Time</h2>

<p>
<a name="pgfId-77638"></a>The <code>dbDistance</code><a name="marker-77637"></a> type, which is declared as an unsigned int, measures scalar distances between objects in the database.</p>
<p>
<a name="pgfId-955029"></a>The <code>dbDirection</code><a name="marker-955028"></a> enumeration describes the direction to search for an object from a reference bounding box. A <code>dbDirection</code> can take one of the values <code>dbcTop</code><a name="marker-955030"></a>, <code>dbcBottom</code><a name="marker-955031"></a>, <code>dbcLeft</code><a name="marker-955032"></a>, or <code>dbcRight</code><a name="marker-955033"></a>. <code>dbDirection</code> is used by various neighbor routines, such as <code>dbGetNeighbor</code> and <code>dbGenNeighbor</code>. </p>
<p>
<a name="pgfId-955035"></a>The <code>dbTime</code><a name="marker-955034"></a> type is declared as <code>time_t</code>, which is the C language type representing time.</p>

  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbConvertTimeString

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-77647"></a><a name="marker-955350"></a>dbConvertTimeString</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-77648"></a>dbTime</pre>
<a name="pgfId-955186"></a><a name="marker-77649"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbConvertTimeString(
String timeString
);</pre>

<p>
<a name="pgfId-77650"></a>Converts <code>timeString</code> to a <code>dbTime</code> type variable.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetCreateTime

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h3>
<a name="pgfId-957848"></a><a name="marker-957847"></a>dbGetCreateTime</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-957864"></a>time_t</pre>
<a name="pgfId-957866"></a><a name="marker-957865"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetCreateTime( dbCellViewId cellViewId 
);</pre>

<p>
<a name="pgfId-957895"></a>Returns the time at which the design was created. </p>
<p>
<a name="pgfId-959124"></a></p>
<p>
<a name="pgfId-969994"></a></p>
<p>
<a name="pgfId-977065"></a></p>
<p>
<a name="pgfId-980716"></a></p>

<!-- [TOPIC_END] -->

<p>
<a name="pgfId-973593"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3.html" id="prev" title="CDBA Database Objects">CDBA Database Objects</a></em></b><b><em><a href="chap5.html" id="nex" title="CDBA Design Management Functions">CDBA Design Management Functio ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>