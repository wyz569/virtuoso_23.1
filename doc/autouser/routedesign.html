
<html><head><title>Routing Your Design</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-08-03" />
<meta name="CreateTime" content="1691070759" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the use model and procedures for the Virtuoso Space-Based Router" />
<meta name="DocTitle" content="Virtuoso Space-based Router User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Routing Your Design" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="autouser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-08-03" />
<meta name="ModifiedTime" content="1691070759" />
<meta name="NextFile" content="coverblockage.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="vsrpreset.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router User Guide -- Routing Your Design" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="autouserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="autouserTOC.html">Contents</a></li><li><a class="prev" href="vsrpreset.html" title="Working with VSR Presets">Working with VSR Presets</a></li><li style="float: right;"><a class="viewPrint" href="autouser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="coverblockage.html" title="Managing Cover Obstructions While Routing">Managing Cover Obstructions Wh ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router User Guide<br />Product Version IC23.1, August 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>6
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1035250"></a><hr />
<a id="13846"></a>Routing Your Design<hr />
</h1>

<p>
<a id="pgfId-1066885"></a><a id="routedesign"></a>This chapter describes the various routing options made available by Virtuoso Space-based Router. </p>
<p>
<a id="pgfId-1088847"></a>It includes the following sections:</p>

<ul><li>
<a id="pgfId-1036401"></a><a href="routedesign.html#30492">Using the Virtuoso Space-based Router Options Form</a><ul><li>
<a id="pgfId-1059029"></a><a href="routedesign.html#96263">Specifying Design Setup Options</a><ul><li>
<a id="pgfId-1073901"></a><a href="routedesign.html#19781">Extraction</a></li><li>
<a id="pgfId-1073915"></a><a href="routedesign.html#88084">Design Style</a></li><li>
<a id="pgfId-1073933"></a><a href="routedesign.html#98824">Blockage Treatment</a></li><li>
<a id="pgfId-1073947"></a><a href="routedesign.html#50316">User Scripts</a></li></ul></li><li>
<a id="pgfId-1059044"></a><a href="routedesign.html#57651">Specifying Routing Flow Options</a><ul><li>
<a id="pgfId-1073852"></a><a href="routedesign.html#38388">Custom / Digital (MST)</a></li><li>
<a id="pgfId-1073870"></a><a href="routedesign.html#45329">Pin to Aligned Pin</a></li><li>
<a id="pgfId-1073884"></a><a href="routedesign.html#81758">Pin to Trunk</a></li><li>
<a id="pgfId-1100263"></a><a href="routedesign.html#42461">Tree Route (ICADVM 18.1 Only)</a></li></ul></li><li>
<a id="pgfId-1059058"></a><a href="routedesign.html#90998">Specifying Automatic Flow Options</a><ul><li>
<a id="pgfId-1073964"></a><a href="routedesign.html#12151">Routability Check</a></li><li>
<a id="pgfId-1095241"></a><a href="routedesign.html#63190">Congestion Analysis</a></li><li>
<a id="pgfId-1073978"></a><a href="routedesign.html#43673">Optimization</a></li><li>
<a id="pgfId-1074013"></a><a href="routedesign.html#60489">Fix Violations</a></li><li>
<a id="pgfId-1074027"></a><a href="routedesign.html#99610">Tie Shield</a></li><li>
<a id="pgfId-1074041"></a><a href="routedesign.html#20415">Deleting Routing</a></li></ul></li></ul></li><li>
<a id="pgfId-1064436"></a><a href="routedesign.html#95856">Support for Multiple Forms</a></li><li>
<a id="pgfId-1078812"></a><a href="routedesign.html#72103">Inserting Colored TrimMetal Layers in Automatic Routing</a></li><li>
<a id="pgfId-1088747"></a><a href="routedesign.html#24831">Interrupting Routing for Unresolvable Errors</a></li></ul>


























<h2>
<a id="pgfId-1058492"></a><a id="70343"></a><a id="30492"></a><a id="71315"></a><a id="79068"></a>U<a id="autorouter"></a>sing the Virtuoso Space-based Router Options Form</h2>

<p>
<a id="pgfId-1058494"></a>Choose <em>Route &#8211; Design Setup </em><a id="marker-1058493"></a>or click the Design Setup icon on the Virtuoso Space-based Router toolbar. </p>

<p>
<a id="pgfId-1042786"></a></p>
<div class="webflare-div-image">
<img width="668" height="297" src="images/routedesign-2.gif" /></div>

<p>
<a id="pgfId-1054700"></a>The Virtuoso Space-based Router Options form is displayed, as shown in the following figure.</p>

<p>
<a id="pgfId-1048067"></a></p>
<div class="webflare-div-image">
<img width="665" height="701" src="images/routedesign-3.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1058597"></a>Alternatively, you can click the <em>Options</em> menu item. The <em>Options</em> menu item is available either in the drop-down menu when you click the icons on Virtuoso Space-based Router toolbar or when you place the mouse pointer on a menu item in the <em>Route</em> menu.</div>
<p>
<a id="pgfId-1058768"></a>The Virtuoso Space-based Router Options form is divided into two panes, the left pane and the right pane. The left pane contains a hierarchically arranged collection of routing commands. When you select a command in the left pane, all options for that command are displayed in the right pane. The <em>Default</em>s button can be used to reset the options that are currently displayed in the right pane of the Virtuoso Space-based Router Options form to their default values. </p>
<p>
<a id="pgfId-1058679"></a>Using the Virtuoso Space-based Router Options form, you can specify the following top-level routing features:</p>

<ul><li>
<a id="pgfId-1058861"></a><a href="routedesign.html#96263">Specifying Design Setup Options</a></li><li>
<a id="pgfId-1059249"></a><a href="routedesign.html#57651">Specifying Routing Flow Options</a></li><li>
<a id="pgfId-1059253"></a><a href="routedesign.html#90998">Specifying Automatic Flow Options</a></li></ul>


<h3>
<a id="pgfId-1055790"></a><a id="96263"></a>Specifying Design Setup Options</h3>

<p>
<a id="pgfId-1058911"></a>Click the <em>Design Setup</em> icon on the toolbar or choose <em>Route</em> &#8211; <em>Design Setup </em>to display the <em>Design Setup</em> subform in the Virtuoso Space-based Router Options form, as shown in the following figure.</p>
<p>
<a id="pgfId-1061671"></a></p>

<div class="webflare-div-image">
<img width="668" height="321" src="images/routedesign-4.gif" /></div>

<p>
<a id="pgfId-1058936"></a>Using the <em>Design Setup</em> subform, you can specify the following options:</p>

<ul><li>
<a id="pgfId-1058944"></a><strong>
<a href="routedesign.html#17300">Extraction</a><strong></strong>
</strong>
</li><li>
<a id="pgfId-1058958"></a><strong>
<a href="routedesign.html#88084">Design Style</a><strong></strong>
</strong>
</li><li>
<a id="pgfId-1059561"></a><strong>
<a href="routedesign.html#98824">Blockage Treatment</a><strong></strong>
</strong>
</li><li>
<a id="pgfId-1058965"></a><strong>
<a href="routedesign.html#50316">User Scripts</a><strong></strong>
</strong>
</li></ul>



<h4>
<a id="pgfId-1058972"></a><a id="19781"></a><a id="17300"></a>Extrac<a id="spaceBasedRouterExtract"></a>tion</h4>

<p>
<a id="pgfId-1088059"></a>Opening Virtuoso does not extract your design by default. You must set extractor depth (<em>Options &#8211; Layout XL</em>) and extract your design (<em>Connectivity &#8211; Extract Layout</em>).</p>
<p>
<a id="pgfId-1061174"></a>The extraction options in the Virtuoso Space-based Router Options form lets you control the instances that are extracted using router specific extraction. The router specific extraction does not modify the OpenAccess database in any way. It modifies an internal data model used by the router. Therefore, it is recommended that your OpenAccess data follow the Virtuoso XL connectivity data model. If you are XL compliant then there is no need to run the router specific extraction, running the XL extractor is sufficient enough. However, there are some complex cases, such as Pcells that get automatically created when the Virtuoso XL extractor cannot fix non-compliant data. If the Pcells do not automatically create Virtuoso XL compliant data then you need to run the router-specific extraction on at least the Pcells (the default action). If you have Pcells in the lower levels of design hierarchy (for example, some Chip Assembly designs) you may want router-specific extraction on non-Pcells instances by selecting the <em>All</em> option.</p>

<ul><li>
<a id="pgfId-1057004"></a><em>Extract Connectivity through Poly</em><br />
<a id="pgfId-1057266"></a>Extracts shapes on the poly layer. This option is selected by default.</li><li>
<a id="pgfId-1057066"></a><em>Extract</em> <br />
<a id="pgfId-1057110"></a>Lets you extract <em>all</em> cells, only <em>pcells</em>, or disable the extraction altogether. By default, Pcells are extracted. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1057216"></a>Extraction is done in the router&#8217;s internal data structures and the original Pcell is not touched.</div>
<a id="pgfId-1067728"></a>Two other options are available, <em>none</em> and <em>all</em>. <ul><li>
<a id="pgfId-1057128"></a><em>None</em><br />
<a id="pgfId-1057135"></a>The <em>none</em> option bypasses the extraction process. </li><li>
<a id="pgfId-1057081"></a><em>All</em><br />
<a id="pgfId-1057158"></a>The <em>all</em> option runs the extraction process on all instance masters. The <em>all</em> option can be used for designs that have Pcells nested two or more levels down in the hierarchy because the space-based router extraction does not extract Pcell masters during hierarchical extraction.</li></ul></li><li>
<a id="pgfId-1057301"></a><em>Extracted Pin Style</em><br />
<a id="pgfId-1057328"></a>Lets you control which shapes should be converted into a pin shape. The shapes that are labeled or connected are extracted as pin shapes.<ul><li>
<a id="pgfId-1057302"></a><em>Labeled Shapes Only</em><br />
<a id="pgfId-1057338"></a>Allows only the shapes that are marked by text or property to become pin shapes. This option is selected by default. </li><li>
<a id="pgfId-1057303"></a><em>Connected Shapes On Same Layer</em><br />
<a id="pgfId-1057345"></a>Allows only the marked shapes and the shapes that are recursively connected to become pin shapes. </li><li>
<a id="pgfId-1057304"></a><em>Whole Net on Routing Layers</em><br />
<a id="pgfId-1057352"></a>Allows all the shapes in the net to become pin shapes.</li></ul></li></ul>























<h4>
<a id="pgfId-1057094"></a><a id="88084"></a>Design Style</h4>

<p>
<a id="pgfId-1057469"></a>The design style determines which steps in the Wire Assistant flow will run and also affects the heuristics of global and detail routes. Therefore, the value of design style needs to reflect the style of design you are routing. By default, the design style that was last specified is selected in the drop-down list.</p>
<p>
<a id="pgfId-1057471"></a>If the design style is set to a value other than <em>Automatic</em> in the <em>Design Style</em> drop-down list then the specified value is used to route the layout. For example, if the design style is <em>Chip Assembly</em>, then the router uses the <em>Chip Assembly</em> style to route the layout. If the design style is now selected as <em>ASIC</em>, then the router uses the <em>ASIC</em> style to route the layout. </p>
<p>
<a id="pgfId-1057554"></a>The following four design styles are available:</p>

<ul><li>
<a id="pgfId-1057473"></a><em>Automatic</em><br />
<a id="pgfId-1077350"></a>The design style is automatically determined based on the size of the layout and the composition of macro instances. This evaluation happens when the design is first processed by the routing commands. The design style is retained until explicitly re-evaluated using the <em>Refresh</em> button to the right of the design style field.</li><li>
<a id="pgfId-1077352"></a><em>Device</em><br />
<a id="pgfId-1057476"></a>This design style is used when you need to route device-level for custom block creation and smaller designs that do not require congestion planning.</li><li>
<a id="pgfId-1057477"></a><em>ASIC</em><br />
<a id="pgfId-1057478"></a>This design style is used when you need to inter block routing for custom and digital blocks, standard cell, and ASIC designs that require congestion planning.</li><li>
<a id="pgfId-1057479"></a><em>Chip Assembly</em><br />
<a id="pgfId-1057480"></a>This design style is used when you need to route chip assembly with block abstracts and larger designs that contain large macros and require congestion planning.</li></ul>















<h4>
<a id="pgfId-1057371"></a><a id="98824"></a>Blockage Trea<a id="blockageTreatment"></a>tment</h4>

<p>
<a id="pgfId-1057609"></a>These options let you alter the treatment of the blockages. </p>

<ul><li>
<a id="pgfId-1057640"></a><em>Default Blockage Model</em><br />
<a id="pgfId-1074618"></a>Ensures that all blockages have proper spacing properties and that the blockages model the metal on the edge of the block properly.<ul><li>
<a id="pgfId-1074625"></a><em>Automatic</em><br />
<a id="pgfId-1074632"></a>Automatically determines the blockage mode to be used according to the design style. This is the default value.</li><li>
<a id="pgfId-1057713"></a><em>Real Metal</em><br />
<a id="pgfId-1064513"></a>Blockages are treated as metal and the spacing rules are applied based on blockage dimensions.</li><li>
<a id="pgfId-1074589"></a><em>Minimum Width Space</em><br />
<a id="pgfId-1074590"></a>Blockages are treated as metal with minimum width, regardless of the real width of the blockage.</li></ul><br />
<a id="pgfId-1074713"></a><strong>Environment Variable</strong>: <a href="appB.html#63391">blockTreatmentTreatAs</a></li></ul>












<h4>
<a id="pgfId-1057715"></a><a id="50316"></a>User Scripts</h4>

<p>
<a id="pgfId-1061042"></a>An existing routing flow can be captured in the form of Tcl routing commands in a Tcl script. You can run the Tcl scripts to view routing results.</p>

<ul><li>
<a id="pgfId-1057730"></a><em>Pre Load</em><br />
<a id="pgfId-1082813"></a>The specified pre-load script (vsrPreLoad.tcl) is used to set Catena environment variables, which alters the infrastructure setup for routing. For example, if you do not want the router to derive new vias from existing standard vias, in such a case, you can specify the environment variable db.enable_create_derived_vias to false in the vsrPreLoad.tcl script file. <br />
<a id="pgfId-1085729"></a>In addition, you can set Catena environment variables related to WSP routing. For example, you can specify the db.allow_larger_tracks variable to true in the vsrPreLoad.tcl script file. Other commands like map_purpose can also be specified in the vsrPreLoad.tcl script file.<br />
<a id="pgfId-1085731"></a>The script is run before the Catena engine is loaded. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085732"></a>The vsrPreLoad.tcl is not needed in usual routing cases. It is only needed in special cases.</div></li><li>
<a id="pgfId-1068850"></a><em>Pre Route and Post Route</em><br />
<a id="pgfId-1068851"></a>The specified pre-route and post-route scripts are used at the appropriate time during automatic and assisted routing flow of the Wire Assistant. You can specify scripts by using the Routing Scripts form that is displayed when you choose <em>Route</em> &#8211; <em>Routing Scripts</em>. For more information, see <a href="start.html#47444">Routing Scripts</a>.<br />
<a id="pgfId-1102583"></a>The <code>vsrFinal.il</code> file is now supported by Virtuoso Space-based router. You can customize this file by adding your own SKILL commands. After routing, the <code>vsrFinal.il</code> file is loaded and the customized SKILL commands are run.</li></ul>











<h3>
<a id="pgfId-1055553"></a><a id="57651"></a>Specifying Ro<a id="routeflow"></a>uting Flow Options</h3>

<p>
<a id="pgfId-1066224"></a>Click <em>Auto Route Styles</em>. This displays the hyperlinks that let you quickly navigate to the available routing flows. The router supports three routing flows: </p>

<ul><li>
<a id="pgfId-1069023"></a><a href="routedesign.html#38388">Custom / Digital (MST)</a></li><li>
<a id="pgfId-1069150"></a><a href="routedesign.html#45329">Pin to Aligned Pin</a></li><li>
<a id="pgfId-1069040"></a><a href="routedesign.html#81758">Pin to Trunk</a></li></ul>


<h4>
<a id="pgfId-1055622"></a><a id="38388"></a>Custom / Digital (MST)</h4>

<p>
<a id="pgfId-1066267"></a>The <em>Custom</em>/<em> Digital (MST)</em> routing style results in a connection with the shortest overall length. This routing style is usually used for congestion-driven designs. If there is no trunk, the <em>Custom</em> /<em> Digital (MST)</em> router routes the nets. However, if one or more trunks exist, the following steps are performed in the routing flow:</p>

<ul><li>
<a id="pgfId-1066268"></a>Pin to Trunk router routes the nets with trunks according to the options specified in the <em>Pin to Trunk</em> subform. For more information about the Pin to Trunk options, see <a href="pintotrunk.html#28539">Using the Pin to Trunk Routing</a></li><li>
<a id="pgfId-1066272"></a><em>Custom</em>/<em> Digital (MST)</em> router then routes the remaining opened pins on nets with trunks and also routes all the pins on nets without trunks.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091126"></a>Only standard cells designed with the area-based rules that exists in the PDK technology file are supported for the <em>Custom</em>/<em> Digital (MST)</em> routing flow. For example, if the PDK technology file only contains area-based rules for the minimum spacing of one area, but the standard cells are designed with area-based rules for another area that allow smaller spacing values, the standard cells have false violations and do not route appropriately. Therefore, only standard cells designed with the same rules that are in the PDK are supported.</div></li></ul>



<p>
<a id="pgfId-1066273"></a>In the <em>Custom</em>/<em> Digital (MST)</em> routing flow, power, ground, and clock nets are not routed when the <em>Route All</em> option is selected. To route these nets, you need to select them&#160;&#160;in the Navigator Assistant and then select the <em>Route Selected</em> option.</p>
<p>
<a id="pgfId-1078074"></a>On a 7nm ASIC design style, an extended segment can be added at one end of a pin to repair the <code>minArea</code> and <code>minEndOfLineSpacing</code> violations. Pin extensions are generated for all the nets regardless of the nets that are selected for routing.</p>
<p>
<a id="pgfId-1066274"></a>The following figure shows a layout design using the <em>Custom </em>/<em> Digital (MST)</em> routing flow.</p>

<p>
<a id="pgfId-1066278"></a></p>
<div class="webflare-div-image">
<img width="668" height="236" src="images/routedesign-5.gif" /></div>

<p>
<a id="pgfId-1057986"></a>The following figure shows the options that are available for the <em>Custom</em>/<em> Digital (MST) </em>routing flow. </p>

<p>
<a id="pgfId-1099539"></a></p>
<div class="webflare-div-image">
<img width="668" height="201" src="images/routedesign-6.gif" /></div>
<ul><li>
<a id="pgfId-1097430"></a><em>Remove Pre-Route Dangles</em><br />
<a id="pgfId-1097431"></a>When selected, the <em>Auto Route</em> command removes any remaining dangles connected to the &#8220;from&#8221; and &#8220;to&#8221; points of the selected nets in the current command. This check box is deselected by default. The following figure shows three dangles that existed before routing the nets. Two dangles appear on net <code>in</code> and one on net <code>out</code>. <br />
<a id="pgfId-1097444"></a><div class="webflare-div-image">
<img width="635" height="229" src="images/routedesign-7.gif" /></div>
<a id="pgfId-1097445"></a>All pre-routes are considered locked by Auto Route even if they are not explicitly locked and cannot be removed or modified. The <em>Remove Pre-Route Dangles</em> option allows you to remove leftover dangles that exist on a selected net and the net is modified as a result of auto routing. In the following figure, net <code>in</code> was selected for routing. As a result, both the dangles on net <code>in</code> are removed. Since net <code>out</code> was not selected, the dangle on net <code>out</code> remains unchanged.<br />
<a id="pgfId-1097453"></a><div class="webflare-div-image">
<img width="635" height="218" src="images/routedesign-8.gif" /></div>
<a id="pgfId-1097454"></a>The following figure shows when both the nets <code>in</code> and <code>out</code> are selected for routing. As a result, dangles on both the nets are removed.<br />
<a id="pgfId-1097458"></a><div class="webflare-div-image">
<img src="images/617ISR_danglesnew3.gif" /></div></li><li>
<a id="pgfId-1097459"></a><em>Run With Low Effort</em><br />
<a id="pgfId-1097460"></a>Allows the detail router to exit early if the average reduction ratios for opens and errors do not converge in consecutive passes.</li><li>
<a id="pgfId-1097461"></a><em>Prefer Violations to Opens</em><br />
<a id="pgfId-1097462"></a>Allows the router to route nets even if a violation occurs while routing. The router will prefer to leave opens rather than creating violations. However, when the Prefer Violations to Opens option is selected, the router closes opens at the expense of leaving violations. The router still leaves opens for some violations such as shorts or for blocked pins.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1097463"></a>All preroutes, not just the preroutes of the selected nets, are locked.</div>
<a id="pgfId-1097464"></a>The <em>Prefer violations to opens</em> option affects only automatic routing. It does not have any effect on interactive and assisted routing commands. To control whether violations are allowed in assisted and interactive routing commands, such as Finish Wire, Finish Bus, Finish Trunk, Point-to-Point, and Guided routing, select <em>Enforce</em> in the DRD Options form.</li><li>
<a id="pgfId-1097465"></a><em>Exclude Blocked Pins During Routing</em><br />
<a id="pgfId-1097466"></a>When selected, the pins on the nets to be routed are checked for planar and via accessibility. If a pin is inaccessible, the router does not attempt to route to it, and a marker appears on the <em>Routing</em> tab of the Annotation Browser. This option is selected by default. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1097467"></a>Selecting the <em>Exclude Blocked Pins During Routing</em> option improves the router performance by preventing repeated attempts to access the pins that are inaccessible.</div></li><li>
<a id="pgfId-1096800"></a><em>Force Global Planning</em><br />
<a id="pgfId-1097594"></a>Allows forcing of global routing while in <em>Device</em> design style<br />
<a id="pgfId-1096804"></a>Environment variable: <a href="appB.html#71815">forceGlobalPlanning</a></li><li>
<a id="pgfId-1096805"></a><em>Global Route All Nets </em><br />
<a id="pgfId-1097604"></a>Forces the global router to use all nets even when routing a selected set of nets.<br />
<a id="pgfId-1096809"></a>Environment variable: <a href="appB.html#99642">globalAllNets</a></li><li>
<a id="pgfId-1096810"></a><em>Preserve Pre-Routes </em><br />
<a id="pgfId-1097584"></a>Allows for not locking the pre-routes. This is useful for ECO routes.<br />
<a id="pgfId-1096814"></a>Environment variable: <a href="appB.html#50239">lockPreRoutes</a></li><li>
<a id="pgfId-1097469"></a><em>Wrong Way Tax</em><a id="wrongWayTax"></a> <br />
<a id="pgfId-1097470"></a>Controls whether wrong-way routing is permitted.<ul><li>
<a id="pgfId-1097471"></a><em>As Is</em> <br />
<a id="pgfId-1097472"></a>Uses the default setting initialized by the router. This setting can allow certain wrong-way routing if required. This is selected by default and maps to the tax value <code>1</code>.</li><li>
<a id="pgfId-1097473"></a><em>Allow</em> <br />
<a id="pgfId-1097474"></a>Permits wrong-way routing freely. This maps to the tax value <code>0</code>.</li><li>
<a id="pgfId-1097475"></a><em>None</em> <br />
<a id="pgfId-1097476"></a>Does not allow wrong-way routing. The wrong-way tax value is <code>100</code>.</li><li>
<a id="pgfId-1097477"></a><em>Custom</em> <br />
<a id="pgfId-1097478"></a>Lets you control the extent of wrong-way routing that you want to permit. You can select this option and specify a value in the <em>Wrong Way Tax Value</em> field. The default value is 1. You can increase this value to increase the restriction on wrong-way routing.</li></ul><br />
<a id="pgfId-1097480"></a>Environment variable: <a actuate="user" class="URL" href="../weuser/appB_re_allLayersWrongWay.html" show="replace" xml:link="simple">allLayersWrongWay</a></li><li>
<a id="pgfId-1097481"></a><em>Wrong Way Tax Value </em><a id="WrongWayTaxValue"></a><br />
<a id="pgfId-1097482"></a>Indicates the extent to which wrong-way routing can be created. This cyclic field is placed next to the <em>Wrong Way Tax</em> combo box. This field is editable only when <em>Wrong Way Tax</em> is set to <em>Custom</em>. You can specify a value between <code>0</code> to <code>100</code>: <code>0</code> being the level of maximum freedom, and <code>100</code> being the level of maximum restriction for creating wrong-way routing.<br />
<a id="pgfId-1097484"></a>Environment variable: <a actuate="user" class="URL" href="../weuser/appB_re_allLayersWrongWayCustomValue.html" show="replace" xml:link="simple">allLayersWrongWayCustomValue</a></li></ul>

































































<h4>
<a id="pgfId-1055632"></a><a id="45329"></a>Pin to Aligned Pin</h4>

<p>
<a id="pgfId-1066313"></a>The <em>Pin to Aligned Pin</em> routing style is used to connect only the aligned pins on the same layer of net. The pins that are not aligned are not routed. This routing style is usually used when devices are placed in rows to connect pins that are aligned. The following figure shows a layout design using the <em>Pin to Aligned Pin</em> routing style.</p>

<p>
<a id="pgfId-1066317"></a></p>
<div class="webflare-div-image">
<img width="668" height="390" src="images/routedesign-10.gif" /></div>

<p>
<a id="pgfId-1058052"></a>Similarly, the following figure displays the options that are available for the <em>Pin to Aligned Pin</em> routing flow. </p>

<p>
<a id="pgfId-1099597"></a></p>
<div class="webflare-div-image">
<img width="668" height="165" src="images/routedesign-11.gif" /></div>
<ul><li>
<a id="pgfId-1097343"></a><em>Remove Pre-Route Dangles</em></li><li>
<a id="pgfId-1097344"></a><em>Run With Low Effort </em></li><li>
<a id="pgfId-1097345"></a><em>Prefer Violations to Opens </em></li><li>
<a id="pgfId-1097346"></a><em>Exclude Blocked Pins During Routing</em></li><li>
<a id="pgfId-1097357"></a><em>Preserve Pre-Routes </em></li><li>
<a id="pgfId-1097363"></a><em>Wrong Way Tax</em></li><li>
<a id="pgfId-1097365"></a><em>Wrong Way Tax Value</em></li></ul>







<p>
<a id="pgfId-1097667"></a>For more information about Pin to Aligned Pin options, see <a href="routedesign.html#38388">Custom / Digital (MST)</a>.</p>

<h4>
<a id="pgfId-1058124"></a><a id="81758"></a>Pin to Trunk</h4>

<p>
<a id="pgfId-1066485"></a>The <em>Pin to Trunk</em> routing style is used to connect an individual pin to a trunk. Only the connections that are within the scope of a trunk are routed. The remaining opens are completed by using the <em>Custom / Digital (MST)</em> routing style or manually. This routing style is usually used when a spine structure is required. </p>

<p>
<a id="pgfId-1097285"></a></p>
<div class="webflare-div-image">
<img width="668" height="232" src="images/routedesign-12.gif" /></div>

<p>
<a id="pgfId-1097121"></a>The following figure displays the options that are available for Pin to Trunk routing flow.</p>

<p>
<a id="pgfId-1099675"></a></p>
<div class="webflare-div-image">
<img width="668" height="432" src="images/routedesign-13.gif" /></div>
<ul><li>
<a id="pgfId-1098040"></a>Routing Steps<ul><li>
<a id="pgfId-1097219"></a><em>Compose Trunks</em></li><li>
<a id="pgfId-1097922"></a><em>Generate Trunks</em></li><li>
<a id="pgfId-1097220"></a><em>Extend Trunks</em></li><li>
<a id="pgfId-1097939"></a><em>Order Trunks</em></li><li>
<a id="pgfId-1097959"></a><em>Taper Trunks</em></li><li>
<a id="pgfId-1097221"></a><em>Route Twigs</em></li><li>
<a id="pgfId-1097983"></a>Trunk to Trunk</li><li>
<a id="pgfId-1097222"></a><em>Trim Trunks</em></li></ul></li><li>
<a id="pgfId-1098031"></a>Scope</li></ul>










<p>
<a id="pgfId-1097112"></a>For more information about Pin to Trunk routing and its options, see <a href="pintotrunk.html#28539">Using the Pin to Trunk Routing</a>.</p>

<h4>
<a id="pgfId-1100344"></a><a id="42461"></a>Tree Route (ICADVM 18.1 Only)</h4>

<p>
<a id="pgfId-1100290"></a>The Tree Route flow lets you automatically route advanced node device-level designs with a minimum set of options. </p>

<p>
<a id="pgfId-1100294"></a></p>
<div class="webflare-div-image">
<img width="668" height="321" src="images/routedesign-14.gif" /></div>

<p>
<a id="pgfId-1100295"></a>The following figure displays the options that are available for the Tree Route flow.</p>

<p>
<a id="pgfId-1100299"></a></p>
<div class="webflare-div-image">
<img width="668" height="154" src="images/routedesign-15.gif" /></div>

<p>
<a id="pgfId-1100312"></a>For more information about Tree Route and its options, see <a href="treeRouting.html#61010">Using the Tree Route Flow (ICADVM20.1 EXL Only)</a>.</p>

<h4><em>
<a id="pgfId-1101066"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1101088"></a><a href="structuredrouting.html#46372">Using Tree Routing</a></p>
<p>
<a id="pgfId-1108622"></a><h-hot><a actuate="user" class="URL" href="../autouser/appD.html#treerouter" show="replace" xml:link="simple">Tree Route</a></h-hot></p>

<h3>
<a id="pgfId-1058180"></a><a id="90998"></a>Specifying Automatic Flow Options</h3>

<p>
<a id="pgfId-1059488"></a>Click <em>Automatic</em>. This displays the hyperlinks that let you quickly navigate to other automatic routing flow subforms. The following routing flows are available in the Automatic subform. </p>

<ul><li>
<a id="pgfId-1059388"></a><a href="routedesign.html#12151">Routability Check</a></li><li>
<a id="pgfId-1095190"></a><a href="routedesign.html#63190">Congestion Analysis</a></li><li>
<a id="pgfId-1059418"></a><a href="routedesign.html#12711">Optimization</a></li><li>
<a id="pgfId-1059433"></a><a href="routedesign.html#60489">Fix Violations</a></li><li>
<a id="pgfId-1059451"></a><a href="routedesign.html#99610">Tie Shield</a></li><li>
<a id="pgfId-1070093"></a><a href="routedesign.html#20415">Deleting Routing</a></li></ul>






<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070094"></a>All options available in the subforms listed above are also available in the <em>Automatic</em> section of the Wire Assistant.</div>

<h4>
<a id="pgfId-1059345"></a><a id="12151"></a>Routability C<a id="routabilitycheck"></a>heck</h4>

<p>
<a id="pgfId-1073106"></a>The <em>Routability Check</em> feature is used to debug the design and determine potential routing issues that can prevent the router from achieving optimal results.</p>
<p>
<a id="pgfId-1059598"></a>Using the <em>Routability Check</em> options that are available in <em>Routability Check </em>subform, you can check the width, spacing, and accessibility of pins, and other issues that may affect routing. </p>
<p>
<a id="pgfId-1059793"></a>To perform routability checks on a design, click <em>Routability</em> <em>Check</em> from the <em>Automatic</em> tree in <em>Routing Preferences</em>. The following routability check options are displayed in the Routability Check subform:</p>

<ul><li>
<a id="pgfId-1070211"></a><a href="routedesign.html#16909">Scope</a></li><li>
<a id="pgfId-1070230"></a><a href="routedesign.html#44373">Pin Checks (including Floating Pins)</a></li><li>
<a id="pgfId-1070245"></a><a href="routedesign.html#43795">Other Checks</a><br />
<a id="pgfId-1095431"></a><div class="webflare-div-image">
<img width="668" height="270" src="images/routedesign-16.gif" /></div></li></ul>




<h4><em>
<a id="pgfId-1059620"></a><a id="16909"></a>Scope</em></h4>

<p>
<a id="pgfId-1059621"></a>Lets you choose the nets in the design on which routability checks can be performed.</p>

<ul><li>
<a id="pgfId-1070454"></a>Exclude <br />
<a id="pgfId-1070455"></a>You can exclude certain signal types from routability checks.<br />
<a id="pgfId-1070459"></a>Environment variable: <a href="appB.html#64246">checkRoutabilityCreateExcludeSet</a><ul><li>
<a id="pgfId-1059628"></a><em>Power and Ground</em><br />
<a id="pgfId-1059629"></a>When selected, the router does not check during routing for the nets that are marked with signal type <em>Power and Ground</em>. This option is selected by default.</li><li>
<a id="pgfId-1059630"></a><em>Clock</em><br />
<a id="pgfId-1059631"></a>When selected, the router does not check during routing for the nets that are marked with signal type <em>Clock</em>. This option is selected by default.</li></ul></li><li>
<a id="pgfId-1059632"></a><em>Markers Limit per Type</em><br />
<a id="pgfId-1059633"></a>You can limit the number of violations reported in the Annotation Browser by specifying the required number in the <em>Markers Limit per Type </em>field. The default is 1000.<br />
<a id="pgfId-1059637"></a>Environment variable: <a href="appB.html#57694">checkRoutabilityMarkersLimit</a>.</li></ul>













<h4><em>
<a id="pgfId-1059653"></a><a id="44373"></a>Pin Checks (including Floating Pins)</em></h4>

<p>
<a id="pgfId-1059654"></a>Lets you perform specific pin checks on the nets in the design. It also flags the pins without any connectivity information<em>.</em></p>

<ul><li>
<a id="pgfId-1059655"></a><em>Accessibility</em><br />
<a id="pgfId-1059656"></a>Checks if the pin is accessible through planar access (wire is on the same layer as the pin) or through via access from above or below. This option is selected by default.</li><li>
<a id="pgfId-1059657"></a><em>Spacing</em><br />
<a id="pgfId-1059658"></a>Checks whether the pin shape satisfies minimum spacing constraints and the overrides set in the Wire Assistant. This option is selected by default.</li><li>
<a id="pgfId-1059659"></a><em>Width</em><br />
<a id="pgfId-1059660"></a>Checks whether the pin dimensions are less than the minimum pin width and satisfy the minimum width constraints and the overrides set in the Wire Assistant. This option is selected by default.</li><li>
<a id="pgfId-1059661"></a><em>In Preferred Direction</em><br />
<a id="pgfId-1059662"></a>Checks whether the pins are in the preferred routing direction specified for the pin layer. It identifies the pins that can cause the router to use wrong-way metal. This option is deselected by default.</li><li>
<a id="pgfId-1059685"></a><em>Outside prBoundary</em><br />
<a id="pgfId-1059686"></a>Checks for the pins that are outside the instance&#8217;s place and route boundary. This option is selected by default.</li><li>
<a id="pgfId-1111906"></a><em>Not On prBoundary Edge</em><br />
<a id="pgfId-1111986"></a>Checks for pins that are not on the edge of the place and route boundary. This option is deselected by default.<br />
<a id="pgfId-1112055"></a>Environment Variable: <a href="appB.html#69662">checkRoutabilityNotOnPRBoundaryEdge</a></li><li>
<a id="pgfId-1059687"></a><em>On Grid</em><br />
<a id="pgfId-1059688"></a>Checks whether the pin edge is on the grid or on the center of the grid. The grid is determined by the <em>Snap Wires to</em> field in the Wire Assistant and the <em>Wires</em> field in the <em>Snapping</em> group box of the Layout Editor Options form. If <em>Track Pattern</em> is selected from the <em>Snap Wires to</em> field in the Wire Assistant, then the <em>On Grid</em> checks determines if all instance pins, IO pins, and trunks have tracks running through their center.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1059689"></a>The <em>Snap Wires to</em> field in the Wire Assistant and the <em>Wires</em> field in the <em>Snapping</em> group box of the Layout Editor Options form are synchronized.</div>
<a id="pgfId-1059690"></a>You can select one of the following options from the <em>On Grid</em> drop-down list:<ul><li>
<a id="pgfId-1059691"></a><em>None</em><br />
<a id="pgfId-1059692"></a>Checks whether all the pins have an edge or center on the grid or not.</li><li>
<a id="pgfId-1059693"></a><em>Edge Only</em><br />
<a id="pgfId-1059694"></a>Checks only the pins that have an edge on the grid.</li><li>
<a id="pgfId-1059695"></a><em>Edge and Center</em><br />
<a id="pgfId-1059696"></a>Checks the pins that have both an edge and center on the grid. This is the default option.</li></ul></li></ul>




































<h4><em>
<a id="pgfId-1059712"></a><a id="43795"></a>Other Checks</em></h4>

<p>
<a id="pgfId-1059713"></a>You can also perform the following additional checks before you route a design.</p>

<ul><li>
<a id="pgfId-1059714"></a><em>Missing prBoundary</em><br />
<a id="pgfId-1059715"></a>Checks for instances with missing place and route boundary. This option is selected by default.<br />
<a id="pgfId-1059719"></a>Environment variable: <a href="appB.html#22296">checkRoutabilityMissingPRBoundary</a></li><li>
<a id="pgfId-1059720"></a><em>Missing Cover Obstruction</em><br />
<a id="pgfId-1059721"></a>Checks for instances with missing blockage objects and cover obstructions. This option is deselected by default.<br />
<a id="pgfId-1059725"></a>Environment variable: <a href="appB.html#27930">checkRoutabilityMissingCoverObstruction</a></li></ul>








<p>
<a id="pgfId-1065537"></a>The same routability checks are also available in the Batch Checker form. This allows you to run routability checks along with various other checks. To open the Batch Checker form, choose <em>Verify</em> &#8211; <em>Design</em>. </p>

<h4>
<a id="pgfId-1095130"></a><a id="63190"></a>Congestion Anal<a id="congestionAnlysisOptions"></a>ysis</h4>

<p>
<a id="pgfId-1095131"></a>Click <em>Congestion Analysis</em> from the <em>Automatic</em> tree under <em>Routing Preferences</em>. The following congestion analysis options are displayed in the Congestion Analysis subform.</p>

<p>
<a id="pgfId-1095453"></a></p>
<div class="webflare-div-image">
<img width="668" height="423" src="images/routedesign-17.gif" /></div>

<p>
<a id="pgfId-1095132"></a><strong>Global Route Settings</strong></p>

<ul><li>
<a id="pgfId-1095133"></a><em>Number Tracks per Cell</em><br />
<a id="pgfId-1095134"></a>Overrides the number of tracks per gcell. This is suitable for a large design where routing is slow. Increasing the number of tracks passing through a gcell reduces the overall number of gcells in a design and therefore requires less resources to run global routing and congestion analysis.</li><li>
<a id="pgfId-1095135"></a><em>Number Threads</em><br />
<a id="pgfId-1095136"></a>Enables multiple threading of global routing and congestion analysis. By default, global routing and congestion analysis are run single threaded.</li><li>
<a id="pgfId-1098239"></a><em>Enable Pin Optimization</em><br />
<a id="pgfId-1098270"></a>Enables pin optimization for all soft blocks and opaque virtual hierarchies that are in the design. It also initiates the capabilities in the Virtuoso Design Planning assistant.</li><li>
<a id="pgfId-1104054"></a><em>Allow One Connection</em><a id="pinoptcongestion"></a><br />
<a id="pgfId-1106253"></a>Controls the number of routing connections per side for congestion analysis with pin optimization.<br />
<a id="pgfId-1104782"></a>This option is enabled only when <em>Enable Pin Optimization</em> is selected. When <em>Enable Pin Optimization</em> is deselected, the <em>Allow One Connection</em> option is disabled and retains its previous value. <ul><li>
<a id="pgfId-1104086"></a><em>per side</em><br />
<a id="pgfId-1104229"></a>Enables one connection per side of each virtual hierarchy and soft block.</li><li>
<a id="pgfId-1104102"></a><em>per virtual hierarchy or soft block</em><br />
<a id="pgfId-1104272"></a>Enables one connection for each virtual hierarchy or soft block.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1105296"></a>
The <em>Allow One Connection </em>option is also added in the Design Planner Options form. The settings in the Congestion Analysis sub form and in the Design Planner Options form are synchronized. When the option setting is changed in one form, it is automatically updated in the other form. Similarly, when the <a href="../vdpuser/appA_re_pinOptOneConnectionPerSide.html">pinOptOneConnectionPerSide</a> environment variable is set, both the forms are updated.</div></li></ul></li></ul>






















<p>
<a id="pgfId-1095137"></a><strong>Display Settings</strong><a id="displaysettings"></a></p>

<ul><li>
<a id="pgfId-1095138"></a><em>Analyze Mode</em><br />
<a id="pgfId-1095139"></a>Specfies the analysis mode. The recommended analyze mode is the <em>Maximum Congestion</em> mode. For more information, see <a actuate="user" class="URL" href="../vdpuser/congestion_analysis_tk_Filtering_by_Analysis_Modes.html" show="replace" xml:link="simple">Filtering by Analysis Modes</a>.</li><li>
<a id="pgfId-1095143"></a><em>Show Unusable Global Cells by</em> <br />
<a id="pgfId-1101648"></a>When selected, enables the display of the global cells that are blocked and are essentially not available for any global paths or interactive routing.<ul><li>
<a id="pgfId-1101420"></a><em>Blockage</em><br />
<a id="pgfId-1101473"></a>Shows or hides global cells in both histogram and Global cell track utilization table, for which the blockage is over 100%.</li><li>
<a id="pgfId-1101436"></a><em>Blockage and Preroutes</em><br />
<a id="pgfId-1101553"></a>Shows or hides the global cells for which the blockage and preroutes are over 100%.</li></ul></li><li>
<a id="pgfId-1095145"></a><em>Histogram Ranges</em><br />
<a id="pgfId-1095146"></a>The values in this field are updated when the histogram customization is enabled.</li><li>
<a id="pgfId-1095147"></a><em>Hilite Global Net Path Width Percentage</em><br />
<a id="pgfId-1095148"></a>Enables you to change the width of the highlighted global path to be a percentage of the width of a gcell. It can widen or narrow down the displayed global path on the heat map. <br /><div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1095149"></a>
Using the Hilite Global Net Path Width Percentage option provides a abnormal view when zoomed in to a small region.</div></li><li>
<a id="pgfId-1095150"></a><em>Hide Analyzed Data in Filter</em><br />
<a id="pgfId-1095151"></a>Hides gcells from the heat map that are not part of the histogram filter. This improves the visibility and makes it easier to visualize what has been filtered. In addition, when you select a congestion percentage bucket from the histogram, it automatically dims the congestion information of the gcells that are not in the selected bucket.</li><li>
<a id="pgfId-1095152"></a><em>Analyzed Brightness</em><br />
<a id="pgfId-1095153"></a>Controls the brightness in the heat map when filtering has not been applied.</li><li>
<a id="pgfId-1095154"></a><em>Dim Analyzed Brightness</em><br />
<a id="pgfId-1095155"></a>Controls the brightness of deselected gcells and deselected net global paths in the heat map.</li><li>
<a id="pgfId-1095156"></a><em>Filter Brightness</em><br />
<a id="pgfId-1095157"></a>Controls the brightness of the heat map when filtering is applied.</li><li>
<a id="pgfId-1095158"></a><em>Dim Filter Brightness</em><br />
<a id="pgfId-1095159"></a>Controls the brightness of deselected gcells and deselected net global paths in the heat map when filtering is applied.</li><li>
<a id="pgfId-1095160"></a><em>Selected Brightness</em><br />
<a id="pgfId-1095161"></a>Controls the brightness of selected gcells and net global paths in the heat map.</li></ul>












































<h4>
<a id="pgfId-1071334"></a><a id="43673"></a><a id="12711"></a>Optimization</h4>

<p>
<a id="pgfId-1071335"></a>Click <em>Optimize</em> from the <em>Automatic</em> tree under <em>Routing Preferences</em>. To optimize routing in the design, select any of the options from the subform.</p>

<p>
<a id="pgfId-1095542"></a></p>
<div class="webflare-div-image">
<img width="668" height="264" src="images/routedesign-20.gif" /></div>
<h4><em>
<a id="pgfId-1060183"></a>Wires</em></h4>
<ul><li>
<a id="pgfId-1060162"></a><em>Reduce Jogs through Vias</em><br />
<a id="pgfId-1062453"></a>Attempts to reduce wire jogs, considering connection between multiple layers through vias.</li><li>
<a id="pgfId-1062454"></a><em>Reduce Jogs within Single Layer</em><br />
<a id="pgfId-1062483"></a>Attempts to reduce wire jogs for single layer wires.</li><li>
<a id="pgfId-1060164"></a><em>Remove Pre-Route Dangles</em><br />
<a id="pgfId-1062523"></a>Removes all segments with one or both dangling ends.</li><li>
<a id="pgfId-1060271"></a><em>Adjust Pin Cover</em><br />
<a id="pgfId-1064616"></a>Removes any small metal notches located near pins by shifting the wires slightly.</li></ul>















<h4><em>
<a id="pgfId-1060064"></a>Vias</em></h4>
<ul><li>
<a id="pgfId-1060206"></a><em>Align Via to Wire Edge</em><br />
<a id="pgfId-1062607"></a>Moves vias so that the edge of the metal layers in the vias overlap or align with the edges of the wires. This can reduce the number of small notches around vias. This function is applicable only to vias that exist over route segments. </li><li>
<a id="pgfId-1060254"></a><em>Maximize Cuts</em><br />
<a id="pgfId-1063728"></a>Maximizes the number of via cuts for wide layer intersections to fit multiple cuts.</li><li>
<a id="pgfId-1060230"></a><em>Use Double Cuts</em><br />
<a id="pgfId-1066009"></a>Tries to replace single-cut vias with double-cut vias wherever it can, without creating a violation.</li></ul>











<h4>
<a id="pgfId-1066011"></a><a id="60489"></a>Fix Violations</h4>

<p>
<a id="pgfId-1056388"></a>Using the <em>Fix Violations</em> flow, you can perform all spacing-related checks including merged shapes and fix the violation operations, for all nets, selected nets, or a selected area.</p>
<p>
<a id="pgfId-1056404"></a>Click <em>Fix Violations </em>from the <em>Automatic</em> tree under <em>Routing Preferences</em>. You can choose to fix any of the routing violations.</p>

<p>
<a id="pgfId-1095585"></a></p>
<div class="webflare-div-image">
<img width="668" height="258" src="images/routedesign-21.gif" /></div>
<ul><li>
<a id="pgfId-1056169"></a><em>Minimum Spacing</em><br />
<a id="pgfId-1062883"></a>Attempts to fix the opens that were caused by spacing violations.</li><li>
<a id="pgfId-1056192"></a><em>Minimum Edge</em><br />
<a id="pgfId-1062924"></a>Uses the setting of the <em>fixErrorsErrorTypesMinEdge</em> environment variable to fix minimum edge violations.</li><li>
<a id="pgfId-1071708"></a><em>Minimum Area</em><br />
<a id="pgfId-1071709"></a>The minimum area allowed for a shape on a specific layer. It uses the setting of the <em>fixErrorsErrorTypesMinArea </em>environment variable to fix minimum area violations.</li><li>
<a id="pgfId-1071710"></a><em>Minimum Enclosed Area</em><br />
<a id="pgfId-1062973"></a>The minimum area allowed for a hole in the specified layer. It uses the setting of the <em>fixErrorsErrorTypesMinEnclArea </em>environment variable to fix minimum enclosed area violations.</li><li>
<a id="pgfId-1063021"></a><em>Minimum Width</em><br />
<a id="pgfId-1063022"></a>The minimum width for any shape on the layer. It uses the setting of the <em>fixErrorsErrorTypesMinWidth</em> environment variable to fix minimum width violation.</li><li>
<a id="pgfId-1056133"></a><em>Minimum Number of Cuts</em><br />
<a id="pgfId-1063040"></a>Uses the setting of the <em>fixErrorsErrorTypesNumCut </em>environment variable to fix minimum number of cuts violation.</li><li>
<a id="pgfId-1056263"></a><em>Extension</em><br />
<a id="pgfId-1063068"></a>Attempts to fix all extension violations based on the extension constraints defined in the design, such as <code>minOppExtension</code> and <code>minExtensionEdge</code> constraints.</li><li>
<a id="pgfId-1056135"></a><em>Routing Grid </em><br />
<a id="pgfId-1065691"></a>Uses the setting of the <em>fixErrorsErrorTypesRGrid</em> environment variable to fix routing grid violation.</li><li>
<a id="pgfId-1065692"></a>(IACDVM 18.1 Only) <em>Same Mask Spacing</em><br />
<a id="pgfId-1065693"></a>Attempts to resolve same-mask spacing errors involving a double-cut via or a bar via by replacing it with a single-cut via. Even if you specify <code>minNumCut</code> as greater than 1 in the Wire Assistant, single-cut vias are used to resolve same-mask spacing errors, provided that <code>minNumCut</code> constraint in the technology file is not violated.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1102511"></a>A pin is checked for same-mask spacing errors only when the pin is connected to an extra same-layer metal.</div>
<a id="pgfId-1065695"></a>Environment variable: <a actuate="user" class="URL" href="../autouser/appB.html#fixErrorsErrorTypesSameMaskSpacing" show="replace" xml:link="simple">fixErrorsErrorTypesSameMaskSpacing</a></li></ul>





































<h4>
<a id="pgfId-1065697"></a><a id="99610"></a>Tie Shield</h4>

<p>
<a id="pgfId-1060482"></a>The <em>Tie Shield</em> command is used for tying the shielding wires together and to bring the connected shielding wires to the nearest power source, which can be part of a power pin, power ring, or trunk. The <em>Tie Shield</em> command is not used for routing the entire shielding net. It is recommended that before tying the shielding wires together to the routed power net, power routing is performed.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1060483"></a>While running the <em>Tie Shield</em> command, 12 tokens of Virtuoso Layout Suite GXL license are checked out.</div>

<p>
<a id="pgfId-1095614"></a></p>
<div class="webflare-div-image">
<img width="668" height="263" src="images/routedesign-22.gif" /></div>
<ul><li>
<a id="pgfId-1060508"></a><em>Gap Space for Vias</em><br />
<a id="pgfId-1063797"></a>Ignores the gap spacing required between vias on shield wires and the wires being shielded. The minimum spacing for the layer must still be met. By default, the <em>Gap Space for Vias</em> option is deselected.</li><li>
<a id="pgfId-1060515"></a><em>Use Shield Width</em><br />
<a id="pgfId-1063864"></a>Uses the shield width as the width for the tie off connections.</li><li>
<a id="pgfId-1060522"></a><em>Connect Shield Only</em><br />
<a id="pgfId-1063903"></a>Connects only same-net shields. When shields are added, they are tied to the shield net.</li><li>
<a id="pgfId-1060529"></a><em>Add Redundant Vias </em><br />
<a id="pgfId-1064114"></a>Adds redundant vias to tie shield wires to shield nets at every location where the shield wires overlap their respective existing power or ground rails.</li><li>
<a id="pgfId-1060536"></a><em>Add Layer  Redundant Ties</em><br />
<a id="pgfId-1063976"></a>Adds redundant vias to tie shield wires to shield nets at only those locations where the shield wires overlap their respective existing power or ground rails on adjacent layers. For example, redundant vias are added to tie <code>Metal2</code> shield wires to respective <code>Metal3</code> power or ground rails, but not to <code>Metal6</code> power or ground rails.</li><li>
<a id="pgfId-1109342"></a><em>Floating Shields</em> <br />
<a id="pgfId-1109369"></a>Preserves the floating shielding wire shapes when they cannot be tied.</li><li>
<a id="pgfId-1109201"></a><em>Tie Frequency</em><br />
<a id="pgfId-1109424"></a>Specifies the maximum distance between ties that must be inserted to tie the new shield wires to their respective shield nets. </li><li>
<a id="pgfId-1109222"></a><em>Minimum Number Cut</em><br />
<a id="pgfId-1109726"></a>Controls the number of via cuts in the tie shield operation.</li></ul>































<h4>
<a id="pgfId-1055711"></a> <a id="20415"></a>Deleting <a id="deleterouting"></a>Routing</h4>

<p>
<a id="pgfId-1079654"></a>Delete Routing is an interactive command where you explicitly ask for the routing to be deleted. Clicking <em>Delete Routing</em> from the <em>Automatic</em> tree under <em>Routing Preferences</em> option deletes all the routing in FIXED constraints. However, the routes in the LOCKED constraint are not deleted. </p>
<p>
<a id="pgfId-1079656"></a>Click <em>Delete Routing </em>from the <em>Automatic</em> tree under <em>Routing Preferences</em>. The <em>Delete Routing</em> subform displays the options to be considered when deleting routing from the design. </p>

<p>
<a id="pgfId-1095650"></a></p>
<div class="webflare-div-image">
<img width="668" height="210" src="images/routedesign-23.gif" /></div>

<p>
<a id="pgfId-1095647"></a>You can select any of the following <em>Delete Routing</em> options:</p>

<ul><li>
<a id="pgfId-1056698"></a><em>Keep Power Nets</em><br />
<a id="pgfId-1056705"></a>Lets you retain the power nets. By default, this option is deselected.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1056497"></a>If you choose to delete power routes, multi-part paths (MPPs) are also deleted.</div></li><li>
<a id="pgfId-1056498"></a><em>Keep Geometric Shapes</em><br />
<a id="pgfId-1060415"></a>To delete the geometric shapes, deselect the <em>Keep Geometric Shapes</em> option. The <em>Keep Geometric Shapes</em> option is selected by default.</li><li>
<a id="pgfId-1060428"></a><em>Keep Trunk Shapes</em><br />
<a id="pgfId-1056499"></a>To delete the shapes that are marked as trunks, deselect the <em>Keep Trunk Shapes</em> option. The <em>Keep Trunk Shapes</em> option is selected by default.</li><li>
<a id="pgfId-1103737"></a><em>Keep Fig Group Shapes</em><br />
<a id="pgfId-1103795"></a>To delete the routing within fig groups while at the top-level, deselect the <em>Keep Fig Group Shapes</em> option. The <em>Keep Fig Group Shapes</em> option is selected by default. </li><li>
<a id="pgfId-1107355"></a><em>Keep Manual Routes</em><br />
<a id="pgfId-1107715"></a>To keep the manual routes that are created by interactive and assisted routing and delete only the routes created by automatic routing, select the <em>Keep Manual Routes </em>option. The <em>Keep Manual Routes </em>option is deselected by default. In this case, all routes created by interactive, assisted, and automatic routing are deleted. </li></ul>




















<h4><em>
<a id="pgfId-1110396"></a>Deleting Pa<a id="deletepartialrouting"></a>rtial Routing</em></h4>

<p>
<a id="pgfId-1110437"></a>When certain instances or devices are changed in the schematic, you can delete only the routes that are connected to those devices, while ensuring that trunks and any fixed preroutes on that net are preserved, swapped, and rerouted. To do this:</p>
<ol><li>
<a id="pgfId-1110551"></a>Select an instance in the Navigator assistant or layout canvas.</li><li>
<a id="pgfId-1110554"></a>Right-click the selected instance. The <em>Instance</em> shortcut menu appears.<br />
<a id="pgfId-1110984"></a><div class="webflare-div-image">
<img width="635" height="376" src="images/routedesign-24.gif" /></div></li><li>
<a id="pgfId-1110658"></a>Choose <em>Delete Associated Routing</em> in the shortcut menu. <br />
<a id="pgfId-1110752"></a>The routing on the selected instance is deleted. The trunk and fixed preroutes are preserved.<br />
<a id="pgfId-1110903"></a><div class="webflare-div-image">
<img width="635" height="547" src="images/routedesign-25.gif" /></div></li></ol>










<h2>
<a id="pgfId-1060787"></a><a id="95856"></a>Support for <a id="multiformsupport"></a>Multiple Forms</h2>

<p>
<a id="pgfId-1072337"></a>The Virtuoso Space-based Router Options form allows you to display multiple subforms in a single pane. To display multiple subforms, select any option from the <em>Routing Preference</em>s tree in the left pane, and then hold down the <code>Ctrl</code> key and select other options from the left pane. All subforms corresponding to the options that you selected in the left pane are listed in the right pane in the order in which they are listed in the left pane, as shown below.</p>

<p>
<a id="pgfId-1063496"></a></p>
<div class="webflare-div-image">
<img width="668" height="656" src="images/routedesign-26.gif" /></div>

<p>
<a id="pgfId-1079841"></a>A vertical scroll bar is automatically added to the right pane if the pane cannot accommodate all the forms. To remove the subform from the right pane, hold down the <code>Ctrl</code> key and deselect the required option from the left pane. You can use the <em>Defaults</em> button to reset all options in the subforms displayed in the right pane to their default values.<a id="71120"></a><a id="33165"></a><a id="51258"></a><a id="19790"></a></p>

<h2>
<a id="pgfId-1079860"></a><a id="72103"></a>Inserting Colored TrimMet<a id="triminsertion_VSR"></a>al Layers in Automatic Routing </h2>

<p>
<a id="pgfId-1079901"></a>Advanced node processes (SADP) with trim shapes might not have DRC clean instance pins (<code>minArea</code>) and post placement violations between other instance pins (<code>minEndOfLineSpacing</code>). This causes problems for automatic routing to access pins because of the violations generated during routing (pin are required to be DRC clean before routing). </p>
<p>
<a id="pgfId-1080212"></a>To resolve this problem, automatic routing inserts wires (pathSegments) to fix <code>minArea</code> violation and trim shapes to fix <code>minEndOfLineSpacing</code> violation, while routing pins with connectivity. Automatic routing supports automatic insertion of trim shapes when the <code>trimShape</code> and <code>trimMinSpacing</code> constraints are defined in the technology file. In such cases, the <code>trimShape</code> and <code>trimMinSpacing</code> constraints are honored and the trim shapes are inserted. </p>
<p>
<a id="pgfId-1079905"></a>The automatic routing provides two methods of adding a trim shape.</p>

<ul><li>
<a id="pgfId-1081241"></a>Static fixing of instance pin violations that are due to the <code>minEndOfLineSpacing</code> constraints. In this case, trim, bridge, and patch shapes are added to prevent <code>minEndOfLineSpacing</code> violations. This is only possible for pins with connectivity. However, if the checker is run, there may still be violations after fixing the static <code>minEndOfLineSpacing</code> fixing. For orthogonal grid alignment, the <code>orthogonalWSPGrid</code> constraint is supported.<br />
<a id="pgfId-1082660"></a><div class="webflare-div-image">
<img src="images/12.3ISR10_trimmetal_VSR.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085515"></a>The routes created in this method are created with the route status as <code>Fixed</code>.</div></li><li>
<a id="pgfId-1080260"></a>During routing, when two wires are too close to each other, their end of line spacing creates a <code>minEndOfLineSpacing</code> violation. In this case, the router modifies the pathSeg and extends it (custom extent) until it comes into contact with trim and bridge shapes. A patch shape is not added.<br />
<a id="pgfId-1080549"></a><div class="webflare-div-image">
<img src="images/12.3ISR10_trimmetal_VSR_1.gif" /></div></li></ul>









<p>
<a id="pgfId-1080261"></a>In automatic routing, the width of the bridge is determined by the <code>exactEolWidth</code> parameter of the <code>minEndOfLineSpacing</code> constraint and not by the width of the pin. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079915"></a>Two IO pins should not have a <code>minEndOfLineSpacing</code> violation between each other because that is considered as a valid violation when routing is performed.</div>
<p>
<a id="pgfId-1079886"></a>You can also assign color to a trim layer and specify that a trim layer with a given color should cut a routing layer with that color. As a result, trim shapes are automatically assigned the correct color when they are added during automatic routing. For more information, see <h-hot><a actuate="user" class="URL" href="../ascitechconstr/constr_misc_re_trimShape.html" show="replace" xml:link="simple">trimShape</a></h-hot>.</p>

<h2>
<a id="pgfId-1088770"></a><a id="24831"></a>Interrupting Routi<a id="interruptRoute"></a>ng for Unresolvable Errors</h2>

<p>
<a id="pgfId-1088771"></a>While routing a design, there are some errors that can occur due to data or technology setup issues, which could not be recognized by the routability checker. If the router is taking too long to complete, you can stop the current run using <code>Ctrl + C</code> and investigate what the issues might be.</p>
<p>
<a id="pgfId-1088772"></a>To prevent the router from running further, do the following</p>
<ol><li>
<a id="pgfId-1088773"></a>Select nets from the Navigator assistant.</li><li>
<a id="pgfId-1088774"></a>From the Wire Assistant, select the <em>Auto Route</em> command.</li><li>
<a id="pgfId-1088775"></a>Click the <em>All</em> or the <em>Selected</em> button next to <em>Route Net</em>.<br />
<a id="pgfId-1088776"></a>The routing for the nets selected in the Navigator assistant starts.<br />
<a id="pgfId-1088777"></a>Alternatively, choose <em>Route</em> &#8211; <em>Automatic Routing</em>. <br />
<a id="pgfId-1088778"></a>Select the <em>All Nets</em> or <em>Selected Nets</em> option from the <em>Automatic Routing</em> sub menu.</li><li>
<a id="pgfId-1088779"></a>To interrupt routing, press <code>Ctrl + C</code>. <br />
<a id="pgfId-1088780"></a>The User Interrupt Detected form is displayed. <br />
<a id="pgfId-1088784"></a><div class="webflare-div-image">
<img width="633" height="275" src="images/routedesign-29.gif" /></div></li><li>
<a id="pgfId-1091209"></a>Select the <em>Display Router Engine Statistics</em> check box to collect and display statistics from the routing engine.</li><li>
<a id="pgfId-1091424"></a>Select the <em>Display Full Statistics</em> check box to display all the violation statistics. By default, the <em>Display Full Statistics</em> check box is disabled and only the most relevant statistics are displayed. The <em>Display Full Statistics</em> check box is enabled only when the <em>Display Router Engine Statistics</em> check box is selected. </li><li>
<a id="pgfId-1088785"></a>In the form, click an option to discontinue the router from running. You can select one of the following options.<ul><li>
<a id="pgfId-1088786"></a><em>Exit Quickly with Partial Results</em><br />
<a id="pgfId-1088787"></a>Completes the current routing step as quickly as possible. The results are saved and routing exits without any further routing steps. You can view and edit the routing results that are saved. By viewing the routing results, you are able to identify the types of issues that are encountered by the router at the time of interruption. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088788"></a>The <em>Quickly Exit</em> <em>with Partial Results</em> button is enabled only when detailed routing step has already started.</div></li><li>
<a id="pgfId-1088789"></a><em>Exit Immediately</em><br />
<a id="pgfId-1088790"></a>Exits the current routing immediately without saving any routing results. The design is unmodified and left in its pre-routing state. </li><li>
<a id="pgfId-1088791"></a><em>Continue Routing</em><br />
<a id="pgfId-1088792"></a>Cancels the user interrupt and continues routing.</li></ul><br />
<a id="pgfId-1088793"></a>The <em>Current Command</em> section provides information about the command that was running at the time of interruption.</li><li>
<a id="pgfId-1092310"></a>To view the router statistics, again click the <em>Continue Routing</em> button.</li><li>
<a id="pgfId-1092393"></a>Again, press <code>Ctrl + C</code>. <br />
<a id="pgfId-1092425"></a>The following figure shows the routing engine statistics that get displayed in a tabular format.<br />
<a id="pgfId-1092638"></a><div class="webflare-div-image">
<img width="633" height="537" src="images/routedesign-30.gif" /></div>
<a id="pgfId-1092505"></a>Subsequently, clicking the <em>Continue Routing</em> button and then pressing <code>Ctrl + C</code> provides the routing statistics that have been completed between the two actions.<br />
<a id="pgfId-1092794"></a>The <em>Violation Activity</em> table shows the router statistics, if they exist. The following table provides the description of various columns in the <em>Violation Activity</em> table.<br /><table class="webflareTable" id="#id1092879">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093232"></a><em>Layer</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093234"></a>Provides the layer name</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093236"></a><em>Problematic Ratio</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093238"></a>Provides the relative error ratio compared to a uniform distribution of equal violations on across all layers (1X is equal number of violations across all layers in a uniform distribution).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093240"></a><em>Constraints</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093242"></a>Provides the constraint name and the percentage of the type of violation on that layer.</p>
</td>
</tr>
</tbody></table><br />
<a id="pgfId-1093610"></a>The <em>Violation Constraint</em> table shows the foundry constraint group rule violations. The following table provides the description of various columns in the <em>Violation Constraint</em> table.<br /><table class="webflareTable" id="#id1093180">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093244"></a><em>Constraint Group</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093246"></a>Excludes foundry CG for incomplete statistics and includes foundry violations if <em>Display Full Statistics</em> is selected.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093248"></a><em>percentage (excluding foundry)</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093250"></a>Shows the percentage of violations based on the constraint group it is in.</p>
</td>
</tr>
</tbody></table></li></ol>







































<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="vsrpreset.html" id="prev" title="Working with VSR Presets">Working with VSR Presets</a></em></b><b><em><a href="coverblockage.html" id="nex" title="Managing Cover Obstructions While Routing">Managing Cover Obstructions Wh ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>