
<html><head><title>Virtuoso Schematic Editor Spectre Interface</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="mzamori" />
<meta name="CreateDate" content="2023-01-23" />
<meta name="CreateTime" content="1674486921" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use the Virtuoso Schematic Editor Spectre and Ultrasim interfaces. Providing a solution to netlisting and gives a batch and scripting solution for automating various tasks." />
<meta name="DocTitle" content="Virtuoso Schematic Editor Spectre and Ultrasim Interface User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Virtuoso Schematic Editor Spectre Interface" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="csss" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-01-23" />
<meta name="ModifiedTime" content="1674486921" />
<meta name="NextFile" content="chap2.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Analog RF  Mixed-Signal Design,Analog RF  Mixed-Signal Design,Analog RF  Mixed-Signal Design,Custom IC Design" />
<meta name="PrevFile" content="csssTOC.html" />
<meta name="c_product" content="Spectre RF,Spectre,UltraSim,Virtuoso Schematic Editor" />
<meta name="Product" content="Spectre RF,Spectre,UltraSim,Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Spectre RF,Spectre,UltraSim,Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Schematic Editor Spectre and Ultrasim Interface User Guide -- Virtuoso Schematic Editor Spectre Interface" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="csssIC231" />
<meta name="webflare-version" content="2.4" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="csssTOC.html">Contents</a></li><li><a class="prev" href="csssTOC.html" title="Contents">Contents</a></li><li style="float: right;"><a class="viewPrint" href="csss.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap2.html" title="Virtuoso Schematic Editor UltraSim Interface">Virtuoso Schematic Editor Ultr ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Schematic Editor Spectre and Ultrasim Interface User Guide<br />Product Version IC23.1, March 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-782202"></a></h1>
<h1>
<a id="pgfId-796864"></a><hr />
<a id="44124"></a>Virtuoso Schematic Editor Spectre Interface<hr />
</h1>

<p>
<a id="pgfId-802007"></a>This chapter describes how to use the Virtuoso<sup>&#174;</sup> Schematic Editor Spectre<sup>&#174;</sup> interface. The procedures described in this chapter are deliberately broad and generic. Requirements for your specific design might dictate procedures slightly different from those described here.</p>
<p>
<a id="pgfId-802008"></a>This product provides a solution for digital circuit designers to netlist a Virtuoso schematic editor transistor-level schematic for the Spectre circuit simulator. It also provides a batch and scripting solution for automating various tasks. Some of the key features are listed below.</p>
<ul><li>
<a id="pgfId-802009"></a>Spectre Netlister<br />
<a id="pgfId-802010"></a>This solution provides an Open Simulation System (OSS) netlister for the Spectre circuit simulator from the Virtuoso schematic editor. The netlister works on devices with <code>spectre</code> views in the Cadence <code>sample</code> library. The netlister produces a hierarchical parameterized netlist in native circuit simulator syntax. The netlister supports global parameters and design variables and netlist processor (NLP) inheritance of parameters. All devices are netlisted using native circuit simulator syntax. For information on the circuit simulator, see the Spectre Circuit Simulator and Accelerated Parallel Simulator User Guide and Spectre Circuit Simulator Reference. </li><li>
<a id="pgfId-802013"></a>Updated Sample Library<br />
<a id="pgfId-802014"></a>The <code>sample</code> library provided by Cadence for OSS netlisters has been enhanced for the Spectre circuit simulator. The devices <code>iprobe</code>, <code>phyres</code>, <code>phyresgnd</code>, <code>nmes</code>, and <code>pmes</code> have been added to the sample library to support additional circuit simulator models. In addition, most of the circuit simulator instance parameters have been added to the symbol cellview to aid in design creation. </li><li>
<a id="pgfId-802015"></a>Improved Simulation Environment<br />
<a id="pgfId-802016"></a>The OSS simulation environment (SE) has been enhanced for the Spectre circuit simulator, which now appears on the menu bar. You can now directly edit netlisting and support files. You can enter model files and design variables through the UI. The combining of the netlist and support files is controlled by the environment. </li><li>
<a id="pgfId-802017"></a>Access to Analog Waveform Display for Waveform Display<br />
<a id="pgfId-802018"></a>This solution provides access to the Analog Waveform Display (AWD) tool from the analog circuit design environment. The circuit simulator default format for writing data out is PSF, which is read in by the AWD tool. The simulation environment provides access to this tool and the Results Browser and Waveform calculator. You can choose which signals you want to plot using the Results Browser. For more information on these tools, see the analog circuit design environment documentation and the Cadence Online Support application note &#8220;Using AWD with Stand-alone Spectre.&#8221;</li><li>
<a id="pgfId-802019"></a>OCEAN Batch and Scripting Capabilities<br />
<a id="pgfId-802020"></a>The Virtuoso schematic editor Spectre interface uses the OCEAN batch and scripting product to control the simulator with scripts or interactive commands. It also gives you access to the AWD tool, which allows you to make measurements of waveform data and print them to the screen or a file. All of the standard measurement capabilities of a signal calculator are available from the OCEAN command prompt, as are any macros that you create. You can output data files with either the <code>fprintf</code> or <code>ocnPrint</code> commands. For more information on OCEAN, see the <em><a actuate="user" class="URL" href="../oceanref/oceanrefTOC.html#firstpage" show="replace" xml:link="simple">Ocean Reference</a></em>.</li></ul>









<p>
<a id="pgfId-802005"></a>This chapter discusses the following topics:</p>
<ul><li>
<a id="pgfId-801060"></a><a href="chap1.html#28004">Starting the Virtuoso Schematic Editor Spectre Interface</a></li><li>
<a id="pgfId-800592"></a><a href="chap1.html#42162">Specifying Input for the Simulation</a></li><li>
<a id="pgfId-800612"></a><a href="chap1.html#23169">Netlisting Your Design and Starting Simulations</a></li><li>
<a id="pgfId-800620"></a><a href="chap1.html#42221">Displaying Results</a></li><li>
<a id="pgfId-800628"></a><a href="chap1.html#39950">Name Mapping</a></li><li>
<a id="pgfId-800632"></a><a href="chap1.html#86005">Checking the Status of Your Simulations</a></li><li>
<a id="pgfId-801498"></a><a href="chap1.html#69322">Running a Simulation Remotely</a></li></ul>







<h2>
<a id="pgfId-788516"></a><a id="28004"></a>Starting the Virtuoso Schematic Editor Spectre Interface</h2>

<p>
<a id="pgfId-776977"></a>To start the Virtuoso<sup>&#174;</sup> Schematic Editor Spectre<sup>&#174;</sup> interface,</p>
<ol><li>
<a id="pgfId-801075"></a>Start the Cadence software.</li><li>
<a id="pgfId-801066"></a>From the CIW, do one of the following:<ul><li>
<a id="pgfId-799690"></a>Start a new design by choosing <em>File &#8211; New...</em>. </li><li>
<a id="pgfId-799691"></a>Start an existing design by choosing <em>File &#8211; Open</em>....</li></ul></li><li>
<a id="pgfId-801915"></a>After correct setup, click the <em>OK</em> button to display the Virtuoso schematic editing window.</li><li>
<a id="pgfId-787715"></a>Choose <em>Launch &#8211; Simulation &#8211; Spectre</em>.<br />
<a id="pgfId-787466"></a>The <em>Spectre</em> menu is added to the menu bar.<br />
<a id="pgfId-796154"></a>If you have not accessed another design during this session or you have never created a circuit simulator run directory for this design, all but one of the commands in the <em>Spectre</em> menu are grayed out.</li><li>
<a id="pgfId-787473"></a>Choose <em>Spectre &#8211; Initialize</em>.<br />
<a id="pgfId-801679"></a>T<a id="SpectreInit"></a>he Initialize Environment form appears.</li><li>
<a id="pgfId-801684"></a>In the <em>Simulation Run Directory</em> field, type the path to the directory where you want to place all of the simulation-related files.<br />
<a id="pgfId-798427"></a>By default, the files are placed in <code>spectre.run1</code> in your startup directory. <br />
<a id="pgfId-794690"></a>If the path defines a new directory, the Initialize Environment form expands:<br />
<a id="pgfId-793967"></a>You can change the name of the run directory or specify a different design. The <em>Browse</em> button brings up the Library Browser, which automatically fills in the <em>Library Name</em>, <em>Cell Name</em>, and <em>View Name</em> fields when you select a new design. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-801930"></a><em>spectre</em> is the only choice for <em>Simulator Name</em>. Custom modifications for third-party simulators are possible.</div></li><li>
<a id="pgfId-801078"></a>Click <em>OK</em>.</li></ol>


















<h2>
<a id="pgfId-800360"></a><a id="42162"></a>Specifying Input for the Simulation</h2>

<p>
<a id="pgfId-788619"></a>The Virtuoso schematic editor Spectre interface offers you several ways to provide input to your simulation and to modify that input. Before simulation, you have the option of combining all of these files with the netlist file to create a run file.</p>
<p>
<a id="pgfId-787928"></a>After you set up your simulation options, you can specify all the input files for the simulation. The <em>Stimulus</em> menu lists each of these files. </p>
<p>
<a id="pgfId-787511"></a>When you select most of these commands, a text editor window opens up, displaying the file. If the editor is empty, you must create the file.</p>

<h3>
<a id="pgfId-787932"></a>Specifying Input from a Stimulus File</h3>

<p>
<a id="pgfId-787483"></a>To provide input from a stimulus file to your simulation,</p>
<ol><li>
<a id="pgfId-798466"></a>From the schematic editor window, choose <em>Spectre &#8211; Stimulus &#8211; Edit Stimulus File</em>.<br />
<a id="pgfId-798465"></a>A text file opens in a text editor window, for example <code>emacs</code>. The file is saved as <code>spectre.inp</code> and is placed in the run directory. You do not have to add source statements if you have included sources in your designs. <br />
<a id="pgfId-801091"></a>Sources are specified as instance statements in Spectre syntax. See &#8220;Spectre Netlists&#8221; in the Spectre Circuit Simulator and Accelerated Parallel Simulator User Guide for more information.</li><li>
<a id="pgfId-794699"></a>If you use the text file, connect the sources to the net names on the schematic. <br />
<a id="pgfId-801840"></a>Schematic names are mapped to lowercase. If you use circuit simulator syntax, you must use the lowercase form of net names you are connecting to. Connect to global nets such as <code>ground</code> from the stimulus file. Global nets use a <code>!</code> at the end of the net name and that character must be escaped. In addition, any escaped characters entered in this file must be escaped twice ( <code>gnd\\!</code> ) because one escape is removed during the merging of netlist files. For more information, see <a href="appA.html#13517">Netlisting Overview</a>.</li></ol>




<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-801841"></a>When you add lines to the analysis and options file, the square brackets characters must be escaped: <code>\[</code> and <code>\]</code>. For example, a sweep function line must like this:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-798487"></a>sweep1 sweep param=slope values=\[0.5n 1.0n 1.5n\]</pre>

<p>
<a id="pgfId-794698"></a>By default, the file should have Spectre circuit simulator syntax. If you use SPICE syntax, the line</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-791886"></a>simulator lang=spice </pre>

<p>
<a id="pgfId-801098"></a>must precede the SPICE syntax.</p>

<h3>
<a id="pgfId-798517"></a>Specifying Input from a Netlist File</h3>

<p>
<a id="pgfId-798518"></a>To provide input from a netlist file to your simulation, </p>

<ul><li>
<a id="pgfId-799761"></a>From the schematic editor window, choose <em>Spectre &#8211; Stimulus &#8211; Edit Netlist File</em>. <br />
<a id="pgfId-798541"></a>If you have already netlisted your design using this product, a text editor window opens to display the netlist file, which you can then modify. The netlist file produced in this way is located in the circuit simulator run directory you must create. <br />
<a id="pgfId-798542"></a>If the text editor window opens with an empty file, you have yet to netlist this design. </li></ul>



<p>
<a id="pgfId-798543"></a>The file is called <code>netlist</code> and is located in the run directory. This is not the final netlist: it does not include any of the data from the other stimulus files. If netlisting has occurred, it will contain connectivity information for the associated schematic. If you modify this file, you might have to escape certain characters. Also, the next time you netlist this file, all modifications to this file will be lost.</p>

<h3>
<a id="pgfId-798515"></a>Specifying Input from a Analyses/Options File</h3>

<p>
<a id="pgfId-787991"></a>To specify circuit simulator analyses and output options for your simulation, </p>

<ul><li>
<a id="pgfId-799774"></a>From the schematic editor window, choose <em>Spectre &#8211; Stimulus &#8211; Edit Analyses/Options File</em>. <br />
<a id="pgfId-798545"></a>A text file comes up in a text editor. The file starts with some suggested default values that you can use with most designs. You can keep these, delete them, or modify them. However, you must put at least one analysis statement into this file for a simulation to occur. This file is called <code>spectre.sim</code> and is placed in the run directory. This is the default sample file:<pre class="webflare-pre-block webflare-courier-new" id="#id788124">
<a id="pgfId-788124"></a>// Spectre Analyses and Output Options Statements
// Output Options
// simOptions options
// +      reltol = 1.00000000E-03
// +      vabstol = 1.00000000E-06
// +      iabstol = 1.00000000E-12
// +      temp = 27
// +      save = allpub
// +      currents = selected
// Analyses
// dc1 dc oppoint=logfile homotopy=all
// tran1 tran stop=1 errpreset=moderate</pre></li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-798505"></a>When you add lines to the analysis and options file, any square bracket characters must be escaped: <code>\[</code> and <code>\]</code>. For example, a sweep function line must like this:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-798506"></a>sweep1 sweep param=slope values=\[0.5n 1.0n 1.5n\]</pre>
<h3>
<a id="pgfId-788009"></a>Specifying Input from a Mo<a id="ModelInclude"></a>del Include File</h3>

<p>
<a id="pgfId-787533"></a>To provide input from a model include file to your simulation, </p>
<ol><li>
<a id="pgfId-798592"></a>From the schematic editor window, choose <em>Spectre &#8211; Stimulus &#8211; Model Include Files</em>. <br />
<a id="pgfId-801670"></a>The Model Include Files form appears.</li><li>
<a id="pgfId-801674"></a>Click <em>Add File</em>. <br />
<a id="pgfId-798601"></a>The <em>File Name (Full Path)</em> field is displayed. </li><li>
<a id="pgfId-798597"></a>Type the complete path to the model file. </li><li>
<a id="pgfId-799846"></a>Repeat this process for each model file required.</li></ol>





<p>
<a id="pgfId-790374"></a>The files that you specify in this form are placed in <code>include</code> statements in a file called <code>spectre.include</code> in the run directory.</p>

<h3>
<a id="pgfId-802246"></a>Specifying Input<a id="dcdfModelPathForm"></a> from a Model Include Path</h3>

<p>
<a id="pgfId-802247"></a>To provide input from a model include path to your simulation, </p>
<ol><li>
<a id="pgfId-802248"></a>From the schematic editor window, choose <em>Spectre &#8211; Stimulus &#8211; Model Include Paths</em>.<br />
<a id="pgfId-802249"></a>The Model Include Paths form appears.</li><li>
<a id="pgfId-802250"></a>Enter the path to the files to be used for input into the simulation.</li><li>
<a id="pgfId-802264"></a>Click the <em>OK</em> button.</li></ol>




<h3>
<a id="pgfId-788259"></a>Specifying Input from a De<a id="DesignVar"></a>sign Variable</h3>

<p>
<a id="pgfId-788260"></a>To provide input from design variables to your simulation,</p>
<ol><li>
<a id="pgfId-798616"></a>From the schematic editor window, choose<em> Spectre &#8211; Stimulus &#8211; Design Variables</em>. <br />
<a id="pgfId-798621"></a>The Design Variables form appears.</li><li>
<a id="pgfId-798622"></a>Click <em>Add Variable</em>. <br />
<a id="pgfId-798626"></a>A text field is added at the bottom of the form.<br />
<a id="pgfId-798627"></a>A file called <code>spectre.var</code> is created in the run directory.</li></ol>




<p>
<a id="pgfId-790385"></a>&#8220;Design variables&#8221; are global parameters that are used throughout your design. You must define all of the global parameters in this form. If you try to access these parameters in included data in SPICE format (<code>.model</code>), you need to limit your parameters to lowercase. Refer to <a href="appA.html#14668">Parameters</a> for more information.</p>

<h3>
<a id="pgfId-788212"></a>Specifying Input from a Configuration File</h3>

<p>
<a id="pgfId-787531"></a>To provide input from a configuration file to your simulation, </p>

<ul><li>
<a id="pgfId-799880"></a>From the schematic editor window, choose <em>Spectre &#8211; Stimulus &#8211; Edit Configuration File</em>. </li></ul>

<p>
<a id="pgfId-798640"></a>The configuration file identifies the files the system uses to create the final run file for the simulation. The file, called <code>control</code>, starts with a default list of files from the run directory. You can add another file by copying the syntax shown and placing that file into the run directory for this design. You can also delete a file. </p>
<p>
<a id="pgfId-792496"></a>This is the default file content:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-788381"></a>// Default Spectre Simulation run title card.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-788387"></a>[?netlist]<br />[?spectre.include]<br />[?spectre.inp]<br />[?spectre.sim]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-788392"></a>// End of Netlist</pre>

<p>
<a id="pgfId-792236"></a>The order listed in this file controls the order in which files are included in the final netlist.</p>

<h3>
<a id="pgfId-799891"></a>Specifying Input from Other Files</h3>

<p>
<a id="pgfId-799892"></a>To provide input to your simulation that is not covered by the other files provided, </p>

<ul><li>
<a id="pgfId-799893"></a>From the schematic editor window, choose <em>Spectre &#8211; Stimulus &#8211; Edit Other File.</em></li></ul>

<p>
<a id="pgfId-799894"></a>This is a miscellaneous file. It can have any name, but if it is located outside of the run directory, you must provide the full path to its location.</p>

<h2>
<a id="pgfId-788222"></a><a id="23169"></a>Netlis<a id="NetlistandSim"></a>ting Your Design and Starting Simulations</h2>

<p>
<a id="pgfId-798641"></a>To netlist your design and start simulations,</p>
<ol><li>
<a id="pgfId-799908"></a>From the schematic editor window, choose <em>Spectre &#8211; Netlist/Simulate</em>.<br />
<a id="pgfId-798643"></a>The Netlist and Simulate form appears.<br />
<a id="pgfId-787556"></a>The <em>Simulation Run Directory</em> field is not editable: It displays the run directory you are working with. <br />
<a id="pgfId-801107"></a>To change to a different directory, <ol><li>
<a id="pgfId-801108"></a>Click <em>Cancel</em>.</li><li>
<a id="pgfId-801109"></a>From the schematic editor window, choose <em>Spectre &#8211; Initialize</em>.</li><li>
<a id="pgfId-788440"></a>Do one of the following:<ul><li>
<a id="pgfId-799918"></a>Click the <em>Browse</em> button, which opens the Library Browser, and find the library you are working on. </li><li>
<a id="pgfId-799924"></a>In the <em>Library Name</em>, <em>Cell Name</em>, and <em>View Name</em> fields, type the names of the library, cell, and view you are working on.</li></ul></li></ol></li><li>
<a id="pgfId-799927"></a>Verify that the <em>Simulator Name</em> cyclic field is set to <em>spectre</em>.</li><li>
<a id="pgfId-788443"></a>Turn on the appropriate <em>Run Actions </em>buttons. <br />
<a id="pgfId-799950"></a><em>create run file </em>is optional. Refer to <a href="appA.html#13517">Netlisting Overview</a> for details on netlisting and the order of run actions. </li><li>
<a id="pgfId-788452"></a>(Optional) Set the simulation job to run in the background or foreground of your machine or the remote machine you have selected. Select foreground by turning the <em>Run In Background</em> button off.<br />
<a id="pgfId-788459"></a>If you run the simulation job in background mode, you can use the <em>Job Priority</em> slider to control the job&#8217;s access to the processor. A job with a lower priority number gets run sooner. The system tells you when your simulation has finished by displaying a message box.<br />
<a id="pgfId-800790"></a>If you run the simulation job in foreground mode, you are locked out of menus until the task is complete; the status is displayed in the CIW. </li></ol>

















<h3>
<a id="pgfId-800799"></a>Showing Outputs</h3>

<p>
<a id="pgfId-789060"></a>Once you have tried to create a netlist or a run file, or run a simulation, the system produces the following output files, stored in the run directory.</p>
<table class="webflareTable" id="#id794961">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id794963">
<a id="pgfId-794963"></a>File or Directory</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id794965">
<a id="pgfId-794965"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795031"></a><code>si.env</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795033"></a>Internal environment file, created during the initialization process, describes design and its netlist; do not edit this file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795035"></a><code>spectre.inp</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795037"></a>Stimulus file for the netlist, which you create prior to simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795039"></a><code>netlist</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795041"></a>Netlist file of the design</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795043"></a><code>spectre.sim</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795045"></a>Analyses/Option file for the netlist, which you create prior to simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795047"></a><code>spectre.include</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795049"></a>File of include statements to model data</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795051"></a><code>spectre.var</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795053"></a>File of design variables for the netlist, which you create prior to simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795055"></a><code>control</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795057"></a>Netlist configuration file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795059"></a><code>si.log</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795061"></a>Background log file, produced by the simulation process</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795063"></a><code>si.foregnd.log</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795065"></a>Foreground log file, produced by the simulation process</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795067"></a><code>si.out</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795069"></a>Spectre output log file, produced by the simulation process</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795075"></a><code>si.inp</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-800046"></a>Final simulation run file, created with all the input files you specified before simulation</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795079"></a><code>si.raw</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795081"></a>Spectre simulation results directory, produced by the simulation process</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795083"></a><code>S.F.</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-795085"></a>Link to <code>si.raw</code> directory</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-801474"></a>Each simulation run produces a log. You select background and foreground logs with separate commands. These logs list all the details of the operation of this product. Normally you do not need to read these files, but they are helpful for debugging problems. </p>

<ul><li>
<a id="pgfId-789137"></a>To examine the output files, do one of the following:<ul><li>
<a id="pgfId-801466"></a>To examine the run log file, choose <em>Spectre &#8211; Show Outputs &#8211; Show Run Log</em>.<br />
<a id="pgfId-801467"></a>These files are useful for debugging.</li><li>
<a id="pgfId-801437"></a>To examine the simulation output file, choose <em>Spectre &#8211; Show Outputs &#8211; Simulation Output</em>.<br />
<a id="pgfId-800682"></a>The system displays the <code>si.out</code> file. This is the output log from the Spectre simulator. This is the same information that is printed into the <code>spectre.out</code> file when running Spectre as a standalone product.<br />
<a id="pgfId-789212"></a>This is a typical example of a short Spectre log:<pre class="webflare-pre-block webflare-courier-new" id="#id789216">
<a id="pgfId-789216"></a>spectre (ver. 4.4.2.60 -- 10 Oct 1997).
Simulating `si.inp&#39; on cds9886 at 5:52:23 PM, Mon Nov 10, 1997.
Convergence achieved in 2 iterations.
Total time required for dc analysis `dc1&#39; was 450 ms.</pre><pre class="webflare-pre-block webflare-courier-new" id="#id789230">
<a id="pgfId-789230"></a>***********************************************</pre><pre class="webflare-pre-block webflare-courier-new" id="#id789231">
<a id="pgfId-789231"></a>Transient Analysis `tran1&#39;: time = (0 s -&gt; 1 s)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id789232">
<a id="pgfId-789232"></a>***********************************************</pre><pre class="webflare-pre-block webflare-courier-new" id="#id789233">
<a id="pgfId-789233"></a>......9......8......7......6......5......4......3......2......1......0
Number of accepted tran steps = 105.
Initial condition solution time = 20 ms.
Intrinsic tran analysis time = 290 ms.
Total time required for tran analysis `tran1&#39; was 320 ms.
Aggregate audit (5:52:30 PM, Mon Nov 10, 1997):
Time used: CPU = 2.3 s, elapsed = 7 s, util. = 32.9%.
Virtual memory used = 1.37 Mbytes.</pre><pre class="webflare-pre-block webflare-courier-new" id="#id789243">
<a id="pgfId-789243"></a>spectre completes with 0 errors, 0 warnings, and 0 notices.</pre></li><li>
<a id="pgfId-801455"></a>To examine the run file, choose <em>Spectre &#8211; Show Outputs &#8211; Show Run File</em>. <br />
<a id="pgfId-801463"></a>A form for viewing your final netlist appears. The default name for your final netlist is <code>si.inp</code>.</li></ul></li></ul>













<h2>
<a id="pgfId-788704"></a><a id="42221"></a>Displaying Results</h2>

<p>
<a id="pgfId-801777"></a>The Virtuoso schematic editor Spectre interface includes a waveform display tool suite that includes a waveform window, a calculator, and a results browser. This is the same tool suite available to users in the analog design environment. </p>
<p>
<a id="pgfId-789585"></a>The <em>Waveform Tool</em> menu varies according to the executable used to start the software. </p>
<p>
<a id="pgfId-802214"></a>For more information refer to the refer to the <h-hot><a actuate="user" class="URL" href="../vivaxlug/vivaxlugTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Visualization and Analysis Tool User Guide</a></h-hot>.</p>

<h2>
<a id="pgfId-797508"></a><a id="39950"></a>Name Mapping</h2>

<p>
<a id="pgfId-798767"></a>To map instance terminals (currents) at device level (<code>nmos</code>, <code>pmos</code>, <code>npn</code>, <code>pnp</code>, etc.), the Virtuoso schematic editor Spectre interface needs to map information from the pins of those primitives in the <code>samples</code> library to the nodes of their models in the Spectre circuit simulator, which are not created by the netlister. If you customize components from the <code>samples</code> library, you need to override the <code>_dcdfTermMapList</code> variable to provide the pin-name&#8211;to&#8211;model-node name-mapping information for these customized devices. The <code>_dcdfTermMapList</code> variable has the following format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-797598"></a>_dcdfTermMapList=list(list(&quot;<code><em>device_cell_name_1</em></code>&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-797599"></a> list(&#39;(&quot;<code><em>pin_name_1</em></code>&quot;<br />&quot;<code><em>model_node_name_in_Spectre_1</em></code>&quot;) <br />&#39;(&quot;<code><em>pin_name_2</em></code>&quot;<br />&quot;<code><em>model_node_name_in_Spectre_2</em></code>&quot;)<br />&#8230;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-797604"></a>list(&quot;<code><em>device_cell_name_2</em></code>&quot; <br />list(&#39;(&quot;<code><em>pin_name_</em></code>&quot; <br />&quot;<code><em>model_node_name_in_Spectre_1</em></code>&quot;) <br />&#39;(&quot;<code><em>pin_name_2</em></code>&quot; <br />&quot;<code><em>model_node_name_in_Spectre_2</em></code>&quot;)<br />&#8230;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-797610"></a>&#8230;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-797611"></a>)</pre>

<p>
<a id="pgfId-797612"></a>To view the current value of the <code>_dcdfTermMapList</code> variable, </p>

<ul><li>
<a id="pgfId-800189"></a>In the CIW, type <br /><pre class="webflare-pre-block webflare-courier-new" id="#id797651">
<a id="pgfId-797651"></a><code>_dcdfTermMapList</code></pre>
<a id="pgfId-797652"></a>The complete list for currently supported devices is displayed.</li></ul>



<p>
<a id="pgfId-797613"></a>Use the Results Browser to view the currents saved at subcircuit level. </p>
<p>
<a id="pgfId-797673"></a>You can avoid using the Results Browser if you use a current probe (iprobe) to measure the currents between instance terminals at subcircuit level. You can select an instance terminal of iprobe, and the current flowing through the current probe is plotted. If you do not use an iprobe, but select an instance terminal at subcircuit level instead, the voltage signal of the net connected to that instance terminal will be plotted in error.</p>

<h2>
<a id="pgfId-789691"></a><a id="86005"></a>Checking the Status of Your Simulations</h2>

<p>
<a id="pgfId-786179"></a>You can use the job monitor to track simulations, even if they are being run remotely. The job monitor identifies the location of the run directory; the day and time the simulation was started; on which computer the simulation is running; whether the simulation is running, has succeeded, or has failed, and what the simulation job priority is.</p>
<p>
<a id="pgfId-786180"></a>To track your simulation,</p>

<ul><li>
<a id="pgfId-801219"></a>Choose <em>Spectre &#8211; Job Monitor</em> to display the Analysis Job Monitor window.</li></ul>

<p>
<a id="pgfId-789792"></a>The commands on the job monitor&#8217;s <em>Command</em> menu affect only jobs whose check box is on.</p>
<p>
<a id="pgfId-789810"></a><em>Show Run Log</em><notebold />
displays the run log (just like the <em>Spectre &#8211; Output &#8211; Show Background Log</em> command) for the most recent simulation job for the same design. If you apply <em>Show Run Log</em> to an earlier simulation job, a dialog box telling you that the log has been overwritten (by the more recent simulation) appears.</p>

<p>
<a id="pgfId-789815"></a><em>Set Priority</em> opens the Set Priority dialog box, which allows you to change the priority of a job, even while it is running.</p>

<p>
<a id="pgfId-801227"></a><em>Kill</em> stops any job whose check box is on.</p>
<p>
<a id="pgfId-789849"></a><em>Suspend</em> suspends any job whose check box is on.</p>
<p>
<a id="pgfId-789850"></a><em>Continue</em> resumes any suspended job whose check box is on. </p>

<p>
<a id="pgfId-789851"></a><em>Remove Entry</em> deletes any line whose check box is on from the job monitor window.<a id="38619"></a></p>
<h2>
<a id="pgfId-801241"></a><a id="69322"></a>Running a Simulation Remotely</h2>

<p>
<a id="pgfId-801243"></a>To run simulations on a remote workstation, you must configure the remote host. For remote workstations made by different manufacturers, with different operating systems, additional steps are needed.</p>
<p>
<a id="pgfId-801321"></a>The Virtuoso schematic editor Spectre interface can find and use all of the standard files in the local directory and run directory for each design, but special additions, such as include files, require that you provide a path to the location of the file. If you cannot specify a path from the target machine back to the source machine, you must copy the file to the target machine and specify a path local to that machine.</p>
<p>
<a id="pgfId-801244"></a>To run a simulation remotely,</p>
<ol><li>
<a id="pgfId-801245"></a>Establish an account on the remote workstation. </li><li>
<a id="pgfId-801301"></a>From the schematic editing window, choose <em>Spectre &#8211; Op</em><em>tions</em><a id="SpectreOptions"></a>. <br />
<a id="pgfId-801302"></a>The Simulation Environment Options form appears. </li><li>
<a id="pgfId-801307"></a>Turn on <em>Run Simulation Remotely</em>.</li><li>
<a id="pgfId-801308"></a>In the <em>Simulation Host Name</em> field, type the name of the remote workstation. </li><li>
<a id="pgfId-801309"></a>Turn on <em>Simulation Host is Different Type</em> if the remote workstation is not the same brand or operating system as the local computer.<br />
<a id="pgfId-801249"></a>You do not have to do this to simulate on another machine with a different version of the same operating system.</li><li>
<a id="pgfId-801250"></a>If the remote workstation is a different type, create a <code>.rhosts</code> file in the remote workstation&#8217;s home directory and add this line to it:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id801251">
<a id="pgfId-801251"></a><code><em>source_hostname user_name</em></code></pre></li><li>
<a id="pgfId-801252"></a>Test the remote connect by choosing any file on the local workstation and typing<br /><pre class="webflare-pre-block webflare-courier-new" id="#id801254">
<a id="pgfId-801254"></a>rcp <code><em>some_file</em></code> <code><em>remote_workstation</em></code>:/tmp</pre>
<a id="pgfId-801255"></a>If <code>rcp</code> does not work, edit or disable your <code>.login</code> file and/or your shell file (such as <code>.cshrc</code>) on the remote workstation. Once <code>rcp</code> works, remote simulation should work.<ul><li>
<a id="pgfId-801256"></a>If you get an error message similar to<br /><pre class="webflare-pre-block webflare-courier-new" id="#id801257">
<a id="pgfId-801257"></a>account disabled</pre>
<a id="pgfId-801258"></a>make sure you have an account on the remote workstation. If you have an active account, your password might have expired.</li><li>
<a id="pgfId-801259"></a>If you get an error message similar to<br /><pre class="webflare-pre-block webflare-courier-new" id="#id801260">
<a id="pgfId-801260"></a>login incorrect</pre>
<a id="pgfId-801261"></a>make sure that you have the <code>.rhosts</code> file in your account on the remote workstation and that it has the correct entry as described above.</li></ul></li></ol>


















<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="csssTOC.html" id="prev" title="Contents">Contents</a></em></b><b><em><a href="chap2.html" id="nex" title="Virtuoso Schematic Editor UltraSim Interface">Virtuoso Schematic Editor Ultr ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>