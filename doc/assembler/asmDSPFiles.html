
<html><head><title>Working with DSPF Files</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="namratam" />
<meta name="CreateDate" content="2023-10-28" />
<meta name="CreateTime" content="1698506646" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features of Virtuoso ADE Assembler" />
<meta name="DocTitle" content="Virtuoso ADE Assembler User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Working with DSPF Files" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="assembler" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-28" />
<meta name="ModifiedTime" content="1698506646" />
<meta name="NextFile" content="asmNetlisting.html" />
<meta name="Order" content="0" />
<meta name="Group" content="ADE Assembler" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="asmModelFiles.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE Assembler User Guide -- Working with DSPF Files" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="assemblerIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="assemblerTOC.html">Contents</a></li><li><a class="prev" href="asmModelFiles.html" title="Working with Model Files and CDF">Working with Model Files and C ...</a></li><li style="float: right;"><a class="viewPrint" href="assembler.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="asmNetlisting.html" title="Netlisting">Netlisting</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE Assembler User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>8
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="41085"></a>Working with DSPF Files<hr />
</h1>

<p>
<a id="pgfId-1026117"></a>The Detailed Standard Parasitic Format files (DSPF files) contain the post-layout data, which includes the designed and parasitic devices in a design. These files are created using the parasitic extraction tools. Therefore, the content and format of each DSPF file is dependent on the extraction tool. To run simulations for designs containing devices represented by DSPF files, ADE Assembler needs to consider these components in a way different than the devices with schematic.</p>
<p>
<a id="pgfId-1031357"></a>The following sections explain how you can use DSPF files while running simulations in ADE Assembler:</p>
<ul><li>
<a id="pgfId-1032107"></a><a href="asmDSPFiles.html#61131">Including DSPF Files in the Setup</a></li><li>
<a id="pgfId-1051491"></a><a href="asmDSPFiles.html#37507">Rules for Adding Prefixes to Instance Names</a></li><li>
<a id="pgfId-1032109"></a><a href="asmDSPFiles.html#45326">Customizing Netlist Creation Using the Options in .simrc</a></li><li>
<a id="pgfId-1045972"></a><a href="asmDSPFiles.html#99148">Customizing Netlist Creation Using Environment Variable</a></li></ul>




<h2>
<a id="pgfId-1032114"></a><a id="61131"></a>Including DSPF File<a id="simSetup_dspf"></a>s in the Setup</h2>

<p>
<a id="pgfId-1032170"></a>You can include DSPF files in the ADE Assembler setup in the following ways:</p>
<ul><li>
<a id="pgfId-1032576"></a><a href="asmDSPFiles.html#36691">Specifying DSPF Files in the Simulation Files Setup Form</a></li><li>
<a id="pgfId-1032578"></a><a href="asmDSPFiles.html#71006">Sweeping DSPF Files in the Corners Setup Form</a></li><li>
<a id="pgfId-1051498"></a><a href="asmDSPFiles.html#39343">Sweeping DSPF Files in the Simulation Files Setup Form Using the VAR Function</a></li><li>
<a id="pgfId-1051634"></a><a href="asmDSPFiles.html#98840">Sweeping DSPF Files in the Corners Setup Form Using the VAR Function</a></li><li>
<a id="pgfId-1051640"></a><a href="asmDSPFiles.html#29806">Binding a DSPF View to a Design</a></li></ul>





<h3>
<a id="pgfId-1032574"></a><a id="36691"></a>Specifying DSPF Files in the Simulation Files Setup Form</h3>

<p>
<a id="pgfId-1032663"></a>To specify a DSPF file for a test, perform the following steps:</p>
<ol><li>
<a id="pgfId-1032766"></a>In the Data View assistant, right-click a test and choose <em>Simulation Files</em>.<br />
<a id="pgfId-1032850"></a>The Simulation Files Setup form is displayed.</li><li>
<a id="pgfId-1032887"></a>On the <em>Paths/Files</em> tab of the Simulation Files Setup form, specify the name of the DSPF file in the <em>Parasitic Files (DSPF)</em> field.<br />
<a id="pgfId-1032667"></a>A few additional options are displayed in the <em>DSPF Options</em> section on the form.<br />
<a id="pgfId-1033277"></a><div class="webflare-div-image">
<img width="668" height="468" src="images/asmDSPFiles-2.gif" /></div></li><li>
<a id="pgfId-1032175"></a>Specify the additional options to be used for the included DSPF file.<ul><li>
<a id="pgfId-1039245"></a><em>Port Order</em>: Specifies whether to take the port order of the subcircuit definition from the pre-layout schematic netlist or from the DSPF file subcircuit definition. <ul><li>
<a id="pgfId-1039743"></a><em>sch</em> specifies that the port order is taken from schematic subcircuit definition.</li><li>
<a id="pgfId-1039790"></a><em>spf</em> specifies that the port order is taken from the DSPF subcircuit definition</li></ul></li><li>
<a id="pgfId-1039247"></a><em>Extra Port</em>: Specifies how to handle extra ports in the DSPF or schematic subcircuit definition. By default, this option is set to false, which implies that the port number in the schematic and the DSPF file needs to be the same. If not, the simulation will stop. When you set this option to true, the extra ports in the DSPF subcircuit call are changed to internal nodes. In addition, the extra ports in the schematic subcircuit definition are connected to nodes with the same name in the DSPF netlist, otherwise, they will be floating.</li><li>
<a id="pgfId-1039276"></a><em>Case Sensitivity</em>: By default, the DSPF file is considered case insensitive. To make the DSPF file case-sensitive, set this option to <code>true</code>.</li><li>
<a id="pgfId-1039249"></a><em>Blackbox</em>: Specifies the instances to be considered as blackboxes. For the blackbox subcircuit instances, Spectre takes the port order from the DSPF subcircuit definition, and the content from the schematic (blackbox) subcircuit definition</li><li>
<a id="pgfId-1039307"></a><em>Bus delimiter</em>: Enables you to map the bus delimiter between the schematic and DSPF or SPEF files. This option defines the bus delimiter in the schematic netlist, and optionally the bus delimiter in the DSPF file. By default, the bus delimiter of the DSPF file is automatically taken from the DSPF file header (that is, <code>*|BUSBIT [ ]</code> or <code>*|BUS_DELIMITER [ ]</code>). If the bus delimiter is not defined in the parasitic file header, you need to specify it in the <code>dspf_include bus_delim</code> statement. If both are specified, then the parasitic file bus delimiter is taken from the <code>dspf_include bus_delim</code>. This option specifies the value for <code>dspf_include bus_delim</code>.<br />
<a id="pgfId-1054191"></a>Buses are typically specified in the schematic using angular brackets as the delimiters, for example, bus&lt;0:4&gt;. Buses in the DSPF are flattened and use square brackets, for example, bus[0], bus[1], bus[2], bus[3], and bus[4]. To map between the different bus delimiters, specify the schematic bus delimiters followed by the DSPF bus delimiters in the Bus Delimiter field, as shown in the figure.<br /><ffi2-fig-frame-in-2 id="#id1054237">
<a id="pgfId-1054237"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="601" height="158" src="images/asmDSPFiles-3.gif" /></div></li><li>
<a id="pgfId-1053550"></a><em>Other Options</em>: Any <code>dspf_include</code> option other than those available on this form. For example, you can enter the <code>auto_blackbox=true</code> option to specify that Spectre needs to automatically consider a subckt as a blackbox subckt if it does not have the following:<ul><li>
<a id="pgfId-1053551"></a><code>*|NET</code> section</li><li>
<a id="pgfId-1053552"></a><code>*|GROUND_NET</code> section</li><li>
<a id="pgfId-1053553"></a>Any valid device in the <code>*Instance</code> section</li></ul></li></ul></li><li>
<a id="pgfId-1033226"></a>Click <em>OK</em> to save and close the form.<br />
<a id="pgfId-1038681"></a>ADE Assembler uses the DSPF file for the subcircuit defined in it.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1045184"></a>
If you specify the same DSPF file in the Simulations Files Setup as well as in the Corners Setup, the simulations will not run. </div></li></ol>




























<h4>
<a id="pgfId-1047004"></a>Annotating DSPF Results for DC node Voltage and DC Operating Points </h4>

<p>
<a id="pgfId-1047005"></a>When you specify DSPF files in your simulation setup, you must manually add the <code>cap</code> parameter in the CDF Editor to view the DC node voltage and DC Operating points annotation for all devices. </p>
<p>
<a id="pgfId-1047006"></a>To add the cap parameter in the CDF Editor: </p>
<ol><li>
<a id="pgfId-1047008"></a>In the CIW, choose <em><a actuate="user" class="URL" href="../cdfuser/chap2.html#firstpage" show="replace" xml:link="simple">Tools &#8211; CDF &#8211; Edit</a></em>.<br />
<a id="pgfId-1047009"></a>The Edit CDF form appears.</li><li>
<a id="pgfId-1047010"></a>On the Edit CDF form:<ul><li>
<a id="pgfId-1047011"></a>In the <em>Library Name </em>field, select the library whose CDF you want to edit.</li><li>
<a id="pgfId-1047012"></a>In the Cell Name list, select <code>mimcap</code>. </li><li>
<a id="pgfId-1047013"></a>Click the <em>Interpreted Labels </em>tab.</li><li>
<a id="pgfId-1047014"></a>On the Interpreted Labels tab, click the <em>Parameters(cdsParam)</em> tab.</li><li>
<a id="pgfId-1047015"></a>On the <em>Parameters(cdsParam)</em> tab, select <em>Operating Point Results</em> from the <em>Use cdsParam to display</em> group of options. <br />
<a id="pgfId-1047019"></a>This enables the Parameters list box. </li></ul></li><li>
<a id="pgfId-1047075"></a>In the <em>Parameter</em> column, add <code>cap</code>. <br /><ffi2-fig-frame-in-2 id="#id1047065">
<a id="pgfId-1047065"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="594" src="images/asmDSPFiles-5.gif" /></div></li><li>
<a id="pgfId-1047021"></a>Click <em>OK</em>. </li></ol>
















<p>
<a id="pgfId-1047022"></a>To view the annotation for DC node voltage and DC Operating Points results in the schematic:</p>
<ol><li>
<a id="pgfId-1047023"></a>On the <em>Results</em> tab of the <em>Outputs</em> pane, right-click a data point and choose <em>Annotate</em>. </li><li>
<a id="pgfId-1047024"></a>In the sub-menu that appears, select <em>DC Node Voltages</em> and <em>DC Operating Points</em>. <br />
<a id="pgfId-1047000"></a>Assembler annotates your design schematic with the DC node voltage values and DC operating point data.</li></ol>



<h3>
<a id="pgfId-1033595"></a><a id="71006"></a>Sweeping DSPF Files in the Corners Setup Form</h3>

<p>
<a id="pgfId-1033616"></a>If you have multiple DSPF files that you can use for a particular device, and you want to use one file at a time, you can sweep the files using the Corners Setup form. </p>
<p>
<a id="pgfId-1033797"></a>To sweep the DSPF files:</p>
<ol><li>
<a id="pgfId-1033834"></a>Create a model file that a separate section for the each DSPF file to be swept. <br />
<a id="pgfId-1034030"></a>The following code shows a sample content of a model file: <br />
<a id="pgfId-1034034"></a><div class="webflare-div-image">
<img width="668" height="204" src="images/asmDSPFiles-6.gif" /></div></li><li>
<a id="pgfId-1034112"></a>In the Corners Setup form, include the model file and select a unique section for each corner.<br />
<a id="pgfId-1038831"></a><div class="webflare-div-image">
<img width="668" height="438" src="images/asmDSPFiles-7.gif" /></div>
<a id="pgfId-1038835"></a>ADE Assembler uses the DSPF file for the subcircuit defined in it.<br />
<a id="pgfId-1045249"></a>If required, you can use the schematic view for selected corners and a DSPF file for the remaining. For example, in the following corners setup, corner <code>C1</code> is not using the DSPF file. Therefore, it will use the schematic view. In this case, the output shows the difference in values of corners <code>C0</code> and <code>C2</code> as compared to corner <code>C1</code>.<br />
<a id="pgfId-1045897"></a><div class="webflare-div-image">
<img width="668" height="346" src="images/asmDSPFiles-8.gif" /></div>
<a id="pgfId-1045901"></a>The output shows the difference in values of corners <code>C0</code> and <code>C2</code> as compared to corner <code>C1</code>.<br />
<a id="pgfId-1045904"></a><div class="webflare-div-image">
<img width="668" height="367" src="images/asmDSPFiles-9.gif" /></div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1045204"></a>
If you specify the same DSPF file in the Simulations Files Setup as well as in the Corners Setup, the simulations will not run.</div></li></ol>





















<h3>
<a id="pgfId-1051505"></a><a id="39343"></a>Sweeping DSPF Files in the Simulation Files Setup Form Using the VAR Function<a id="simFilesSetupVAR"></a></h3>

<p>
<a id="pgfId-1051507"></a>To specify multiple DSPF files for a test in the Simulation Files Setup form:</p>
<ol><li>
<a id="pgfId-1051508"></a>In the Data View assistant, add a design variable or global variable to specify the path to one or more DSPF files. <br />
<a id="pgfId-1051513"></a><div class="webflare-div-image">
<img width="637" height="163" src="images/asmDSPFiles-10.gif" /></div>
<a id="pgfId-1051514"></a>Here, the design variable is named <code>dspfFile</code> and its value has been set to the path of three DSPF files.</li><li>
<a id="pgfId-1051515"></a>On the <em>Paths/Files</em> tab of the Simulation Files Setup form, specify the name of the design variable enclosed within the VAR function in the <em>Parasitic Files (DSPF)</em> field.<br />
<a id="pgfId-1051520"></a><div class="webflare-div-image">
<img width="634" height="380" src="images/asmDSPFiles-11.gif" /></div></li><li>
<a id="pgfId-1051521"></a>Click <em>Run</em> on the toolbar to run the simulation. </li><li>
<a id="pgfId-1051522"></a>Right-click a point from the <em>Results</em> tab and select <em>Plot Across Design Points </em>from the context menu. </li></ol>












<p>
<a id="pgfId-1051523"></a>The Results Browser displays the plotted outputs for the three DSPF files that are swept.</p>

<p>
<a id="pgfId-1051528"></a></p>
<div class="webflare-div-image">
<img width="668" height="330" src="images/asmDSPFiles-12.gif" /></div>
<h3>
<a id="pgfId-1051531"></a><a id="98840"></a>Sweeping DSPF Files in the Corners Setup Form Using the VAR Function<a id="cornerSetupVAR"></a></h3>

<p>
<a id="pgfId-1051532"></a>To specify different DSPF files in the Corners Setup form:</p>
<ol><li>
<a id="pgfId-1051533"></a>Create a model file that contains sections to be used by multiple DSPF files. <br />
<a id="pgfId-1051534"></a>The following code shows the sample content of a model file: <pre class="webflare-pre-block webflare-courier-new" id="#id1051535">
<a id="pgfId-1051535"></a>section dspf1
dspf_include &quot;DiffOpAmp.dspf&quot; 
dspf_include &quot;DiffOpAmpB.dspf&quot;
dspf_include &quot;DiffOpAmpC.dspf&quot;
endsection dspf1

section dspf2
dspf_include &quot;DiffOpAmp1.dspf&quot;
dspf_include &quot;DiffOpAmpB1.dspf&quot;
dspf_include &quot;DiffOpAmpC1.dspf&quot;
endsection dspf2

section dspf3
dspf_include &quot;DiffOpAmp2.dspf&quot;
dspf_include &quot;DiffOpAmpB2.dspf&quot;
dspf_include &quot;DiffOpAmpC2.dspf&quot;
endsection dspf3</pre></li><li>
<a id="pgfId-1051536"></a>Save this model file at the required location. </li><li>
<a id="pgfId-1051537"></a>In the Data View assistant, specify a design variable, such as <span class="webflare-courier-new" style="white-space:pre"><em>DSPF_PATH</em></span>, that points to the location of the model file.<br /><ffi2-fig-frame-in-2 id="#id1051542">
<a id="pgfId-1051542"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="602" height="364" src="images/asmDSPFiles-13.gif" /></div></li><li>
<a id="pgfId-1051543"></a>In the Data View assistant, right-click the <em>Corners</em> group and select <em>Open Corners Setup</em>.<br />
<a id="pgfId-1051544"></a>The Corners Setup form is displayed.</li><li>
<a id="pgfId-1051545"></a>In the <em>Model Files</em> field, specify the model file by enclosing it within the VAR function and specify a section for each corner. <br />
<a id="pgfId-1051550"></a><div class="webflare-div-image">
<img width="635" height="339" src="images/asmDSPFiles-14.gif" /></div></li><li>
<a id="pgfId-1051551"></a>Click <em>OK</em> on the Corners Setup form. </li><li>
<a id="pgfId-1051552"></a>Click <em>Run</em> on the toolbar to run the simulation. </li><li>
<a id="pgfId-1051553"></a>Right-click a point from the <em>Results</em> tab and select <em>Plot Across Corners</em> from the context menu. <br />
<a id="pgfId-1051554"></a>The Results Browser displays the plotted outputs for all corners where different DSPF files have been swept.<br />
<a id="pgfId-1051559"></a><br /><div class="webflare-div-image">
<img width="636" height="406" src="images/asmDSPFiles-15.gif" /></div>
<a id="pgfId-1051560"></a>Here, each corner uses a different set of DSPF files.</li><li>
<a id="pgfId-1051561"></a>Optionally, in the Corners Setup form, use the VAR function to specify different model sections for a corner. <br />
<a id="pgfId-1051567"></a> <div class="webflare-div-image">
<img width="637" height="99" src="images/asmDSPFiles-16.gif" /></div></li><li>
<a id="pgfId-1051568"></a>Click <em>OK</em> on the Corners Setup form. </li><li>
<a id="pgfId-1051569"></a>Click <em>Run</em> to run the simulation. </li><li>
<a id="pgfId-1051570"></a>Right-click a point from the Results tab and select <em>Plot Across Corners</em> from the context menu. <br />
<a id="pgfId-1051571"></a>The Results Browser displays the plotted outputs for all corners where different DSPF files as well as model sections have been swept.<br />
<a id="pgfId-1051575"></a><div class="webflare-div-image">
<img width="634" height="375" src="images/asmDSPFiles-17.gif" /></div></li></ol>




































<h3>
<a id="pgfId-1035248"></a><a id="29806"></a>Binding a DSPF View to a Design</h3>

<p>
<a id="pgfId-1035313"></a>If you need to replace the schematic of a particular device in your design with the DSPF view, you can bind the cellview to the corresponding DSPF view. </p>
<p>
<a id="pgfId-1046463"></a>To do this:</p>
<ol><li>
<a id="pgfId-1046474"></a>Create or edit the config view for its parent cellview in Virtuoso Hierarchy Editor.</li><li>
<a id="pgfId-1046483"></a>Specify the DSPF view to be used in the <em>View to Use</em> column in the <em>Cell Bindings</em> table.<br />
<a id="pgfId-1046491"></a><div class="webflare-div-image">
<img width="668" height="639" src="images/asmDSPFiles-18.gif" /></div></li><li>
<a id="pgfId-1035741"></a>Save the changes in the Hierarchy Editor.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1035272"></a>
If required, you can vary the DSPF view to be used for simulation by using the CONFIG sweep feature of ADE Assembler.</div></li></ol>








<h2>
<a id="pgfId-1051424"></a><a id="37507"></a>Rules for Adding Prefixes to Instance<a id="namePrefixDSPFRules"></a> Names</h2>

<p>
<a id="pgfId-1051425"></a>The netlister determines the naming prefix for instances using the <code>namePrefix</code> property set in the <em>Simulation Information</em> section of the Edit CDF form.</p>

<p>
<a id="pgfId-1051429"></a></p>
<div class="webflare-div-image">
<img width="668" height="420" src="images/asmDSPFiles-20.gif" /></div>

<p>
<a id="pgfId-1051430"></a>The <code>namePrefix</code> for instances is decided as follows: </p>
<ul><li>
<a id="pgfId-1051431"></a>If the <code>namePrefix</code> is not found in the CDF <em>Simulation Information</em> section, the netlister prints <code>X</code> as the namePrefix.</li><li>
<a id="pgfId-1051432"></a>If the <code>namePrefix</code> is the same as the first character of the device name, the netlister does not add a prefix to the instance name in the netlist. </li></ul>

<p>
<a id="pgfId-1051434"></a>If none of these conditions are met, the netlister adds the prefix <code>namePrefix</code> in the output of the instance. You can modify the prefixes that are chosen by either using the <code>dspfNamePrefixSimInfo</code> environment variable or the <code>useSelfCDFInPostLayoutNetlist</code> environment variable. </p>

<h4>
<a id="pgfId-1051435"></a>Examples</h4>

<ul><li>
<a id="pgfId-1051436"></a>When the <code>namePrefix</code> and the first character of the device name are the same<br />
<a id="pgfId-1051437"></a>The <code>mimcap</code> device is netlisted in the DSPF as <code>C0</code>, when the simulator used is <em>auCdl</em>.<pre class="webflare-pre-block webflare-courier-new" id="#id1051438">
<a id="pgfId-1051438"></a>C0 outm#64 net044#67 AVSS g45cmim w=5e-06 l=5e-06 m=1 $x=15.29 $y=25.58</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1052164">
<a id="pgfId-1052164"></a></pre><br /><div class="webflare-div-image">
<img width="598" height="426" src="images/asmDSPFiles-21.gif" /></div>
<a id="pgfId-1051439"></a>Here, the <code>namePrefix</code> in the Edit CDF form is set to <code>C</code>, which is the same as the first character of the device name. According to the pre-defined rules, no prefix is added for <code>mimcap</code> in the DSPF file. <br />
<a id="pgfId-1051964"></a>Setting <code>dspfNamePrefixSimInfo</code> to <em>ams</em> or <em>spectre</em> will add an <code>X</code> prefix and the DSPF will print the device as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id1052048">
<a id="pgfId-1052048"></a>XC0 outm#64 net044#67 AVSS g45cmim w=5e-06 l=5e-06 m=1 $x=15.29 $y=25.58 </pre></li><li>
<a id="pgfId-1051440"></a>When <code>namePrefix</code> has no specified value<br />
<a id="pgfId-1051441"></a>Set the <code>dspfNamePrefixSimInfo</code> environment variable to a simulator, such as <em>spectre</em>, that does not have a <code>namePrefix</code> specified for <code>mimcap</code>.<br />
<a id="pgfId-1052176"></a><div class="webflare-div-image">
<img width="598" height="426" src="images/asmDSPFiles-22.gif" /></div>
<a id="pgfId-1051442"></a>Based on the <code>namePrefix</code> rules, the <code>X</code> prefix is added to the devices. <pre class="webflare-pre-block webflare-courier-new" id="#id1051443">
<a id="pgfId-1051443"></a>XC0 outm#64 net044#67 AVSS g45cmim w=5e-06 l=5e-06 m=1 $x=15.29 $y=25.58</pre></li><li>
<a id="pgfId-1051444"></a>When the device name and <code>namePrefix</code> are different<br />
<a id="pgfId-1051445"></a>Consider that you have resistors in the netlist as shown below:<pre class="webflare-pre-block webflare-courier-new" id="#id1051446">
<a id="pgfId-1051446"></a>R14@2 (net#222 net0178#12 gnd#1330 ) rhim_m lr=3.5e-06 wr=8e-07 + multi=(1) $x=69.656 $y=38.422</pre>
<a id="pgfId-1052088"></a>To netlist this correctly with an <code>X</code> prefix, set <code>dspfNamePrefixSimInfo</code> to <em>auCdl</em> because the <code>namePrefix</code> for <em>auCdl</em> is <code>X</code>. <br />
<a id="pgfId-1052203"></a><div class="webflare-div-image">
<img width="634" height="434" src="images/asmDSPFiles-23.gif" /></div><pre class="webflare-pre-block webflare-courier-new" id="#id1051448">
<a id="pgfId-1051448"></a>XR14@2 (net#222 net0178#12 gnd#1330 ) rhim_m lr=3.5e-06 wr=8e-07 + multi=(1) $x=69.656 $y=38.422</pre>
<a id="pgfId-1051449"></a>This is applicable in cases when the <em>auCdl</em> prefix is not the same as the first character of the device name.</li><li>
<a id="pgfId-1051450"></a>When <code>namePrefix</code> has a value for a specific simulator and none for others<br />
<a id="pgfId-1051451"></a>Consider that a device has the <code>namePrefix</code> set to <code>R</code> for only the <em>auCdl</em> simulator, and no value for other simulators in the Edit CDF form. On netlisting, no prefix will be added to resistors if you set <code>dspfNamePrefixSimInfo</code> to <em>auCdl</em>. <br />
<a id="pgfId-1052224"></a><div class="webflare-div-image">
<img width="636" height="473" src="images/asmDSPFiles-24.gif" /></div>
<a id="pgfId-1051452"></a>If you set <code>dspfNamePrefixSimInfo</code> to any other simulator name, the prefix <code>X</code> will be added as per the <code>namePrefix</code> rules. </li><li>
<a id="pgfId-1051453"></a>When <code>namePrefix</code> value is not shown <br />
<a id="pgfId-1051454"></a>The <code>namePrefix</code> for <code>mimcap</code> is <code>C</code> for the <em>auCdl</em>, <em>auLvs</em>, and <em>hspiceD</em> simulators, and disabled for <em>ams</em> and <em>spectre</em>. <br />
<a id="pgfId-1052240"></a><div class="webflare-div-image">
<img width="635" height="238" src="images/asmDSPFiles-25.gif" /></div>
<a id="pgfId-1051455"></a>If you set <code>dspfNamePrefixSimInfo</code> to <em>auCdl</em>, <em>auLvs</em>, and <em>hspiceD</em>, no prefix is added, but if you set the environment variable to <em>ams</em>, or <em>spectre</em>, the prefix <code>X</code> is added to the devices. <pre class="webflare-pre-block webflare-courier-new" id="#id1051456">
<a id="pgfId-1051456"></a>XC0 outm#64 net044#67 AVSS g45cmim w=5e-06 l=5e-06 m=1 $x=15.29 $y=25.58</pre></li></ul>











































<h4><em>
<a id="pgfId-1051460"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1051462"></a><h-hot><a actuate="user" class="URL" href="../parasim/chap1.html#namePrefixDSPF" show="replace" xml:link="simple">Prefixes in Instance Names in the DSPF File</a></h-hot> </p>
<p>
<a id="pgfId-1051464"></a><a href="appEnvVars.html#12191">dspfNamePrefixSimInfo</a> </p>
<p>
<a id="pgfId-1052405"></a><a href="appEnvVars.html#12724">useSelfCDFInPostLayoutNetlist</a></p>

<h2>
<a id="pgfId-1032172"></a><a id="45326"></a>Customizing Netlist Creation Using the Options in .simrc </h2>

<p>
<a id="pgfId-1039340"></a>The content and format of a DSPF file is heavily dependent on the extraction tool and the settings. Often, simulation problems occur because the syntax used for the nets and terminals in the DSPF file is different from the syntax used in the netlist created by Spectre. For example, the hierarchy delimiter used in a DSPF file is &#39;.&#39; (<code>I0.M9</code>) whereas the delimiter used in the Spectre netlist is &#39;/&#39; (<code>I0/M9</code>).</p>
<p>
<a id="pgfId-1035100"></a>Similarly, for terminal currents, mapped name of top level devices in the DSPF file can have an extra prefix, such as XX instead of X, which does not exist in the netlist. </p>
<p>
<a id="pgfId-1035072"></a>If your DSPF files show such differences, you can set options in the <code>.simrc</code> file to update the save statement in the netlist so that the device names match with those in the DSPF file. For this, you need to read the contents of the DSPF file and set the variables in the <code>.simrc </code>file to update the name mapping.</p>
<p>
<a id="pgfId-1041276"></a>The following table describes the options you can set in the <code>.simrc</code> file:</p>

<p>
<a id="pgfId-1038215"></a></p>
<table class="webflareTable" id="#id1036263">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1036265">
<a id="pgfId-1036265"></a>Variable</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1036267">
<a id="pgfId-1036267"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036269"></a><code>spfFileNameMappingFormat</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036349"></a>Specifies the format to be used for name mapping. </p>
<p>
<a id="pgfId-1036438"></a>Valid values:<code>&quot;cdl&quot;</code>, <code>&quot;spectre&quot;</code>. If you give any other value it is internally reset to <code>&quot;cdl&quot;</code>.</p>
<p>
<a id="pgfId-1036271"></a>Default value: <code>&quot;cdl&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036273"></a><code>spfFileTermDelimiter</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036275"></a>Specifies the delimiter to be used to save terminal currents. This value is not taken from the DSPF because Spectre requires this to be set to a colon. Therefore, it is mandatory to set it to the default value, which &quot;<code>:</code>&quot;<code>.</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049404"></a><code>spfFileAddPrefixToDevice</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049657"></a>Specifies whether the prefixes defined by other <code>spf* </code>variables, for example, <code>spfFileDeviceDefaultPrefix</code>, <code>spfFileDevicePrefixForTermCurrent</code> and <code>spfFileDevicePrefixForOppoints</code>, are to be added to the device names printed in the save statements in the netlist.</p>
<p>
<a id="pgfId-1049659"></a>Default value: <code>t</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048143"></a><code>spfFileAddContextSensitivePrefix</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048145"></a>Specifies how many prefixes need to be added to the names of the devices at a level below the DSPF block. This variable does not affect the name of the DSPF block.</p>
<p>
<a id="pgfId-1048333"></a>When this variable is set to <code>&quot;yes&quot;</code>, the device names get a single prefix that is specified by the <em>namePrefix</em> field in the Component Description Format form or the <a href="asmDSPFiles.html#spfFileDeviceDefaultPrefix">spfFileDeviceDefaultPrefix</a> variable.</p>
<p>
<a id="pgfId-1048521"></a>When this variable is set to <code>&quot;no&quot;</code>, the device names get all prefixes specified by the .simrc variables or CDF properties.</p>
<p>
<a id="pgfId-1049862"></a><strong>Example: </strong></p>
<p>
<a id="pgfId-1050157"></a>A device named <code>I0.I1.I2.XM0*:1</code> is changed to one of the following depending on the value of this variable:</p>

<ul><li>
<a id="pgfId-1050185"></a><code>I0.I1.I2.XMM0*:1</code>, when this variable is set to <code>yes</code></li><li>
<a id="pgfId-1050230"></a><code>I0.I1.I2.XXMM0*:1</code>, when this variable is set to <code>no</code></li></ul>


<p>
<a id="pgfId-1050136"></a>where the first <code>M</code> is specified by the <em>namePrefix</em> field in the Component Description Format form and <code>X</code> is specified by the <a href="asmDSPFiles.html#spfFileDevicePrefixForTermCurrent">spfFileDevicePrefixForTermCurrent</a> variable.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046969"></a><code>spfDevicePrefixForMimcap</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046971"></a>Specifies the prefix to be used to identify the top-level devices while mapping <code>mimcap</code> devices.</p>
<p>
<a id="pgfId-1046972"></a>Default value: <code>&quot;C&quot;</code></p>
<p>
<a id="pgfId-1046973"></a>If the DSPF has <code>mimcap</code> devices, you can print these devices in the DSPF with a different prefix to the other devices, using the following definition:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1046974"></a>spfDevicePrefixForMimcap &quot;C&quot;</pre>
<p>
<a id="pgfId-1046975"></a>For example, using this variable will map a capacitance, <code>CC0@1</code>, and show the following mapping in the netlist:</p>
<p>
<a id="pgfId-1046976"></a><code>save I0.CC0:cap I0.CC1:cap</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036277"></a><code>spfFileHierDelimiter</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037135"></a>Specifies the delimiter to be used in hierarchical names. This variable should be set to the DIVIDER setting in the DSPF Header section.</p>
<p>
<a id="pgfId-1037116"></a>Default value: <code>.</code></p>
<p>
<a id="pgfId-1040333"></a></p>
<div class="webflare-div-image">
<img width="417" height="153" src="images/asmDSPFiles-26.gif" /></div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036281"></a><code>spfFileTerminalMapping</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036283"></a>Specifies the character case to be used while mapping the terminal names.</p>
<p>
<a id="pgfId-1037262"></a>Valid values:</p>

<ul><li>
<a id="pgfId-1037283"></a><code>&quot;mixed&quot;</code>: Uses a mix of upper or lower case. For example, <code>M0#Term1</code></li><li>
<a id="pgfId-1037357"></a><code>&quot;lower&quot;</code>: Uses the lower case. For example, <code>M0#term1</code></li><li>
<a id="pgfId-1037369"></a><code>&quot;upper&quot;</code>: Uses the upper case. For example, <code>M0#TERM1</code></li><li>
<a id="pgfId-1037381"></a><code>&quot;spectre&quot;</code>: Uses only numbers to identify the terminals. For example, <code>M0#1</code></li></ul>




<p>
<a id="pgfId-1037620"></a>Default value: <code>&quot;lower&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036285"></a><code>spfFileFingerDelimiter</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036287"></a>Specifies the delimiter to be used to mention the device fingers. Set this value to the delimiter used in the DSPF file. The example shown below uses the <code>@</code> delimiter.</p>
<p>
<a id="pgfId-1040669"></a></p>
<div class="webflare-div-image">
<img width="393" height="209" src="images/asmDSPFiles-27.gif" /></div>
<p>
<a id="pgfId-1040633"></a>Default value: <code>@</code></p>
<p>
<a id="pgfId-1047500"></a>In the expressions that calculate the sum total of current for a multi-fingered device, you must use the same delimiter that is mentioned in the DSPF file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036289"></a><code>spfFileDevicePrefixForMacroModels</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036291"></a>Specifies the prefix for any macro models in the design. In some PDKs, the MOS transistors are implemented as macro models to which an X prefix is added during LVS and extraction.</p>
<p>
<a id="pgfId-1040728"></a>To ensure that the save statements adds the X prefix so that the content saved by simrc matches the DSPF, set the <code>spfFileDevicePrefixForMacroModels </code>variable to <code>X.</code></p>
<p>
<a id="pgfId-1040726"></a>Default value: <code>X</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037684"></a><code>spfFileDeviceDefaultPrefix</code><a id="spfFileDeviceDefaultPrefix"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036295"></a>Specifies the default device prefix to be used when no prefix is specified in the <em>namePrefix</em> field in the <em>simInfo</em> section of the Component Description Format form, but a prefix is required to correctly identify a device in the DSPF.</p>
<p>
<a id="pgfId-1037875"></a>Default value: <code>nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041810"></a><code>spfFileNetMapping</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041812"></a>Specifies the character case to be used while mapping the terminal names.</p>
<p>
<a id="pgfId-1041813"></a>Valid values: <code>&quot;mixed&quot;</code>, <code>&quot;lower&quot;</code>, <code>&quot;upper&quot;s</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041805"></a><code>spfFileDevicePrefixToOverrideCDF</code><a id="spfFileDevicePrefixToOverrideCDF"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041807"></a>Overrides the value specified in the <em>namePrefix</em> field in the <em>simInfo</em> section of the Component Description Format form. </p>
<p>
<a id="pgfId-1041808"></a>Default value: <code>X</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036297"></a><code>spfFileDevicePrefixForTermCurrent</code><a id="spfFileDevicePrefixForTermCurrent"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041001"></a>Specifies the prefix to be used to identify the top level devices while mapping the terminal currents. For terminal currents the mapped name of the top level devices in the DSPF file can have an extra prefix, such as <code>XX</code> instead of <code>X</code>. Set this variable to the prefix or to <code>nil</code> if no extra prefix is required. </p>
<p>
<a id="pgfId-1038014"></a>Default value: <code>X</code></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041106"></a>This variable is applicable to MOS devices only. </div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038090"></a><code>spfFileDevicePrefixForOppoints</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041022"></a>Specifies the prefix to be used to identify the top level devices for operating points. Set this variable to the prefix or to <code>nil</code> if no extra prefix is required.</p>
<p>
<a id="pgfId-1038093"></a>Default value: <code>nil</code></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041039"></a>This variable is applicable to MOS devices only. </div>

<p>
<a id="pgfId-1044745"></a>For example, if the saved device names in the netlist are prefixed with <code>X</code>, as shown below, set this variable to <code>&quot;X&quot;</code>.</p>
<p>
<a id="pgfId-1044746"></a><code>save I0.XMM4:ids</code></p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041509"></a><code>spfFilePrefixForBoxedDevice</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1041511"></a>Specifies the prefix to be assigned to the devices that are considered to be boxed, that is a DSPF embedded inside a DSPF, by the extractor. The names of such boxed devices are specified by the <code>spfFileBoxedDeviceList</code> variable in the <code>.simrc</code> file.</p>
<p>
<a id="pgfId-1044100"></a>In the netlist saved for simulation, the names of the boxed devices are printed with the assigned prefix. You can probe only the terminals of such boxed subcircuits or devices, not the objects inside them.</p>
<p>
<a id="pgfId-1041512"></a>Default value: <code>X</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042290"></a><code>spfFileBoxedDeviceList</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042292"></a>Specifies a list of names of devices to be considered as boxed. These devices do not get a prefix in the netlist. While creating netlist, the names of these boxed devices are assigned a prefix specified by the <code>spfFilePrefixForBoxedDevice</code> variable.</p>
<p>
<a id="pgfId-1042293"></a>Default value: <code>nil</code></p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1032303"></a>The following example of the .simrc file shows how you can specify these settings:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042220"></a>dspfFileEnvOptions = &#39;(
        (nil spfFileNameMappingFormat &quot;cdl&quot;
&#160;&#160;&#160;&#160;        spfFileTermDelimiter &quot;:&quot;
&#160;&#160;&#160;&#160;         spfFileTerminalMapping &quot;lower&quot;<br />          spfDevicePrefixForMimcap &quot;C&quot;<br />          spfFileFingerDelimiter &quot;@&quot;<br />          spfFileDeviceDefaultPrefix &quot;M&quot;<br />          spfFileHierDelimiter &quot;/&quot;<br />          spfFileDevicePrefixForMacroModels &quot;X&quot;<br />          spfFileDevicePrefixToOverrideCDF &quot;X&quot;<br />          spfFileDevicePrefixForTermCurrent &quot;X&quot;<br />          spfFileDevicePrefixForInstCurrent &quot; &quot;<br />          spfFileNetMapping &quot;lower&quot;<br />          spfFileBoxedDeviceList (&quot;devicename1&quot; &quot;devicename2&quot;)<br />          spfFilePrefixForBoxedDevice &quot;XB&quot; <br />
))</pre>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1046853"></a>
It is recommended not to specify the following options in the .simrc file to be used for netlist customization when using DSPF files:</div>

<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1046876"></a><code>spfAlwaysAddPrefixWithInstanceNames</code></li><li>
<a id="pgfId-1046882"></a><code>spfSimAlwaysAddPrefixInInstName</code></li><li>
<a id="pgfId-1046885"></a><code>simAlwaysAddPrefixInInstName</code></li></ul></li></ul>



<h2>
<a id="pgfId-1045994"></a><a id="99148"></a>Customizing Netlist Creation Using Environment Variable</h2>

<p>
<a id="pgfId-1045990"></a>When using DSPF files, you can also use the <a href="appEnvVars.html#40093">saveFingersForOpParams</a> and <a href="appEnvVars.html#55811">sumDeviceFingerCurrents</a> environment variables to customize the save statement in the netlist.</p>
<p>
<a id="pgfId-1052442"></a>You can use the <a href="appEnvVars.html#12191">dspfNamePrefixSimInfo</a> environment variable to specify the simulator from which the <code>namePrefix</code> value is used to modify prefixes for device names in a DSPF file. To use the <code>namePrefix</code> from the current simulator, you can use the <a href="appEnvVars.html#12724">useSelfCDFInPostLayoutNetlist</a> environment variable. </p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="asmModelFiles.html" id="prev" title="Working with Model Files and CDF">Working with Model Files and C ...</a></em></b><b><em><a href="asmNetlisting.html" id="nex" title="Netlisting">Netlisting</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;â € </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>