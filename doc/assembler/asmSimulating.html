
<html><head><title>Running Simulations</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="namratam" />
<meta name="CreateDate" content="2023-10-28" />
<meta name="CreateTime" content="1698506788" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features of Virtuoso ADE Assembler" />
<meta name="DocTitle" content="Virtuoso ADE Assembler User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Running Simulations" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="assembler" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-28" />
<meta name="ModifiedTime" content="1698506788" />
<meta name="NextFile" content="asmDebugging.html" />
<meta name="Order" content="0" />
<meta name="Group" content="ADE Assembler" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="asmReliabilityAnalysis.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE Assembler User Guide -- Running Simulations" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="assemblerIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="assemblerTOC.html">Contents</a></li><li><a class="prev" href="asmReliabilityAnalysis.html" title="Performing Reliability Analysis">Performing Reliability Analysi ...</a></li><li style="float: right;"><a class="viewPrint" href="assembler.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="asmDebugging.html" title="Debugging with ADE Diagnostics">Debugging with ADE Diagnostics ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE Assembler User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>17
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
Running <a id="82913"></a>Simulations<hr />
</h1>

<p>
<a id="pgfId-1019887"></a>Before running a simulation, you need to prepare a setup using job policy to specify the resources to be used for different services supporting the simulation. This chapter provides information about the setup details. In addition, it explains how to manage simulations when you need to suspend or resume a run, or to close a Virtuoso session while a simulation is in progress.</p>
<p>
<a id="pgfId-1172491"></a>For details, refer to the following topics:</p>
<ul><li>
<a id="pgfId-1021659"></a><a href="asmSimulating.html#27052">The Simulation Flow in ADE Assembler</a></li><li>
<a id="pgfId-1161266"></a><a href="asmSimulating.html#68723">Using Simulation Manager with LSCS</a></li><li>
<a id="pgfId-1101472"></a><a href="asmSimulating.html#86080">Using Convergence Aids</a></li><li>
<a id="pgfId-1075359"></a><a href="asmSimulating.html#70196">Specifying a Name for Simulation History</a></li><li>
<a id="pgfId-1020965"></a><a href="asmSimulating.html#25093">Starting a Simulation</a></li><li>
<a id="pgfId-1079352"></a><a href="asmSimulating.html#37288">Suspending and Resuming Netlisting or Simulation Runs</a></li><li>
<a id="pgfId-1024823"></a><a href="asmSimulating.html#18237">Stopping a Simulation</a></li><li>
<a id="pgfId-1064712"></a><a href="asmSimulating.html#14106">Canceling Simulations for Selected Tests or Corners</a></li><li>
<a id="pgfId-1064720"></a><a href="asmSimulating.html#67488">Checking Run Status on the Progress Bar</a></li><li>
<a id="pgfId-1059711"></a><a href="asmSimulating.html#86923">Stopping Jobs and Resubmitting Simulations</a></li><li>
<a id="pgfId-1051366"></a><a href="asmSimulating.html#82817">Continuing the In-Process Simulations After ADE Assembler GUI Exits</a></li><li>
<a id="pgfId-1067142"></a><a href="asmSimulating.html#36115">Viewing the ADE Assembler Logs After Running Simulations</a></li><li>
<a id="pgfId-1024607"></a><a href="asmSimulating.html#25007">Viewing Job Status</a></li><li>
<a id="pgfId-1021825"></a><a href="asmSimulating.html#83042">Viewing the Job Log</a></li><li>
<a id="pgfId-1019911"></a><a href="asmSimulating.html#34764">Viewing the Simulation Output Log File</a></li><li>
<a id="pgfId-1027352"></a><a href="asmSimulating.html#30442">Running an Incremental Simulation</a></li><li>
<a id="pgfId-1028571"></a><a href="asmSimulating.html#29482">Simulating Only Unfinished or Erroneous Points</a></li><li>
<a id="pgfId-1050922"></a><a href="asmSimulating.html#35553">Setting Up Debug Options</a></li><li>
<a id="pgfId-1096954"></a><a href="asmSimulating.html#89580">Debugging Points</a></li><li>
<a id="pgfId-1050926"></a><a href="asmSimulating.html#91735">Creating and Running an OCEAN Script</a></li></ul>



















<p>
<a id="pgfId-1020011"></a></p>

<h2>
<a id="pgfId-1101490"></a><a id="27052"></a>The Simulation Flo<a id="LSCS"></a>w in A<a id="lscsmode"></a>DE Assembler</h2>

<p>
<a id="pgfId-1118799"></a>All simulations running in ADE Assembler are distributed according to the job control method specified in the job policy. </p>
<p>
<a id="pgfId-1118800"></a>ADE Assembler supports the following two job control modes:</p>
<ul><li>
<a id="pgfId-1118802"></a><strong>LSCS</strong><a id="LSCSMode"></a>: This is the default job control mode. It is a highly scalable job control mode that can handle thousands of netlisting and simulation jobs in parallel. This mode contains three systems: Virtuoso, Netlist Service, and Simulation Service. These systems work independently and concurrently with the shared queues of messages. The workflow being divided into separate processes means that the resources are consumed only when they are needed. Therefore, this model enables a more efficient exchange of information between these distinct processes. <br />
<a id="pgfId-1118803"></a>For more details about how to configure setup and run simulation for LSCS mode, refer to <a href="asmSimulating.html#87959">Running Simulations with LSCS Job Control Mode</a>.</li><li>
<a id="pgfId-1118809"></a><strong>ICRP</strong><a id="ICRPMode"></a>: This uses the IC Remote Processes that are started by ADE Assembler in the <code>virtuoso -nograph</code><a id="ICRP"></a> mode. These remote processes perform the following tasks:<ul><li>
<a id="pgfId-1118810"></a>Generate netlists</li><li>
<a id="pgfId-1118811"></a>Run simulations</li><li>
<a id="pgfId-1118812"></a>Evaluate the results</li><li>
<a id="pgfId-1118813"></a>Return the results to the ADE Assembler user interface</li></ul><br />
<a id="pgfId-1118814"></a>Separate remote processes imply that the above tasks do not block the ADE Assembler user interface and still enable you to continue working when the simulation run is in progress.<br />
<a id="pgfId-1118815"></a>An ICRP process may start a few child processes (clsbd, oaFSLockD, cdsNameServer, cdsServIpc) to perform some special tasks. These child processes may become daemon and continue to exist longer than the ICRP process itself. These processes should not be killed when the original ICRP job has exited because new ICRPs that are dependent on these daemon processes may have been started in the intervening time.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118816"></a>A daemon is a program or process that runs as a background process.</div>
<a id="pgfId-1118817"></a>For more details about how to configure setup and run simulation for ICRP mode, refer to <a href="asmSimulating.html#33893">Running Simulations With ICRP Job Control Mode</a>.</li></ul>











<h2>
<a id="pgfId-1155219"></a><a id="68723"></a>Using Simula<a id="simManager"></a>tion Manager with LSCS</h2>

<p>
<a id="pgfId-1155415"></a>With LSCS job control mode, you can use ADE simulation manager, also referred to as the simulation management service, which enables a decentralized and distributed architecture for the management of simulation jobs. </p>
<p>
<a id="pgfId-1156695"></a>This architecture provides the following benefits:</p>
<ul><li>
<a id="pgfId-1155624"></a>Offloads computation-intensive tasks, such as the management of simulation jobs, results plotting, and re-evaluation, from the Virtuoso session and makes the user interface of ADE Assembler more responsive to user interactions. </li><li>
<a id="pgfId-1155633"></a>Manages the progress of simulation jobs even if you close the host Virtuoso session that started the simulation. When you reopen the cellview, it reconnects the cellview to the simulation process if it is still in progress and you can control the simulations in the same way as you could before exiting Virtuoso.</li><li>
<a id="pgfId-1155666"></a>Provides a robust infrastructure that lets you reconnect with the running jobs and control them as before if Virtuoso stops abruptly during a simulation.</li></ul>


<p>
<a id="pgfId-1155261"></a>Using the simulation management service can be beneficial for complex designs and large setups that have a high simulation run time because it allows users to exit Virtuoso to release the memory reserved for other operations that could affect the simulation progress.</p>

<h3>
<a id="pgfId-1155712"></a>The Simulation Manager Infrastructure</h3>

<p>
<a id="pgfId-1155777"></a>The following diagram shows how the ADE simulation management tasks are offloaded from the ADE Assembler user interface. The simulation management service manages all netlisting and simulation jobs keeping the ADE Assembler UI available for other tasks. </p>

<p>
<a id="pgfId-1155821"></a></p>
<div class="webflare-div-image">
<img width="668" height="257" src="images/asmSimulating-2.gif" /></div>

<p>
<a id="pgfId-1155775"></a>This infrastructure is supported by a centralized ADE broker service that keeps a log of simulation manager services for all Virtuoso sessions and maestro cellviews running on a computer. The following diagram describes the architecture that uses this broker service.</p>

<p>
<a id="pgfId-1156260"></a></p>
<div class="webflare-div-image">
<img width="668" height="296" src="images/asmSimulating-3.gif" /></div>

<p>
<a id="pgfId-1156250"></a>The centralized ADE broker service is the key element of this infrastructure. This service can support both multi-user and single-user environments.</p>

<h4><em>
<a id="pgfId-1169813"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1169829"></a><a href="asmSimulating.html#35702">Running Simulations in a Multi-User Environment for Simulation Manager</a></p>
<p>
<a id="pgfId-1169843"></a><a href="asmSimulating.html#11192">Running Simulations in a Single-User Environment for Simulation Manager</a></p>
<p>
<a id="pgfId-1169862"></a><a href="asmSimulating.html#66672">Enabling Simulation Manager</a></p>

<h3>
<a id="pgfId-1165496"></a><a id="35702"></a>Running Simulations in a Multi-User Environment for Simulation Manager</h3>

<p>
<a id="pgfId-1165551"></a>In a multi-user environment, multiple Simulation Manager services and an ADE Broker service can run independently on separate hosts in the network. When launching a Virtuoso Studio instance, you need to specify the address and port information of the ADE broker service to which you want to connect the Virtuoso session.</p>
<p>
<a id="pgfId-1166151"></a>A multi-user environment lets multiple Virtuoso sessions started by multiple users on different hosts to connect to a common ADE broker.</p>

<p>
<a id="pgfId-1165846"></a></p>
<div class="webflare-div-image">
<img width="668" height="228" src="images/asmSimulating-4.gif" /></div>

<p>
<a id="pgfId-1168712"></a>It is recommended that a CAD team or an administrator starts the ADE Broker service on a remote host by running the following command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1168894"></a>maeBrokerMultiUser -start-daemon<br />; Starts a multi-user ADE broker and assigns an available port. It also returns<br />; that port number. Users can connect to the ADE broker by specifying the port<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1168943"></a>maeBrokerMultiUser -start-daemon -port <code><em>port-number<br /></em></code>; Starts a multi-user ADE broker at the given port</pre>

<p>
<a id="pgfId-1169082"></a>To connect to this ADE broker, each user must specify the broker address by running the following command before launching Virtuoso Studio:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1169265"></a>setenv CDS_MAE_BROKER_ADDRESS <code><em>brokerHost</em></code>:<code><em>portNumber</em></code></pre>

<p>
<a id="pgfId-1169263"></a>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1169378"></a>setenv CDS_MAE_BROKER_ADDRESS host-lnx02:37431</pre>

<p>
<a id="pgfId-1166351"></a>When you run a simulation, Virtuoso Studio uses the <code>Simulation Manager Default</code> job policy to start a Simulation Manager service. You can customize the default job policy to use an LSF command to run this service on a remote host. Alternatively, you can use another job policy by setting the <code>simulationServiceJobPolicy</code> environment variable.</p>
<p>
<a id="pgfId-1169440"></a>The connection with the Simulation Manager service is released after the simulation is successfully complete. The connection to the ADE broker is released after you close the Virtuoso Studio session.</p>
<p>
<a id="pgfId-1166514"></a>In the event of a planned or an abrupt exit of Virtuoso Studio session while a simulation is in progress, the services run independently of the Virtuoso Studio session and take the in-progress simulation to completion. </p>
<p>
<a id="pgfId-1166756"></a>The next time you launch Virtuoso Studio and reopen the maestro cellview for which simulation was started, the broker allows its reconnection to the services it was connected to in the previous Virtuoso Studio session. If the simulation running on a service is complete, it is not essential for the cellview to reconnect to the service. The results are saved in the history and can be viewed on the <em>Results</em> tab.</p>

<h4><em>
<a id="pgfId-1165162"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1166907"></a><a href="asmSimulating.html#66672">Enabling Simulation Manager</a></p>
<p>
<a id="pgfId-1169932"></a><a href="asmSimulating.html#91889">Managing Simulations with Simulation Manager</a></p>
<p>
<a id="pgfId-1169929"></a><a href="asmSimulating.html#93335">Exiting and Reconnecting with an In-progress Simulation</a></p>
<p>
<a id="pgfId-1170663"></a><a href="appEnvVars.html#67052">simulationServiceJobPolicy</a></p>

<h3>
<a id="pgfId-1165824"></a><a id="11192"></a>Running Simulations in a Single-User Environment for Simulation Manager</h3>

<p>
<a id="pgfId-1165099"></a>In a single-user environment, the ADE broker process can run on the same or a different host as that used by the Virtuoso Studio session. </p>
<p>
<a id="pgfId-1167202"></a>You can start an ADE broker service by running the following command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1167277"></a>maeBroker -start-daemon</pre>

<p>
<a id="pgfId-1156931"></a>This command starts the ADE broker service and returns a port through which you can connect to the service. </p>
<p>
<a id="pgfId-1167477"></a>When launching a Virtuoso Studio instance, you can specify the address and port information of the ADE broker service to which you want to connect the Virtuoso Studio session. </p>

<p>
<a id="pgfId-1167937"></a></p>
<div class="webflare-div-image">
<img width="668" height="321" src="images/asmSimulating-5.gif" /></div>

<p>
<a id="pgfId-1167402"></a>When you start a simulation run, Virtuoso launches a local or remote Simulation Manager service as per the specified job policy. <code>Simulation Manager Default</code> is the default job policy used for Simulation Manager. You can customize its settings or use another job policy by setting the <code>simulationServiceJobPolicy</code> environment variable.</p>
<p>
<a id="pgfId-1170526"></a>In the event of a planned or an abrupt exit of the Virtuoso session while a simulation is in progress, the services take the in-progress simulations to closure. </p>
<p>
<a id="pgfId-1157425"></a>The next time you launch Virtuoso Studio and reopen the maestro cellview for which simulation was started, the broker automatically reconnects the Virtuoso Session to the Simulation Manager service it was connected to in the previous Virtuoso session. This is because the <code>maestro.simulation autoConnectBroker</code> environment variable is set to <code>t</code>. If the simulation running on a service is complete, it is not essential for the cellview to reconnect to the service. The results are saved in the history and you can view those on the <em>Results</em> tab.</p>

<h4>
<a id="pgfId-1167963"></a>Challenges in a Single-User Environment</h4>

<p>
<a id="pgfId-1168011"></a>Running and managing ADE broker service in a single-user environment has the following challenges:</p>
<ul><li>
<a id="pgfId-1168132"></a>Before launching Virtuoso, you need to always ensure that an ADE broker process is running.</li><li>
<a id="pgfId-1168134"></a>You need to ensure that multiple ADE broker services are not running on the host. If multiple ADE brokers are running, you must use the <code>CDS_MAE_BROKER_ADDRESS</code> shell variable to connect to the correct broker.</li><li>
<a id="pgfId-1168126"></a>There are chances that an ADE broker is underutilized in a scenario when serving a single host.</li></ul>



<h4><em>
<a id="pgfId-1168565"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1168584"></a><a href="asmSimulating.html#66672">Enabling Simulation Manager</a></p>
<p>
<a id="pgfId-1169951"></a><a href="asmSimulating.html#91889">Managing Simulations with Simulation Manager</a></p>
<p>
<a id="pgfId-1169896"></a><a href="asmSimulating.html#93335">Exiting and Reconnecting with an In-progress Simulation</a></p>
<p>
<a id="pgfId-1170687"></a><a href="appEnvVars.html#67052">simulationServiceJobPolicy</a></p>

<h3>
<a id="pgfId-1162465"></a><a id="66672"></a>Enabling Simulation Manager</h3>

<p>
<a id="pgfId-1157704"></a>You can enable simulation manager in ADE Assembler by ensuring that <em>LSCS</em> is selected in the <em>Setup</em> section of the Job Policy setup form.</p>
<ol><li>
<a id="pgfId-1158186"></a>Select <em>Use Simulation Manager</em>.<br />
<a id="pgfId-1158303"></a><div class="webflare-div-image">
<img width="631" height="384" src="images/asmSimulating-6.gif" /></div></li><li>
<a id="pgfId-1158222"></a>Complete the remaining job policy setup as required.</li></ol>





<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1157757"></a>This simulation manager is not supported in ADE Explorer. While a maestro cellview is open, if you transition from ADE Assembler to ADE Explorer, ADE simulation service is disabled. If you run a simulation from ADE Explorer while another simulation is already in progress in ADE Assembler, the tool displays a message seeking confirmation to stop the simulation.</div>

<h3>
<a id="pgfId-1155276"></a>License Requirement</h3>

<p>
<a id="pgfId-1155297"></a>To use this feature, you require the Virtuoso ADE Simulation Manager (95267) license.</p>

<h3>
<a id="pgfId-1158434"></a><a id="91889"></a>Managing Simulations with Simulation Manager</h3>

<p>
<a id="pgfId-1158920"></a>When you run the simulation after enabling <em>Use Simulation Manager</em>, ADE Assembler automatically initiates the ADE broker and starts the simulation service. In this phase, the following message is displayed in the maestro cellview to indicate the progress of the initialization of simulation manager.</p>

<p>
<a id="pgfId-1158936"></a></p>
<div class="webflare-div-image">
<img width="668" height="170" src="images/asmSimulating-7.gif" /></div>

<p>
<a id="pgfId-1158481"></a>After a connection with the simulation service is established, the simulation is started and a history is created for the run.</p>
<p>
<a id="pgfId-1170395"></a>The CIW log also shows the status of each step followed to connect to the ADE broker.</p>

<p>
<a id="pgfId-1170399"></a></p>
<div class="webflare-div-image">
<img width="668" height="170" src="images/asmSimulating-8.gif" /></div>

<p>
<a id="pgfId-1170364"></a></p>
<p>
<a id="pgfId-1159442"></a>In the <em>Run Summary</em> assistant, the icon for this history indicates that the simulation is using the simulation manager. </p>

<p>
<a id="pgfId-1159547"></a></p>
<div class="webflare-div-image">
<img width="668" height="548" src="images/asmSimulating-9.gif" /></div>

<p>
<a id="pgfId-1159462"></a>Also note that the history name has a .RO suffix, which indicates that for simulations that use Simulation Manager, the results are saved in read-only histories. These histories are also locked to avoid any accidental modification in another maestro cellview. After the simulation run is complete, the read-only status is removed form the history and it is unlocked.</p>
<p>
<a id="pgfId-1170190"></a>The simulation continues and the results are saved as usual. While the simulation is running in the background, you can continue to configure the setup or explore results saved in a history. </p>

<p class="h3nt-head-3-No-TOC-styling">
<a id="pgfId-1160830"></a><a id="93335"></a>Exiting and Reconnecting <a id="maeReconnect"></a>with an In-progress Simulation</p>

<p>
<a id="pgfId-1163196"></a>If you exit the maestro cellview or the Virtuoso session before the simulation is complete, ADE Assembler displays a dialog box, asking you to confirm whether to continue the simulation.</p>

<p>
<a id="pgfId-1163200"></a></p>
<div class="webflare-div-image">
<img width="668" height="124" src="images/asmSimulating-10.gif" /></div>

<p>
<a id="pgfId-1160867"></a>Click <em>Yes</em> to continue.</p>
<p>
<a id="pgfId-1159922"></a>When you reopen the maestro cellview, if the simulation is in progress, Virtuoso displays the Reconnect to an Existing ADE Session form that shows a list of all services available for the cellview.</p>

<p>
<a id="pgfId-1159926"></a></p>
<div class="webflare-div-image">
<img width="662" height="425" src="images/asmSimulating-11.gif" /></div>

<p>
<a id="pgfId-1159782"></a>Select a service and click <em>OK</em> to reconnect to the same service.</p>
<p>
<a id="pgfId-1159237"></a>The cellview is opened and the history corresponding to the simulation in progress is displayed showing the current status of the run.</p>
<p>
<a id="pgfId-1160612"></a>If the simulation completes before you reopen the cellview, you can view the results saved in the history.</p>
<p>
<a id="pgfId-1160443"></a>The following example shows a simulation run that was in progress in the previous maestro session.</p>

<p>
<a id="pgfId-1160447"></a></p>
<div class="webflare-div-image">
<img width="668" height="503" src="images/asmSimulating-12.gif" /></div>

<p>
<a id="pgfId-1158907"></a>When you reopen the cellview, the same state is maintained for the run. You can suspend, resume, stop, or manage it as required. </p>

<h4>
<a id="pgfId-1170821"></a>Explicitly Opening a Virtuoso Session Connected to a Simulation Manager Service</h4>

<p>
<a id="pgfId-1171147"></a>You can use the <code>maeConnect</code> command to display all available ADE broker services on the host. </p>

<p>
<a id="pgfId-1171151"></a></p>
<div class="webflare-div-image">
<img width="668" height="280" src="images/asmSimulating-13.gif" /></div>

<p>
<a id="pgfId-1170766"></a>Select an ADE Broker service from the drop-down list of service names. A list of Virtuoso sessions connected to the broker service are listed in the table. </p>
<p>
<a id="pgfId-1171566"></a>Right-click a row and choose <em>Open GUI</em> to launch the Virtuoso session on the same host on which the Simulation Manager service is running and to open the maestro session.</p>
<p>
<a id="pgfId-1171298"></a>If a particular simulation is not required to be completed or is stuck due to some network issues, right-click and choose <em>Kill Job </em>to stop the simulation and close the Virtuoso session.</p>

<h3>
<a id="pgfId-1158916"></a>Debugging Simulation Manager</h3>

<p>
<a id="pgfId-1161388"></a>While debugging simulations that use simulation manager, you can check the log of simulation manager in addition to the other logs files for netlist, simulation, or expression evaluation. </p>
<p>
<a id="pgfId-1161525"></a>To open the simulation manager log:</p>
<ol><li>
<a id="pgfId-1161776"></a>Right-click the history that uses the simulation manager log and choose <em>Simulation Manager Log</em>.<br />
<a id="pgfId-1161780"></a><div class="webflare-div-image">
<img width="631" height="393" src="images/asmSimulating-14.gif" /></div></li><li>
<a id="pgfId-1161795"></a>ADE Assembler opens the <code>SimService</code><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span><code>.log</code> file saved for the maestro cellview, as shown below.<br />
<a id="pgfId-1163532"></a><div class="webflare-div-image">
<img width="631" height="312" src="images/asmSimulating-15.gif" /></div></li></ol>








<h3>
<a id="pgfId-1163422"></a>Debugging Points with Simulation Manager</h3>

<p>
<a id="pgfId-1163580"></a>To enable debugging of points in a simulation run using Simulation Manager, you can display the names of log files in the statistical information for each point.</p>
<p>
<a id="pgfId-1163808"></a>Set the following environment variables:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1163860"></a>(envSetVal <strong>&quot;maestro.results&quot; &quot;defaultRunStatisticItems&quot;</strong> &#39;string &quot;memory,threads,recommendedThreads,jobId,host,<strong>jobLog,serviceLog</strong>,tranIntrinsicElapsedTime,cpuTime,cpuUtil&quot;)<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1163879"></a>(envSetVal <strong>&quot;maestro.results&quot; &quot;enableRunStatisticInfoDisplay&quot;</strong> &#39;boolean t)</pre>

<p>
<a id="pgfId-1163856"></a>When these variables are set, the statistical information on the <em>Results</em> tab shows the names of corresponding log files that you can check while debugging a point.</p>

<p>
<a id="pgfId-1164028"></a></p>
<div class="webflare-div-image">
<img width="668" height="429" src="images/asmSimulating-16.gif" /></div>
<h4><em>
<a id="pgfId-1161799"></a>Related Topic</em></h4>

<p>
<a id="pgfId-1163470"></a><a href="asmSimulating.html#89126">Viewing Log Files for a Data Point</a></p>
<p>
<a id="pgfId-1163440"></a><a href="asmSimulating.html#29514">Viewing a Consolidated Log for a History</a></p>

<h2>
<a id="pgfId-1118823"></a><a id="73332"></a>Setting Up Job <a id="jobPolicySetup"></a>Policies<a id="marker-1118822"></a></h2>

<p>
<a id="pgfId-1118824"></a>A job policy specifies the job control mode to be used to run simulations. In addition, it specifies the job distribution method: local, remote, or command; maximum number of jobs to be run at a time; and various job timeout settings. </p>
<p>
<a id="pgfId-1118825"></a>The default job policy for ADE Assembler is <code>Maestro Default</code>. You can also define a custom job policy, save it with a unique name in the<code>.cadence/jobpolicy</code> directory and set it as default by using the <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#defaultJobPolicy" show="replace" xml:link="simple">defaultJobPolicy</a></h-hot> environment variable. </p>
<p>
<a id="pgfId-1118827"></a>The order in which the job policy files are searched in the <code>.cadence/jobpolicy</code> directory is determined by the Cadence Setup Search File mechanism (CSF). To find this information, CSF uses the <code>setup.loc</code> file, which is an ASCII file that specifies the locations to be searched and the order in which they should be searched. For more information about the setup.loc file or how to edit search order, see <h-hot><a actuate="user" class="URL" href="../caiuser/chap3.html#firstpage" show="replace" xml:link="simple">Cadence Setup Search File: setup.loc</a></h-hot> in the Cadence Application Infrastructure User Guide.</p>
<p>
<a id="pgfId-1118829"></a>A job policy can be defined for:</p>
<ul><li>
<a id="pgfId-1118833"></a>A single test. For more details, refer to <a href="asmSimulating.html#34356">Setting Up a Job Policy for a Test</a>.</li><li>
<a id="pgfId-1118834"></a>A global job policy that is applied to all the tests that do not have their own job policies.</li></ul>

<p>
<a id="pgfId-1118835"></a>A job policy can be defined by using the Job Policy Setup form. For more details, refer to <a href="asmSimulating.html#56705">Setting Up the Default Job Policy</a>.</p>
<p>
<a id="pgfId-1118839"></a>While running a simulation, ADE Assembler looks for a job policy in the order given below and applies the policy that is found first:</p>
<ul><li>
<a id="pgfId-1118840"></a>A test-specific job policy is applied to the test by using the <em>Job Setup</em> context-sensitive menu command for that test.</li><li>
<a id="pgfId-1118842"></a>The default job policy specified by using the <a actuate="user" class="URL" href="../anasimhelp/appA.html#defaultJobPolicy" show="replace" xml:link="simple">defaultJobPolicy</a> environment variable in the <code>.csdenv</code> file.</li><li>
<a id="pgfId-1118843"></a>If no custom job policy setting is found, the <code>Maestro Default</code> job Policy is used.</li></ul>



<h4>
<a id="pgfId-1118844"></a>Viewing the Global Job Policy</h4>

<p>
<a id="pgfId-1118845"></a>To view or modify the global job policy, choose the <em>Options &#8212; Job Setup</em> command in ADE Assembler. </p>

<p>
<a id="pgfId-1118849"></a></p>
<div class="webflare-div-image">
<img width="667" height="648" src="images/asmSimulating-17.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118850"></a>The <em>Netlisting</em> tab is visible only in the <em>LSCS</em> job control mode.</div>

<h3>
<a id="pgfId-1118852"></a><a id="34356"></a>Setting Up a Job Policy for a Test</h3>

<p>
<a id="pgfId-1118853"></a>You can set up a job policy for each test. This enables you to use different distributed processing resources or queues for different tests. </p>
<ul><li>
<a id="pgfId-1118854"></a>To set up a job policy for a test, on the Data View pane, right-click a test and choose <em>Job Setup</em>. The Job Policy Setup - &lt;test name&gt; form is displayed. Modify the settings to suit your requirements and save the setup with a new policy name.</li><li>
<a id="pgfId-1118855"></a>To remove the job setup for a test and apply global job policy for it, on the Data View pane, right-click a test and choose <em>Clear Job Setup</em>.</li></ul>


<h4>
<a id="pgfId-1118856"></a>Important Points Related to Job Policies</h4>

<ul><li>
<a id="pgfId-1118857"></a>Name of a test-specific job policy is shown in the test tooltip.</li><li>
<a id="pgfId-1118859"></a>If you want to use a custom job policy in every new maestro view, set the <a actuate="user" class="URL" href="../anasimhelp/appA.html#defaultJobPolicy" show="replace" xml:link="simple">defaultJobPolicy</a> environment variable to the name of your job policy. If the default policy is not required for a specific view, you can change it later. </li><li>
<a id="pgfId-1118860"></a>The job policy information is saved in the active setup database of a cellview and is applied in every subsequent use.</li><li>
<a id="pgfId-1118861"></a>The job policy specified for a test overrides the global job policy specified using the <em>Options &#8211; Job Setup</em> commands. Information about the tests for which job policy is defined is shown in the global <a href="asmSimulating.html#jobPolicySetupForm">Job Policy Setup form</a>, as shown below. <br />
<a id="pgfId-1118866"></a><div class="webflare-div-image">
<img width="648" height="168" src="images/asmSimulating-18.gif" /></div></li><li>
<a id="pgfId-1118867"></a>To use the global job policy for all tests in the setup and avoid any overrides, click <em>Clear All Per-test Job Setup</em>. The local job policies defined for each test is cleared.</li><li>
<a id="pgfId-1118868"></a>If all the tests have test-specific job policy, the global job policy specified through the <em>Options &#8211; Job Setup</em> command does not have any impact. If you specify a global job policy in this case, a message is displayed stating that the job policy will have no effect.<br />
<a id="pgfId-1118872"></a><div class="webflare-div-image">
<img src="images/adexl_test_job_policy_msg2.gif" /></div></li><li>
<a id="pgfId-1118873"></a>If some tests are running with test-specific job policies whereas other are running with global job policy, the <em>Options &#8211; Job Setup &#8211; Stop All</em> command stops the simulations for only those tests that are using the global job policy.</li><li>
<a id="pgfId-1118874"></a>For every test-specific job policy, a separate ICRP process is started and that is not used for any other test.</li><li>
<a id="pgfId-1118875"></a>If you change the job policy for a test while an ICRP process was running for that test, ADE Assembler completes the simulation for the running point. After that, the job is terminated and a new ICRP process is started according to the new job policy.</li><li>
<a id="pgfId-1164398"></a>If you make changes to the job policy for a test, such as change the job policy name or replace the job policy, while an LSCS process was running for that test, ADE Assembler completes the simulation for the running point and terminates the job. Then, all jobs from that test that use this job policy are terminated and new jobs are restarted according to the modified job policy. </li><li>
<a id="pgfId-1164399"></a>If you modify the <em>Max Jobs</em> value in the Job Policy Setup form, ADE Assembler completes the simulation for the running point before the job is terminated, and then rectifies the number of jobs by launching more jobs or terminating extra jobs. <br />
<a id="pgfId-1164400"></a>You can use this functionality to terminate lengthy jobs and run simulation for critical jobs by freeing up the resources. If you have multiple jobs in the queue, you can modify the Max Jobs value and then terminate any unnecessary jobs from the Run Summary assistant.</li></ul>




















<h3>
<a id="pgfId-1118877"></a><a id="56705"></a>Setting Up the <a id="jobPolicySetupForm"></a>Default Job Policy</h3>

<p>
<a id="pgfId-1143809"></a>To specify a customized default job policy:</p>
<ol><li>
<a id="pgfId-1143810"></a>In the Job Policy Setup Form:<ol><li>
<a id="pgfId-1143811"></a>Specify a job policy name. For example, <code>myDefaultJobPolicy</code>.</li><li>
<a id="pgfId-1143813"></a>Change the values for the fields <em>Distribution</em> <em>Method</em>, <em>Max.</em> <em>Jobs</em>, and <em>Linger</em> <em>Time</em>.</li></ol></li><li>
<a id="pgfId-1143814"></a>Click the <em>Save</em> button next to the <em>Job</em> <em>Policy</em> <em>Name</em> field.<br />
<a id="pgfId-1143815"></a>The Save Job Policy form is displayed.</li><li>
<a id="pgfId-1143816"></a>In this form, select the path for the job policy.</li><li>
<a id="pgfId-1143817"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1143818"></a>Set this job policy name as the value for the following variable:<br />
<a id="pgfId-1143819"></a><code>envSetVal( &quot;adexl.icrpStartup&quot; &quot;defaultJobPolicy&quot; &#39;string &quot;myDefaultJobPolicy&quot;</code> <code>)</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1143820"></a>By default, the job control mode is set to LSCS. Set the following variable to specify the default job policy for ICRP job control mode:</div>
<a id="pgfId-1143821"></a><code>envSetVal(&quot;maestro.distribute&quot; &quot;forceJobControlModeWhenViewOpen&quot; &#39;cyclic &quot;ICRP&quot;)</code></li></ol>










<p>
<a id="pgfId-1143823"></a>If you do not specify a job policy, the program applies the following <a id="jobPolicyDefaults"></a>defaults.</p>
<ul><li>
<a id="pgfId-1143824"></a>Distribution Method: <code>Local</code></li><li>
<a id="pgfId-1143825"></a>Max. Jobs: <code>1</code></li><li>
<a id="pgfId-1143826"></a>Start Timeout: <code>300 (seconds)</code></li><li>
<a id="pgfId-1143827"></a>Linger Time: <code>300 (seconds)</code></li><li>
<a id="pgfId-1143828"></a>Show errors even if retrying test: <code>t</code></li><li>
<a id="pgfId-1143829"></a>Optimize Single Point Run: <code>t</code></li><li>
<a id="pgfId-1143830"></a>Communication Timeout: <code>180 (seconds)</code></li><li>
<a id="pgfId-1143831"></a>Do not estimate: <code>t</code></li><li>
<a id="pgfId-1143832"></a>In the <em>Default Value</em> group box of the <em>Resources</em> tab:<ul><li>
<a id="pgfId-1143833"></a>Memory: <code>1000 MB</code></li><li>
<a id="pgfId-1143834"></a>CPU: <code>1 unit(s)</code></li></ul></li><li>
<a id="pgfId-1143835"></a>In the <em>Scale Estimated Values</em> by group box:<ul><li>
<a id="pgfId-1143836"></a>Memory: <code>100%</code></li><li>
<a id="pgfId-1143837"></a>CPU: <code>100%</code></li></ul></li></ul>














<h3>
<a id="pgfId-1118915"></a><a id="23043"></a>Specifying a Job Policy <a id="nameJobPolicy"></a>Name<a id="marker-1143802"></a></h3>

<p>
<a id="pgfId-1118916"></a>To specify a job policy name, do the following:</p>
<ol><li>
<a id="pgfId-1118917"></a>Choose <em>Options &#8211; Job Setup</em>.<br />
<a id="pgfId-1118918"></a>The Job Policy Setup form appears.</li><li>
<a id="pgfId-1118919"></a>In the <em>Job Policy Name</em> field, type a name for your job policy.<br />
<a id="pgfId-1118921"></a><a id="jobPolicyNameRestrictions"></a>The job policy name must be alphanumeric with no spaces or special characters.</li></ol>



<p>
<a id="pgfId-1118922"></a>You can specify the default job policy name by setting the <h-hot>defaultJobPolicy</h-hot> environment variable.</p>

<h3>
<a id="pgfId-1118925"></a><a id="15464"></a>Optimizing <a id="optimizeSingleRun"></a>a Single Point Run</h3>

<p>
<a id="pgfId-1164566"></a>The <em>Optimize Single Point Run</em> check box selected by default in the <em>Setup</em> section of the Job policy Setup form. ADE Assembler optimizes the run according to the specified job distribution method in the job policy.</p>
<ul><li>
<a id="pgfId-1164567"></a>ICRP: Runs the netlist generation, expression evaluation, and simulation tasks inside the ADE Assembler process.</li><li>
<a id="pgfId-1164568"></a>LSCS: Runs the netlist generation task in the ADE Assembler process. Expression evaluation and simulation are run in a remote process. </li></ul>

<p>
<a id="pgfId-1164569"></a>This saves the overhead of starting a separate process, thereby reducing the overall processing time.</p>

<p>
<a id="pgfId-1118930"></a></p>
<div class="webflare-div-image">
<img width="600" height="233" src="images/asmSimulating-20.gif" /></div>

<p>
<a id="pgfId-1118932"></a></p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1118934"></a>
While the netlist generation for a single point run is being done inside the ADE Assembler process, the user interface becomes unavailable for any changes. Therefore, it is recommended to clear the <em>Optimize Single Point Run</em> check box for designs and tests that require a large time to generate netlist.</div>

<p>
<a id="pgfId-1120793"></a>This feature is not supported when:</p>
<ul><li>
<a id="pgfId-1120808"></a>Simulating a single point for the EAD flow or for Monte Carlo sampling.</li><li>
<a id="pgfId-1120795"></a>The distribution method is set to <em>Command</em> and the command is non-interactive. An interactive command waits for the job to complete before returning control to the terminal.</li></ul>

<p>
<a id="pgfId-1118937"></a>Related environment variable: <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#useSameProcess" show="replace" xml:link="simple">useSameProcess</a></h-hot></p>

<h3>
<a id="pgfId-1118939"></a><a id="51022"></a>Specifying a Distribution Method</h3>

<p>
<a id="pgfId-1118940"></a>You can specify a distribution method by using the <em>Distribution Method</em> drop-down list.</p>

<p>
<a id="pgfId-1118945"></a></p>
<div class="webflare-div-image">
<img width="375" height="157" src="images/asmSimulating-22.gif" /></div>

<p>
<a id="pgfId-1118946"></a>Depen<a id="command"></a>ding on your setup, you can choose one of the following methods:</p>
<ul><li>
<a id="pgfId-1118947"></a>Local &#8211; Runs simulations on the local host.</li><li>
<a id="pgfId-1118948"></a>Remote-Host &#8211; Runs simulations on the remote host that you specify.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118949"></a>On selecting <em>Remote-Host</em> as the distribution method, the <em>Host</em> field is displayed. In this field, specify the name of a valid remote host.</div></li><li>
<a id="pgfId-1118950"></a>Command &#8211; Sends a command to the distributed processing software.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118951"></a>On selecting, <em>Command</em> as the distribution method, the <em>Command</em> field is displayed. In this field, specify the command you want to use to start jobs.The command must adhere to <a href="asmSimulating.html#commandGuidelines">these guidelines</a>.</div>
<a id="pgfId-1173223"></a>Click <em>Dry Run</em> to check the network health before running a simulation. To run this check, ADE Assembler submits the number of jobs specified in the <em>Max. Jobs</em> field of the Job Policy Setup form without actually running the processes. The maximum limit for the number of jobs that can be submitted is 100.</li><li>
<a id="pgfId-1118954"></a><em><a href="asmSimulating.html#LBS">LBS</a></em> &#8211; Uses Cadence Load Balancing Software.</li></ul>






<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118955"></a>Both LBS and Command distribution method submit ADE Assembler job to a job distribution engine, for example Sun Grid Engine (SGE). In LBS mode, you can specify a selected set of qsub options whereas with the Command method you can submit a command with any qsub option.</div>
<p>
<a id="pgfId-1118956"></a>The process owner should be the same user who is running simulations from ADE Assembler.</p>
<p>
<a id="pgfId-1133299"></a>If the specified job distribution method is invalid, ADE Assembler checks whether a default distribution method is returned by the <code>maeGetDefaultDistributionMethod</code>  custom SKILL function. You can define this function in the <code>.cdsinit</code> file as shown in the example below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1133300"></a>procedure(maeGetDefaultDistributionMethod()<br />&quot;Command&quot;<br />)</pre>
<h3>
<a id="pgfId-1118960"></a><a id="46609"></a>Specifying Max <a id="maxJobs"></a>Jobs<a id="marker-1118959"></a></h3>

<p>
<a id="pgfId-1118961"></a>The <em>Max</em> <em>Jobs</em> field specifies the maximum number of jobs that can run in an ADE Assembler session. This value along with the value specified in the <em>Specify</em> field on the Run Options form is used by ADE Assembler to assign jobs to the simulations running in a session.</p>

<p>
<a id="pgfId-1118965"></a></p>
<div class="webflare-div-image">
<img width="471" height="184" src="images/asmSimulating-23.gif" /></div>

<p>
<a id="pgfId-1118966"></a>To specify the maximum number of jobs that can run, do the following:</p>
<ul><li>
<a id="pgfId-1118967"></a>In the <em>Max. Jobs</em> field, type the maximum number of jobs that can run at any time during your ADE Assembler session.</li></ul>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118968"></a>If the distribution method specified in your job policy is <em>Command</em>, <em>Local</em> or <em>Remote-Host</em>, the maximum number of jobs that can run at any time cannot exceed the value specified using the <a actuate="user" class="URL" href="../anasimhelp/appA.html#maxIPCJobsLimit" show="replace" xml:link="simple">maxIPCJobsLimit</a> environment variable. The default value of this environment variable is <code>100</code>. </div>
<p>
<a id="pgfId-1118970"></a>When <em>Start Immediately</em> is turned on, the program immediately submits the specified maximum number of jobs, or one job for every test, whichever is less, when you start ADE Assembler. This means that the defined number of processes are already running before you start the simulation. This saves the overhead of staring processes at time of running simulation. </p>
<p>
<a id="pgfId-1118971"></a>To turn off this feature, do the following:</p>
<ul><li>
<a id="pgfId-1118972"></a>Deselect the <em>Start Immediately</em> check box.</li></ul>

<h4><em>
<a id="pgfId-1118973"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1118974"></a>Even if already started, the life of an idle process is controlled by the <em>Linger Time</em> field whose default value is <code>300</code> second. This implies that if a user launches a simulation 5 minutes after starting ADE Assembler, these processes would have already been killed and would restart when a simulation is run.</li><li>
<a id="pgfId-1118975"></a>The <em>Start Immediately</em> check box is visible only for the ICRP mode.</li><li>
<a id="pgfId-1118976"></a>In a scenario where the resource requirements change dynamically, it is recommended not to select the <em>Start Immediately</em> check box. The initial process will start based on the previous resource requirement in the job setup, but since the resource requirement change for every new run, the previously started process may not fulfill the new requirements. Hence, the older processes need to be killed and new processes are launched on the computer that meets the resource requirement.</li></ul>



<h3>
<a id="pgfId-1118981"></a><a id="32382"></a><a id="48902"></a>Specifying a <a id="commandGuidelines"></a>Command for DRMS </h3>

<p>
<a id="pgfId-1118982"></a>Consider the following guidelines when creating a command for DRMS:</p>
<ul><li>
<a id="pgfId-1118983"></a>It is expected that the process owner is the same user that is running simulations from ADE Assembler.</li><li>
<a id="pgfId-1118984"></a>When the software submits a job, it runs a separate process. The software prepends the command you type in the <em><a actuate="user" class="URL" href="../assembler/asmSimulating.html#command" show="replace" xml:link="simple">Command</a></em> field on the Job Policy Setup form to the job startup command. The program runs the entire command on the local host.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1118987"></a>
The command you type must take the job startup command as its argument.</div><br />
<a id="pgfId-1118988"></a>For example, you might type a DRMS command such as <code>bsub</code> for LSF or <code>qsub</code> for Sun Grid Engine (SGE) in the <em>Command</em> field:<pre class="webflare-pre-block webflare-courier-new" id="#id1118989">
<a id="pgfId-1118989"></a>bsub -I -q <code><em>queueName</em></code> <code><em>other_bsub_options</em></code> </pre>
<a id="pgfId-1118990"></a>The program puts the process startup command at the end of the command you type as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id1118991">
<a id="pgfId-1118991"></a>bsub -I -q <code><em>queueName</em></code> <code><em>other_bsub_options</em></code> <code><em>processStartupCommand</em></code> </pre>
<a id="pgfId-1118992"></a>You are responsible for making sure that this command is valid, that the <code>bsub</code> command you type can start a process on some host in the cluster using the specified options.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1118993"></a>
You can try customizing your job submissions by developing wrapper scripts and using them with a command job policy to submit your jobs. The program will not validate the correctness of your wrappers/scripts.</div></li><li>
<a id="pgfId-1118994"></a>It is always recommended to submit jobs in interactive mode to provide more control to ADE Assembler. The interactive mode provides the following two benefits:<ul><li>
<a id="pgfId-1118995"></a>ADE Assembler can find the job health status </li><li>
<a id="pgfId-1118996"></a>ADE Assembler can provide an exit method to the job</li></ul><br />
<a id="pgfId-1118997"></a>It is recommended to submit Command jobs as interactive mode jobs. <br />
<a id="pgfId-1118998"></a>The status of the job can be inferred from the local shell &quot;proxy&quot; process that exists in interactive mode. ADE Assembler can also send <code>SIGTERM</code>, an interrupt, to the DRMS &quot;proxy&quot; process running on the local host, which is then passed to the remote process. If required, ADE Assembler can also force a job to terminate by using the proxy process. <br />
<a id="pgfId-1118999"></a>Depending on the DRMS you are using, you can use the following commands to submit an interactive job:<pre class="webflare-pre-block webflare-courier-new" id="#id1119000">
<a id="pgfId-1119000"></a>LSF: bsub with -K, -I, or -Is </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1119001">
<a id="pgfId-1119001"></a>SGE: qsh, qlogin, or qrsh </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1119002">
<a id="pgfId-1119002"></a>Network Computer: nc run with -I, -Ir, or -Il</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1123497"></a>The <code>-K</code> and <code>-I</code> options are not compatible with the <a actuate="user" class="URL" href="../anasimhelp/appA.html#continueICRPRunOnAbruptGUIExit" show="replace" xml:link="simple">continueICRPRunOnAbruptGUIExit</a> environment variable. When the variable is set to <code>t</code> and the command mode uses <code>-I</code> or <code>-K</code>, the ICRPs will still be interrupted when the parent process dies. If you want to use continueICRPRunOnAbruptGUIExit avoid using the interactive job mode. </div>
<a id="pgfId-1119003"></a>A few scenarios where interactive jobs are useful are given below.<br />
<a id="pgfId-1119004"></a>Example 1: You run a simulation in batch mode. After some time, you stop the simulation while the job is pending before it got a chance to start. The job will remain pending in the DRMS system until it starts. The job will exit automatically when the DRMS starts. If you would have used the interactive mode instead, the job would have been killed by ADE Assembler immediately when stop the simulation. <br />
<a id="pgfId-1119005"></a>Example 2: You run a simulation in batch mode, but you have specified a bad resource requirement (one that cannot be met). You then stop the simulation while the job is pending to correct the resource string. The job will remain pending in the DRMS system unless you kill it manually. If you would have used interactive mode instead, the job would have been automatically killed by ADE Assembler. <br />
<a id="pgfId-1119006"></a>Example 3: If the process hangs for some reason, ADE Assembler can force termination when the command job is submitted as an interactive job. <br />
<a id="pgfId-1119007"></a>Example 4: Jobs were submitted to the DRMS, but got killed somehow while they were in the pending state. In normal mode, ADE Assembler will keep waiting for these jobs to start until the start timeout has been reached. However, in the interactive mode, ADE Assembler can detect the status and re-submit the job rather than waiting for the start timeout.<br />
<a id="pgfId-1119009"></a>Related environment variable: <a actuate="user" class="URL" href="../anasimhelp/appA.html#inferCommandICRPStatusFromProxy" show="replace" xml:link="simple">inferCommandICRPStatusFromProxy</a></li></ul>





























<h3>
<a id="pgfId-1119013"></a><a id="25026"></a>Specifying an LBS<a id="LBS"></a> Job Policy<a id="marker-1119012"></a></h3>

<p>
<a id="pgfId-1119014"></a>ADE Assembler supports the following Distributed Resource Management Systems (DRMS):</p>

<p>
<a id="pgfId-1119032"></a></p>
<table class="webflareTable" id="#id1119015">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119017"></a>LBS</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119019"></a>Load Balancing System &#8211; Simple job distribution system (<code>cdsqmgr</code>) for setting up queues (collections of host computers) and hosts per queue; each queue has a job-per-host limit</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119021"></a>LSF</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119023"></a>Load Sharing Facility &#8211; DRMS from Platform Computing</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119025"></a>SGE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119027"></a>Sun Grid Engine &#8211; Freeware from Sun Microsystems, Inc.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119029"></a>OpenLava</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119031"></a>OpenLava workload management system</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1119037"></a>To specify a <a id="marker-1119036"></a>load balancing system job policy, do the following:</p>
<ol><li>
<a id="pgfId-1119039"></a><a href="asmSimulating.html#nameJobPolicy">Specify a name</a> for your job policy.</li><li>
<a id="pgfId-1119040"></a>In the <em>Distribution Method</em> drop-down list, select <em>LBS</em>.</li></ol>

<p>
<a id="pgfId-1119041"></a>Check boxes, fields, and list boxes related to specifying queues and hosts appear.</p>
<p class="webflare-indent1">
<a id="pgfId-1119042"></a>If you have set up the LBS DRMS, the form shows additional fields.</p>

<p class="webflare-indent1">
<a id="pgfId-1119046"></a></p>
<div class="webflare-div-image">
<img width="399" height="791" src="images/asmSimulating-25.gif" /></div>

<p>
<a id="pgfId-1119047"></a>If you have set up the SGE DRMS, the form shows the fields relevant to SGE.</p>
<ol><li>
<a id="pgfId-1119048"></a>(For LSF and OpenLava only) Select the <em>Queue</em> check box and select an available queue from the drop-down list.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119049"></a>Your system administrator determines the list of available queues. 
See <a actuate="user" class="URL" href="../Explorer/appLBS.html#firstpage" show="replace" xml:link="simple">System Administrator Information</a>.</div>
<a id="pgfId-1119052"></a>If you do not select the <em>Queue</em> check box, the program uses default system queue.</li><li>
<a id="pgfId-1119053"></a>(For LSF and OpenLava only) Select the <em>Host</em> check box and select an available host from the list area.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119054"></a>The list of hosts corresponds to those available in the selected queue (see the previous step).If you do not select the <em>Host</em> check box, your DRMS decides which host to use.</div></li><li>
<a id="pgfId-1119056"></a>(For LSF and OpenLava only) In the <em>Resource Requirements</em> field, specify any additional resource requirements to submit the job. <br />
<a id="pgfId-1119057"></a>The program uses these resource requirements along with the queue/host you specified to start the job. It is up to the load sharing facility software to resolve any conflicts between the queue/host and the resource requirements.</li><li>
<a id="pgfId-1119058"></a>(For LSF and OpenLava only) In the <em>Parallel Num. Processors </em>field, specify the number of parallel processors to be used to run a simulation. To use this value, select the check box given to the right of this check box.</li><li>
<a id="pgfId-1119059"></a>(For LSF and OpenLava) In the <em>Job Group </em>field, specify the name of the job group to which you need to submit the job.</li><li>
<a id="pgfId-1119060"></a>(For LSF only) In the <em>Service Class </em>field, specify the name of the service class to which you need to submit the job.</li><li>
<a id="pgfId-1119061"></a>(For LSF only) Select the <em>Memory Host Limit</em> check box to apply the memory limit set for the selected LSF queue in the configuration file for LSF.</li><li>
<a id="pgfId-1119062"></a>(For SGE only) In the <em>Hard Resource Req</em> field, specify the resources that must be allocated before a job can be started.</li></ol>











<p>
<a id="pgfId-1119063"></a>For example, <code>num_proc=4,mem_total=4G</code></p>
<ol><li>
<a id="pgfId-1119064"></a>(For SGE only) In the <em>Soft Resource Req</em> field, specify the resources that a job needs but do not have to be allocated before the job can be started. The specified resources will be allocated to the job on an as-available basis. </li></ol>
<p>
<a id="pgfId-1119065"></a>For example, <code>mem_free=2G</code></p>
<ol><li>
<a id="pgfId-1119066"></a>(For SGE and OpenLava only) In the <em>Job Priority</em> field, specify the priority for the job being submitted relative to other pending jobs submitted by you. Default priority of a submitted job is <code>0</code>. Users with administrator privileges can set this value from <code>-1023</code> to <code>1024</code>. Other users can set this value from <code>-1023</code> to <code>0</code>.<br />
<a id="pgfId-1119067"></a>For example, you can set priority for a job as <code>-500</code>.</li><li>
<a id="pgfId-1119068"></a>(For SGE only) In the <em>Parallel Environment</em> field, specify the name of the parallel environment.</li><li>
<a id="pgfId-1119069"></a>In the <em>Parallel Num Processors</em> field, specify the number of parallel processors to be used to run the submitted job. </li><li>
<a id="pgfId-1119071"></a>(Optional) <a href="asmSimulating.html#maxJobs">Specify maximum job information</a>.</li><li>
<a id="pgfId-1119073"></a>(Optional) <a href="asmSimulating.html#timeouts">Specify job timeouts</a>.</li><li>
<a id="pgfId-1119075"></a>(Optional) <a href="asmSimulating.html#error_reporting">Specify error reporting options</a>.</li><li>
<a id="pgfId-1119077"></a>(Optional) <a href="asmSimulating.html#multiple_runs">Specify multiple run options</a>.</li><li>
<a id="pgfId-1119078"></a>Save your job policy. <br />
<a id="pgfId-1119082"></a>For more information, see <a href="asmSimulating.html#16795">Saving or Deleting a Job Policy</a>.</li><li>
<a id="pgfId-1119083"></a>Click <em>OK</em>.</li></ol>











<h3>
<a id="pgfId-1119087"></a><a id="36683"></a>Specifying Job <a id="timeouts"></a>Timeouts<a id="marker-1119086"></a> for ICRP</h3>

<p>
<a id="pgfId-1119088"></a>To customize job timeout options, specify values in the fields of in the <em>Timeouts </em>group box of the <em>Simulation</em> tab of the Job Policy Setup form.</p>
<p>
<a id="pgfId-1135804"></a>All the values in this section are specified in seconds. When a timeout value is set to <code>0</code>, -1, or is left blank, the timeout is disabled. This leads to an unlimited wait time.</p>

<p>
<a id="pgfId-1119092"></a></p>
<div class="webflare-div-image">
<img width="412" height="175" src="images/asmSimulating-26.gif" /></div>

<p>
<a id="pgfId-1119093"></a>The following table describes the fields in the <em>Timeouts</em> section:</p>

<p>
<a id="pgfId-1138425"></a></p>
<table class="webflareTable" id="#id1134489">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1133823">
<a id="pgfId-1133823"></a>Field </span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1133825">
<a id="pgfId-1133825"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133827"></a> <em>Start Timeout</em><a id="marker-1134495"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133877"></a>Specifies the time (in seconds) for which the tool should wait for the ICRP process to report back to ADE Assembler that it has started in an ICRP job. The wait time starts as soon as ADE Assembler submits the job.</p>
<p>
<a id="pgfId-1134124"></a>If no response is received in the given time, ADE Assembler considers the job not started and kills it. If there is another job waiting to start, ADE Assembler starts it.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1133879"></a>If you are using LBS or an interactive bsub or qsub command for job distribution and the jobs take longer than this timeout value to start, ADE Assembler might consider the job as failed. To avoid this, you can set the start timeout to blank or to a larger value, for example, 100000. </div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133831"></a> <em>Configure Timeout</em><a id="marker-1134502"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119099"></a>Specifies the time (in seconds) for which the tool should wait for the process to report back to ADE Assembler that it has configured the job. The wait time starts as soon as ADE Assembler sends the job configure command.</p>
<p>
<a id="pgfId-1119100"></a>If the process does not respond with a successful configuration message in the given time, ADE Assembler considers the job configuration unsuccessful and kills it. ADE Assembler looks for the next idle job and tries to start and configure it.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1133833"></a>This option is available only for the ICRP mode.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134229"></a> <em>Simulation Run Timeout</em><a id="marker-1134509"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119103"></a>Specifies the number of seconds to wait for the process to report back to ADE Assembler that it has run the job. The wait time starts as soon as ADE Assembler sends the run command for the job.</p>
<p>
<a id="pgfId-1134231"></a>If the process does not respond that the job has completed in the number of seconds you specify, ADE Assembler considers the job run unsuccessful and kills it. ADE Assembler looks for the next idle job and tries to start, configure, and run it.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134272"></a> <em>Linger Time</em><a id="marker-1134515"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134274"></a>Specifies the number of seconds to wait for the process to kill a remote job after the simulation is complete.</p>
<p>
<a id="pgfId-1135902"></a>For LSCS job control mode, this linger time value is used by both processes, Simulation monitor and expression evaluator.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134948"></a> <em>Communication Timeout</em><a id="marker-1134947"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1134950"></a>For ICRP job control mode, specifies the number of seconds to wait for the process to report back to ADE Assembler that the Message Passing System (MPS) communication has been successfully established.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1138429"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1138433"></a><a href="asmSimulating.html#74476">Troubleshooting Jobs that Stay Pending until Timeout</a></p>
<p>
<a id="pgfId-1133820"></a></p>

<h3>
<a id="pgfId-1119110"></a><a id="70438"></a>Specifying Error Reporting Options<a id="error_reporting"></a></h3>

<p>
<a id="pgfId-1119111"></a>To customize error reporting, you need to specify the options in the <em>Error Reporting </em>group box of the <em>Simulation</em> tab of the Job Policy Setup form.</p>

<p>
<a id="pgfId-1119115"></a></p>
<div class="webflare-div-image">
<img width="391" height="103" src="images/asmSimulating-27.gif" /></div>

<ol><li>
<a id="pgfId-1119116"></a>To view the output log file of the remaining error points, right-click the job status icon on the Run Summary assistant pane.<br />
<a id="pgfId-1119117"></a>By default, if multiple error points exist for a test, the program displays only the output log file of the first error point in the test. </li><li>
<a id="pgfId-1119118"></a>To cause the program to display the output log files of all error points in the test, select the <em>Show output log on error</em><a id="showOutputLog"></a><a id="marker-1119120"></a> check box.</li></ol>


<p>
<a id="pgfId-1119121"></a>To cause the program to display the output log file on the occurrence of an error for a test, even if the ADE Assembler distribution system is retrying the test, select the <em>Show errors even if retrying test</em> check box.</p>

<h3>
<a id="pgfId-1119123"></a><a id="16795"></a>Saving or Deleting a Job Policy<a id="savejobpolicy"></a></h3>

<p>
<a id="pgfId-1119124"></a>To save a job policy, do the following:</p>
<ol><li>
<a id="pgfId-1119125"></a>In the Job Policy Setup form, click <em>Save</em>.<br />
<a id="pgfId-1119127"></a>The <a id="formSaveJobPolicy"></a>Save Job Policy form appears.<br />
<a id="pgfId-1119131"></a><div class="webflare-div-image">
<img src="images/formSaveJobPolicy.gif" /></div></li><li>
<a id="pgfId-1119132"></a>In the <em>Select Path</em> list, select the directory where you want to save the job policy.<br />
<a id="pgfId-1119133"></a>You can save the job policy in one of the following directories in which you have write permissions or in the paths specified in your <code>setup.loc</code> file where you have write permissions:<ul><li>
<a id="pgfId-1119134"></a><code>.cadence</code> directory in the current directory</li><li>
<a id="pgfId-1119135"></a>The <code>.cadence</code> directory in the path specified in the <code>CDS_WORKAREA</code> environment variable.</li><li>
<a id="pgfId-1119136"></a><code>$HOME/.cadence</code> (the <code>.cadence</code> directory in your home directory)</li><li>
<a id="pgfId-1119137"></a>The <code>.cadence</code> directory in the path specified in the <code>CDS_PROJECT</code> environment variable.</li><li>
<a id="pgfId-1119138"></a>The <code>.cadence</code> directory in the path specified in the <code>CDS_SITE</code> environment variable.</li></ul></li><li>
<a id="pgfId-1119139"></a>Click <em>OK</em>.<br />
<a id="pgfId-1119140"></a>The job policy is saved in the <code>jobpolicy</code> directory under the selected directory. The job policy file has the <code>.jp</code> extension.</li></ol>














<p>
<a id="pgfId-1119141"></a>If a job policy file with the same name is found in more than one of the above locations, the first job policy file found in the first of the following locations is used:</p>
<ul><li>
<a id="pgfId-1119142"></a><code>.cadence</code> directory in the current directory</li><li>
<a id="pgfId-1119143"></a>The <code>.cadence</code> directory in the path specified in the <code>CDS_WORKAREA</code> environment variable.</li><li>
<a id="pgfId-1119144"></a><code>$HOME/.cadence</code> (the <code>.cadence</code> directory in your home directory)</li><li>
<a id="pgfId-1119145"></a>The <code>.cadence</code> directory in the path specified in the <code>CDS_PROJECT</code> environment variable.</li><li>
<a id="pgfId-1119146"></a>The <code>.cadence</code> directory in the path specified in the <code>CDS_SITE</code> environment variable.</li></ul>




<p>
<a id="pgfId-1119147"></a>To delete a job policy, do the following:</p>
<ol><li>
<a id="pgfId-1119148"></a>Choose <em>Options &#8211; Job Setup</em>.<br />
<a id="pgfId-1119149"></a>The Job Policy Setup form appears.</li><li>
<a id="pgfId-1119150"></a>From the <em>Job Policy Name</em> drop-down list, select the job policy you want to delete.</li><li>
<a id="pgfId-1119151"></a>Click <em>Delete</em>.</li></ol>




<h2>
<a id="pgfId-1119153"></a><a id="87959"></a>Running Simulations with <a id="runLSCS"></a>LSCS Job Control Mode</h2>

<p>
<a id="pgfId-1119154"></a>Large-Scale Cloud Simulation (LSCS) is a highly scalable job control mode that can handle thousands of netlisting and simulation jobs in parallel. It is a new job control mode that is available in addition to the existing IC Remote Processes (ICRP) mode. LSCS implements a new architecture to run simulations with better resource utilization. It also enables future scalability requirements, mainly cloud simulations.</p>

<h3>
<a id="pgfId-1120906"></a>How is LSCS Different from ICRP?</h3>

<p>
<a id="pgfId-1119155"></a>To understand the benefits provided by LSCS, it would help to first understand the difference in the underlying architecture of the two job control modes, as shown in the following figure:</p>

<p>
<a id="pgfId-1119159"></a></p>
<div class="webflare-div-image">
<img width="668" height="321" src="images/asmSimulating-29.gif" /></div>

<p>
<a id="pgfId-1119160"></a>In the ICRP mode, the netlisting, expression evaluation, and communication with the main GUI process are handled by a single Virtuoso process. It makes the system non-scalable for a large number of jobs because Virtuoso blocks a lot of resources even after netlisting is done and the simulation process is running independently. </p>
<p>
<a id="pgfId-1119161"></a>Even though netlisting can be done in the main GUI process using the <code>ignoreDesignChangesDuringRun</code> environment variable, it makes the GUI unresponsive until netlisting is completed. Thus, ICRP job control mode is inefficient for very large designs. </p>

<h3>
<a id="pgfId-1119162"></a><a id="58469"></a>LSCS Architecture</h3>

<p>
<a id="pgfId-1119163"></a>In LSCS mode, three systems, Virtuoso, Netlist Service, and Simulation Monitor, interact with each other to control different parts of a simulation run. These systems work independently and concurrently with a set of shared queues of messages. </p>
<p>
<a id="pgfId-1119164"></a>The workflow is divided into separate processes that consume resources only when they are needed. Therefore, this model enables a more efficient exchange of information between these distinct processes.The following figure describes the architecture of LSCS job control mode in detail.</p>

<p>
<a id="pgfId-1119168"></a></p>
<div class="webflare-div-image">
<img width="652" height="380" src="images/asmSimulating-30.gif" /></div>

<p>
<a id="pgfId-1119169"></a>The LSCS job control mode is driven by message queues, which work on producer-consumer model. It is a decoupled structure in which a producer process places a task in a message queue. The consumer process processes the tasks in the message queue whenever it is free from its existing tasks. This architecture supports a scalable model for inter-process communication because no process is waiting for the other process to complete a particular task. This helps in avoiding a lot of situations where resources can reach a blocked state waiting for other processes to complete. </p>
<p>
<a id="pgfId-1119170"></a>The most important advantage of this implementation is that the producer and the consumer can work at its respective speed. These features of LSCS mode enhance the user experience because the GUI process is free from undesirable interrupts. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119171"></a>If you have multiple netlister processes running, each process netlists a different test in parallel until the tests are exhausted and then jobs are used to create a netlist for each point.</div>

<h3>
<a id="pgfId-1119172"></a>Expression Evaluation Process</h3>

<p>
<a id="pgfId-1142784"></a>The expression evaluation process is an independent process that runs outside of Virtuoso to evaluate the expressions. This process does not require any access to the design-related information. Therefore, it is launched by Virtuoso as an independent process by using the vds executable. This process reads the initialization information from the .<code>vdsinit</code> file. It does not read <code>.cdsinit</code>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1119174"></a>
The expression evaluator process is launched only by an internal function of a Virtuoso process. You cannot run this process  independently by explicitly running the vds executable from the command line or in any other way. However, you can configure the settings to be used by <code>vds</code> in<code>.vdsinit.</code></div>

<p>
<a id="pgfId-1119175"></a>By default, the expression evaluation process does not call <code>virtuoso</code> because it does not need to access the design information. However, if your expressions rely on the design or layout information, you can explicitly switch to use <code>virtuoso</code> by setting the <code>exprEval</code> environment variable to <code>&quot;virtuoso&quot;</code>:</p>
<p>
<a id="pgfId-1119176"></a><code>envSetVal(&quot;maestro.exprEval&quot; &quot;binaryName&quot; &#39;string &quot;virtuoso&quot;)</code></p>
<p>
<a id="pgfId-1119177"></a>After the above environment variable setting is done, the expression evaluator uses the <code>virtuoso</code> executable instead of <code>vds</code>.</p>

<h3>
<a id="pgfId-1119178"></a>Benefits of LSCS Job Control Mode</h3>

<p>
<a id="pgfId-1119179"></a>The various benefits of LSCS are listed below.</p>
<ul><li>
<a id="pgfId-1119180"></a>It is a highly scalable job control mode because each process runs independently without impacting the other processes or making their resources hang. This allows reliable handling of thousands of netlisting and simulation jobs running in parallel.</li><li>
<a id="pgfId-1119181"></a>It checks if the design for different points is common. For the common designs using config sweep, it reuses the netlist across corners. This allows optimum resource utilization. If the design is same, a netlist can be reused in the following cases:<ul><li>
<a id="pgfId-1119182"></a>Across corners or variable sweeps for each view</li><li>
<a id="pgfId-1119183"></a>Across the same design tests or tests with same top-level testbench</li></ul></li><li>
<a id="pgfId-1119184"></a>It enables flexible distribution of the respective jobs. The jobs queued up for each process can be distributed to different farm computers locally or remotely. This is enabled by allowing different job policy definitions for simulation and netlisting, respectively. This significantly reduces the netlisting and simulation run time as compared to ICRP job control mode.</li><li>
<a id="pgfId-1119185"></a>The testbench design can be opened in read-only mode while netlisting is in progress. Therefore, when the simulation is in progress, you can modify the setup. Only design editing is not possible.</li><li>
<a id="pgfId-1119186"></a>Enables better debugging through improved log recording and introduction of new log views. For more information, refer to the section <a href="asmSimulating.html#63264">Viewing Log Files</a>.</li><li>
<a id="pgfId-1119190"></a>You can control the maximum iterations per simulation in the Monte Carlo Options form.<br />
<a id="pgfId-1119194"></a><div class="webflare-div-image">
<img width="574" height="409" src="images/asmSimulating-31.gif" /></div></li></ul>











<p>
<a id="pgfId-1119195"></a><strong>Benefits of LSCS Over ICRP </strong></p>
<p>
<a id="pgfId-1119196"></a>The following points describe how LSCS is better than ICRP.</p>
<ul><li>
<a id="pgfId-1119197"></a>Due to sequential processing in ICRP, a simulation process has a large waiting time when the netlist generation is in progress. In LSCS, all the processes run independently.</li><li>
<a id="pgfId-1119198"></a>In ICRP, the netlist of the same design is generated repeatedly for different points in a design. However, LSCS reuses the netlist of the same design.</li><li>
<a id="pgfId-1119199"></a>In ICRP, large number of jobs can cause the GUI to freeze. However, LSCS allows running each job without impacting the other processes or hanging their resources.</li><li>
<a id="pgfId-1119200"></a>In order to save the netlist for a point from inadvertent changes, when netlisting is done in the GUI process, UI is frozen until all netlists are created. In LSCS, netlists are created in background processes and integrity of each netlist is maintained.</li><li>
<a id="pgfId-1119201"></a>In ICRP, all the resources used in netlisting, monitoring and expression evaluation are used up when a simulation is in progress. However, LSCS distributes all the processes and queues them at different farm computers. This minimizes the possibility of holding up of any resources for a process.</li></ul>




<p>
<a id="pgfId-1119202"></a><strong>Limitations of LSCS</strong></p>
<p>
<a id="pgfId-1119203"></a>The LSCS job control mode has the following limitation:</p>
<ul><li>
<a id="pgfId-1121022"></a>It is supported for only Cadence simulators, Spectre and AMS. If you set LSCS and run simulation using any third-party simulator, ADE Assembler prompts you to confirm whether it can change the job control mode to ICRP. Click <em>OK</em> to change the control mode to continue the simulation with ICRP, or stop simulation and change the simulator.</li></ul>
<p>
<a id="pgfId-1154641"></a><strong>Performance of LSCS</strong></p>
<p>
<a id="pgfId-1155176"></a>For the netlisting phase in LSCS, you might experience a slight performance dip in IC23.1 when compared to the earlier versions. This is caused by an additional check to improved stability in IC23.1. We ensure that all the necessary data is synchronized on the remote machines in the NFS before simulation starts. This may take a few seconds depending on the performance of your NFS system. </p>

<h3>
<a id="pgfId-1119204"></a>Configuring the Job Policy Setup for LSCS</h3>

<p>
<a id="pgfId-1119205"></a>Job distribution is done according to the distribution method set by the <em>Job Control Mode</em> option on the Job Policy Setup form in ADE Explorer or ADE Assembler. </p>
<p>
<a id="pgfId-1119206"></a>To set up LSCS job control mode:</p>
<ol><li>
<a id="pgfId-1119207"></a>In ADE Explorer, choose <em>Setup</em> &#8211; <em>Job Setup</em> to open the Job Policy Setup form. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119208"></a>In ADE Assembler, you can open the form by choosing <em>Options</em> &#8211; <em>Job Setup</em>.</div></li><li>
<a id="pgfId-1119209"></a>On the <em>Simulation</em> tab, select <em>LSCS</em> job control mode.<br />
<a id="pgfId-1119213"></a><div class="webflare-div-image">
<img width="589" height="661" src="images/asmSimulating-32.gif" /></div></li></ol>






<p>
<a id="pgfId-1119214"></a>Each job can be configured to run one or more simulations. ADE Explorer and ADE Assembler internally uses these jobs to efficiently distribute time-consuming tasks that can be performed in parallel. Settings for these jobs such as how many remote processes to start, where the processes should run, on local or remote computers, or the time for which a remote process should stay active and wait for a simulation to run are set as a job policy. </p>
<p>
<a id="pgfId-1119215"></a><strong>Important Points to Note</strong></p>
<ul><li>
<a id="pgfId-1119216"></a>In LSCS mode, jobs for simulation and netlisting run independently. You must set separate job policies to define the type of resources to be used by them.</li><li>
<a id="pgfId-1119217"></a>Any changes made in a job policy might impact the simulations in other maestro sessions opened in the same Virtuoso session and using the same job policy. To avoid any impact on those sessions, you can save the policy with another name.</li></ul>

<p>
<a id="pgfId-1119218"></a>The following sections describe the settings on the various tabs of the Job Policy Setup form:</p>
<ul><li>
<a id="pgfId-1119222"></a><a href="asmSimulating.html#23043">Specifying a Job Policy Name</a></li><li>
<a id="pgfId-1119226"></a><a href="asmSimulating.html#15464">Optimizing a Single Point Run</a></li><li>
<a id="pgfId-1119230"></a><a href="asmSimulating.html#51022">Specifying a Distribution Method</a></li><li>
<a id="pgfId-1119234"></a><a href="asmSimulating.html#46609">Specifying Max Jobs</a></li><li>
<a id="pgfId-1119238"></a><a href="asmSimulating.html#48902">Specifying a Command for DRMS</a></li><li>
<a id="pgfId-1119242"></a><a href="asmSimulating.html#25026">Specifying an LBS Job Policy</a></li><li>
<a id="pgfId-1119246"></a><a href="asmSimulating.html#36683">Specifying Job Timeouts for ICRP</a></li><li>
<a id="pgfId-1119250"></a><a href="asmSimulating.html#70438">Specifying Error Reporting Options</a></li><li>
<a id="pgfId-1119254"></a><a href="asmSimulating.html#58955">Setting up the Netlisting Job Policy for LSCS</a></li><li>
<a id="pgfId-1119258"></a><a href="asmSimulating.html#14427">Setting up the Resource Estimation Options for LSCS</a></li></ul>










<h3>
<a id="pgfId-1137213"></a>Specifying <a id="jobTimeout"></a>Job Timeouts for LSCS</h3>

<p>
<a id="pgfId-1137214"></a>To customize job timeout options, specify values in the fields of in the <em>Timeouts </em>group box of the <em>Simulation</em> tab of the Job Policy Setup form.</p>
<p>
<a id="pgfId-1137215"></a>All the values in this section are specified in seconds. When a timeout value is set to <code>0</code>, -1, or is left blank, the timeout is disabled. This leads to an unlimited wait time.</p>

<p>
<a id="pgfId-1137219"></a></p>
<div class="webflare-div-image">
<img width="417" height="195" src="images/asmSimulating-33.gif" /></div>

<p>
<a id="pgfId-1137220"></a>The following table describes the fields in the <em>Timeouts</em> section:</p>
<p>
<a id="pgfId-1137260"></a></p>
<table class="webflareTable" id="#id1137221">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1137223">
<a id="pgfId-1137223"></a>Field </span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1137225">
<a id="pgfId-1137225"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137228"></a> <em>Start Timeout</em><a id="marker-1137227"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137230"></a>Specifies the time (in seconds) for which the tool should wait for the simulation process to report back to ADE Assembler that it has started. </p>
<p>
<a id="pgfId-1139391"></a>The wait time starts as soon as ADE Assembler submits the job. If no response is received in the given time, ADE Assembler considers the job as not started and kills it. If there is another job waiting to start, ADE Assembler starts it.</p>
<p>
<a id="pgfId-1139393"></a>This value is also used as the wait time for the expression evaluator jobs. If a job fails to complete for a point, ADE Assembler sets the status of that point as <code>eval err</code>.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1137233"></a>If you are using LBS or an interactive bsub or qsub command for job distribution and the jobs take longer than this timeout value to start, ADE Assembler might consider the job as failed. To avoid this, you can set the start timeout to blank or to a larger value, for example, 100000. </div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137243"></a> <em>Simulation Run Timeout</em><a id="marker-1137242"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137245"></a>Specifies the number of seconds to wait for the Spectre monitor process to report back to ADE Assembler that it has run the job. The wait time starts as soon as ADE Assembler sends the run command for the job.</p>
<p>
<a id="pgfId-1137246"></a>If the process does not respond that the job has completed in the number of seconds you specify, ADE Assembler considers the job run unsuccessful and kills it. ADE Assembler looks for the next idle job and tries to start, and run it.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137249"></a> <em>Linger Time</em><a id="marker-1137248"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137251"></a>Specifies the number of seconds to wait for the Simulation monitor and expression evaluator processes to kill a remote job after its task is complete. </p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1119259"></a><a id="58955"></a>Setting up the Netlisting Job Policy for LSCS</h3>

<p>
<a id="pgfId-1119260"></a>You can set up a job policy for netlisting jobs on the <em>Netlisting</em> tab of Job Policy Setup form.</p>

<p>
<a id="pgfId-1119264"></a></p>
<div class="webflare-div-image">
<img width="438" height="494" src="images/asmSimulating-34.gif" /></div>

<p>
<a id="pgfId-1119265"></a>The following table describes all the fields on this tab of the Job Policy Setup form.</p>
<p>
<a id="pgfId-1138296"></a></p>
<table class="webflareTable" id="#id1119266">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1119268">
<a id="pgfId-1119268"></a>Field Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1119270">
<a id="pgfId-1119270"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119272"></a><em>Optimize Single Point Run</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1119274"></a>Specifies that an ADE Assembler process must be used for netlist generation to optimize a simulation run. </p>
<p>
<a id="pgfId-1119275"></a>For more information, see <a href="asmSimulating.html#15464">Optimizing a Single Point Run</a>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119281"></a><em>Distribution Method</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119283"></a>Specifies a distribution method by using the drop-down list. Depending on your setup, you can choose one of the following methods:</p>

<ul><li>
<a id="pgfId-1119284"></a><em>Command</em> &#8211; You send a command to the distributed processing software.</li><li>
<a id="pgfId-1119285"></a><em>Local</em> &#8211; The program creates netlists on the local host.</li><li>
<a id="pgfId-1119286"></a><em>Remote-Host</em> &#8211; The program creates netlists on the remote host that you specify.</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119288"></a><em>Max Jobs</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119290"></a>Specifies the maximum number of netlist services that can run in an ADE Assembler or ADE Explorer session. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119291"></a>For the local or remote-host distribution method, it is recommended to keep the maximum jobs for netlisting services less than the number specified by the <a actuate="user" class="URL" href="../assembler/appEnvVars.html#maxNetlistingJobsForLocal" show="replace" xml:link="simple">maxNetlistingJobsForLocal</a> environment variable. By default, this variable is set to <code>50</code>.</div>
<p>
<a id="pgfId-1119293"></a>When the <em>Start Immediately</em> check box is selected, the program immediately submits the specified maximum number of jobs, or one job for every test, whichever is less, when you start ADE Explorer or ADE Assembler. This means that the defined number of LSCS processes are already running before you start the simulation. This saves the overhead of starting LSCS<code> </code>processes at the time of generating the netlist. To turn off this feature, deselect the <em>Start Immediately</em> check box.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119295"></a><em>Start Immediately</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119297"></a>Specifies whether to launch the netlister as soon as a maestro view is opened. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119299"></a><em>Start Timeout</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119301"></a>Specifies the time for which the tool should wait for the netlisting process to report back to ADE Assembler that it has started. The wait time starts as soon as ADE submits the job.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119302"></a>If LSCS<code> </code>does not respond in the given time, ADE Assembler considers the job not started and kills it. If there is another job waiting to start, the tool starts it.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119304"></a><em>Netlisting Run Timeout</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119306"></a>Specifies the time to wait for a netlisting job to complete. It starts as soon as a netlisting job is initiated by ADE</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119307"></a>If the netlisting job does not respond that the job has completed in the given time, ADE Assembler considers the job run unsuccessful and kills it and looks for the next idle job and tries to start, configure, and run it.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119309"></a><em>Linger Time</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119311"></a>Specifies the number of seconds after which you want the program to kill a remote job after the netlist is generated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1136636"></a>Communication Timeout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138364"></a>Specifies the number of seconds to wait for the process to report back to ADE Assembler that the Message Passing System (MPS) communication has been successfully established. This value is helpful in troubleshooting a pending job.</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1119312"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1138312"></a><a href="asmSimulating.html#74476">Troubleshooting Jobs that Stay Pending until Timeout</a></p>

<h3>
<a id="pgfId-1119314"></a><a id="14427"></a>Setting up the Resour<a id="REST"></a>ce Estimation Options for LSCS</h3>

<p>
<a id="pgfId-1119315"></a>On the <em>Resources</em> tab of Job Policy Setup form you can specify options for disk space usage and for CPU and memory data estimation.</p>

<p>
<a id="pgfId-1119319"></a></p>
<div class="webflare-div-image">
<img width="658" height="746" src="images/asmSimulating-35.gif" /></div>

<p>
<a id="pgfId-1119418"></a>The following table describes all the fields on this tab of the Job Policy Setup form.</p>
<table class="webflareTable" id="#id1119320">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1119322">
<a id="pgfId-1119322"></a>Form Field</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1119324">
<a id="pgfId-1119324"></a>Description </span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119326"></a><em>Estimated Memory </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119328"></a>Shows the estimated memory requirement to run the current simulation run. This feature is enabled by using the options given in the <em>CPU and Memory Data</em> group box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119330"></a><em>Disk Space</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144738"></a>    <em>- Check disk space using the command to get user quota</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144740"></a>Enables checking of the disk space available in user quota. If you want to alert when the available disk space is less than the given space, select this check box to check for user quota of disk space.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144746"></a>    <em>- Command to get user quota</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144748"></a>Specifies the command to be run to check the user quota. The command must return an output in the format <code>&#8217;available: </code><span class="webflare-courier-new" style="white-space:pre"><em>space</em></span><code>&#8217;</code>. </p>
<p>
<a id="pgfId-1145242"></a>For example: <code>echo &#39;available: 10000&#39;</code></p>
<p>
<a id="pgfId-1145295"></a>you can also specify the name of a script that returns this value. For example: <code>./getQuota.sh</code></p>
<p>
<a id="pgfId-1145449"></a>If you enter an invalid command, Spectre displays a question giving you choice to either continue the simulation run without disk space check based on user quota or to cancel the run and correct the command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119334"></a>    <em>- Show warning for low disk</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119336"></a>Enables checking of the available disk space when a simulation run is started. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119338"></a>    <em>- Automatically suspend simulations if the disk space is insufficient</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119340"></a>Enables automatic suspension of all the simulations in progress whenever the available disk space falls below the minimum threshold specified in the <em>Minimum disk space to be maintained (in MB)</em> field. For more details, see <a href="asmSimulating.html#49762">Suspending Simulations Automatically When the Disk Space is Low</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119345"></a><em>CPU and Memory Data</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119349"></a>    <em>- Do not estimate</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119351"></a>Disables estimation of processors and memory required for the current simulation. In this case, you can yourself specify the required number of processors to be used to distribute simulations.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119352"></a>When you disable estimation for LBS DRMS, select the check box to the right of the <em>Parallel Num. Processors </em>field on the <em>Simulation</em> tab of the Job Policy Setup form and specify a value in it. If you clear the check box given to the right of the <em>Parallel Num. Processors </em>field, the value given in the field is also cleared. In such a case, you should select any one of the other two options in the <em>CPU and Memory Data</em> field to get an estimate of resources required.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119354"></a>    <em>- Always run simulation to estimate data</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119356"></a>Enables resource estimation. When this option is selected, ADE Assembler runs the <code>+query=all</code> Spectre command before running simulations for the complete setup. This command retrieves the estimated CPU along with the lower and upper bounds and populates the lower bound values in the resource requirements string on the <em>Simulation</em> tab. It also retrieves the estimated memory and adds that to the <em>Estimate Memory</em> field on the <em>Resources</em> tab.</p>

<p>
<a id="pgfId-1119357"></a>If the simulation that estimates resources does not return valid results, ADE Assembler uses the data from a history, if available, or the default values specified in the <em>Default Value</em> section on this tab.</p>
<p>
<a id="pgfId-1119360"></a>See also: <a href="asmSimulating.html#64162">How ADE Explorer and ADE Assembler Estimate Resources?</a>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119363"></a>    <em>- Reuse history data if available</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119365"></a>Enables resource estimation. When this option is selected, ADE Assembler checks the resources required from the Spectre log file of the most recent history. It uses the maximum memory and processors required across all points.</p>
<p>
<a id="pgfId-1119366"></a>Before reusing the data from a history, ADE Assembler compares the following components in the setup of the history with that of the active setup:</p>

<ul><li>
<a id="pgfId-1119367"></a>Simulator</li><li>
<a id="pgfId-1119368"></a>Simulation files</li><li>
<a id="pgfId-1119369"></a>Test names</li><li>
<a id="pgfId-1119370"></a>Design name</li><li>
<a id="pgfId-1119371"></a>Run mode</li><li>
<a id="pgfId-1119372"></a>Model files and sections in corners</li></ul>






<p>
<a id="pgfId-1119373"></a>If any mismatch is found, ADE Assembler reruns resource estimation based on the active setup.</p>
<p>
<a id="pgfId-1119374"></a>If no history data is available, the tool can either use the default values specified in the <em>Default Value</em> group box or run a simulation to estimate resources.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119376"></a><em>Default Value</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119380"></a>    <em>- Memory</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119382"></a>Specifies the default memory requirement in Mbytes</p>
<p>
<a id="pgfId-1119383"></a>Default value: <code>1000</code> (in MBytes)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119385"></a>    <em>- CPU</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119387"></a>Specifies the default number of CPUs required</p>
<p>
<a id="pgfId-1119388"></a>Default value: <code>1</code> (number of processors)</p>
<p>
<a id="pgfId-1119389"></a>If you know the resource requirements for the simulations you are running, you can specify the default values and select the <em>Use Default Values</em> option in the <em>Provide CPU and Memory Data</em> group box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119391"></a><em>Distribution Method for Simulations to Get Estimated Data</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119395"></a>    <em>- On the local machine</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119397"></a>Specifies that the simulation for resource estimation needs to be run on the local computer irrespective of the distribution methods set on the <em>Simulation</em> tab.</p>
<p>
<a id="pgfId-1119398"></a>This option is helpful when you cannot run simulations on a local computer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119400"></a>    <em>- Use the current distribution method with default values</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119402"></a>Specifies that the simulation for resource estimation needs to be run using the distribution method specified on the <em>Simulation</em> tab.</p>
<p>
<a id="pgfId-1119403"></a>This option helps to calculate an accurate estimate of resource requirement because it uses the same remote computers that are required to run the simulations.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119405"></a><em>Scale Estimated Values by</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119409"></a>    <em>- Memory</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119411"></a>Specifies the value by which the estimated value of memory requirement should be scaled.</p>
<p>
<a id="pgfId-1119412"></a>Default value: <code>100%</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119414"></a>    <em>- CPU</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119416"></a>Specifies the value by which the estimated value of CPU requirement should be scaled.</p>
<p>
<a id="pgfId-1119417"></a>Default value: <code>100%</code></p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1119419"></a><a id="64162"></a>How ADE Explorer and ADE Assembler Estimate Resources?</h4>

<p>
<a id="pgfId-1119420"></a>To run resource estimation, ensure the following:</p>
<ul><li>
<a id="pgfId-1119421"></a>In the High Performance Simulation Options form, the <em>Manual</em> option is selected for <em>Multi-Threading</em> and the <em>#Threads</em> field is set to <code>lsf</code>.</li><li>
<a id="pgfId-1119422"></a>On the <em>Simulation</em> tab of the Job Policy Options form, the <em>Distribution Method</em> field is set to <code>LBS</code> and the resource requirements string contains the <code>%CPU_EST</code> and <code>%MEM_EST</code> templates.</li><li>
<a id="pgfId-1119423"></a>On the <em>Resources</em> tab of the Job Policy Options form, the <em>Always run simulation to estimate data</em> option is selected.</li></ul>


<p>
<a id="pgfId-1119424"></a>With these settings, ADE Explorer and ADE Assembler runs the <code>+query=all</code> Spectre command before running simulations. It reads the estimated CPU and memory information returned by Spectre and substitutes the values in the <code>%CPU_EST</code> and <code>%MEM_EST</code> templates in the LBS resource string. These resource requirements are used by the distribution method to allocate the required resources for simulation.</p>
<p>
<a id="pgfId-1124084"></a>When the <em>Reuse history data if available</em> option is selected, the tool uses the resource estimation data from a previous history. Similarly, when the <em>Use default values</em> option is selected, the tool uses the default values specified in the <em>Default Value</em> section of this form. In either case, before starting simulation, the tool prints a message in the CIW indicating the source of resource estimated for a run.</p>
<p>
<a id="pgfId-1119425"></a><strong>Important Points to Note</strong></p>
<ul><li>
<a id="pgfId-1119426"></a>Spectre does not support resource estimation for the following run modes:<ul><li>
<a id="pgfId-1119428"></a>Improve Yield </li><li>
<a id="pgfId-1119429"></a>Sensitivity Analysis</li><li>
<a id="pgfId-1119430"></a>Single Run, Sweeps and Corner with statistical corners</li></ul><br />
<a id="pgfId-1119431"></a>If these run modes are set, by default, ADE Assembler shows an error message and prompts you to select the <em>Default Values</em> group on the <em>Resources</em> tab of the Job Policy Setup form. <br />
<a id="pgfId-1132860"></a>If you do not want to be prompted when the current run mode is not supported for resource estimation by Spectre, set the <code>ignoreRunModeCheckInResourceEstimation</code> environment variable to <code>t</code>. When this variable is set to <code>t</code>, the tool uses values from an available history. If there is no history available, it uses the default memory and CPU value specified in the <em>Default Values</em> group on the <em>Resources</em> tab of the Job Policy Setup form.</li><li>
<a id="pgfId-1119432"></a>Spectre currently supports resource estimation for only hb and tran analyses. If the setup contains an enabled analysis other than these two, the tool automatically reuses values from an available history. If there is no history available, it uses the default memory and CPU value specified on the <em>Resources</em> tab of the Job Policy Setup form. <br />
<a id="pgfId-1133067"></a>If you want to be notified when the current analysis is not supported for resource estimation by Spectre, set the <code>ignoreAnalysisCheckInResourceEstimation</code> environment variable to <code>nil</code>. This variable lets you to decide whether to use the resource estimation values from any other history or the default values from the job policy.</li><li>
<a id="pgfId-1119433"></a>Resource estimation is done for each test in the setup. If the global job policy is used by all tests, ADE Assembler uses the maximum CPU or memory value among the values estimated for all the tests. If the tests are using their own overridden job policies, resource estimation is run for each test individually. If multiple tests use the same policy, the maximum estimated CPU or memory value is used for all.</li></ul>









<h4>
<a id="pgfId-1119434"></a>Running Resource Est<a id="cornerResource"></a>imation for a Specific Corner</h4>

<p>
<a id="pgfId-1119435"></a>By default, ADE Assembler runs resource estimation on the nominal corner. If your setup contains corners that would require a higher level of resources than nominal, it is a better option to assess the resource requirement for a corner with the highest resource requirements. </p>
<p>
<a id="pgfId-1119436"></a>You can specify a resource corner at the global level for all tests or override it for a specific test.</p>
<p>
<a id="pgfId-1119437"></a>To specify a resource corner for all tests, do the following:</p>
<ol><li>
<a id="pgfId-1119439"></a>In the <a actuate="user" class="URL" href="../assembler/asmCorners.html#formCornersSetup" show="replace" xml:link="simple">Corners Setup</a> form, add the corner with high resource requirements.</li><li>
<a id="pgfId-1119440"></a>Select the corner name in the <em>Resource Corner</em> drop-down list below the toolbar on this form.<br />
<a id="pgfId-1119444"></a><div class="webflare-div-image">
<img width="668" height="423" src="images/asmSimulating-36.gif" /></div></li><li>
<a id="pgfId-1119445"></a>Click <em>OK</em> to close the corners setup.</li></ol>






<p>
<a id="pgfId-1119447"></a>To ov<a id="resourceCorner"></a>erride a resource corner for a specific test, do the following:</p>
<ol><li>
<a id="pgfId-1119448"></a>In the Data View assistant, right-click the test and choose <em>Resource Corner</em>.<br />
<a id="pgfId-1119449"></a>The Select Corner for Resource Estimation form is displayed.<br />
<a id="pgfId-1119453"></a><div class="webflare-div-image">
<img width="668" height="105" src="images/asmSimulating-37.gif" /></div></li><li>
<a id="pgfId-1119454"></a>From the <em>Resource Corner</em> drop-down list, select the corner for which you want to run resource estimation for that test.<br />
<a id="pgfId-1119455"></a>The global resource estimation corner is overridden for the test. This test-specific resource corner is added to the notes for the test. You can validate the resource corner in the tooltip for the test or right-click the test name and choose <em>Notes</em> to open the Add/Edit Notes form. <br />
<a id="pgfId-1119459"></a><div class="webflare-div-image">
<img width="668" height="297" src="images/asmSimulating-38.gif" /></div></li></ol>











<p>
<a id="pgfId-1119460"></a>If a resource corner is specified, ADE Assembler runs resource estimation as described below.</p>
<ul><li>
<a id="pgfId-1119461"></a>If the resource corner specified in the Corners Setup form is enabled for the current simulation run, resources are estimated for that corner. However, if the resource corner is disabled, the nominal corner is used.</li><li>
<a id="pgfId-1119462"></a>If the resource corner is disabled for a test, ADE Assembler uses the first enabled corner for that test.</li><li>
<a id="pgfId-1119463"></a>If the resource corner is a group corner, the first corner in that group is used.</li><li>
<a id="pgfId-1119464"></a>If a global resource corner is overridden for a particular test, estimation for that test is done by using the specified corner. For other tests, estimation is done by using the resource corner in the Corners Setup form.</li></ul>




<h3>
<a id="pgfId-1119465"></a>Starting a Simulation</h3>

<p>
<a id="pgfId-1119466"></a>After you have selected a job control mode and completed the setup, run a simulation. </p>
<p>
<a id="pgfId-1119467"></a>When a simulation is running, the status bar at the bottom of the ADE Explorer or ADE Assembler window shows the different stages of the simulation run. In addition, a progress bar on the bottom right of the window displays the information about the results directory, library, cell, and view.</p>

<h3>
<a id="pgfId-1119468"></a>Reviewing Simulation and Netlisting Progress</h3>

<p>
<a id="pgfId-1119469"></a>When you run a simulation, a netlist is generated and the Run Summary assistant appears in ADE Assembler. The Run Summary assistant shows the following information about the simulation in progress:</p>
<ul><li>
<a id="pgfId-1119470"></a>The number of tests running</li><li>
<a id="pgfId-1119471"></a>The number of values varying (Point Sweeps)</li><li>
<a id="pgfId-1119472"></a>The number of corners</li><li>
<a id="pgfId-1119473"></a>The nominal corners</li></ul>



<p>
<a id="pgfId-1119474"></a>While ADE Explorer or ADE Assembler is preparing to run a simulation or during a run, you can check its status on the progress bar displayed on the Run Summary assistant pane. The progress bar is displayed to the right of the history item name.</p>

<p>
<a id="pgfId-1119478"></a></p>
<div class="webflare-div-image">
<img width="631" height="268" src="images/asmSimulating-39.gif" /></div>

<p>
<a id="pgfId-1119479"></a>Points to Remember:</p>
<ul><li>
<a id="pgfId-1119480"></a>The log files are written to the <code>logs_</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;username&gt;</em></span><code>/logs</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;n&gt;</em></span> directory.</li><li>
<a id="pgfId-1119481"></a>The number of jobs launched for each process is driven by the <em>Max. Jobs</em> defined in the respective job policy.</li><li>
<a id="pgfId-1119482"></a>Simulation jobs are launched only after the netlists are available.</li><li>
<a id="pgfId-1119483"></a>In LSCS, netlisting is done in the beginning at the test level. If netlist creation at the test level fails, the status for all points is shown as <em>netl err</em> irrespective of their submission status. Therefore, it is possible that if you cancel any point, its status is shown as <em>netl err</em>. </li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119487"></a>The <img width="26" height="27" src="images/asmSimulating-40.gif" />
shows that the respective netlisting or simulation job is waiting.</div>

<h4>
<a id="pgfId-1119488"></a>Managing Jobs During Simulations</h4>

<p>
<a id="pgfId-1119489"></a>During a simulation, the <em>Run Summary</em> assistant shows the status of netlisting and simulation jobs that are running. You can check the status of each individual job by placing the pointer over it. A tooltip is displayed giving the details of the current simulation in progress and the total number of simulations completed by the job. An example is shown in the following figure.</p>

<p>
<a id="pgfId-1119493"></a></p>
<div class="webflare-div-image">
<img width="536" height="275" src="images/asmSimulating-41.gif" /></div>
<h4>
<a id="pgfId-1119494"></a><a id="64964"></a>Stopping Jobs and Resubmitting Simulations</h4>

<p>
<a id="pgfId-1119504"></a>Stopping a job is helpful in the following scenarios:</p>
<ul><li>
<a id="pgfId-1119505"></a>When a job is submitted to a computer that is known to be slow or with limited memory. This information can be gathered from the tooltip of a job.</li><li>
<a id="pgfId-1119506"></a>When a particular job has simulated a significantly smaller than average number of simulations.</li><li>
<a id="pgfId-1119507"></a>When nearing the end of a run, only one or two jobs remain pending and are taking more than the expected time to complete the simulation for the current design points.</li></ul>


<p>
<a id="pgfId-1119495"></a>To stop a job and resubmit the simulation, right-click the job and choose <em>Stop and Resubmit</em>.</p>

<p>
<a id="pgfId-1119499"></a></p>
<div class="webflare-div-image">
<img width="654" height="273" src="images/asmSimulating-42.gif" /></div>

<p>
<a id="pgfId-1119500"></a>When you use this command, ADE Explorer or ADE Assembler does the following:</p>
<ul><li>
<a id="pgfId-1119501"></a>The icon for the stopped job changes to one with a cross, and then disappears. A new job is created to replace the stopped job.</li><li>
<a id="pgfId-1119502"></a>The simulation that was running on the stopped job is placed at the beginning of the queue of the pending simulations. The simulation for this point is then submitted to the next available job.</li><li>
<a id="pgfId-1119503"></a>If no more simulations are pending, a new job may not be created.</li></ul>



<h3>
<a id="pgfId-1119509"></a>Automatical<a id="diskChecks"></a>ly Suspend Simulations When the Disk Space is Low</h3>

<p>
<a id="pgfId-1119510"></a>You can configure the commands to automatically suspend simulations when the disk space is low, and flag the appropriate information or warning messages.</p>
<p>
<a id="pgfId-1119511"></a>To enable checking of disk space and automatic suspension of simulations depending on the configured settings: </p>
<ol><li>
<a id="pgfId-1119512"></a>Choose <em>Options &#8211; Job Setup</em> to open the Job Policy Setup form.</li><li>
<a id="pgfId-1119513"></a>Open the <em>Resources</em> tab.<br />
<a id="pgfId-1119517"></a><br /><div class="webflare-div-image">
<img width="669" height="263" src="images/asmSimulating-43.gif" /></div></li><li>
<a id="pgfId-1119518"></a>Specify the following options in the <em>Disk Space</em> group:<ul><li>
<a id="pgfId-1119519"></a><em>Show warning for low disk</em>: Select this check box to enable checking of the available disk space when a simulation run is started. ADE Assembler shows a warning in these cases:<ul><li>
<a id="pgfId-1119520"></a>If the available disk space before running a simulation for the first point is less than the threshold value specified in the <em>If the remaining disk space is less than _ MB</em> field, a warning message is flagged to report about the unavailability of the required space and to confirm whether the run is to be continued.</li><li>
<a id="pgfId-1119521"></a>For the Single Run, Sweeps, or Corners run mode, after the first design point is simulated, the disk space consumed for that point is used to estimate the total space required to run simulations for all the points. If the <strong>remaining (available &#8211; estimated)</strong> disk space falls below the threshold, ADE Assembler shows the following types of messages:<br />
<a id="pgfId-1119522"></a>- <strong>If the </strong>remaining (available &#8211; estimated)<strong> disk space is more than the threshold</strong> specified in the <em>If the remaining disk space is less than</em> field, an information message is flagged to report the same.<br />
<a id="pgfId-1119523"></a>- <strong>If the </strong>remaining (available &#8211; estimated)<strong> disk space is less than or equal to the threshold</strong> specified in the <em>If the remaining disk space is less than</em> field, a warning message is flagged to report the same. It is recommended to manually suspend the simulation run for the current history, free up the disk space, and resume the run. To manually suspend a job, right-click the progress bar of the history in the Run Summary pane and click <em>Suspend</em>.<br />
<a id="pgfId-1119524"></a>Consider an example of a simulation run for three sweep points. 
- The simulation of the first design point used: 15 MB 
- The estimated disk space for the remaining two points: 30 MB
- The available disk space after the first design point is simulated: 115 MB
- The threshold value for disk space: 100 MB
- The estimated remaining disk space = 115 &#8211; 30 = 85 MB, which is less than the threshold value
In this scenario, after the simulation for the first design point is complete, a warning message is displayed to clear disk space.</li></ul></li><li>
<a id="pgfId-1119525"></a><em>Automatically suspend simulations if the disk space is insufficient</em>: Select this check box to enable Spectre to automatically suspend all in-progress simulations whenever the available disk space falls below the minimum threshold specified in the <em>Minimum disk space to be maintained (in MB)</em> field. <br />
<a id="pgfId-1119526"></a>By default, the suspended jobs remain in that state until you resume those. However, you can select the <em>Automatically resume simulations when the disk space becomes available </em>check box to enable Spectre to automatically resume the suspended jobs. When this check box is selected, Spectre internally checks for the availability of disk the disk space ans resumes the suspended simulations. </li></ul></li><li>
<a id="pgfId-1119527"></a>Click <em>OK</em> to close the form.<br />
<a id="pgfId-1119528"></a>ADE Assembler uses the settings specified on this form to constantly monitor the available and estimated disk space, and displays appropriate messages on the <em>Results</em> tab. If a simulation is automatically suspended, the status on the <em>Run Summary</em> tab and the <em>Results</em> tab is updated, as shown below.<br />
<a id="pgfId-1119532"></a>.<div class="webflare-div-image">
<img width="669" height="536" src="images/asmSimulating-44.gif" /></div></li></ol>























<h3>
<a id="pgfId-1119533"></a>Restarting the Jobs</h3>

<p>
<a id="pgfId-1119534"></a>If the tool tip of a job shows the name of the slow computer and you observe that the currently running simulation is taking an unusually long time to complete, you can stop the job and restart it. The queuing mechanism will redistribute the job to another computer that has better resources.</p>
<p>
<a id="pgfId-1119535"></a>Right-click and use the following commands in the context-sensitive menu of a job to restart it:</p>
<ul><li>
<a id="pgfId-1119536"></a><em>Restart</em>: Allows the current activities of a job to complete before stopping and then restarting the job.</li><li>
<a id="pgfId-1119537"></a><em>Force Restart</em>: Forces the current activities of a job to halt immediately and forces the job to restart.</li></ul>


<h3>
<a id="pgfId-1119538"></a><a id="63264"></a>Viewing Log Files</h3>

<p>
<a id="pgfId-1119539"></a>For a simulation run using LSCS run mode, you can view the log files in two ways:</p>
<ul><li>
<a id="pgfId-1119543"></a><a href="asmSimulating.html#89126">Viewing Log Files for a Data Point</a></li><li>
<a id="pgfId-1119547"></a><a href="asmSimulating.html#29514">Viewing a Consolidated Log for a History</a></li></ul>


<h3>
<a id="pgfId-1119548"></a><a id="89126"></a>Viewing Log Files for a Data Point</h3>

<p>
<a id="pgfId-1119549"></a>To view the logs for a data point:</p>
<ol><li>
<a id="pgfId-1119550"></a>Right-click a result value in the <code>Detail</code> or <code>Detail-Transpose</code> results view.</li><li>
<a id="pgfId-1119551"></a>Click <em>View Log Messages</em> and choose one of the following types of logs you want to view:<ul><li>
<a id="pgfId-1119555"></a><a href="asmSimulating.html#13492">Message Viewer</a></li><li>
<a id="pgfId-1119559"></a><a href="asmSimulating.html#21959">Netlist Job</a></li><li>
<a id="pgfId-1119563"></a><a href="asmSimulating.html#79134">Job Log</a></li><li>
<a id="pgfId-1119567"></a><a href="asmSimulating.html#69443">Simulator Log</a></li><li>
<a id="pgfId-1119571"></a><a href="asmSimulating.html#38784">Expression Evaluator Log</a><br />
<a id="pgfId-1119575"></a><div class="webflare-div-image">
<img width="653" height="301" src="images/asmSimulating-45.gif" /></div></li></ul>
<a id="pgfId-1119576"></a>ADE Assembler opens a new window to display the log.</li></ol>












<h4>
<a id="pgfId-1119578"></a><a id="13492"></a>Messag<a id="messageViewer"></a>e Viewer</h4>

<p>
<a id="pgfId-1119579"></a>This log view combines the messages for a specified point from the netlisting, simulation, and expression evaluation jobs that were involved in running a simulation for that point. </p>

<p>
<a id="pgfId-1119583"></a></p>
<div class="webflare-div-image">
<img width="652" height="330" src="images/asmSimulating-46.gif" /></div>

<p>
<a id="pgfId-1139686"></a>The tool extracts all the information displayed for a simulation process, for example, the peak resident memory, from the Spectre output that is saved in the Spectre output log.</p>
<p>
<a id="pgfId-1119584"></a>To view the messages of a specific severity level, choose the level name from the <em>Level</em> drop-down list at the bottom of this viewer. The possible levels are: debug, event, process, info, warn, and error.</p>
<p>
<a id="pgfId-1119585"></a>In addition, you can use the search bar to filter the information based on specific keywords in the <em>Message</em> column.</p>

<h4>
<a id="pgfId-1119586"></a><a id="21959"></a>Netlist Job</h4>

<p>
<a id="pgfId-1119587"></a>The netlist log file shows netlisting logs for a specific point. It includes various details, such as testbench details, variables and parameters for netlist, netlist directory, and netlisting errors (if any).</p>

<h4>
<a id="pgfId-1119588"></a><a id="79134"></a>Job Log</h4>

<p>
<a id="pgfId-1119589"></a>The job log contains information about LSCS jobs and all the simulations that were run on that job. It includes various details, such as the Cadence software version number, operating system version, working directory, the testbench details, variables and parameters for every run, simulator details, results location, data directory, netlist directory, and simulation errors (if any).</p>

<h4>
<a id="pgfId-1119590"></a><a id="69443"></a>Simulator Log</h4>

<p>
<a id="pgfId-1119591"></a>This log file shows information about simulation jobs for the specified data point. It includes various details, such as the Cadence software version number, operating system version, working directory, design path, simulator, results location, data directory, start time and end time for the simulation run, the number of points completed, and the simulation errors (if any).</p>

<h4>
<a id="pgfId-1119592"></a><a id="38784"></a>Expression Evaluator Log</h4>

<p>
<a id="pgfId-1119593"></a>This log file contains the information about the configuration setup, working directory, testbench details, variables, and parameters of the expression evaluator process for the specified point.</p>

<h3>
<a id="pgfId-1119594"></a><a id="29514"></a>Viewing a Consolida<a id="logViewer"></a>ted Log for a History</h3>

<p>
<a id="pgfId-1119595"></a>To view a consolidated report for a simulation run so that you can read the logs from all sources in one log viewer window, right-click a history and choose <em>Log Viewer</em>.</p>

<p>
<a id="pgfId-1119599"></a>i</p>
<div class="webflare-div-image">
<img width="668" height="308" src="images/asmSimulating-47.gif" /></div>

<p>
<a id="pgfId-1119600"></a>The Log Viewer window for the history is displayed.</p>

<p>
<a id="pgfId-1119604"></a>i</p>
<div class="webflare-div-image">
<img width="668" height="414" src="images/asmSimulating-48.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119605"></a>To open the Log Viewer window in ADE Explorer, choose <em>Tools &#8211; Log Viewer</em> command from the toolbar.</div>
<p>
<a id="pgfId-1119606"></a>Observe that the <em>Tool</em> column in this table indicates the source of the log information. For example, row 23 is reported by the netlist service, row 24 by the expression evaluator, and row 28 by the Spectre simulator.</p>
<p>
<a id="pgfId-1119607"></a>You can use the controls at the bottom of the viewer to filter the information displayed in the table. For example, you can choose error from the <em>Level</em> drop-down list and test <code>DCGain</code> from the <em>Test</em> drop-down list to view all errors reported for that test. </p>
<p>
<a id="pgfId-1119608"></a>Click <em>Refresh</em> to view the logs for a latest run job.</p>

<h3>
<a id="pgfId-1119609"></a>Saving Logs in a Compressed File</h3>

<p>
<a id="pgfId-1119610"></a>In addition to customizing the display of information, you can save the log in a tar file or zip file and share with others for debugging or analysis of the netlisting and simulation run. </p>
<p>
<a id="pgfId-1119611"></a>To save all logs for a history in a compressed file:</p>
<ol><li>
<a id="pgfId-1119612"></a>Right-click a history in the <em>History</em> tab of the Data View assistant and choose <em>Log Viewer</em>.</li><li>
<a id="pgfId-1119613"></a>The log view that combines the messages for a specified point from all the jobs like netlisting, simulation, and expression evaluation.<br />
<a id="pgfId-1119617"></a><div class="webflare-div-image">
<img width="668" height="413" src="images/asmSimulating-49.gif" /></div></li><li>
<a id="pgfId-1119618"></a>Click <em>Log Packer.</em><br />
<a id="pgfId-1119619"></a>The Log Packer window is displayed.<br />
<a id="pgfId-1119623"></a><div class="webflare-div-image">
<img width="668" height="445" src="images/asmSimulating-50.gif" /></div></li><li>
<a id="pgfId-1119624"></a>Click the browse button to the right of the <em>Pack Destination</em> field and choose the location where you want to save the compressed log files.</li><li>
<a id="pgfId-1119625"></a>Review the selected tools and if required, deselect the check box corresponding to the tool for which you do not want to save logs.</li><li>
<a id="pgfId-1119626"></a>(Optional) To create a tar file, select <em>As Tar</em>.</li><li>
<a id="pgfId-1119627"></a>Click <em>Pack </em>to compress and save the compressed files at the specified location.</li></ol>















<p>
<a id="pgfId-1119628"></a>The Log Packer utility is available in the log viewer for the complete history. It is not available for an individual data point.</p>

<h2>
<a id="pgfId-1143194"></a><a id="39819"></a><a id="20347"></a>Using Job Logs<a id="lscsDiagnostics"></a> for Debugging</h2>

<p>
<a id="pgfId-1145744"></a>You can use log files to view the debugging information for a simulation. </p>
<p>
<a id="pgfId-1145745"></a>To view the logs for a data point:</p>
<ol><li>
<a id="pgfId-1145746"></a>Right-click a result value in the <code>Detail</code> or <code>Detail-Transpose</code> results view.<br />
<a id="pgfId-1145750"></a><div class="webflare-div-image">
<img width="641" height="192" src="images/asmSimulating-51.gif" /></div></li><li>
<a id="pgfId-1145751"></a>Click <em>View Log Messages</em> to view any of the following logs:<ul><li>
<a id="pgfId-1145755"></a><a href="asmSimulating.html#36707">Netlist Log</a></li><li>
<a id="pgfId-1145759"></a><a href="asmSimulating.html#51295">Job Log</a></li><li>
<a id="pgfId-1145763"></a><a href="asmSimulating.html#65183">Simulator Log</a></li><li>
<a id="pgfId-1145767"></a><a href="asmSimulating.html#71522">Expression Evaluator Log</a></li></ul></li><li>
<a id="pgfId-1145768"></a>Review the information given in the log files and take appropriate steps to resolve the issues and to obtain the desired results.</li><li>
<a id="pgfId-1145769"></a>(Optional) By default, the log files show basic error, warning, or informational messages. If the information available in the log files is not sufficient and you need more details, use the following environment variables to specify a higher debug level in which the tool saves additional details and displays more detailed messages:<ul><li>
<a id="pgfId-1145770"></a><code>maestro.debug</code> <code>netlisting</code></li><li>
<a id="pgfId-1145771"></a><code>maestro.debug</code> <code>simAndEval</code></li><li>
<a id="pgfId-1145772"></a><code>maestro.debug</code> <code>beanstalk</code></li><li>
<a id="pgfId-1145773"></a><code>maestro.debug</code> <code>mainVirtuoso</code></li></ul></li></ol>
















<h4><em>
<a id="pgfId-1143232"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1143236"></a><a href="asmSimulating.html#63456">Log Files for LSCS Job Control Mode</a></p>
<p>
<a id="pgfId-1143238"></a><h-hot><a actuate="user" class="URL" href="../assembler/appEnvVars.html#netlisting" show="replace" xml:link="simple">maestro.debug netlisting</a></h-hot></p>
<p>
<a id="pgfId-1143240"></a><h-hot><a actuate="user" class="URL" href="../assembler/appEnvVars.html#simAndEval" show="replace" xml:link="simple">maestro.debug simAndEval</a></h-hot></p>
<p>
<a id="pgfId-1145817"></a><h-hot><a actuate="user" class="URL" href="../assembler/appEnvVars.html#beanstalk" show="replace" xml:link="simple">maestro.debug beanstalk</a></h-hot></p>
<p>
<a id="pgfId-1145819"></a><h-hot><a actuate="user" class="URL" href="../assembler/appEnvVars.html#mainVirtuoso" show="replace" xml:link="simple">maestro.debug mainVirtuoso</a></h-hot></p>

<h2>
<a id="pgfId-1143256"></a><a id="63456"></a>Log Files for LSCS Job Control Mode</h2>

<p>
<a id="pgfId-1143257"></a>The following table describes the available log files for LSCS job control mode.</p>
<table class="webflareTable" id="#id1143258">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1143260">
<a id="pgfId-1143260"></a>Log File</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1143262">
<a id="pgfId-1143262"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1143265"></a><a id="36707"></a>Netlist Log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1143267"></a>Displays the netlisting logs for a specific point. It includes various details, such as testbench details, variables and parameters for netlist, netlist directory, and netlisting errors (if any).</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1143270"></a><a id="51295"></a>Job Log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1143272"></a>Displays information on LSCS jobs and all the simulations that were run on that job. It includes various details, such as the Cadence software version number, operating system version, working directory, the testbench details, variables and parameters for every run, simulator details, results location, data directory, netlist directory, and simulation errors (if any).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1143275"></a><a id="65183"></a>Simulator Log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1143277"></a>Displays information on the simulation jobs for a specified data point. It includes various details, such as the Cadence software version number, operating system version, working directory, design path, simulator, results location, data directory, start time and end time for the simulation run, the number of points completed, and the simulation errors (if any).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1143280"></a><a id="71522"></a>Expression Evaluator Log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1143282"></a>Displays information on the configuration setup, working directory, testbench details, variables, and parameters of the expression evaluator process for the specified point.</p>
</td>
</tr>
</tbody></table>

<h2>
<a id="pgfId-1140174"></a><a id="78343"></a>Debug Utili<a id="debugUtilityForm"></a>ty Form</h2>

<p>
<a id="pgfId-1141779"></a>The Debug Utility form lets you set up options that help you save information useful for debugging of simulation runs. You can also specify certain next steps to be performed in case of a simulation failure. </p>

<p>
<a id="pgfId-1140242"></a></p>
<table class="webflareTable" id="#id1143047">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1140177">
<a id="pgfId-1140177"></a>Field</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1140179">
<a id="pgfId-1140179"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140181"></a><em>Enable verbose logging in job logs and CDS log</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140183"></a>Logs of the following details in the job log and CDS log:</p>

<ul><li>
<a id="pgfId-1140184"></a>Debug messages with a timestamp in each message</li><li>
<a id="pgfId-1140185"></a>Callback evaluation information</li><li>
<a id="pgfId-1140186"></a>Full stack trace if an error is thrown</li><li>
<a id="pgfId-1140187"></a>Debug information for Monte Carlo, calcVal, wave spec evaluation or re-evaluation</li><li>
<a id="pgfId-1140190"></a>DE integration debug information and all calls to SKILL functions issued by the UI</li><li>
<a id="pgfId-1140191"></a>runObjFile and interactive plotting operations</li><li>
<a id="pgfId-1140192"></a>Debug information for OCEAN</li></ul>







<p>
<a id="pgfId-1142275"></a>The log files are saved in the current directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140194"></a><em>Job Log Directory</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140196"></a>Specifies the location in which to save the job logs. This field is useful when you select the <em>Enable verbose logging in job logs and CDS log</em><code> </code>field and want to write the job log files to a different location so that they can be shared for further debugging.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140862"></a><em>Dump Shell and cdsenv Variables</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140864"></a>Specifies the path to the file where you want to save the values of the shell variables and environment variables as they are set in the current session.</p>
<p>
<a id="pgfId-1141312"></a>For the environment variables, by default the tool saves values for the variables from the asimenv, auCore, adexl and maestro product categories. You can change this product list by using the <code>envVarCategoriesForDump</code> environment variable. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1141562"></a>Only the environment variables that have been changed from their default values are written to the specified file.</div>
<p>
<a id="pgfId-1142351"></a>Environment variable: <a href="appEnvVars.html#64036">envVarCategoriesForDump</a></p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1141947"></a><em>Save</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1142058"></a>Saves the shell and cdsenv variables in the file specified by the <em>Dump Shell and cdsenv Variables</em> field.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140198"></a><em>GUI Process ID</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140200"></a>Displays the process ID of the current ADE Explorer or ADE Assembler window.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140202"></a><em>Host Name</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140204"></a>Displays the host name of the computer on which you are running Virtuoso.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140206"></a><strong><em>Options specifying how to proceed in case of failures</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140208"></a>Contains options that you can use to specify how you want to proceed in case of failures.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140210"></a><em>Confirm to proceed when job launch failure counts exceeds</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140212"></a>Specifies the number of attempts of failed job launch after which an error message is displayed and the tool proceeds with the next job.</p>
<p>
<a id="pgfId-1140213"></a>Environment variable: <code>maxJobFailPerPolicy</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140216"></a><em>Halt batch processing when job log failure count exceeds</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140218"></a>Specifies the number of attempts of failed job launch after which the batch processing is stopped.</p>
<p>
<a id="pgfId-1140220"></a>Environment variable: <code>maxJobFailPerPolicyInBatch</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140222"></a><em>Maximum number of attempts to resubmit a failed simulation</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140224"></a>Specifies the number of times ADE Explorer or ADE Assembler should try resubmitting a failed simulation.</p>
<p>
<a id="pgfId-1140225"></a>Environment variable: <code>numRetriesOnError</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140228"></a><strong><em>LSCS debug options</em></strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140230"></a>Contains options that help in gathering information that you can analyze while troubleshooting the simulations run in LSCS job control mode. You can view the results of these LSCS debug options in the job log for a data point. To access the job log, in the context-sensitive menu of a data point, click <em>View Log Messages</em> and choose <em>Job Log</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140233"></a><em>Run checkSysConf when simulator job starts</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140235"></a>Runs the <code>checkSysConf</code> command before starting a simulation job on remote computers to provide information whether the configuration of those computer resources meets Cadence requirements. </p>
<p>
<a id="pgfId-1140236"></a>The tool dumps the result of the <code>checkSysConf</code> command for each job in its log file that is saved in the <em>Job Log Directory</em> specified on the Debug Utility form. </p>
<p>
<a id="pgfId-998398"></a>Use this option when looking for additional information for jobs that are failing on some computers and you want to check whether the software on those computers is compatible.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140238"></a><em>Run pstack when simulator job is not responding for __ seconds</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1140240"></a>Runs the pstack command for the process running a particular simulation job.</p>
<p>
<a id="pgfId-1140241"></a>Use this option to get the stack trace for a process that remains unresponsive for the specified number of seconds. Depending on your requirements, you can modify the time limit for this option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173236"></a>Enable Dry Run for Command Distribution Method</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173238"></a>Submits the number of jobs specified in the <em>Max. Jobs</em> field of the Job Policy Setup form without actually running the processes. This lets you check the network health before running a simulation. This maximum limit for the number of jobs is 100.</p>
<p>
<a id="pgfId-1173239"></a>This option is applicable only when the specified job distribution method is <code>Command</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1140170"></a></p>

<h2>
<a id="pgfId-1119646"></a><a id="33893"></a>Running Simulations With ICRP Job Control Mode</h2>

<p>
<a id="pgfId-1119647"></a>The ICRP job control model uses the IC Remote Processes that are started by ADE Assembler in the <code>virtuoso</code> <code>-nograph</code> mode. These process in turn, may start a few child processes (clsbd, oaFSLockD, cdsNameServer, cdsServIpc) to perform some special tasks. </p>
<p>
<a id="pgfId-1119648"></a>ADE Assembler internally uses ICRP jobs to efficiently distribute time-consuming tasks that can be performed in parallel. Settings for these jobs such as how many remote processes to start; where the processes should run, on local or remote computers; or the time for which a remote process should stay active and wait for a simulation to run; are set as a job policy.</p>
<p>
<a id="pgfId-1119649"></a>For more information on managing the ICRP job control mode, see the following topics:</p>
<ul><li>
<a id="pgfId-1119653"></a><a href="asmSimulating.html#23043">Specifying a Job Policy Name</a></li><li>
<a id="pgfId-1119657"></a><a href="asmSimulating.html#15464">Optimizing a Single Point Run</a></li><li>
<a id="pgfId-1119661"></a><a href="asmSimulating.html#51022">Specifying a Distribution Method</a></li><li>
<a id="pgfId-1119665"></a><a href="asmSimulating.html#46609">Specifying Max Jobs</a></li><li>
<a id="pgfId-1119669"></a><a href="asmSimulating.html#48902">Specifying a Command for DRMS</a></li><li>
<a id="pgfId-1119673"></a><a href="asmSimulating.html#25026">Specifying an LBS Job Policy</a></li><li>
<a id="pgfId-1119677"></a><a href="asmSimulating.html#36683">Specifying Job Timeouts for ICRP</a></li><li>
<a id="pgfId-1119681"></a><a href="asmSimulating.html#70438">Specifying Error Reporting Options</a></li><li>
<a id="pgfId-1119685"></a><a href="asmSimulating.html#17972">Specifying Multiple Run Options</a></li><li>
<a id="pgfId-1119689"></a><a href="asmSimulating.html#67358">Setting Up Resource Options</a></li></ul>










<h3>
<a id="pgfId-1119692"></a><a id="17972"></a>Specifying Multiple Run Options<a id="multiple_runs"></a></h3>

<p>
<a id="pgfId-1119693"></a>To customize options to be used when running multiple runs in the same ADE Assembler session, you need to specify the options in the <em>For Multiple runs</em> group box of the <em>Simulation</em> tab of the Job Policy Setup form.</p>

<p>
<a id="pgfId-1119697"></a></p>
<div class="webflare-div-image">
<img width="438" height="113" src="images/asmSimulating-52.gif" /></div>

<p>
<a id="pgfId-1119698"></a>To specify the job option to be used when running multiple runs in the same ADE Assembler session, do one of the following in the <em>For Multiple Runs</em> group box.</p>
<ul><li>
<a id="pgfId-1119699"></a>To cause the program to reassign a completed job for the current run to a new run, select the <em>Reassign immediately for new run</em> option.</li><li>
<a id="pgfId-1119700"></a>To cause the program to wait until all the jobs for the current run are completed before assigning the jobs to a new run, select the <em>Wait until currently running points complete</em> option.</li></ul>

<p>
<a id="pgfId-1119704"></a>Also see: <a href="asmSimulating.html#26332">Setting Up Run Options</a></p>

<h3>
<a id="pgfId-1119708"></a><a id="89228"></a><a id="67358"></a>Setting Up <a id="estMemCPU"></a>Resource Options </h3>

<p>
<a id="pgfId-1119709"></a>ADE Assembler provides a feature to estimate the memory and CPU resources required to run simulations. After completing the simulation setup, you can use this feature to run resource estimation for the defined tests, and ensure that the required memory and CPUs are available on the local or remote computer as defined by the job policy setup.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1119710"></a>
This feature can be used only for the hb or tran analyses, or for pss and qpss when the time-domain shooting engine is used for these two analyses, that is when the <em>Engine</em> property for the pss and qpss analyses is set to <code>Shooting</code> on the Choosing Analyses form. This feature is supported by MMSIM 14.1 ISR8 or later releases.</div>

<p>
<a id="pgfId-1119711"></a>By default, the resource estimation feature is disabled. You can enable and configure it using the <em>Resources</em> tab on the Job Policy Setup form shown below.</p>

<p>
<a id="pgfId-1119743"></a></p>
<div class="webflare-div-image">
<img width="667" height="768" src="images/asmSimulating-53.gif" /></div>

<p>
<a id="pgfId-1119744"></a>The following table describes the commands given on the Resources tab.</p>

<p>
<a id="pgfId-1119816"></a></p>
<table class="webflareTable" id="#id1119745">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1119747">
<a id="pgfId-1119747"></a>Form Field</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1119749">
<a id="pgfId-1119749"></a>Description </span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119751"></a><em>Estimate Memory </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119753"></a>Shows the estimated memory requirement to run the current simulation run. This feature is enabled using the options given in the <em>CPU and Memory Data</em> group box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119755"></a><em>CPU and Memory Data</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119759"></a>    <em>- Do not estimate</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119761"></a>Disables estimation of processors and memory required for the current simulation. In this case, you can yourself specify the required number of processors to be used to distribute simulations.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119762"></a>When you disable estimation for LBS DRMS, select the check box given to the right of the <em>Parallel Num. Processors </em>field on the <em>Basic</em> tab of the Job Policy Setup form and specify a value in it. If you clear the check box given to the right of the <em>Parallel Num. Processors </em>field, the value given in the field is also cleared. In such a case, you should select any one of the other two options in this field to get an estimate of resources required.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119764"></a>    <em>- Always run simulation to estimate data</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119766"></a>Enables the feature and runs a simulation before every new simulation to estimate resources.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119767"></a>If, due to some reason, the simulation that estimates resources does not return a valid result, which is a positive number, ADE Assembler uses the default values specified in the <em>Default Value</em> section on this tab.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119769"></a>    <em>- Reuse history data if available</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119771"></a>Enables the feature and estimates resources based on the data available for the most recent history available in the current ADE Assembler session.</p>
<p>
<a id="pgfId-1119772"></a>If no history data is available, either use the default values specified in the <em>Default Value</em> group box, or runs a simulation to estimate values.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119774"></a><em>Default Value</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119778"></a>    <em>- Memory</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119780"></a>Specifies the default memory requirement in Mbytes</p>
<p>
<a id="pgfId-1119781"></a>Default value: <code>1000 Mbytes</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119783"></a>    <em>- CPU</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119785"></a>Specifies the default number of CPUs required</p>
<p>
<a id="pgfId-1119786"></a>Default value: <code>1 processor</code></p>
<p>
<a id="pgfId-1119787"></a>If you know the resource requirements for the simulations you are running, you can specify the default values and select the Use Default Values option in the <em>Provide CPU and Memory Data</em> group box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119789"></a><em>Distribution Method for Simulations to Get Estimated Data</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119793"></a>    <em>- On the local machine</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119795"></a>Specifies that the simulation for resource estimation needs to be run on the local computer irrespective of the distribution methods set on the <em>Basic</em> tab.</p>
<p>
<a id="pgfId-1119796"></a>This option is helpful when you cannot run simulations on a local computer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119798"></a>    <em>- Use the current distribution method with default values</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119800"></a>Specifies that the simulation for resource estimation needs to be run using the distribution method specified on the <em>Basic</em> tab.</p>
<p>
<a id="pgfId-1119801"></a>This option helps in getting a good estimate of resource requirement because it uses the same remote computers that are required to run simulations.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1119803"></a><em>Scale Estimated Values by</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119807"></a>    <em>- Memory</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119809"></a>Specifies the value by which the estimated value of memory requirement should be scaled</p>
<p>
<a id="pgfId-1119810"></a>Default value: <code>100%</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119812"></a>    <em>- CPU</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119814"></a>Specifies the value by which the estimated value of CPU requirement should be scaled</p>
<p>
<a id="pgfId-1119815"></a>Default value: <code>100%</code></p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1026138"></a><a id="26332"></a>Setting U<a id="marker-1068702"></a>p Run Options<a id="formRunOptions"></a></h2>

<p>
<a id="pgfId-1067760"></a>When you perform multiple ADE Assembler runs simultaneously (that is, an ADE Assembler run is already in progress and you click <img src="images/iconRunSimulation.gif" />
 again to start more runs simultaneously), the options specified on the Run Options form are used to allocate the available ICRPs or jobs. You can change the options on this form to control allocation of the ICRPs among various ADE Assembler runs.</p>
<p>
<a id="pgfId-1079963"></a>In addition, the form also provides an option to enable checking and reporting of identical histories before running simulation. For more details, refer to <a href="asmSimulating.html#37523">Running an Incremental Simulation to Reuse Results</a>.</p>
<p>
<a id="pgfId-1066385"></a>To set up run options, in the ADE Assembler window, choose <em>Options &#8211; Run Options</em>.</p>
<p>
<a id="pgfId-1067941"></a>The Run Options form appears.</p>

<p>
<a id="pgfId-1103269"></a></p>
<div class="webflare-div-image">
<img width="364" height="379" src="images/asmSimulating-55.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079943"></a>The <em>Results Refresh During Run</em> section is hidden by default. You can show it by setting the <a href="appEnvVars.html#54804">manualResultsViewRefresh</a> environment variable is set to <code>t</code>.</div>
<p>
<a id="pgfId-1067942"></a>The following table describes the commands available on the Run Options form:</p>
<table class="webflareTable" id="#id1067946">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1067948">
<a id="pgfId-1067948"></a>Command</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1067950">
<a id="pgfId-1067950"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1067952"></a><em>Run In</em> group box</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1067954"></a>Contains the options to specify how more than one ADE Assembler runs are to be performed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1067956">
<a id="pgfId-1067956"></a><em>Series</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1068046"></a>Performs multiple ADE Assembler runs in series. In this case, only one run is performed at a particular point of time. If the number of available ICRPs (as specified by <em><a href="asmSimulating.html#maxJobs">Max Jobs</a></em> in the job policy) is greater than the number of points in the current ADE Assembler run, only the ICRPs required to run the points are used. The remaining ICRPs are not allocated to any subsequent run until the current ADE Assembler run is complete.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1068026">
<a id="pgfId-1068026"></a><em>Parallel</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1068063"></a>Runs multiple ADE Assembler runs in parallel. If ICRPs are available, multiple ADE Assembler runs are started without waiting for the previous one to complete.</p>
<p>
<a id="pgfId-1068223"></a>The allocation of points or corners to ICRPs depends on the setting in the <em>Number of jobs</em> section on this form.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1068028"></a>The default value for <em>Run In</em> is set to <em>Series</em>. To make <em>Parallel</em> as the default value, set the <a actuate="user" class="URL" href="../anasimhelp/appA.html#defaultRunInParallel" show="replace" xml:link="simple">defaultRunInParallel</a> environment variable to <code>t</code>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103409"></a><em>Results Refresh During Run</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103411"></a>Contains the option to control the display of results while a simulation run is in progress</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103548"></a>This section is visible only when the <a href="appEnvVars.html#54804">manualResultsViewRefresh</a> environment variable is set to <code>t</code>. </div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1103413">
<a id="pgfId-1103413"></a><em>Manual Refresh</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103607"></a>When selected, the <em>Yield</em> view of the <em>Results</em> tab is not updated while the run is in progress. A command, <em>Refresh to view results</em>, is added to the toolbar of the <em>Results</em> tab. You can use this command to show or update the results at any time during or after the run.</p>
<p>
<a id="pgfId-1103611"></a></p>
<div class="webflare-div-image">
<img width="364" height="89" src="images/asmSimulating-56.gif" /></div>
<p>
<a id="pgfId-1103612"></a>When you clear the <em>Manual Refresh</em> check box, the results are automatically displayed and refreshed on the <em>Results</em> tab while the simulation is in progress.</p>
<p>
<a id="pgfId-1120356"></a>You can control the state of the <em>Manual Refresh</em> check box by using the <a href="../assembler/appEnvVars.html#enableManualRefresh">enableManualRefresh</a> environment variable</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1111375"></a>The <em>Refresh to view results</em> command is available only on the <code>Yield</code> results view.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1069321"></a><em>Number of jobs </em>group box</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1070629"></a>Contains the options to specify how the ICRPs are to be allocated among multiple ADE Assembler runs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1068018">
<a id="pgfId-1068018"></a><em>Share resources equally</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1068020"></a>When <em>Run In</em> is set to <em>Parallel</em>, this option shares the number of jobs among all the parallel runs equally. </p>
<p>
<a id="pgfId-1068246"></a>For example, if <em><a href="asmSimulating.html#maxJobs">Max Jobs</a></em> is <code>10</code> and the current run is using <code>4</code> ICRPs, two additional parallel runs will each get <code>3</code> ICRPs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<blockquote id="#id1068014">
<a id="pgfId-1068014"></a><em>Specify</em></blockquote>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1068378"></a>When <em>Run In</em> is set to <em>Parallel</em>, this option specifies the maximum number of ICRPs to be allocated to each ADE Assembler run in parallel. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1068016"></a>The value in the <em>Specify</em> field should not exceed the value of <em><a href="asmSimulating.html#maxJobs">Max Jobs</a></em> because in that case, the value in <em>Specify</em> is ignored.</div>

<p>
<a id="pgfId-1068485"></a>If the value of <em><a href="asmSimulating.html#maxJobs">Max Jobs</a></em> is greater than the value in <em>Specify</em>, each ADE Assembler run gets the same number of ICRPs as specified in the <em>Specify</em> text box.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1068520"></a>You can change the value of <em>Specify</em> between two ADE Assembler runs. For example, <em>Max Jobs</em> is set to <code>10</code>. Before starting the first run, <em>Specify</em> is set to 4, so it gets four ICRPs. After this, if you change the value of <em>Specify</em> to 2 and start two more runs, the subsequent runs will get two ICRPs each.</div>
<p>
<a id="pgfId-1068639"></a>Also see: <a href="asmSimulating.html#93520">Examples of ICRP Allocation to Parallel Runs Based on Specify and Max Jobs</a></p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081159"></a><em>Report Identical Histories before Run </em>group box</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081161"></a>Contains the options to detect changes in the simulation setup before running simulations. For details, refer to <a href="asmSimulating.html#29824">Reporting Identical Histories Before Running a Simulation</a>.</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1067943"></a><a id="93520"></a>Examples of ICRP Allocation to Parallel Runs Based on Specify and Max Jobs</em></h4>

<p>
<a id="pgfId-1067868"></a>Example 1</p>
<p>
<a id="pgfId-1068742"></a>If <em>Max Jobs</em>=<code>5</code> and <em>Specify</em>=<code>2</code>, the first ADE Assembler run will get two ICRPs and the subsequent runs will also get two ICRPs allocated to them. If there are only two runs in parallel, one ICRP still remains unallocated, as shown in the figure given below.<br /></p>

<div class="webflare-div-image">
<img width="668" height="676" src="images/asmSimulating-57.gif" /></div>

<p>
<a id="pgfId-1069815"></a>Example 2</p>
<p>
<a id="pgfId-1069205"></a>If <em>Max Jobs</em>=<code>6</code> and <em>Specify</em>=<code>4</code>, the first ADE Assembler run will get four ICRPs. The next run initially gets the remaining two ICRPs. Depending on the value set for <em><a href="asmSimulating.html#multiple_runs">Reassign immediately for new runs</a></em> job policy setting, ADE Assembler reassigns one of the ICRPs from the first run to the second run so that each run is using three ICRPs.</p>
<p>
<a id="pgfId-1068709"></a>Example 3</p>
<p>
<a id="pgfId-1068949"></a>If <em>Max Jobs</em>=<code>24</code> and <em>Specify</em>=<code>8</code>, the first run gets eight ICRPs. The next run will get another eight ICRPs. Eight more ICRPs still remain unallocated.</p>

<h3>
<a id="pgfId-1089813"></a><a id="29824"></a>Reportin<a id="checkSetup"></a>g Identical Histories Before Running a Simulation</h3>
<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1099958"></a>
Read a blog related to this at <a actuate="user" class="URL" href="https://community.cadence.com/cadence_blogs_8/b/cic/posts/virtuosity-preventing-redundant-simulations" show="replace" xml:link="simple">Virtuosity: Preventing Redundant Simulations</a>.</div>

<p>
<a id="pgfId-1089814"></a>By default, before running a simulation, ADE Assembler does not compare the setup details with any of the existing histories. This can result in running more than one simulation with the same setup. For a resource-intensive simulation, this can block the resources and affect performance. To avoid this, you can use the Run Options form and select the options to compare the active setup with that of existing histories, and run simulation only if the setup is unique. If any identical history is found, it is reported.</p>
<p>
<a id="pgfId-1089815"></a>To enable reporting of identical histories before running a simulation, perform the following steps:</p>
<ol><li>
<a id="pgfId-1089816"></a>Choose <em>Options &#8211; Run Options</em>. <br />
<a id="pgfId-1089817"></a>The Run Options form is displayed.<br />
<a id="pgfId-1089821"></a><div class="webflare-div-image">
<img width="668" height="378" src="images/asmSimulating-58.gif" /></div></li><li>
<a id="pgfId-1089822"></a>Select the <em>Enable reporting of identical histories </em>check box.<br />
<a id="pgfId-1089823"></a>All the check boxes given below this get enabled. These check boxes specify the type of changes you want to identify while comparing the active setup with a history.<br />
<a id="pgfId-1089824"></a>The following table provides more details about the checks.<br />
<a id="pgfId-1089847"></a><table class="webflareTable" id="#id1089825">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1089827">
<a id="pgfId-1089827"></a>Type of changes</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1089829">
<a id="pgfId-1089829"></a>Checks for</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089918"></a><em>Assembler setup</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089920"></a>Changes in setup database, such as test details, corners, device parameter, run mode and run options. This is selected by default.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1101110"></a>While checking for identical histories, ADE Assembler does not compare the settings specified by the <a href="appEnvVars.html#45776">reportIdenticalHistoryIgnoreElementsList</a> environment variable. You can modify the value of this variable to specify the type of elements you want to ignore while checking for identical histories.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089831"></a><em>Design (schematic/configurations)</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089833"></a>Changes in the schematic or config view of the design. Hierarchical schematic traversal is done to compare the timestamp of each schematic cellview with that of the maestro setup database.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089843"></a><em>Simulation files</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089845"></a>Changes in simulation files, such as definition file and model file. To compare the simulation files, the tool stores the files obtained by parsing spectre.out of the latest run and compares their file hash with the corresponding file hash in the history database.</p>
<p>
<a id="pgfId-1089846"></a>Any addition or removal of model files is detected along with the detection of changes in the setup database.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1089848"></a>Select the check boxes for the required type of changes you want to identify before running a new simulation. If no change is found, ADE Assembler shows a message that mentions that the setup details in the active setup are same as those of a history and prompts you to confirm that you still want to run a simulation. Other types of changes, for which the corresponding check boxes are not selected, are ignored.</li><li>
<a id="pgfId-1089849"></a>Click <em>OK</em>.</li></ol>















<h4><em>
<a id="pgfId-1089850"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1089965"></a>The settings on the Run Options form are applicable for the current ADE Assembler session.</li><li>
<a id="pgfId-1089851"></a>This feature is supported only for Single Run, Sweeps, and Corners, Monte Carlo, Global Optimization, and Local Optimization run modes. If any other run mode is selected in the ADE Assembler setup, the <em>Enable Reporting of Identical Histories</em> check box on the Run Options form is disabled.</li><li>
<a id="pgfId-1090087"></a>By default, this feature is not enabled for any run mode. You can enable it for any one of the supported run modes (Single Run, Sweeps and Corners, Monte Carlo Sampling, Global Optimization, Local Optimization, Sensitivity Analysis) by setting the <a href="appEnvVars.html#74869">runModesForIdenticalHistoryCheck</a> environment variable.</li><li>
<a id="pgfId-1102781"></a>This feature is supported for DSPF cellviews.</li><li>
<a id="pgfId-1102497"></a>This feature is supported for text cellviews stored in HDL files, such as Verilog, VerilogA, VerilogAMS, SystemVerilog, VHDL, VHDLAMS, PSpice, HSPICE, Spectre, and SPICE text files, in Virtuoso libraries. However, note that it compares only the master text cellview, and ignores any changes in the text files included or referenced in the master cellview.</li><li>
<a id="pgfId-1089982"></a>If you want ADE Assembler to print in the CIW log the differences found in the active setup and the setup of a saved history, set the <a href="appEnvVars.html#72297">reportChangesAfterComparingSetupWithHistories</a> environment variable to <code>t</code>.</li></ul>






<h2>
<a id="pgfId-1059142"></a><a id="39638"></a>Runnin<a id="axlprerunscripteditor"></a>g Pre-run <a id="preRunScripts"></a>Scripts before Simulation Runs</h2>

<p>
<a id="pgfId-1059148"></a>For each test, you can specify a pre-run script that contains a set of OCEAN commands to be run before the test is simulated. If a pre-run script is specified for an ADE Assembler test, for every point of evaluation, first the pre-run script is run and then the test is simulated for that point. </p>
<p>
<a id="pgfId-1055164"></a>Using pre-run scripts, you can specify OCEAN commands that read the simulation setup for a test, run pre-simulation analyses for each simulation point and, if required, modify the simulation setup for that point. For example, you can run a script to calculate a calibrated value for a design variable and use that value in the main simulation run. To see an example, refer to <a href="asmSimulating.html#51901">Pre-run script Example for Monte Carlo Calibration</a>.</p>
<p>
<a id="pgfId-1055168"></a>In a pre-run script, you can use any OCEAN command. For example, you can use the <code>desVar</code> command to get the value of a design variable in an ADE Assembler test. To see how, refer to <a href="asmSimulating.html#59848">Pre-run Script Example</a>. In addition, you use the following OCEAN commands that are specifically meant for use in pre-run scripts:</p>
<ul><li>
<a id="pgfId-1055173"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlLoadCurrentEnvironment" show="replace" xml:link="simple">ocnxlLoadCurrentEnvironment</a></li><li>
<a id="pgfId-1055175"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlSetCalibration" show="replace" xml:link="simple">ocnxlSetCalibration</a></li><li>
<a id="pgfId-1055177"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlRunCalibration" show="replace" xml:link="simple">ocnxlRunCalibration</a></li><li>
<a id="pgfId-1055179"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlAddOrUpdateOutput" show="replace" xml:link="simple">ocnxlAddOrUpdateOutput</a></li><li>
<a id="pgfId-1055181"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlUpdatePointVariable" show="replace" xml:link="simple">ocnxlUpdatePointVariable</a></li><li>
<a id="pgfId-1055183"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlGetJobId" show="replace" xml:link="simple">ocnxlGetJobId</a></li><li>
<a id="pgfId-1055185"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlGetPointId" show="replace" xml:link="simple">ocnxlGetPointId</a></li><li>
<a id="pgfId-1055187"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlMCIterNum" show="replace" xml:link="simple">ocnxlMCIterNum</a></li><li>
<a id="pgfId-1055189"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlMainSimSession" show="replace" xml:link="simple">ocnxlMainSimSession</a></li></ul>








<p>
<a id="pgfId-1146392"></a>A pre-run script is run in non-graphical mode. Therefore, in this script, you cannot specify OCEAN commands that plot waveforms.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1055192"></a>It is recommended to deselect <em>Optimize Single Point Run</em> in job policy setup when a pre-run script is used and the setup has a single test point.</div>

<h4><em>
<a id="pgfId-1055193"></a>Related Topics</em></h4>

<ul><li>
<a id="pgfId-1055197"></a><a href="asmSimulating.html#12762">Adding a Pre-Run Script</a></li><li>
<a id="pgfId-1055201"></a><a href="asmSimulating.html#79254">Modifying a Pre-Run Script</a></li></ul>


<h3>
<a id="pgfId-1055207"></a><a id="12762"></a>Adding a Pre-Run Script</h3>

<p>
<a id="pgfId-1055208"></a>To add a pre-run script for a test, do the following:</p>
<ol><li>
<a id="pgfId-1055209"></a>In the Data View pane, right-click the test and choose <em>Pre-Run Script</em>.<br />
<a id="pgfId-1055210"></a>The Pre-Run Script form appears. <br />
<a id="pgfId-1055214"></a><div class="webflare-div-image">
<img src="images/formAddEditPreRunScript.gif" /></div></li><li>
<a id="pgfId-1060287"></a>Click <em>Enable</em> to enable the use of a pre-run script for the test.</li></ol>






<p>
<a id="pgfId-1060332"></a>All other fields and buttons on the form are enabled.</p>
<ol><li>
<a id="pgfId-1060302"></a>Do any of the following to provide a pre-run script:<ul><li>
<a id="pgfId-1060358"></a>If a script is already saved in a file, specify the path to the file in the <em>File</em> field. You can click <em>Browse</em> to view the directories and select a file.<br />
<a id="pgfId-1060960"></a>Now, click <img src="images/preRunScript_Edit.gif" />
 (<em>Edit pre-run script</em>) to open and edit the script in the default text editor for Virtuoso specified by using the <code>$VISUAL</code> or <code>$EDITOR</code> variables in the <code>.cshrc</code> file, in the given order of preference. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079543"></a>You can also specify the name of your preferred text editor by using the <code>editor</code> SKILL variable.</div></li><li>
<a id="pgfId-1060424"></a>To load a script template file and use it to create a new script, click <img src="images/preRunScript_template.gif" />
. The path to the default template, <code>monteCalibrationTemplate.preRun.ocn</code>, is displayed in the <em>File</em> field. <br /><ffi2-fig-frame-in-2 id="#id1060428">
<a id="pgfId-1060428"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="655" height="157" src="images/asmSimulating-62.gif" /></div>
<a id="pgfId-1060507"></a>You can now click <em>Edit pre-run script</em> to open and edit the script in the default text editor.</li></ul></li><li>
<a id="pgfId-1060511"></a>After editing, save the script and close it.</li></ol>












<p>
<a id="pgfId-1060818"></a>If you used a script template, save your script with a new name.</p>
<ol><li>
<a id="pgfId-1060764"></a>(Recommended) Click <img src="images/preRunScript_Lint.gif" />
 (<em>Lint check pre-run script</em>) to run SKILL Lint rules and check the scripts for errors.</li></ol>
<p>
<a id="pgfId-1060525"></a>The script is displayed in the SKILL IDE where you can run lint rules and modify your script.</p>
<ol><li>
<a id="pgfId-1060512"></a>Save the script and close the SKILL IDE.</li><li>
<a id="pgfId-1060547"></a>Click <em>OK</em> to set the script for your test.</li></ol>

<p>
<a id="pgfId-1060846"></a>You can also run the following SKILL functions to set a pre-run script:</p>
<ul><li>
<a id="pgfId-1060607"></a><a actuate="user" class="URL" href="../maeSKILLref/runRelated_re_axlSetPreRunScriptEnabled.html" show="replace" xml:link="simple">axlSetPreRunScriptEnabled</a></li><li>
<a id="pgfId-1060616"></a><a actuate="user" class="URL" href="../maeSKILLref/runRelated_re_axlImportPreRunScript.html" show="replace" xml:link="simple">axlImportPreRunScript</a></li><li>
<a id="pgfId-1060623"></a><a actuate="user" class="URL" href="../maeSKILLref/runRelated_re_axlSetPreRunScript.html" show="replace" xml:link="simple">axlSetPreRunScript</a></li><li>
<a id="pgfId-1060660"></a><a actuate="user" class="URL" href="../maeSKILLref/runRelated_re_axlGetPreRunScript.html" show="replace" xml:link="simple">axlGetPreRunScript</a></li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1060602"></a>By default, the pre-run script file specified for a test is copied to the maestro view and is saved as a part of the state. To use the script file from its original location and not to copy it to the maestro view, set the <a actuate="user" class="URL" href="../anasimhelp/appA.html#copyPreRunScripts" show="replace" xml:link="simple">copyPreRunScripts</a> environment variable to <code>nil</code>.</div>
<p>
<a id="pgfId-1060861"></a>The following examples show how pre-run scripts can be used.</p>

<p><strong>Example 17-1
<a id="pgfId-1055235"></a><a id="59848"></a>Pre-run Script Example</strong></p>

<p>
<a id="pgfId-1055236"></a>The following pre-run script reads the simulation setup of a test and before every point of evaluation, it runs a transient simulation for a selected set of sweep values of design variable <code>R1</code>. Based on the simulation result, it updates the value of another variable <code>DC1</code> before running the main simulation for that point.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055237"></a>; Read the simulation setup for the test</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055238"></a>ocnxlLoadCurrentEnvironment(?noAnalysis t)<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055239"></a>; If design variable R1 is swept from 10K to 30K, the following logic will run only ; for the points where R1 &gt; 20K</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055240"></a>when(evalstring(desVar(&#8220;R1&#8221;)) &gt; 20K
&#160;&#160;&#160;&#160;resultsDir(&#8220;./newDir&#8221;)
&#160;&#160;&#160;&#160;save( &#39;i &quot;/NM2/D&quot; &quot;/NM0/D&quot; )
&#160;&#160;&#160;&#160; analysis( &#8216;tran ?stop &#8220;10u&#8221;)<br />  run( )<br /> SimRes=xmax(i(&quot;NM2.d&quot; ?result &quot;tran-tran&quot; ?resultsDir &quot;./newDir/psf&quot;) 1 ))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055241"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055242"></a>; Update value of variable DC1 in the simulation setup for the point based on
; whether R is greater than or lesser than 90u. 
&#160;&#160;&#160;&#160;a=110u
&#160;&#160;&#160;&#160;b=120u
&#160;&#160;&#160;&#160;if( SimRes &gt; 90u then
&#160;&#160;&#160;&#160;ocnxlUpdatePointVariable(&quot;DCI&quot; sprintf( nil &quot;%L&quot; a))
&#160;&#160;&#160;&#160;else
&#160;&#160;&#160;&#160;ocnxlUpdatePointVariable(&quot;DCI&quot; sprintf( nil &quot;%L&quot; b))
&#160;&#160;&#160;&#160;)<br />)</pre>
<p><strong>Example 17-2
<a id="pgfId-1055244"></a><a id="51901"></a>Pre-run script Example for Monte Carlo Calibration</strong></p>

<p>
<a id="pgfId-1055245"></a>The following pre-run script customizes the simulation setup of a test and sets up a single iteration Monte Carlo calibration run by inheriting the settings from the main Monte Carlo Sampling run. Next, it calculates a calibrated value that is used in the main simulation.</p>
<p>
<a id="pgfId-1055246"></a>In the Pre-Run Script form, click <em>Enable</em>. Next, click <em>Open Template</em>. ADE Assembler loads the<em> monteCalibrationTemplate.preRun.ocn</em> template. </p>
<p>
<a id="pgfId-1066206"></a>Click <img src="images/preRunScript_Edit.gif" />
 (<em>Edit pre-run script</em>) to open and edit the script in the default text editor for Virtuoso. The following template script is opened.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055247"></a>; Read the simulation setup for the test Test1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055248"></a>ocnxlLoadCurrentEnvironment( ?noAnalysis t)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055249"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055250"></a>; The following command changes the simulation setup for the calibration run by<br />; specifying a new analysis for the calibration run</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055251"></a>analysis(&#39;ac ?start &quot;1G&quot;&#160;&#160;?stop &quot;3G&quot;&#160;&#160;?step &quot;1M&quot;)</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055252"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055253"></a>; The following command sets up a single iteration Monte Carlo calibration run by<br />; inheriting the settings from the main Monte Carlo Sampling run</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055254"></a>ocnxlSetCalibration()</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055255"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055256"></a>; The following logic calculates the calibrated value using the successive<br />; approximation method. The ocnxlRunCalibration() runs a single iteration Monte<br />; Carlo simulation.</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055257"></a>for( n 1 noOfBits</pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055258"></a>i = noOfBits - n</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055259"></a>BitWord = BitWord + 2**i</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055260"></a>ParamVal = BitWord*8</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055261"></a>desVar( &quot;ParamName&quot; ParamVal )</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055262"></a>ocnxlRunCalibration()</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055263"></a>SimResult = &lt;Evaluate Expression&gt;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055264"></a>if(&#160;&#160;SimResult &lt; target</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055265"></a> then</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055266"></a> BitWord = BitWord - 2**i</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1055267"></a>)</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055268"></a>)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055269"></a>CalResult = BitWord * 8 </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055270"></a></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055271"></a>; The following command adds the calibrated value as an output named<br />; Calibrated_ParamName so that it can be viewed in the ADE Assembler Outputs Setup tab for<br />; each point.</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055272"></a>ocnxlAddOrUpdateOutput(&quot;Calibrated_ParamName&quot; CalResult) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055273"></a></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055274"></a>; The following command updates the value of global variable ParamName with<br />; the calibrated result. </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055275"></a>ocnxlUpdatePointVariable(&quot;ParamName&quot; sprintf( nil &quot;%L&quot; CalResult)) </pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055276"></a></pre>

<p>
<a id="pgfId-1055277"></a>After assigning the calibrated values to the output of a test, <code>Test1</code> in the above example, you can also pass the calibrated value to a global variable in another test, for example, to variable <code>N2</code> in <code>Test2</code>. In this case, you can define variable <code>N2</code> for <code>Test2</code> using the <a href="../maeSKILLref/measures_re_calcVal.html">calcVal</a> function, as shown below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055279"></a>calcVal(&quot;Calibrated_ParamName&quot; &quot;Test1&quot;)</pre>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1055280"></a>
It is not possible to distribute a simulation running from a pre-run script. If you specify a distribution setup in the script or in <code>.cdsenv</code>, it is ignored. For LSCS, the simulations in pre-run scripts are distributed with the netlisting jobs as per the netlisting job policy set in ADE Assembler. For ICRP, the simulations in pre-run scripts are distributed as per the simulation job policy set in ADE Assembler.</div>
<h3>
<a id="pgfId-1055283"></a><a id="31908"></a><a id="79254"></a>Modifying a Pre-Run Script</h3>

<p>
<a id="pgfId-1055284"></a>To modify the pre-run script for a test, do the following:</p>
<ol><li>
<a id="pgfId-1055285"></a>In the Data View pane, right-click the test and choose <em>Pre-Run Script</em>.<br />
<a id="pgfId-1055286"></a>The Pre-Run Script form appears. </li><li>
<a id="pgfId-1055287"></a>Verify that the <em>File</em> field shows the path to the required script file name.</li><li>
<a id="pgfId-1060705"></a>Click <img src="images/preRunScript_Edit.gif" />
 (<em>Edit pre-run script</em>).</li></ol>



<p>
<a id="pgfId-1060706"></a>The script file is opened in the default text editor where you can edt the script and save the changes.</p>

<h2>
<a id="pgfId-1022743"></a><a id="62147"></a>Using the Run<a id="viewRunPreview"></a> Preview Table</h2>
<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1090151"></a>
You can view a video demonstration for this feature at <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000007MgQsUAK&amp;pageName=ArticleContent&amp;sq=005d0000001T42xAAC_201741245739905" show="replace" xml:link="simple">Run Point Selection</a>. Also read a blog related to this at <a actuate="user" class="URL" href="https://community.cadence.com/cadence_blogs_8/b/cic/archive/2017/04/20/virtuoso-video-diary-run-point-selection-wysiwyg" show="replace" xml:link="simple">Virtuoso Video Diary: Run Point Selection -WYSIWYG</a>.</div>

<p>
<a id="pgfId-1095038"></a>The <em>Run Preview</em> tab provides a summary of all the settings applied in the current maestro cellview. You can view various details, such as the total number of sweep points and corners that are run, the name of the test, or the job policy being used. It also displays the combinations of sweeps and corners that will be run. You can view a particular data point in the debug environment and run a simulation for that point. In addition, you can create netlist for a particular point. On this tab, you can also select specific points for which you want to run simulations.<a id="RunPreview"></a></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1125806"></a>For Monte Carlo Sampling run mode, the <em>Run Preview</em> tab is visible only when you choose the simulation for a fixed number of points. This tab is not visible when you run a simulation to verify yield or to create statistical corners.</div>
<p>
<a id="pgfId-1154495"></a>By default, the <em>Run Preview</em> tab is not displayed. To open this tab,</p>
<ul><li>
<a id="pgfId-1162651"></a>Right-click anywhere on the tab bar of the Outputs Setup pane and choose <em>Run Preview</em>.</li><li>
<a id="pgfId-1162645"></a>Set the <a href="../anasimhelp/appA.html#outputTabsShowDefault">outputTabsShowDefault</a> environment variable.</li></ul>

<p>
<a id="pgfId-1162698"></a><em>Run Preview</em> is displayed to the right of <em>Results</em> in the Outputs Setup tab.</p>

<p>
<a id="pgfId-1090161"></a></p>
<div class="webflare-div-image">
<img width="667" height="196" src="images/asmSimulating-67.gif" /></div>

<p>
<a id="pgfId-1090162"></a>Th<a id="calcValLintCheck"></a>e <em>Run Preview</em> tab has two sections&#8212;<em>Setup Summary</em> and points table, as shown in the figure below. The design point and corner combinations, and the values of variables are displayed in the points table. You can also enable or disable run points in the points table. For more information, see <a href="asmSimulating.html#58469">Enabling or Disabling Run Points in Points Table</a>.</p>

<p>
<a id="pgfId-1090170"></a></p>
<div class="webflare-div-image">
<img src="images/RunPreview_table.gif" /></div>

<p>
<a id="pgfId-1130317"></a>You can click the arrow button on the upper-right corner to show or hide the <em>Setup Summary</em> section. To find a specific point or set of points in the points table, you can sort the data displayed in each column by clicking the arrow button available for each column header.</p>
<p>
<a id="pgfId-1130318"></a>You can also click the <em>calcVal lint check</em> button to run pre-simulation checks for all enabled <code>calcVal</code> expressions. You can view the resulting messages of the lint checks in the CIW. These checks are run only for the enabled output that contains <code>calcVal</code> expressions.</p>
<p>
<a id="pgfId-1130028"></a>The <em>Run Preview</em> tab can be displayed only for the single run, sweeps and corners simulation or the Monte Carlo simulation for which the option to run a fixed number of points is selected. All Monte Carlo iterations for a particular point, test, corner, and variable combination are combined in a single row where the <em>mc_iteration</em> column shows the range of points.</p>

<p>
<a id="pgfId-1129951"></a></p>
<div class="webflare-div-image">
<img width="668" height="390" src="images/asmSimulating-69.gif" /></div>

<p>
<a id="pgfId-1126441"></a>The <em>Run Preview</em> tab is not displayed when reliability analysis is enabled.</p>

<h3>
<a id="pgfId-1090172"></a>Refreshing the Setup Summary and Points Table</h3>

<p>
<a id="pgfId-1090173"></a>As you modify the setup in the current view, the setup summary is refreshed automatically and the count of corners, points, and total simulations to be run keeps varying. By default, only the summary data is displayed and updated. This is because the <em>Auto Refresh Setup Summary</em> check box in the drop-down menu is selected by default. You can click the <em>Refresh</em> button to display the details of the run points in points table.</p>

<p>
<a id="pgfId-1090178"></a></p>
<div class="webflare-div-image">
<img src="images/RunPreview1.gif" /></div>

<p>
<a id="pgfId-1090179"></a>When you open a new setup or move from ADE Explorer to ADE Assembler and vice-versa, the points table is not displayed by default. You need to click <em>Refresh </em>to view the points table. In addition, the points table is not automatically refreshed and becomes unavailable when the setup changes. In this case, an alert icon is displayed on <em>Refresh</em> to indicate that the table data is not current. You can click <em>Refresh</em> to update the table contents.</p>

<p>
<a id="pgfId-1090184"></a></p>
<div class="webflare-div-image">
<img src="images/RunPreview_Refresh.gif" /></div>

<p>
<a id="pgfId-1090185"></a>To refresh the points table automatically after every change in the sweep values, corner, or any other setup changes:</p>
<ul><li>
<a id="pgfId-1090187"></a>Set the <a href="../anasimhelp/appA.html#enableAutoRefreshPointsTable">enableAutoRefreshPointsTable</a> environment variable to <code>t</code>.</li><li>
<a id="pgfId-1090188"></a>Click the <em>Refresh</em> drop-down list and select the <em>Auto Refresh Points Table</em> option.</li></ul>

<p>
<a id="pgfId-1090189"></a>If the number of the simulation points is large, it may take several minutes to display the details. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1090190"></a>
If the <em>Auto Refresh Points Table</em> check box is selected, the simulation run triggers refreshing the points table. If the number of the simulation points is large, it may take more time for the simulation run to complete. Therefore, it is recommended to clear the <em>Auto Refresh Points Table</em> check box before running simulations.</div>

<p>
<a id="pgfId-1090191"></a>To refresh only the points table and not the Setup Summary, you can clear the <em>Auto Refresh Setup Summary</em> check box and select the <em>Auto Refresh Points Table</em> check box.</p>

<h4><em>
<a id="pgfId-1090192"></a>Related Environment Variables</em></h4>

<ul><li>
<a id="pgfId-1090194"></a><a href="../anasimhelp/appA.html#enableAutoRefreshSetupSummary">enableAutoRefreshSetupSummary</a></li><li>
<a id="pgfId-1090196"></a><a href="../anasimhelp/appA.html#enableAutoRefreshPointsTable">enableAutoRefreshPointsTable</a></li></ul>


<h3>
<a id="pgfId-1090198"></a><a id="58469"></a>Enabling or Disabling Run Points in Points Table</h3>

<p>
<a id="pgfId-1090199"></a>The points table shows a <em>Run</em> column that includes a check box against each row. By default, the check box is selected for all the points. The <em>Run</em> column is used to select or deselect run points for the simulation run. </p>
<p>
<a id="pgfId-1090200"></a>If you do not want to run a specific point, clear the check box in the <em>Run</em> column. </p>
<p>
<a id="pgfId-1090204"></a>To enable or disable a set of points, hold down the <code>Ctrl</code> key and select the points, right-click and choose <em>Set Point Enable For Run</em> or <em>Set Point Disabled For Run</em>, respectively.</p>

<p>
<a id="pgfId-1127045"></a></p>
<div class="webflare-div-image">
<img width="437" height="154" src="images/asmSimulating-72.gif" /></div>

<p>
<a id="pgfId-1127064"></a>To enable or disable all the points, right-click the column title on the Run Preview table choose <em>Select All Run Points</em> or <em>Deselect All Run Points</em>, respectively.</p>

<p>
<a id="pgfId-1127069"></a></p>
<div class="webflare-div-image">
<img width="503" height="258" src="images/asmSimulating-73.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1090211"></a>When you enable or disable a point, the <em>Simulations</em> field in <em>Setup Summary </em>is updated to indicate the number of simulations that are run. However, the Run Summary assistant still displays the previous data. When you change the run point selection in points table, the Run Summary assistant in ADE Assembler displays the text, <code>Run Point Selection Enabled</code>, to indicate that the given count is not current. </div>

<p>
<a id="pgfId-1090216"></a></p>
<div class="webflare-div-image">
<img width="360" height="112" src="images/asmSimulating-74.gif" /></div>
<h4>
<a id="pgfId-1090217"></a>Enabling or Disabling Run Column</h4>

<p>
<a id="pgfId-1090218"></a>To completely disable the <em>Run</em> column and run point selection, </p>
<ul><li>
<a id="pgfId-1090222"></a>Click <img src="images/RunPreview_EnableIcon.gif" />
. <br />
<a id="pgfId-1090223"></a>The <em>Run</em> column becomes unavailable. In this case, all the points will be run irrespective of the selection you made previously. To enable the <em>Run</em> column, click this button again.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1090224"></a>When you disable corners or sweeps, the results in <code>Detail</code> and <code>Detail-Transpose</code> views display <code>disabled</code> in the disabled sweep-corner cell, as shown in the figure below.</div>

<p>
<a id="pgfId-1090229"></a></p>
<div class="webflare-div-image">
<img width="687" height="217" src="images/asmSimulating-76.gif" /></div>

<p>
<a id="pgfId-1090230"></a>The completely disabled rows and columns are not displayed in the results.</p>

<h4><em>
<a id="pgfId-1090231"></a>Some Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1090233"></a>Measurements across corners, sweeps, or all ignore the disabled run points.</li><li>
<a id="pgfId-1090234"></a>The run point selection is reset and the points table is disabled when you transition between ADE Explorer to ADE Assembler and vice-versa.</li><li>
<a id="pgfId-1090235"></a>The run point selection is not considered in Saved Ocean XL scripts.</li><li>
<a id="pgfId-1090236"></a>Any setup changes in the variables, parameters or corners will reset the check boxes in Run column and select all of them.</li><li>
<a id="pgfId-1090237"></a>The run point selection setup is persistent and is saved and loaded along with view.</li><li>
<a id="pgfId-1093360"></a>By default, the columns for fixed parameters are not displayed in the points table on <em>Run Preview</em> tab. However, if the fixed parameters are enabled in the <em>Results</em> tab for the Detail - Transpose view, they will be displayed in the points table as well. To display columns for fixed parameters on <em>Results</em> tab, you can choose the <em>Fixed Parameters</em> option in the <em>Configure what is shown in the table</em> drop-down list available on the toolbar.</li></ul>






<h3>
<a id="pgfId-1082538"></a>Using the Information Displayed on the Run Preview Tab</h3>

<p>
<a id="pgfId-1072294"></a>You can use the information displayed on the <em>Run Preview</em> tab as explained below.</p>

<h4>
<a id="pgfId-1072306"></a>Viewing the Corner and Sweep Combinations</h4>

<p>
<a id="pgfId-1072354"></a>If you have selected the check boxes that enable automatic refresh of information, the details on the <em>Run Preview</em> tab show the updated corner and point details while you modify the ADE Assembler setup. </p>

<h4>
<a id="pgfId-1072355"></a>Modifying the Setup</h4>

<p>
<a id="pgfId-1072356"></a>You can click the hyperlinks provided in the <em>Setup Summary</em> section to open the relevant section in the ADE Assembler setup and modify the settings. For example, when you click the <em>Corner</em> hyperlink, the <h-hot><a actuate="user" class="URL" href="../assembler/asmCorners.html#formCornersSetup" show="replace" xml:link="simple">Corners Setup form</a></h-hot> is displayed where you can modify the corners for the current setup. After you close the Corners Setup form, the number of corners is updated according to the changes done. </p>
<p>
<a id="pgfId-1071963"></a>Similarly, you can click the <em>Job Policy</em> hyperlink to open the <h-hot><a href="asmSimulating.html#jobPolicySetupForm">Job Policy Setup form</a></h-hot> to view or modify the job policy. If any test has an overridden job policy, the Job Policy information in the Setup Summary indicates that by using the keyword <code>(various)</code>, as shown in the figure above.</p>

<h4>
<a id="pgfId-1072390"></a>Creating Netlist</h4>

<p>
<a id="pgfId-1072401"></a>You can create netlist for a specific design point and corner combination and verify details. For this, right-click anywhere in the row corresponding to that combination and choose <em>Create Netlist</em>. ADE Assembler creates and displays a netlist for that point in a separate window.</p>

<h4>
<a id="pgfId-1072408"></a>Running Simulation for a Specific Point</h4>

<p>
<a id="pgfId-1072415"></a>Before running simulation for all the points, you might be interested in viewing the results of a specific design point and corner combination. In that case, you can run a simulation for that combination only and verify results. If required, make further modifications in the setup. To run simulation for a specific design point and corner combination, right-click anywhere in the row corresponding to that combination and choose <em>Manage Point Results &#8211; Open Debug Environment</em>. ADE Assembler opens that simulation point in the <h-hot><a href="asmSimulating.html#adexlDebugEnvironment">ADE Assembler Debug Environment</a></h-hot> where you can run a simulation and view results.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074652"></a>The <em>Create Netlist</em> and <em>Open Debug Environment</em> commands are not enabled for the OCEAN-based tests.</div>

<h4>
<a id="pgfId-1122231"></a>Documenting Point Details</h4>

<p>
<a id="pgfId-1122232"></a>Click <em>Document Run Preview Table in CSV Format</em> on the toolbar of this tab to document the details of points in a <code>.csv</code> file for future reference.</p>

<h3>
<a id="pgfId-1072648"></a><a id="31600"></a>Modifying the Format of the Run Preview Tab</h3>

<p>
<a id="pgfId-1072649"></a>The format of information displayed on the <em>Run Preview</em> tab is defined by the <code>previewSetup.xsl</code> stylesheet saved at the following default location:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1072691"></a><code><em>&lt;Virtuoso-installation-directory&gt;</em></code>/share/cdssetup/adexl/previewSetup.xsl </pre>

<p>
<a id="pgfId-1072669"></a>To modify this format or to define the content to be displayed on this tab, you can provide the path to a customized <code>.xsl</code> stylesheet by setting the <code>RUNPREVIEW</code> shell environment variable before running Virtuoso, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1072711"></a>setenv RUNPREVIEW_XSL <code><em>&lt;path-to-cutomized-stylesheet-file.xsl&gt;</em></code></pre>

<p>
<a id="pgfId-1072760"></a>ADE Assembler uses the stylesheet specified by this variable to display the information on the <em>Run Preview</em> tab.</p>

<h2>
<a id="pgfId-1072652"></a><a id="86080"></a>Using Convergence Aids<a id="marker-1072651"></a></h2>
<p>
<a id="pgfId-1020926"></a></p>
<div class="webflare-div-image">
<img src="images/popupConvergenceSpectre.gif" /></div>
<p>
<a id="pgfId-1020930"></a></p>
<div class="webflare-div-image">
<img src="images/popupConvergenceHspiceD.gif" /></div>

<p>
<a id="pgfId-1020932"></a><a id="nodeset"></a>To specify node set information, do the following:</p>
<ol><li>
<a id="pgfId-1020933"></a>On the <a href="asmGettingStarted.html#assistantDataView">Data View</a> assistant pane, right-click the test or analysis name and choose <em>Convergence Aids &#8211; Node Set</em>.<br />
<a id="pgfId-1020937"></a>The appropriate form for your target simulator appears.</li><li>
<a id="pgfId-1020938"></a>When you are done specifying node set information, click <em>OK</em>.</li></ol>


<p>
<a id="pgfId-1020940"></a><a id="ic"></a>To specify initial conditions, do the following:</p>
<ol><li>
<a id="pgfId-1020941"></a>On the Data View assistant pane, right-click the test or analysis name and choose <em>Convergence Aids &#8211; Initial Condition</em>.<br />
<a id="pgfId-1020945"></a>The appropriate form for your target simulator appears.</li><li>
<a id="pgfId-1020946"></a>When you are done specifying initial conditions, click <em>OK</em>.</li></ol>


<p>
<a id="pgfId-1020947"></a>(hspiceD only) To force a node to a particular voltage for the entire simulation, do the following:</p>
<p>
<a id="pgfId-1020949"></a><a id="forceNode"></a>To specify node set information, do the following:</p>
<ol><li>
<a id="pgfId-1020950"></a>On the Data View assistant pane, right-click the test or analysis name and choose <em>Convergence Aids &#8211; Force</em>.<br />
<a id="pgfId-1020954"></a>The Select Force Node Set form appears.</li><li>
<a id="pgfId-1020955"></a>When you are done specifying force nodes, click <em>OK</em>.</li></ol>



<h2>
<a id="pgfId-1024689"></a><a id="96854"></a>Disabling and Enabling All Point <a id="disablePointSweeps"></a>Sweeps<a id="marker-1024905"></a></h2>

<p>
<a id="pgfId-1024751"></a>To disable all point sweeps, do the following:</p>
<ul><li>
<a id="pgfId-1024761"></a>On the Run Summary pane, deselect the <span class="webflare-courier-new" style="white-space:pre"><em>#</em></span><em> Point Sweeps</em> check box (where <span class="webflare-courier-new" style="white-space:pre"><em>#</em></span> indicates the number of point sweeps).<br />
<a id="pgfId-1024759"></a>The simulator does not run any point sweeps.</li></ul>

<p>
<a id="pgfId-1024782"></a>To restore all point sweeps, do the following:</p>
<ul><li>
<a id="pgfId-1024793"></a>On the Run Summary pane, select the <span class="webflare-courier-new" style="white-space:pre"><em>#</em></span><em> Point Sweeps</em> check box (where <span class="webflare-courier-new" style="white-space:pre"><em>#</em></span> indicates the number of point sweeps).<br />
<a id="pgfId-1024794"></a>The simulator runs the specified number of point sweeps.</li></ul>


<h2>
<a id="pgfId-1082735"></a>Disabling and Enabling All Corners</h2>

<p>
<a id="pgfId-1082736"></a>To disable all corners, do the following:</p>
<ul><li>
<a id="pgfId-1082737"></a>On the Run Summary pane, deselect the <em>Corners</em> check box.<br />
<a id="pgfId-1082738"></a>Corners are not included in simulations.</li></ul>

<p>
<a id="pgfId-1082739"></a>To enable all corners, do the following:</p>
<ul><li>
<a id="pgfId-1082740"></a>On the Run Summary pane, select the <em>Corners</em> check box.</li></ul>
<p>
<a id="pgfId-1082720"></a>You can enable or disable simulations for specific test and corner combinations using the Corners Setup form. For details, see <a href="asmCorners.html#43782">Chapter 6, &#8220;Working with Corners&#8221;</a>.</p>

<h2>
<a id="pgfId-1024743"></a><a id="25093"></a>Starting a <a id="startingSimulation"></a>Simulation<a id="marker-1020236"></a></h2>

<p>
<a id="pgfId-1020238"></a>To start a simulation, do the following:</p>
<ul><li>
<a id="pgfId-1015355"></a>On the <a href="asmGettingStarted.html#11352">Run</a> toolbar, click the <em>Run Simulation</em> <img src="images/iconRunSimulation.gif" />
 button.<br />
<a id="pgfId-1026823"></a>ADE Assembler does the following:<ul><li>
<a id="pgfId-1025229"></a>If the <a href="appEnvVars.html#21562">adexl.icrpStartup</a> environment variable is set to <code>t</code>, displays the Specify History Name form to prompt for a history name to be used for the current run. For more details, refer to <a href="asmSimulating.html#70196">Specifying a Name for Simulation History</a>.</li><li>
<a id="pgfId-1073799"></a>Checks for new design variables by performing a <a href="asmDesignVars.html#copyFrom">copy-from-cellview</a> operation.<br />
<a id="pgfId-1025233"></a>The simulator requires a value for every design variable or a <a href="asmParameterization.html#globalVariable">global variable</a> that is enabled and has a valid value or set of values.</li><li>
<a id="pgfId-1142871"></a>Checks if the references in the Global Variables and Corners section are the same as those in the Setup Library Assistant. Use the <a href="appEnvVars.html#38959">syncWithSLA</a> environment variable to specify different behaviors.</li><li>
<a id="pgfId-1025618"></a>Generates a new netlist that reflects any design changes (any changes you made to the cellview since the last extraction).</li><li>
<a id="pgfId-1025249"></a>Updates the simulation information numbers that appear on the Run Summary assistant pane to indicate the number of tests running, the number of values varying (<em>Point Sweeps</em>), the number of corners, and the <a actuate="user" class="URL" href="../assembler/asmCorners.html#nominalCorner" show="replace" xml:link="simple">nominal corner</a>.</li><li>
<a id="pgfId-1091698"></a>Using the simulator settings and job policy settings, submits the points to the available jobs for simulation.</li><li>
<a id="pgfId-1026758"></a>Displays the progress of the simulation run in the Run Summary assistant pane.<br /><ffi2-fig-frame-in-2 id="#id1026849">
<a id="pgfId-1026849"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="600" height="314" src="images/asmSimulating-80.gif" /></div>
<a id="pgfId-1058690"></a>For more details of the progress bar, refer to <a href="asmSimulating.html#67488">Checking Run Status on the Progress Bar</a>.</li><li>
<a id="pgfId-1025244"></a>Simulates your testbench.</li><li>
<a id="pgfId-1091687"></a>Saves the results in the results database.</li><li>
<a id="pgfId-1033518"></a>Displays the progress and results of the simulation run on a new tab in the Results tab of the Outputs pane. The name of the tab matches the name of the checkpoint for the simulation run. For more information, see <a href="asmViewingResults.html#92944">Working with Tabs for Simulation Checkpoints</a>.</li><li>
<a id="pgfId-1048581"></a>If simulations are not run successfully, displays appropriate errors. For more information on the types of errors, refer to <a href="asmSimulating.html#97981">Simulation Errors</a>.</li></ul></li></ul>




















<p>
<a id="pgfId-1055437"></a>When the simulation is in progress, the data points on the <em>Results</em> tab show the current stage of simulation.</p>

<p>
<a id="pgfId-1138817"></a></p>
<div class="webflare-div-image">
<img width="668" height="480" src="images/asmSimulating-81.gif" /></div>

<p>
<a id="pgfId-1056574"></a>In some cases, the results status is shown as <code>Canceled</code>. This status indicates any one of the following scenarios:</p>
<ul><li>
<a id="pgfId-1056503"></a>You have canceled the simulation run by clicking the <em>Stop Simulation</em> button.</li><li>
<a id="pgfId-1056504"></a>The ADE Assembler GUI is closed abruptly.</li><li>
<a id="pgfId-1056505"></a>There is no sufficient disk space to complete the simulation run.</li><li>
<a id="pgfId-1056506"></a>If you are running a Monte Carlo simulation, a particular simulation is canceled by ADE Assembler because the target yield level is achieved when the <a href="../Explorer/chap8.html#YieldVerification">Yield Verification - Basic AutoStop</a> method is used.</li></ul>



<p>
<a id="pgfId-1138607"></a>For details on how to view results on the Results tab and how to customize the view, refer to <a href="asmViewingResults.html#90740">Viewing, Printing, and Plotting Results</a>.</p>

<h2>
<a id="pgfId-1173256"></a>AMS Simulations in ADE Assembler</h2>

<p>
<a id="pgfId-1173257"></a>ADE Explorer and ADE Assembler provide seamless integration of the Spectre AMS Designer and Xcelium Mixed-Signal simulator. You can use the Virtuoso Hierarchy Editor to specify the cellviews that you want to use in your design. </p>
<p>
<a id="pgfId-1173258"></a>A configuration (config) is a set of binding rules that defines which cellviews are part of the design for a given purpose (such as netlisting and simulation). Using the Virtuoso Hierarchy Editor, you can view the hierarchy of these cellviews and apply view switching to mix and match abstraction levels depending upon which phase of the design cycle you are performing. </p>
<p>
<a id="pgfId-1173259"></a>To simulate your design with Spectre AMS Designer, you must specify a top-level conifg cellview for your design hierarchy. The design can contain other config cellviews at lower levels in the hierarchy. For more information on how to create a config view, see <h-hot><a actuate="user" class="URL" href="../Explorer/chap15.html#configCreation" show="replace" xml:link="simple">Creating a Configuration Cellview</a></h-hot>.</p>

<h4><em>
<a id="pgfId-1173261"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1173263"></a><h-hot><a actuate="user" class="URL" href="../Explorer/chap15.html" show="replace" xml:link="simple">Working with AMS Simulator</a></h-hot></p>

<h2>
<a id="pgfId-1173265"></a>Simulatio<a id="PBSRinAssembler"></a>n Snapshots in ADE Assembler</h2>

<p>
<a id="pgfId-1173266"></a>ADE Assembler and ADE Explorer let you save snapshots of a simulation process state using the Process-Based Save and Restart (PBSR) flow. This snapshot can then be used to restart the simulation from the last-saved state. The PBSR flow leads to a comprehensive restart of the process where the simulation must be rerun on the exact same hardware.</p>
<p>
<a id="pgfId-1173267"></a>Note the following:</p>
<ul><li>
<a id="pgfId-1173268"></a>This feature is available only when the selected simulator is AMS and the AMS flex flow is being used.</li><li>
<a id="pgfId-1173269"></a>ADE Assembler supports only the PBSR flow. The classic save and restart flow is not supported.</li></ul>


<h3>
<a id="pgfId-1173270"></a>Saving Simulation Snapshots</h3>

<p>
<a id="pgfId-1173271"></a>To save simulation snapshots:</p>
<ol><li>
<a id="pgfId-1173272"></a>Select <em>Enable process based save restart</em> on the <em>Assembler Save and Restart Options</em> group box of the Netlist and Run Options form.</li><li>
<a id="pgfId-1173273"></a>Select <em>Enable save</em>.<br />
<a id="pgfId-1173274"></a>The <em>Save Options</em> group box is enabled.<br />
<a id="pgfId-1173275"></a>This check box is grayed out when <em>Enable restart</em> check box is selected.</li><li>
<a id="pgfId-1173276"></a>Specify a value for the fields on the <em>Save Options</em> group box.</li><li>
<a id="pgfId-1173277"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1173278"></a>Run a simulation.</li></ol>






<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1173279"></a>Snapshots can be saved only for single-point runs.</div>
<p>
<a id="pgfId-1173281"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../Explorer/chap15.html#PBSR" show="replace" xml:link="simple">Process-Based Save and Restart (PBSR) flow</a></h-hot>.</p>

<h3>
<a id="pgfId-1173282"></a>Restarting a Simulation from a Saved Snapshot</h3>

<p>
<a id="pgfId-1173283"></a>To restart a simulation from a saved snapshot:</p>
<ol><li>
<a id="pgfId-1173284"></a>Select <em>Enable process based save restart</em> on the <em>Assembler Save and Restart Options</em> group box of the Netlist and Run Options form.</li><li>
<a id="pgfId-1173285"></a>Select <em>Enable restart</em>.<br />
<a id="pgfId-1173286"></a>The <em>Restart Options</em> group box is enabled.</li><li>
<a id="pgfId-1173287"></a>From the <em>Snapshot name</em> drop-down list, select a snapshot.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1173288"></a>Before selecting a snapshot from this drop-down list, ensure that you select <em>Use saved history for restart</em> and add a history in the <em>Selected Histories </em>section of the Reference Histories form in ADE Assembler.</div></li><li>
<a id="pgfId-1173289"></a>Click <em>Add</em>.<br />
<a id="pgfId-1173290"></a>An entry gets added to the <em>Snapshot sweep information</em> table for the selected snapshot. You can then select or deselect the check box in the <em>Enable</em> column of the table to enable or disable an entry.</li></ol>







<h4><em>
<a id="pgfId-1173291"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1173293"></a><h-hot><a actuate="user" class="URL" href="../Explorer/chap15.html#netlistAndRunOptionsFormRef" show="replace" xml:link="simple">Netlist and Run Options Form</a></h-hot></p>
<p>
<a id="pgfId-1173295"></a><h-hot><a actuate="user" class="URL" href="../Explorer/chap15.html#select_ams_netlister" show="replace" xml:link="simple">Setting Up the AMS Netlister Options</a></h-hot></p>
<p>
<a id="pgfId-1173245"></a></p>

<h3>
<a id="pgfId-1053515"></a>Simulation Runtime Improvements</h3>

<p>
<a id="pgfId-1092772"></a>The following enhancements show significant improvements in the simulation runtime.</p>

<h4>
<a id="pgfId-1092801"></a>Performance Enhancements Using Spec<a id="spectrePlugin"></a>tre Plugin</h4>

<p>
<a id="pgfId-1092773"></a>To reduce the performance overhead of creating the complete netlist for every simulation point and the associated Spectre startup time, a Spectre plugin is used. ADE creates an initial netlist for the first design point and sends it to Spectre plugin. Spectre reuses this netlist for all the design points and makes only variable changes for which the plugin sends the details to Spectre.</p>
<p>
<a id="pgfId-1092774"></a>If netlist recreation and Spectre startup time is comparable to the simulation time, then a significant performance improvement can be noticed when the new Spectre plugin is used. However, the performance improvement may diminish when the simulation run time is high.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1143648"></a>The Spectre plugin is not supported in LSCS job control mode.</div>

<h4><em>
<a id="pgfId-1094495"></a>Viewing Netlist</em></h4>

<p>
<a id="pgfId-1092775"></a>To view or create the netlist for a design point during the simulation run, right-click in a cell in the results table and select one of the options in the <em>View Netlist</em> menu: </p>
<ul><li>
<a id="pgfId-1092776"></a><em>View Initial Netlist</em>: Opens the initial netlist generated when the first design point is simulated. </li><li>
<a id="pgfId-1092777"></a>View Variable Changes: Opens the <code>spectre_change.log</code> file that displays the variables changed for the current point with respect to the first point. This file also shows a log of variables used at each point.</li><li>
<a id="pgfId-1092778"></a><em>Create Netlist for this Point</em>: Creates netlist for the selected point.<br />
<a id="pgfId-1094312"></a><div class="webflare-div-image">
<img width="668" height="784" src="images/asmSimulating-82.gif" /></div></li></ul>





<h4><em>
<a id="pgfId-1094483"></a>Viewing Output Log</em></h4>

<p>
<a id="pgfId-1094515"></a>Spectre plugin maintains a single Spectre <code>Spectre.out</code> log for all the points. To view the output log for a data point, right-click in a cell on the <em>Results</em> tab and choose <em>Output Log</em>.</p>

<p>
<a id="pgfId-1094540"></a></p>
<div class="webflare-div-image">
<img width="668" height="724" src="images/asmSimulating-83.gif" /></div>
<h4><em>
<a id="pgfId-1093018"></a>Limitations</em></h4>

<ul><li>
<a id="pgfId-1093153"></a>The Spectre plugin is not supported in the scenarios listed below. ADE Assembler automatically disables Spectre plugin, continues to run simulation and displays an information message in the job log:<ul><li>
<a id="pgfId-1093020"></a>The enabled corners use model sections, but a default model file is not defined and the Nominal corner is disabled</li><li>
<a id="pgfId-1111616"></a>The enabled corners use swept model sections</li><li>
<a id="pgfId-1111610"></a>Model file sections use VAR()</li><li>
<a id="pgfId-1111755"></a>Multi-technology simulations</li><li>
<a id="pgfId-1093021"></a>Checks and Asserts</li><li>
<a id="pgfId-1111497"></a>Pcell parameters are used in the design</li><li>
<a id="pgfId-1093022"></a>Simulators other than Spectre</li><li>
<a id="pgfId-1093023"></a>When the <em>Optimize Single Point Run</em> check box on the Job Policy form is selected and there is a single point run</li><li>
<a id="pgfId-1093024"></a>Monte Carlo</li><li>
<a id="pgfId-1093025"></a>Statistical corners</li><li>
<a id="pgfId-1093026"></a>Troubleshoot run</li><li>
<a id="pgfId-1093027"></a>Config variables</li><li>
<a id="pgfId-1093028"></a>String variables</li><li>
<a id="pgfId-1093029"></a>Include analysis</li><li>
<a id="pgfId-1093030"></a>Pre-run scripts</li><li>
<a id="pgfId-1103119"></a><em>XPS MS</em> performance mode is enabled on the <a actuate="user" class="URL" href="../Explorer/chap2.html#enableSpectreTurbo" show="replace" xml:link="simple">High-Performance Simulation Options form</a></li><li>
<a id="pgfId-1093031"></a><code>+xps</code> command line option is set</li><li>
<a id="pgfId-1093032"></a>Spice outputs</li><li>
<a id="pgfId-1093348"></a>Electrically Aware Design flow is enabled</li><li>
<a id="pgfId-1093105"></a>EM/IR flow is enabled</li><li>
<a id="pgfId-1099691"></a>DSPF files used in the parasitic aware design flow</li><li>
<a id="pgfId-1101692"></a>DSPF cellviews are used in tests</li></ul></li></ul>























<h4>
<a id="pgfId-1092843"></a>Performance Enhancements by Submitting Point<a id="groupRun"></a>s in a Group</h4>

<p>
<a id="pgfId-1092844"></a>ADE Assembler used to send one point at a time to ICRPs. To improve the performance of simulation throughput and the responsiveness of the user interface, ADE Assembler now sends a group of points to each ICRP.</p>
<p>
<a id="pgfId-1092845"></a>Running a group of points together reduces the overhead of multiple interactions of the user interface with the ICRPs. In addition, when combined with the redistribution feature that automatically reallocates simulations waiting on slow resources to other resources, it helps improve the overall runtime. To enable redistribution, set the <h-hot><a actuate="user" class="URL" href="../Explorer/appA.html#minGroupSizeSplitAcrossIdleJobs" show="replace" xml:link="simple">minGroupSizeSplitAcrossIdleJobs</a></h-hot> .cdsenv variable to the count after which redistribution should take place. By default, this variable is set to <code>0</code>. </p>
<p>
<a id="pgfId-1092930"></a>For example, when you set this variable to 20, if an ICRP has 20 or more simulations, they are redistributed to other available ICRPs.</p>
<p>
<a id="pgfId-1092846"></a>Consider another example where all ICRPs have completed their simulations, but 5 simulations are still pending on one ICRP because it is on a slow resource. In this case:</p>
<ul><li>
<a id="pgfId-1092847"></a>Redistribution helps if ADE Assembler takes away those 5 simulations and assigns them to 5 faster computers.</li><li>
<a id="pgfId-1092848"></a>Redistribution does not help if one or more of the computers receiving these new simulations are equally slow.</li><li>
<a id="pgfId-1092849"></a>Redistribution helps to a great extent if each simulation takes a few hours, and the slow resource with 5 points has become the bottleneck for the entire run to complete, and, there are other resources that are available.</li></ul>


<p>
<a id="pgfId-1095009"></a>When the points are redistributed to other available jobs, appropriate information messages are added to the job log files. You can review those messages for debugging purpose.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1094294"></a>Though the points are submitted to the ICRP in a group, the status on the <em>Results</em> tab shows each point running separately.</div>
<p>
<a id="pgfId-1094977"></a>Overall improvement in runtime depends on the following factors:</p>
<ul><li>
<a id="pgfId-1092851"></a>Number of points being run</li><li>
<a id="pgfId-1092852"></a>Long simulations (if simulation runtime is large, then other improvements may appear non-significant)</li><li>
<a id="pgfId-1092853"></a>Overall quality of the farm</li><li>
<a id="pgfId-1092854"></a>Amount of load on farm computers</li><li>
<a id="pgfId-1092855"></a>Number of max jobs</li></ul>




<p>
<a id="pgfId-1092720"></a>Related environment variable: <code>groupRunA</code></p>
<p>
<a id="pgfId-1093185"></a>Also see:</p>
<ul><li>
<a id="pgfId-1055506"></a><a href="asmSimulating.html#70196">Specifying a Name for Simulation History</a></li><li>
<a id="pgfId-1073821"></a><a href="asmSimulating.html#67488">Checking Run Status on the Progress Bar</a></li><li>
<a id="pgfId-1078919"></a><a href="asmSimulating.html#37288">Suspending and Resuming Netlisting or Simulation Runs</a></li><li>
<a id="pgfId-1058744"></a><a href="asmSimulating.html#18237">Stopping a Simulation</a></li><li>
<a id="pgfId-1059298"></a><a href="asmSimulating.html#86923">Stopping Jobs and Resubmitting Simulations</a></li><li>
<a id="pgfId-1059302"></a><a href="asmSimulating.html#82627">Ignoring Design Changes During Run</a></li><li>
<a id="pgfId-1058768"></a><a href="asmSimulating.html#82817">Continuing the In-Process Simulations After ADE Assembler GUI Exits</a></li><li>
<a id="pgfId-1024739"></a><a href="asmSimulating.html#96854">Disabling and Enabling All Point Sweeps</a></li><li>
<a id="pgfId-1048595"></a><a href="asmSimulating.html#97981">Simulation Errors</a></li><li>
<a id="pgfId-1053532"></a><a href="asmSimulating.html#91735">Creating and Running an OCEAN Script</a></li></ul>










<h2>
<a id="pgfId-1064792"></a><a id="70196"></a>Specifying a Name for Simulation <a id="HistoryNameForm"></a>History </h2>

<p>
<a id="pgfId-1073861"></a>When you run a simulation, depending on the run mode, ADE Assembler assigns a default name to the new history. For example, for the <code>Single Run, Sweeps, and Corners</code> run mode, the default history name is <code>Interactive</code> , and for the <code>Monte Carlo Sampling </code>run mode, the default history name is <code>MonteCarlo</code>.</p>
<p>
<a id="pgfId-1073898"></a>If required, you can specify a custom name to be used for a history. You can do this in either of the following two ways:</p>
<ul><li>
<a id="pgfId-1073909"></a>By setting an appropriate environment variable to set the default history name. This method is useful when you want to override the default history name for a specific run mode. For example, for the <code>Single Run, Sweeps, and Corners</code> run mode, you want to use <code>SingleRun</code> instead of <code>Interactive</code> as the history name.<br />
<a id="pgfId-1073976"></a>To change the default history name for a run mode, you can change the value of the environment variable corresponding to the run mode. ADE Assembler provides the following environment variables:<ul><li>
<a id="pgfId-1082601"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#singleRunSweepsAndCorners" show="replace" xml:link="simple">singleRunSweepsAndCorners</a></li><li>
<a id="pgfId-1082602"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#monteCarloSampling" show="replace" xml:link="simple">monteCarloSampling</a></li><li>
<a id="pgfId-1082603"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#WorstCaseCorners" show="replace" xml:link="simple">WorstCaseCorners</a></li><li>
<a id="pgfId-1082604"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#globalOptimization" show="replace" xml:link="simple">globalOptimization</a></li><li>
<a id="pgfId-1082605"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#localOptimization" show="replace" xml:link="simple">localOptimization</a></li><li>
<a id="pgfId-1082606"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#improveYield" show="replace" xml:link="simple">improveYield</a></li><li>
<a id="pgfId-1082607"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#highYieldEstimation" show="replace" xml:link="simple">highYieldEstimation</a></li><li>
<a id="pgfId-1082608"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#sensitivityAnalysis" show="replace" xml:link="simple">sensitivityAnalysis</a></li><li>
<a id="pgfId-1082628"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#manualTuning" show="replace" xml:link="simple">manualTuning</a></li><li>
<a id="pgfId-1082629"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#sizeOverCorners" show="replace" xml:link="simple">sizeOverCorners</a></li></ul></li><li>
<a id="pgfId-1082630"></a>By specifying a history name in the <em>History Name</em> toolbar. This method is useful when you want to use a history name different than the default or the name specified by the environment variable corresponding to the current run mode. <br />
<a id="pgfId-1153426"></a>By default, the default history name is used. To use a different name, click <em>Switch between default and custom history name</em> to toggle the switch. It also enables the <em>History name prefix for the next simulation run </em>field on the toolbar. Specify a custom history name in this field. <br />
<a id="pgfId-1074328"></a><div class="webflare-div-image">
<img width="668" height="126" src="images/asmSimulating-84.gif" /></div>
<a id="pgfId-1074342"></a>The next simulation run uses the custom name specified on this toolbar.<br />
<a id="pgfId-1153922"></a>If you do not want to customize history names, you can hide the <em>History Name</em> toolbar by setting the <a actuate="user" class="URL" href="../assembler/appEnvVars.html#showHistoryPrefixToolbar" show="replace" xml:link="simple">showHistoryPrefixToolbar</a> environment variable to <code>nil</code>.</li></ul>




















<h4><em>
<a id="pgfId-1074538"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1144650"></a><h-hot><a actuate="user" class="URL" href="../maeSKILLref/historyRelated_re_axlSetHistoryPrefixInPreRunTrigger.html" show="replace" xml:link="simple">axlSetHistoryPrefixInPreRunTrigger</a></h-hot></p>

<h4>
<a id="pgfId-1075505"></a>Important Points to Note</h4>

<ul><li>
<a id="pgfId-1074382"></a>If the <em>Overwrite History</em> option on the Save Options form is selected, the history name for the next run will be the same as that specified in the <em>Overwrite History</em> drop-down list. The setting for the <a actuate="user" class="URL" href="../anasimhelp/appA.html#adexl.icrpStartup" show="replace" xml:link="simple"></a><a href="appEnvVars.html#21562">adexl.icrpStartup</a> environment variable is ignored.</li><li>
<a id="pgfId-1077276"></a>By default, all the history names are suffixed with an incremental number to keep them unique. For example, If you have specified the history name as <code>TestRun</code>, the histories will be named as <code>TestRun.0</code>, <code>TestRun.1</code>, <code>TestRun.2</code>, and so on. To exclude the unique identifier, you can set the <a actuate="user" class="URL" href="../anasimhelp/appA.html#initiallyAddHistoryNameUniquifier" show="replace" xml:link="simple">initiallyAddHistoryNameUniquifier</a> environment variable to <code>nil</code>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1075425"></a>The <a actuate="user" class="URL" href="../anasimhelp/appA.html#initiallyAddHistoryNameUniquifier" show="replace" xml:link="simple">initiallyAddHistoryNameUniquifier</a> environment variable is applied only when the history name being used is unique. If the name has already been used for an existing history, the value of this variable is ignored and a unique number is added as a suffix. This helps in keeping the names of both the histories unique.</div></li></ul>



<h2>
<a id="pgfId-1073847"></a><a id="67488"></a>Checking Run Sta<a id="runProgress"></a>tus on the Progress Bar</h2>

<p>
<a id="pgfId-1064793"></a>While ADE Assembler is preparing to run a simulation or during a run, you can check its status on the progress bar displayed on the Run Summary assistant pane. The progress bar is displayed to the right of the history item name, as shown in the following figure.</p>

<p>
<a id="pgfId-1064802"></a></p>
<div class="webflare-div-image">
<img width="668" height="302" src="images/asmSimulating-85.gif" /></div>

<p>
<a id="pgfId-1064803"></a>It shows one of the following status values to correctly indicate the step being performed:</p>
<p>
<a id="pgfId-1078865"></a></p>
<table class="webflareTable" id="#id1078816">
<caption style="text-align:left;"><p>
</p><h4>Table 17-1
<a id="pgfId-1078818"></a>Status Values Displayed on the Run Progress bar</h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1078822">
<a id="pgfId-1078822"></a>Status Value</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1078824">
<a id="pgfId-1078824"></a>Indicates that...</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078826"></a><em>validating setup</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078828"></a>Verification of the test setup, variables, parameters, and corners specified in the Data View pane is in progress. ADE Assembler is also verifying the run options specified for the different types of runs in the corresponding run options form. </p>
<p>
<a id="pgfId-1078829"></a>If there are any errors or warnings, appropriate messages are displayed in the CIW or error message dialogs. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078831"></a><em>saving history</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078833"></a>Creation of the test setup data is in progress. That is, ADE Assembler is creating the directories in which the test setup data for the simulation run will be saved.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078835"></a><em>preparing result directories</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078837"></a>Creation of the results database (.rdb file) and the results directory is in progress.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078839"></a><em>loading tests x/n</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078841"></a>ADE Assembler is starting a session for each active test in the setup. </p>
<p>
<a id="pgfId-1078842"></a>Here <code>n</code> specifies the total number of active tests in the setup, not the total number of tests.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078844"></a><em>evaluating design points x/n</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078846"></a>Creation and evaluation of the xth number of design point out of n design points is in progress. </p>
<p>
<a id="pgfId-1078847"></a>Here, a total of n design points is calculated based on the given variables, parameters, and run options.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1078848"></a>These are not data points, but the design points that are created by swept values.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078850"></a><em>populating results UI</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078852"></a>Preparation of the user interface to display results is in progress.</p>
<p>
<a id="pgfId-1078853"></a>After this step is complete, the <em>Results</em> tab for the current run is displayed on the ADE Assembler window. At this time, the run status for all the simulations is shown as <em>pending</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078855"></a><em>running &#8211; x/n complete</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078857"></a>ADE Assembler is running the <code>x</code>th run out of a total of <code>n</code> runs.</p>
<p>
<a id="pgfId-1078858"></a>The progress bar is reset in this stage.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078860"></a><em>finished</em></p>
<p>
<a id="pgfId-1078861"></a>or</p>
<p>
<a id="pgfId-1078862"></a><em>finished with errors</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1078864"></a>Successful or unsuccessful completion of all the simulation runs.</p>
</td>
</tr>
</tbody></table>

<h2>
<a id="pgfId-1078890"></a><a id="37288"></a>Suspending and Resuming <a id="suspendSimulation"></a>Netlisting or Simulation Runs</h2>

<p>
<a id="pgfId-1078908"></a>A simulation run might fail when sufficient disk space is not available. In such cases, you can suspend one or all of the running simulations, clean up the disk, and resume the simulations for completion. You do not need to cancel the run.</p>
<p>
<a id="pgfId-1090315"></a>You can suspend a simulation in the following ways:</p>
<ul><li>
<a id="pgfId-1090326"></a><a href="asmSimulating.html#49762">Suspending Simulations Automatically When the Disk Space is Low</a></li><li>
<a id="pgfId-1090336"></a><a href="asmSimulating.html#47497">Suspending Simulations Manually</a></li><li>
<a id="pgfId-1127610"></a><a href="asmSimulating.html#25509">Suspending Netlist Service Jobs Manually (LSCS Only)</a></li></ul>



<h3>
<a id="pgfId-1079247"></a><a id="49762"></a>Suspending Simulations Automatical<a id="diskChecks"></a>ly When the Disk Space is Low</h3>

<p>
<a id="pgfId-1090565"></a>You can configure the commands to automatically suspend simulations when the disk space is low, and flag the appropriate information or warning messages.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1106900"></a>If the <a actuate="user" class="URL" href="../anasimhelp/appA.html#continueICRPRunOnAbruptGUIExit" show="replace" xml:link="simple">continueICRPRunOnAbruptGUIExit</a> environment variable is set to <code>t</code>, this feature is not supported for the ICRP job control mode. However, the feature is supported for LSCS job control mode.</div>
<p>
<a id="pgfId-1090658"></a>To enable checking of disk space and automatic suspension of simulations depending on the configured settings: </p>
<ol><li>
<a id="pgfId-1090669"></a>Choose <em>Options &#8211; Job Setup</em> to open the Job Policy Setup form.</li><li>
<a id="pgfId-1090681"></a>Open the Resources tab, shown below.<br />
<a id="pgfId-1090568"></a><br /><div class="webflare-div-image">
<img width="669" height="238" src="images/asmSimulating-86.gif" /></div></li><li>
<a id="pgfId-1090350"></a>Specify the following options in the <em>Disk Space</em> group:<ul><li>
<a id="pgfId-1090853"></a><em>Show warning for low disk</em>: Select this check box to enable checking of the available disk space when a simulation run is started. ADE Assembler shows a warning in these cases:<ul><li>
<a id="pgfId-1090918"></a>If the available disk space before running a simulation for the first point is less than the threshold value specified in the <em>If the remaining disk space is less than _ MB</em> field, a warning message is flagged to report about the unavailability of the required space and to confirm whether the run is to be continued.</li><li>
<a id="pgfId-1091075"></a>For the Single Run, Sweeps, or Corners run mode, after the first design point is simulated, the disk space consumed for that point is used to estimate the total space required to run simulations for all the points. If the remaining (available &#8211; estimated) disk space falls below the threshold, ADE Assembler shows the following types of messages:<br />
<a id="pgfId-1091080"></a> <strong>If the </strong>remaining (available &#8211; estimated)<strong> disk space is more than the threshold</strong> specified in the <em>If the remaining disk space is less than</em> field, an information message is flagged to report the same.<br />
<a id="pgfId-1091098"></a> <strong>If the </strong>remaining (available &#8211; estimated)<strong> disk space is less than or equal to the threshold</strong> specified in the <em>If the remaining disk space is less than</em> field, a warning message is flagged to report the same. It is recommended to <a href="asmSimulating.html#manualSuspend">manually suspend</a> the simulation run for the current history, free up the disk space, and resume the run.<br />
<a id="pgfId-1092332"></a>Consider an example of a simulation run for three sweep points. 
- The simulation of the first design point used: 15 MB 
- The estimated disk space for the remaining two points: 30 MB
- The available disk space after the first design point is simulated: 115 MB
- The threshold value for disk space: 100 MB
- The estimated remaining disk space = 115 &#8211; 30 = 85 MB, which is less than the threshold value
In this scenario, after the simulation for the first design point is complete, a warning message is displayed to clear disk space.</li></ul></li><li>
<a id="pgfId-1090904"></a><em>Automatically suspend simulations if the disk space is insufficient</em>: Select this check box to enable automatic suspension of all the simulations in progress whenever the available disk space falls below the minimum threshold specified in the <em>Minimum disk space to be maintained (in MB)</em> field.<br />
<a id="pgfId-1091019"></a>When automatic suspension is enabled, by default, ADE Assembler checks the disk space after every five simulations. You can change the frequency in the <em>Check disk space after every _ simulations</em> field.</li></ul></li><li>
<a id="pgfId-1090736"></a>Click OK to close the form.<br />
<a id="pgfId-1091983"></a>ADE Assembler uses the settings specified on this form to constantly monitor the available and estimated disk space and displays appropriate messages. If a simulation is automatically suspended, the status on the Run Summary tab and the Results tab is updated, as shown below.<br />
<a id="pgfId-1091987"></a><div class="webflare-div-image">
<img width="669" height="536" src="images/asmSimulating-87.gif" /></div>
<a id="pgfId-1092169"></a>The icons of the jobs allocated for the suspended simulation run appear as paused (<img src="images/suspendIcon.gif" />
). Their tooltips also show the time since when they are in the suspended state.</li></ol>


























<h3>
<a id="pgfId-1090357"></a><a id="47497"></a>Susp<a id="manualSuspend"></a>ending Simulations Manually</h3>

<p>
<a id="pgfId-1090343"></a>To suspend a simulation manually: </p>
<ul><li>
<a id="pgfId-1090378"></a>Right-click the progress bar of the simulation run in the Run Summary pane and click <em>Suspend</em>. <br />
<a id="pgfId-1090394"></a>The simulation is suspended and the following changes in the user interface reflect the status. <br />
<a id="pgfId-1091937"></a>When you suspend a simulation run, its status is changed to <code>Suspended</code>, as shown below.<br />
<a id="pgfId-1079259"></a><div class="webflare-div-image">
<img width="669" height="536" src="images/asmSimulating-89.gif" /></div></li></ul>






<p>
<a id="pgfId-1079023"></a>When you need to resume the simulation, right-click its progress bar in the Run Summary pane and click <em>Resume</em>. </p>
<p>
<a id="pgfId-1091617"></a>To suspend and resume all the simulations, right-click any of the runs and use the <em>Suspend All</em> and <em>Resume All</em> commands.</p>

<h4><em>
<a id="pgfId-1079105"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1079126"></a>The settings for automatic suspension of jobs can be set only in the global Job Policy Setup form. These settings are not available in the job policy at the test level.</li><li>
<a id="pgfId-1092259"></a>You cannot suspend a simulation when the <a actuate="user" class="URL" href="../anasimhelp/appA.html#continueICRPRunOnAbruptGUIExit" show="replace" xml:link="simple">continueICRPRunOnAbruptGUIExit</a> environment variable is set to <code>t</code>.</li><li>
<a id="pgfId-1079127"></a>When you suspend a simulation, the status of its points on the <em>Results</em> tab appears as <code>suspended</code>.</li><li>
<a id="pgfId-1091333"></a>The job policy settings to automatically suspend simulations are ignored while running simulations using OCEAN or SKILL scripts. These settings are also ignored for the reliability analysis.</li><li>
<a id="pgfId-1092679"></a>If you change the status of automatic suspension after a simulation has been suspended, and then resume the simulation, the new settings for automatic suspension take effect for the rest of the run.</li><li>
<a id="pgfId-1092244"></a>Starting from MMSIM 15.1 ISR15, Spectre supports the <code>+disk_check=</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;threshold value&gt;</em></span> command-line option to automatically suspend simulations if the disk space is below the given threshold limit. To use this feature of Spectre, specify this option in the <em>User Command-line Options</em> field <a actuate="user" class="URL" href="../assembler/asmTests.html#envOptSpectre" show="replace" xml:link="simple">Environment Options form</a> for each test in ADE Assembler. When this option is given and Spectre suspends a simulation, the corresponding ICRP is suspended. If the resources running other the jobs submitted by other ICRPs have enough resources, they continue to run.<br />
<a id="pgfId-1092478"></a>When the Spectre sessions for all the ICRP jobs in ADE Assembler are suspended, the status of the history tab is changed to suspended and its background color is changed to yellow. </li></ul>







<h4>
<a id="pgfId-1092481"></a>Suspending or Resuming Simulations From a DRMS</h4>

<p>
<a id="pgfId-1081731"></a>When the simulations are running in a DRMS, if you need to preempt any simulation to manage the resources, send the SIGTSTP signal to the ICRP process. The signal is then sent to the Spectre process spawned by that ICRP to suspend the simulation and release the license. To retrieve the license and resume simulation, send the SIGCONT signal to that ICRP process.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081732"></a>When suspended, Spectre will release the license only if it is called with the <code>+lsuspend </code>option. If <code>+lsuspend</code> is not used, Spectre will suspend the simulation, but the license will not be released.</div>

<h3>
<a id="pgfId-1127632"></a><a id="25509"></a>Suspending Netlist Service Jobs Man<a id="netlistSuspend"></a>ually (LSCS Only)</h3>

<p>
<a id="pgfId-1127746"></a>In the LSCS job control mode, dedicated jobs are assigned to create netlists for data points. These netlist service jobs can run on a local computer or on other resources on the network. At times, you might need to suspend a netlisting job to facilitate an efficient management of resources. </p>
<p>
<a id="pgfId-1128456"></a>To suspend a netlist service job that is running on the local computer:</p>
<ol><li>
<a id="pgfId-1128461"></a>Move the mouse pointer over a netlist service job icon in the Run Summary assistant and note the service number displayed in the tooltip.<br />
<a id="pgfId-1129636"></a><div class="webflare-div-image">
<img width="668" height="247" src="images/asmSimulating-90.gif" /></div></li><li>
<a id="pgfId-1128591"></a>Open the netlist service log that is located at the following location:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1128676">
<a id="pgfId-1128676"></a><code><em>current-working-dir</em></code>/logs_<code><em>user-name</em></code>/logs0/Service<code><em>Service-number</em></code>.log</pre></li><li>
<a id="pgfId-1128680"></a>Search for <code>Process Id</code> in the service log file and note the ID. For example, <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1128853">
<a id="pgfId-1128853"></a>\# Process Id:          427101</pre></li><li>
<a id="pgfId-1128859"></a>Run the following command at the UNIX command prompt:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1128932">
<a id="pgfId-1128932"></a>kill -s TSTP <code><em>process-ID</em></code></pre></li></ol>










<p>
<a id="pgfId-1129388"></a>Similarly, to resume a netlist service job, run the following command:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1129473"></a>kill -s CONT <code><em>process-ID</em></code></pre>
<p>
<a id="pgfId-1128968"></a>To suspend a netlist service job that you started by using the LSF distribution method:</p>
<ol><li>
<a id="pgfId-1129034"></a>Use the following command at the UNIX command prompt:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1129035">
<a id="pgfId-1129035"></a>bkill -s SIGTSTP <code><em>LSF-job-ID</em></code></pre></li></ol>

<p>
<a id="pgfId-1129496"></a>Similarly, to resume a netlist service job, run the following command:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1129497"></a>bkill -s SIGCONT <code><em>LSF-job-ID</em></code></pre>
<p>
<a id="pgfId-1128964"></a>When you suspend or resume a netlist service job, the signal handler for the LSCS job control mode logs signals received from LSF or the local resource. These messages are printed in the netlisting log.</p>

<p>
<a id="pgfId-1129739"></a></p>
<div class="webflare-div-image">
<img width="668" height="106" src="images/asmSimulating-91.gif" /></div>

<p>
<a id="pgfId-1129716"></a>You can also view these messages in the <h-hot><a href="asmSimulating.html#logViewer">Log Viewer window</a></h-hot> for the history.</p>

<p>
<a id="pgfId-1129842"></a></p>
<div class="webflare-div-image">
<img width="668" height="211" src="images/asmSimulating-92.gif" /></div>

<p>
<a id="pgfId-1129665"></a>The signal handler also sends a message to the ADE Explorer or ADE Assembler environment that updates the icons corresponding to the netlist service to indicate the correct status.</p>

<h2>
<a id="pgfId-1091785"></a><a id="18237"></a>Stopping a <a id="stoppingSimulation"></a>Simulation</h2>

<p>
<a id="pgfId-1078869"></a>To stop a simulation run, do one of the following: </p>
<ul><li>
<a id="pgfId-1021771"></a>On the <a href="asmGettingStarted.html#11352">Run</a> toolbar, click <em>Stop Simulation</em> <img src="images/iconStopSimulation.gif" />
.</li><li>
<a id="pgfId-1026862"></a>On the Results tab of the Outputs pane, right-click the tab name for the checkpoint of the simulation that is running and choose <em>Stop Run</em>.</li><li>
<a id="pgfId-1026921"></a>On the Run Summary pane, right-click a history item and choose <em>Stop All</em> to stop all the jobs you started during the current session regardless of their current state (started, getting configured, running).</li><li>
<a id="pgfId-1033578"></a>Switch to the <a href="asmViewingResults.html#51789">Status</a> view on the Results tab and click the <em>Stop</em> button. </li></ul>



<p>
<a id="pgfId-1012946"></a>ADE Assembler stops all the simulations that are running. Results for the points that are already successfully complete are saved in the results database for the history checkpoint.</p>

<h4><em>
<a id="pgfId-1064320"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1051393"></a>Instead of stopping the entire simulation run, you can stop the simulation for only selected tests or points. For more details, refer to <a href="asmSimulating.html#14106">Canceling Simulations for Selected Tests or Corners</a>.</li><li>
<a id="pgfId-1064354"></a>If required, you can rerun the simulation for incomplete points later. For more details, refer to <a href="asmSimulating.html#29482">Simulating Only Unfinished or Erroneous Points</a>.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1015820"></a>
If you are using the Spectre circuit simulator, you can release your license by clicking the <img src="images/iconStopSimulation.gif" />
 button.</div></li></ul>



<h2>
<a id="pgfId-1064755"></a><a id="14106"></a>Canceling <a id="stoppingSelectiveSimulation"></a>Simulations for Selected Tests or Corners</h2>

<p>
<a id="pgfId-1064763"></a>In certain cases, you might need to cancel the simulation for a specific test or corner and complete the simulation for the remaining. This is helpful in the following scenarios:</p>
<ul><li>
<a id="pgfId-1064780"></a>When the results of a corner indicate that there is scope of improvement in the design and you do not want to run similar corners.</li><li>
<a id="pgfId-1066246"></a>When the results of a test indicate that the setup needs to be changed and you want to cancel all of the pending runs for that test, but complete the simulations for the other tests.</li><li>
<a id="pgfId-1066259"></a>When you are running resource-intensive simulations and you want to allow only the jobs that are already running to continue, and to cancel all the pending jobs so that the limited MMSIM licenses can be released for other high-priority simulations.</li></ul>



<h3>
<a id="pgfId-1064383"></a>Canceling Simulations for Selected Corners</h3>

<p>
<a id="pgfId-1065153"></a>To cancel a simulation for one or more corners, do the following:</p>
<ol><li>
<a id="pgfId-1065047"></a>In the <em>Detail</em> view of the <em>Results</em> tab, select one or more result points in the corner columns for which you do not want to run simulation.<br />
<a id="pgfId-1065050"></a><div class="webflare-div-image">
<img width="668" height="347" src="images/asmSimulating-95.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1065051"></a>You can cancel the simulation in <code>pending</code> as well as <code>running</code> state. </div></li><li>
<a id="pgfId-1064488"></a>Right-click one of the selected points and choose <em>Cancel Selected Simulations</em>.<br />
<a id="pgfId-1064501"></a>ADE Assembler cancels the simulation for the points corresponding to the selected cells and completes the remaining simulations. The status of the simulations that you stopped appears as <code>canceled</code>, as shown below.<br />
<a id="pgfId-1065200"></a><div class="webflare-div-image">
<img width="668" height="403" src="images/asmSimulating-96.gif" /></div></li></ol>










<h4><em>
<a id="pgfId-1065201"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1065202"></a>When you cancel the simulations for a corner, ADE Assembler cancels the simulations only for the tests corresponding to the selected points. For other tests, simulations for those corner and point combinations are completed.</li><li>
<a id="pgfId-1065219"></a>To cancel simulations for all the corners in a test, hold down the <code>Shift</code> key and select all the corners in a row for that test, right-click and choose <em>Cancel Selected Simulations.</em> If there are multiple design points, all the corner simulations for only that design point and test combination will be canceled.</li><li>
<a id="pgfId-1066102"></a>To cancel simulations for a particular corner in all the tests, hold down the <code>Shift</code> key and select all the rows in the corner column, right-click and choose <em>Cancel Selected Simulations</em>.</li><li>
<a id="pgfId-1066103"></a>Canceled simulations are considered to be specification failures, so the <em>Pass/Fail</em> column shows the <code>Fail</code> status for any output specification that contains canceled points.</li><li>
<a id="pgfId-1066104"></a>When you plot an output across corners, the canceled corners for which results were not generated are not shown in the plot.</li><li>
<a id="pgfId-1065719"></a>You can cancel simulations for the selected corners in the <em><a href="asmViewingResults.html#84517">Detail - Transpose</a><em></em></em><em> </em>view as well. For this, do the following:<ul><li>
<a id="pgfId-1065842"></a>To cancel simulations for one or more corners across all the tests, in the left pane of the view, click to select the rows for the corners, right-click and choose <em>Cancel Selected Simulations</em>, as shown in the figure below.<br /><ffi2-fig-frame-in-2 id="#id1065845">
<a id="pgfId-1065845"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/axlCancelSimTranspose.gif" /></div>
<a id="pgfId-1065924"></a>Simulations for the corresponding design point and corner combinations are canceled across all the tests.</li><li>
<a id="pgfId-1065767"></a>To cancel simulations for specific design point, corner, and test combinations, select the corresponding cells in the right pane of this view, right-click and choose <em>Cancel Selected Simulations</em>.</li></ul></li></ul>













<h3>
<a id="pgfId-1065637"></a>Canceling Simulations for Selected Tests</h3>

<p>
<a id="pgfId-1065139"></a>To cancel simulation for one or more tests, do one of the following:</p>
<ol><li>
<a id="pgfId-1064546"></a>In the <em>Detail</em> view of the <em>Results</em> tab, select one or more tests in the <em>Test</em> column.</li><li>
<a id="pgfId-1064547"></a>Right-click one of the selected test names and choose <em>Cancel Selected Tests</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1125042"></a>You can also select a combination of test and corners to cancel their simulations. In this case, when you right-click any one of the selected tests or corners, the name of the command changes to <em>Cancel Selected Tests and Simulations</em>.</div></li></ol>


<p>
<a id="pgfId-1064548"></a>ADE Assembler cancels all the pending or running simulations for the selected tests and completes the remaining tests.</p>
<p>
<a id="pgfId-1065888"></a>You can cancel simulations for the selected tests in the <em>Summary</em> view as well. For this, select one or more rows for tests, right-click and choose <em>Cancel Selected Tests</em>.</p>
<p>
<a id="pgfId-1125037"></a>In LSCS job control mode, netlisting is done in the beginning at the test level. If netlist creation at the test level fails, the status for all points is shown as <em>netl err</em> irrespective of their submission status. Therefore, it is possible that if you cancel simulation for any test or corner, its status is shown as <em>netl err</em>.</p>

<h4><em>
<a id="pgfId-1065446"></a>Known Limitations</em></h4>

<p>
<a id="pgfId-1079924"></a>You cannot cancel selected simulations while running Monte Carlo Sampling simulations with <h-hot><a actuate="user" class="URL" href="../Explorer/chap8.html#YieldVerification" show="replace" xml:link="simple">Yield Verification - Basic AutoStop</a></h-hot> enabled.</p>

<h2>
<a id="pgfId-1079928"></a><a id="86923"></a>Stopping Jobs an<a id="stopJobReSubmitForm"></a>d Resubmitting Simulations</h2>

<p>
<a id="pgfId-1059373"></a>During a simulation, the <em>Run Summary</em> assistant shows the status of the ICRP jobs that are running simulations. You can check the status of each individual ICRP job by placing the pointer over it. A tooltip is displayed giving the details of the current simulation in progress and the total number of simulations completed by the job. An example is shown in the following figure.</p>

<p>
<a id="pgfId-1059382"></a></p>
<div class="webflare-div-image">
<img src="images/adexlJobRMB.gif" /></div>

<p>
<a id="pgfId-1059763"></a>If you observe that a particular job is taking an unusually long time to complete, you can stop that job and resubmit the simulation. </p>
<ul><li>
<a id="pgfId-1059834"></a>To stop a job and resubmit the simulation, right-click the job and choose <em>Stop and Resubmit</em>.</li></ul>
<p>
<a id="pgfId-1059835"></a>When you use this command, ADE Assembler does the following:</p>
<ul><li>
<a id="pgfId-1059836"></a>The icon for the stopped job changes to <img src="images/adexlStoppedJob.gif" />
 and then disappears. A new job is created to replace the stopped job.</li><li>
<a id="pgfId-1059873"></a>The simulation that was running on the stopped job is placed in the beginning of the queue of pending simulations. The simulation for this point is then submitted to the next available job.</li><li>
<a id="pgfId-1059856"></a>If no more simulations are pending, ADE Assembler might not create a new job.</li></ul>


<p>
<a id="pgfId-1059782"></a>Stopping a job is helpful in the following scenarios:</p>
<ul><li>
<a id="pgfId-1059513"></a>When a job is submitted to a computer that is known to be slow or with limited memory: If the tooltip of a job shows the name of the slow computer and you observe that the currently running simulation is taking an unusually long time to complete, you can stop the job and restart it. The queuing software might distribute the resubmitted job to another computer that has better resources.</li><li>
<a id="pgfId-1059514"></a>When a particular job has simulated a significantly smaller than the average number of simulations: If the tooltip of a job shows that the number of points simulated by it are less than the points simulated by other jobs, you can stop the slow job and resubmit it.</li><li>
<a id="pgfId-1059515"></a>When nearing the end of a run, only one or two jobs remain pending and are taking more than the expected time to complete the simulation for the current design points: In this case, you can try to stop and resubmit the job. Resubmission of job can allocate it to another better computer.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1059921"></a>If no simulation is running on a job, the context-sensitive menu shows the <em>Stop</em> command in place of the <em>Stop and Resubmit</em> command.</div>

<h2>
<a id="pgfId-1118590"></a><a id="74476"></a>Troubleshooting Jobs that S<a id="troubleshootjobs"></a>tay Pending until Timeout </h2>

<p>
<a id="pgfId-1118591"></a>Some jobs may stay pending until timeout because a Message Passing System (MPS) communication cannot be established between the ICRP and GUI processes.</p>
<p>
<a id="pgfId-1118634"></a>Any one of the following reasons can cause this gap in communication:</p>
<ul><li>
<a id="pgfId-1118593"></a>There may be a firewall blocking the TCP/IP communication between computers.</li><li>
<a id="pgfId-1118594"></a>ADE may have started a large number of jobs and does not have the sufficient time frame to respond back to all jobs. This causes the communication timeout to fail.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118595"></a>Communication timeout is a subset of the start timeout, and refers to the time taken to establish a TCP/IP communication.</div>
<a id="pgfId-1118596"></a>In this case, you can modify the communication timeout value in the <em>Communication Timeout</em> field on the Job Policy Setup form or in the communicationTimeout property of a job policy set using SKILL.</li><li>
<a id="pgfId-1118599"></a>The cdsNameServer versions may be incompatible. If the computer initially ran a 5141 (or a version prior to 6.1.3) cdsNameServer then any attempt to establish connection using a cdsNameServer version later than 6.1.3 would fail.<br />
<a id="pgfId-1131765"></a>Note the following:<ul><li>
<a id="pgfId-1131767"></a>The <a actuate="user" class="URL" href="../caiuser/chap11.html" show="replace" xml:link="simple">cdsNameServer </a>program is used to establish communications between Cadence programs. It relies upon the TCP port number, 7325. In addition, whenever needed, the cdsNameServer program starts automatically and exits itself after being idle. To know more, see <em><a actuate="user" class="URL" href="../caiuser/caiuserTOC.html" show="replace" xml:link="simple">Cadence Application Infrastructure User Guide</a></em>.</li><li>
<a id="pgfId-1118601"></a><code>axlBeanstalkd</code> is a daemon process that provides the messaging service required by different processes to communicate with each other when Virtuoso ADE is running in LSCS job distribution mode. It relies upon the TCP port number 11300.</li></ul></li></ul>








<h4><em>
<a id="pgfId-1118603"></a>Important points to note about MPS:</em></h4>

<ul><li>
<a id="pgfId-1118604"></a>When virtuoso is running on the GUI_Host, a cdsNameServer process should be running on the GUI_Host listening to port 7325. This can be ensured by: </li><li>
<a id="pgfId-1118605"></a>GUI_Host% mpsinfo -c</li><li>
<a id="pgfId-1118606"></a>This listener port must also be accessible from the Remote_host. This can be confirmed by: </li><li>
<a id="pgfId-1118607"></a>Remote_Host% mpsinfo GUI_Host -c</li><li>
<a id="pgfId-1118608"></a>Access to port 7325 from remote hosts is necessary, but insufficient for the ADE flow. There are other ports which are allocated from the ephemeral range on the GUI_Host that must be accessible from remote hosts.</li><li>
<a id="pgfId-1118609"></a>Ephemeral ports are generally determined by the OS. For example, ephemeral ports have the range from 32768 to 61000 for Linux.</li></ul>





<p>
<a id="pgfId-1118610"></a>These ports (7325 and ephemeral ports) need to be opened up for both the GUI host and the remote host, in case these are blocked by a firewall.</p>

<h2>
<a id="pgfId-1063126"></a><a id="82627"></a>Ignoring Design Chan<a id="design_changes"></a>ges During Run</h2>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1063127"></a>
This feature is not supported when the ADE Assembler setup includes device parameterization. </div>

<p>
<a id="pgfId-1063128"></a>If you modify the schematic while a simulation run is in progress, the design changes may get considered for the netlist creation and simulation of the pending design points in the current run. This is because a new netlist is created before simulating every design point and any design change, such as, a change in pin name, instance name, instance parameter property, or config binding or any addition or deletion of a design component, may get reflected in the netlist.</p>
<p>
<a id="pgfId-1063039"></a>However, if you want to ignore any design changes in the simulation run that is already running and to consider them only for the subsequent runs, set the <code>ignoreDesignChangesDuringRun</code> flag to <code>t</code> as shown below:</p>
<p>
<a id="pgfId-1055462"></a><code>envSetVal(&quot;adexl.simulation&quot; &quot;ignoreDesignChangesDuringRun&quot; &#39;boolean t)</code></p>
<p>
<a id="pgfId-1063389"></a>When this flag is set and you run simulation, a netlist is created upfront for each test in ADE Assembler and saved as a master netlist in the top psf directory for the respective test in the simulation directory. A progress bar is also displayed for each test in the ADE Assembler window to indicate that the netlist is being generated. The saved master netlist for each test is then reused for all the point simulations for the test. </p>
<p>
<a id="pgfId-1063614"></a>In addition, the user setting for the <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#singleNetlistForAllPoints" show="replace" xml:link="simple">singleNetlistForAllPoints</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#includeStatementForNetlistInSimInputFile" show="replace" xml:link="simple">includeStatementForNetlistInSimInputFile</a></h-hot> environment variables are ignored when the <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#ignoreDesignChangesDuringRun" show="replace" xml:link="simple">ignoreDesignChangesDuringRun</a></h-hot> variable is set. That is, the netlist file in the netlist directory for each point is symbolically linked to the master netlist residing in the top level PSF netlist directory that is saved under the top level psf directory for the test. The following figure shows the netlist directory for point <code>1</code> of the <code>Interactive.2</code> simulation run.</p>
<p>
<a id="pgfId-1063429"></a></p>

<div class="webflare-div-image">
<img width="668" height="391" src="images/asmSimulating-100.gif" /></div>

<p>
<a id="pgfId-1063453"></a>The netlist for point <code>1</code> is a symbolic link to the netlist in the <code>netlist</code> directory under the psf directory for the test.</p>
<p>
<a id="pgfId-1063487"></a>The <code>input.scs</code> file for Spectre and <code>input.ckt</code> file for Ultrasim simulator contain the <code>include &quot;netlist&quot;</code> statement, which reflects that the netlist being used is the same netlist for all the points. The following figure shows the <code>input.scs</code> file for point <code>1</code>.</p>
<p>
<a id="pgfId-1063462"></a></p>

<div class="webflare-div-image">
<img width="668" height="190" src="images/asmSimulating-101.gif" /></div>

<p>
<a id="pgfId-1063445"></a>This helps in minimizing the size of the simulation directory. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1121828"></a>
The <code>ignoreDesignChangesDuringRun</code> environment variable is always set to <code>t</code> when the LSCS job control mode is used. To create a separate netlist for each point in this mode, set the <a actuate="user" class="URL" href="../anasimhelp/appA.html#singleNetlistForAllPoints" show="replace" xml:link="simple">maestro.simulation singleNetlistForAllPoints</a> environment variable to <code>nil</code>.</div>
<h4><em>
<a id="pgfId-1055465"></a>Limitation</em></h4>

<p>
<a id="pgfId-1055466"></a>When the ADE Assembler setup includes device parameterization, an incremental netlist needs to be generated for each simulation point during the simulation run. This is required to execute any CDF callbacks during the run. Therefore, any changes that are made to the schematic design during this simulation run cannot be ignored.</p>
<p>
<a id="pgfId-1055480"></a>In this case, the tool displays a warning message (ASSEMBLER - 1749) requiring confirmation that you want to continue. Now, if you continue, any design changes that happen while the simulation is running are considered in the current run.</p>
<p>
<a id="pgfId-1121637"></a>To suppress this warning message, you can add the following code to the <code>.cdsinit</code> file or run it directly in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1121744"></a>axlSuppressPersistedQuestionDialog(1749)<br />; to suppress the message when the ICRP mode is set <br />;<br />axlSuppressPersistedQuestionDialog(8022)<br />; to suppress the message when the LSCS mode is set</pre>
<h2>
<a id="pgfId-1055451"></a><a id="82817"></a>Continuing the In-Process Simulations After ADE Assembler GUI Exits</h2>

<p>
<a id="pgfId-1051338"></a>By default, in case of an abrupt exit of ADE Assembler or Virtuoso GUI, any in-process ADE Assembler simulation stops immediately. This results in loss of results of the incomplete simulations and there is no way to recover them.</p>
<p>
<a id="pgfId-1051193"></a>However, you can choose to keep the in-process simulations running in the background even if the ADE Assembler or Virtuoso GUI is closed. After the simulations are complete, their results are saved in the results database. Next time, you open the ADE Assembler GUI and if the in-process simulations are complete, you can load the history to view results. In this case, you do not need to rerun the simulations that were running when the ADE Assembler GUI was closed.</p>
<p>
<a id="pgfId-1051194"></a>See the following topics for more information:</p>
<ul><li>
<a id="pgfId-1051198"></a><a href="asmSimulating.html#80736">Enabling Continuation of the In-Process Simulations</a></li><li>
<a id="pgfId-1051202"></a><a href="asmSimulating.html#85701">Supported Scenarios</a></li><li>
<a id="pgfId-1051210"></a><a href="asmSimulating.html#56924">Limitations</a></li></ul>



<h3>
<a id="pgfId-1051212"></a><a id="80736"></a>Enabling Continuation of the In-Process Simulations</h3>

<p>
<a id="pgfId-1051213"></a>To continue and complete the in-process simulations even after the ADE Assembler GUI is closed, set the <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#continueICRPRunOnAbruptGUIExit" show="replace" xml:link="simple">continueICRPRunOnAbruptGUIExit</a></h-hot> environment variable to t. When this variable is set to <code>t</code>, the IC Remote Processes (ICRPs) that were running the simulations are kept active to complete the simulations. By default, the ICRPs are closed immediately after the ADE Assembler GUI is exited.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1051219"></a>
After the ADE Assembler GUI is closed abruptly, the existing ICRPs will use the ADE Assembler license to complete the in-process simulations. If more than one ICRP was running, all the processes will share a single license. A new ADE Assembler session will require another license token.</div>
<h3>
<a id="pgfId-1051221"></a><a id="85701"></a>Supported Scenarios</h3>

<p>
<a id="pgfId-1051222"></a>This feature is supported for the following scenarios:</p>
<ul><li>
<a id="pgfId-1051559"></a><a href="asmSimulating.html#ICRPonExit">When the ICRPs are Running and the ADE Assembler GUI Exits Abruptly</a></li><li>
<a id="pgfId-1051223"></a><a href="asmSimulating.html#ICRPonExit">When the ICRPs are Running and Virtuoso Exits Abruptly</a></li><li>
<a id="pgfId-1054683"></a><a href="asmSimulating.html#10732">When the Simulations are Running and Virtuoso is Closed</a></li></ul>


<p>
<a id="pgfId-1078616"></a>The following sections describe how the running simulations are completed in the scenarios given above.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1078675"></a>When the <code>continueICRPRunOnAbruptGUIExit</code> environment variable is set to t, ADE Assembler creates the runICRPWrapper# file in the current working directory. This file is used internally to manage the child processes when the parent ADE Assembler process is killed.</div>

<h4>
<a id="pgfId-1054717"></a>When ICRPs are Run<a id="ICRPonExit"></a>ning and Virtuoso or ADE Assembler Environment Exits Abruptly</h4>

<p>
<a id="pgfId-1054710"></a>In the first two scenarios, when the Virtuoso or ADE Assembler GUI exits abruptly, the ICRPs complete the simulations that are currently running, evaluate the output expressions, save results in the results database and then exit.</p>
<p>
<a id="pgfId-1051226"></a>Consider the following scenario in which the ADE Assembler GUI is closed abruptly when some of the simulations are in the <code>running</code> state, as shown below.</p>
<p>
<a id="pgfId-1051230"></a></p>

<div class="webflare-div-image">
<img src="images/icrp_before_kill.gif" /></div>

<p>
<a id="pgfId-1051231"></a>If the <code>continueICRPRunOnAbruptGUIExit</code> variable is set to <code>t</code>, all ICRPs that are currently running these simulations will continue and complete the simulations. Next time when you open the history of this run and view results, the results will appear as shown below.</p>
<p>
<a id="pgfId-1051235"></a></p>

<div class="webflare-div-image">
<img src="images/icrp_var_active.gif" /></div>

<p>
<a id="pgfId-1051236"></a>The results of the simulations were completed and saved in the results database. You need to run only the pending simulations, whose status appears as <code>pending</code>. For this, on the <em>History</em> tab of the <em>Data View</em> assistant pane, right-click the history item that was running when the GUI exited and choose <em>Rerun Unfinished/Error Points</em>.</p>
<p>
<a id="pgfId-1051237"></a>If the <code>continueICRPRunOnAbruptGUIExit</code> variable is set to <code>nil</code>, all the ICRPs are immediately exited without completing the simulations that were already running. In such a case, if you open the history results, the status of simulations is shown as <code>running</code>, but in fact, they are not running.</p>
<p>
<a id="pgfId-1051241"></a></p>

<div class="webflare-div-image">
<img src="images/icrp_var_inactive.gif" /></div>

<p>
<a id="pgfId-1051242"></a>If you rerun the unfinished points, all the simulations that were in the <code>running</code> or <code>pending</code> state are run again.</p>

<h4>
<a id="pgfId-1051504"></a>Important Points to Note</h4>

<ul><li>
<a id="pgfId-1051505"></a>If you reopen Virtuoso and load the history results while the simulations are still running, you might not see results of the in-process simulations that have the status set as <code>running</code>. In such cases, it is recommended to view the results again after an estimated time of simulation run.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1051506"></a>The ADE Assembler GUI of the reopened Virtuoso session does not provide any status update about the ICRP jobs started by the previous Virtuoso session, but you can use the job monitoring commands provided by your DRMS to monitor the status of the jobs. For example, you can use the <code>bjobs</code> command to monitor the LSF jobs. After verifying that all the ICRP jobs started by the previous Virtuoso session have completed, you can expect to view the results by reloading the history, as shown below.</div><ol><li>
<a id="pgfId-1051508"></a>On the <em>Results</em> tab, make sure to close any opened instance of the history that was running when the GUI exited.</li><li>
<a id="pgfId-1051509"></a>On the <em>History</em> tab of the Data View assistant pane, right-click the history item that was running when the GUI exited and choose <em>Load Setup to Active</em> or <em>View Results</em>.</li></ol></li><li>
<a id="pgfId-1051510"></a>If you reopen Virtuoso and ADE Assembler immediately after the GUI was closed abruptly and the in-process simulations are still running, you might not see the updated results after reloading the results. The results are available only after the simulations are complete and saved to the results database. <br />
<a id="pgfId-1051511"></a>To view the results: <ol><li>
<a id="pgfId-1051512"></a>On the <em>Results</em> tab, make sure to close any opened instance of the history that was running when the GUI exited.</li><li>
<a id="pgfId-1054691"></a>On the <em>History</em> tab of the <em>Data View</em> assistant pane, right-click the history item that was running when the GUI exited and choose <em>Load Setup to Active</em> or <em>View Results</em>. </li></ol></li></ul>








<h4>
<a id="pgfId-1054693"></a><a id="10732"></a>When the Simulations are Running and Virtuoso is Closed</h4>

<p>
<a id="pgfId-1054942"></a>By default, if the <code>continueICRPRunOnAbruptGUIExit</code> variable is set to <code>nil</code> and you close Virtuoso while simulations are running, Virtuoso displays a message to alert that some simulations are running and to confirm if you want to exit Virtuoso without completing those simulations.</p>
<p>
<a id="pgfId-1133718"></a>If you click <em>Yes</em>, all running simulations are stopped and Virtuoso is closed. If you click <em>Yes</em>, simulations that are currently running are stopped and ADE Assembler is closed. Next time, when you view the history results, the status of the pending simulations is shown as <code>Canceled</code>, as shown below.</p>
<p>
<a id="pgfId-1055400"></a></p>

<div class="webflare-div-image">
<img src="images/icrp_job_canceled.gif" /></div>

<p>
<a id="pgfId-1054884"></a>If you want that even if you close Virtuoso, the simulations that are already running should continue to run, set the <code>continueICRPRunOnAbruptGUIExit</code> variable is set to <code>t</code>. If this variable is set, when you close Virtuoso, it checks the state of simulation runs. There can be the following two cases:</p>
<ul><li>
<a id="pgfId-1055141"></a>Simulation run has started, but no job is running when you close Virtuoso</li></ul>
<p>
<a id="pgfId-1055142"></a>A message is displayed to alert that some simulation runs are pending to run and to prompt whether you want to exit without completing simulation of those points. To exit Virtuoso and cancel all the pending simulations, click <em>Yes</em>. Click <em>No</em> to stop from exiting Virtuoso.</p>
<ul><li>
<a id="pgfId-1055076"></a>Simulation run has started and one or more jobs are running</li></ul>
<p>
<a id="pgfId-1055012"></a>In this case, a message is displayed to confirm if you want to continue the running simulations or stop them after closing Virtuoso. To exit Virtuoso without completing the running simulation jobs, click<em> Exit and stop simulations</em>. </p>
<p>
<a id="pgfId-1055368"></a>To exit Virtuoso, but to continue running simulations, click <em>Exit but continue with running jobs</em>. Next time, when you run Virtuoso, you can load the history results to view the updated simulation results.</p>

<h3>
<a id="pgfId-1054705"></a><a id="56924"></a>Limitations</h3>

<p>
<a id="pgfId-1051260"></a>The known limitations of this feature are as follows:</p>
<ul><li>
<a id="pgfId-1051261"></a>While the ICRPs of a history are running to complete the in-process simulations, if you restart the ADE Assembler GUI, the new session is not connected to the already running ICRPs.</li><li>
<a id="pgfId-1079759"></a>A new ADE Assembler session will not share a license with the ICRPs that are already running to complete simulations for a history run. The new ADE Assembler session will require another license.</li><li>
<a id="pgfId-1079760"></a>If you open a new ADE Assembler session while the in-process simulations of a history are still running and load the results of that history, the status of the in-process runs appears as <code>running</code>. After the simulations are complete, the status is not refreshed automatically. To view the updated status, you need to reload the history by using the <em>Load Setup to Active</em> command in the context menu of the history on the History tab of the Data View pane.</li></ul>



<h2>
<a id="pgfId-1051161"></a><a id="25007"></a>Viewing Job <a id="jobStatusIcon"></a>Status<a id="marker-1024906"></a></h2>

<p>
<a id="pgfId-1173325"></a>The Run Summary assistant displays the job status of simulation runs using one of the following views: </p>
<ul><li>
<a id="pgfId-1173329"></a><a href="asmSimulating.html#32371">Job List</a></li><li>
<a id="pgfId-1173333"></a><a href="asmSimulating.html#75669">Job Summary</a></li></ul>

<p>
<a id="pgfId-1173334"></a>When you open the Run Summary assistant, by default, it displays the Job List. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1173335"></a>
The Job List and Job Summary views are available for all  LSCS simulations, but the job status of ICRP simulations is only available in the Job List view. </div>
<h3>
<a id="pgfId-1173337"></a><a id="32371"></a>Job List</h3>

<p>
<a id="pgfId-1173338"></a>For each job the program submits, a computer terminal icon appears in the Run Summary assistant pane. </p>

<p>
<a id="pgfId-1173342"></a></p>
<div class="webflare-div-image">
<img width="304" height="257" src="images/asmSimulating-106.gif" /></div>

<p>
<a id="pgfId-1024365"></a>This is the default Job List view where each icon indicates the status of its respective job as as follows:</p>

<p>
<a id="pgfId-1024366"></a></p>
<table class="webflareTable" id="#id1024370">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1024437">
<a id="pgfId-1024437"></a>Icon</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1024439">
<a id="pgfId-1024439"></a>Job Status</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024372"></a><img src="images/iconJobPending.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024374"></a>Pending</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024490"></a><img src="images/iconJobStart.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024378"></a>Starting</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024380"></a><img src="images/iconJobConfigure.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024382"></a>Configuring or Idle</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024384"></a><img src="images/iconJobRunning.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024386"></a>Running</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024388"></a><img src="images/iconJobIdle.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024390"></a>Suspended</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024392"></a><img src="images/iconJobCleanup.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024394"></a>Cleaning up</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1025103"></a>Additionally, you can monitor the job status by doing the following:</p>
<ul><li>
<a id="pgfId-1025104"></a>Hover the mouse cursor over the job status icon.<br />
<a id="pgfId-1025108"></a>A job status pop-up appears.<br />
<a id="pgfId-1025113"></a><div class="webflare-div-image">
<img src="images/monitorJob.gif" /></div>
<a id="pgfId-1025120"></a>The job status pop-up contains information about how long the job has been running, what state it is in, how many simulations have completed with how many errors and how many timeouts.</li></ul>






<p>
<a id="pgfId-1025124"></a>To view the log file while the program is writing it, do the following:</p>
<ul><li>
<a id="pgfId-1025109"></a>Right-click the job status icon and choose <em>Job log</em>.<br />
<a id="pgfId-1025130"></a>The log file appears in a separate window. Simulator messages appear in the window as the program writes them. As the window fills up with messages, the program scrolls down so that the most recent messages are always visible.</li></ul>

<p>
<a id="pgfId-1173393"></a>To switch to the Job Summary view:</p>
<ul><li>
<a id="pgfId-1173394"></a>Right-click anywhere in the Run Summary assistant and select <em>Show Job Summary</em>. <br />
<a id="pgfId-1173398"></a><div class="webflare-div-image">
<img width="634" height="283" src="images/asmSimulating-114.gif" /></div></li></ul>



<h3>
<a id="pgfId-1173400"></a><a id="75669"></a>Job Summary</h3>

<p>
<a id="pgfId-1173401"></a>The Run Summary assistant provides a graphical view of all simulation and netlisting jobs in the Job Summary view. For all netlisting and simulation jobs that the tool submits, two progress bars are displayed in the Run Summary assistant pane. </p>

<p>
<a id="pgfId-1173405"></a></p>
<div class="webflare-div-image">
<img width="304" height="303" src="images/asmSimulating-115.gif" /></div>

<p>
<a id="pgfId-1173406"></a>The progress bars display the number of jobs in the <code>pending</code>, <code>starting</code>, <code>configuring </code>or <code>idle</code>, <code>running</code>, <code>suspended</code>, or <code>cleaning up</code> states, similar to the job icons available in the Job List view. The following details are displayed below the progress bars: </p>
<table class="webflareTable" id="#id1173407">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1173409">
<a id="pgfId-1173409"></a>Label</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1173411">
<a id="pgfId-1173411"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173413"></a><em>Simulation Jobs</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173415"></a>The current number of active simulation jobs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173417"></a><em>Netlist Jobs</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173419"></a>The current number of active netlisting jobs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173421"></a><em>Netlists Available</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173423"></a>The number of netlists that have been processed but not simulated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173425"></a><em>Pending Netlists </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1173427"></a>The number of netlists that still need to be processed. </p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1173428"></a>Additionally, you can monitor the job status by doing the following:</p>
<ul><li>
<a id="pgfId-1173429"></a>Hover the mouse cursor over the job status progress bar.<br />
<a id="pgfId-1173430"></a>A job status tooltip appears.<br />
<a id="pgfId-1173434"></a><div class="webflare-div-image">
<img width="635" height="307" src="images/asmSimulating-116.gif" /></div></li></ul>





<p>
<a id="pgfId-1173435"></a>The job status tooltip contains information about the number of pending, running, idle, and total jobs. The tooltip also displays the percentage of jobs that are in each simulation state. When you move the mouse pointer to any of the job state categories on the progress bar, the tooltip is updated dynamically to display the currently selected information on top. </p>
<p>
<a id="pgfId-1173439"></a>To set the default Run Summary view to the Job Summary, set the <code>displayJobSummaryBar</code> environment variable to <code>t</code>. </p>
<p>
<a id="pgfId-1173440"></a>To switch to the Job List view from the Job Summary view:</p>
<ul><li>
<a id="pgfId-1173441"></a>Right-click anywhere in the Run Summary assistant and select <em>Show Job List</em>. </li></ul>
<p>
<a id="pgfId-1173442"></a>Contrary to the Job List view, the <em>Job log</em> is not available in the Job Summary view. To view the job log files, switch to the Job List view. </p>
<p>
<a id="pgfId-1173446"></a></p>

<div class="webflare-div-image">
<img width="345" height="324" src="images/asmSimulating-117.gif" /></div>
<h2>
<a id="pgfId-1066549"></a>Viewing the Netlist</h2>

<p>
<a id="pgfId-1066550"></a>To view the netlist file, do the following:</p>
<ul><li>
<a id="pgfId-1066551"></a>On the Results tab of the Outputs pane:<ul><li>
<a id="pgfId-1066553"></a>Right-click a test or the result for the nominal corner and choose <em>View Netlist</em> to view the netlist for the nominal corner.</li><li>
<a id="pgfId-1066554"></a>Right-click the result for a corner and choose <em>View Netlist</em> to view the netlist for the corner.</li></ul><br />
<a id="pgfId-1066555"></a>The netlist file appears in a text window.</li></ul>




<h2>
<a id="pgfId-1024330"></a><a id="36115"></a>Viewing the ADE Assembler Logs After Running Simulations</h2>

<p>
<a id="pgfId-1066575"></a>After running simulations, ADE Assembler saves the information of ICRP jobs, simulation runs, and outputs in different log files. This section describes the various types of log files ADE Assembler maintains and the details provided in those files.</p>
<table class="webflareTable" id="#id1066596">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1066598">
<a id="pgfId-1066598"></a>Log File</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1066600">
<a id="pgfId-1066600"></a>Contains...</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066603"></a>Job log (for an ICRP job)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066741"></a>Information about an ICRP job and all the simulations that were run on that job. It includes various details, such as the Cadence software version number, operating system version, working directory, the testbench details, variables and parameters for every run, simulator details, results location, data directory, netlist directory, and simulation errors (if any). Each ICRP has a separate log file.</p>
<p>
<a id="pgfId-1066684"></a>To view the job log for an ICRP, right-click an ICRP icon in the <em>Run Summary</em> assistant and choose <em>Job log</em>.</p>
<p>
<a id="pgfId-1067410"></a></p>
<div class="webflare-div-image">
<img width="480" height="227" src="images/asmSimulating-118.gif" /></div>
<p>
<a id="pgfId-1067363"></a>Also see: <a href="asmSimulating.html#83042">Viewing the Job Log</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066720"></a>Job log (for a data point)</p>
<p>
<a id="pgfId-1066714"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1067520"></a>Information related to the job for a selected data point. This log contains the details for a data point such as the variable and parameter values, the path to the netlist directory and the data directory, and the output or error details.To view the job log for a point, right-click any result value for that point on the <em>Results</em> tab and choose <em>Job Log</em>. The simulator log for that point is displayed in a new window.</p>
<div class="webflare-div-image">
<img width="480" height="290" src="images/asmSimulating-119.gif" /></div>
<p>
<a id="pgfId-1067543"></a>Environment variable to control the creation of the job log for a data point: <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#generateJobFileOnlyOnError" show="replace" xml:link="simple">generateJobFileOnlyOnError</a></h-hot></p>
<p>
<a id="pgfId-1066847"></a>At the data point level, ADE Assembler saves job logs only for the simulations that result into an error. To save the job logs for all the jobs irrespective of their result status, set the <code>generateJobFileOnlyOnError</code> environment variable to <code>nil</code>. However, this would increase the disk space requirement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066608"></a>Output log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066773"></a>The simulator output log for a particular data point.</p>
<p>
<a id="pgfId-1067492"></a>To view the output log for a point, right-click any result value for that point on the <em>Results</em> tab and choose <em>Output Log</em>. </p>
<p>
<a id="pgfId-1076713"></a></p>
<div class="webflare-div-image">
<img width="480" height="226" src="images/asmSimulating-120.gif" /></div>
<p>
<a id="pgfId-1076933"></a>Also see:</p>
<p>
<a id="pgfId-1077412"></a><a href="asmSimulating.html#34764">Viewing the Simulation Output Log File</a></p>
<p>
<a id="pgfId-1077426"></a><h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#showSimLogForOnePointSim" show="replace" xml:link="simple">showSimLogForOnePointSim</a></h-hot></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066662"></a>Composite output log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1067199"></a>The composite output logs for all the simulations run for all the points and corners. In this composite log, log for each simulation is separated by the following two statements:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1066923"></a>********* LOG ENDS **************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1066924"></a>**&#160;&#160;                           **</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1066925"></a>**&#160;&#160;                           **</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1066914"></a>********* LOG STARTS ************</pre>
<p>
<a id="pgfId-1067583"></a>To view the composite output log, on the <em>Results</em> tab, right-click in the <em>Test</em> or <em>Output</em> column and choose <em>Output Log</em>.</p>
<div class="webflare-div-image">
<img width="480" height="363" src="images/asmSimulating-121.gif" /></div>
<p>
<a id="pgfId-1066992"></a>Environment variable to control the creation of the composite output log depending on the number of simulations: <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#createCompositeSimLogFileWhenSimCountFewerThan" show="replace" xml:link="simple">createCompositeSimLogFileWhenSimCountFewerThan</a></h-hot></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066617"></a>Run log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066621"></a>The summary of a simulation run in ADE Assembler.</p>
<p>
<a id="pgfId-1067601"></a>To view the run log, on the <em>History</em> tab of the <em>Data View</em> assistant, right-click a history item and choose <em>Open Run Log</em>.</p>
<div class="webflare-div-image">
<img width="480" height="332" src="images/asmSimulating-122.gif" /></div>
<p>
<a id="pgfId-1067265"></a>This log contains the start time and end time for the simulation run, the number of points completed and the number of simulation errors. In addition to these, by default, ADE Assembler also saves the details of the best design point when the number of points is less than the count specified by <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#createRunLogWhenSimsFewerThan" show="replace" xml:link="simple">createRunLogWhenSimsFewerThan</a></h-hot> or when the Single Run, Sweeps and Corners run mode is run as part of the Manual Tuning run mode. You can choose to include this information in other scenarios as well by using the following two environment variables:</p>
<p>
<a id="pgfId-1067006"></a>Environment variables to control the creation of the run job log: </p>

<ul><li>
<a id="pgfId-1082384"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#createRunLogForSweepsCorners" show="replace" xml:link="simple">createRunLogForSweepsCorners</a></li><li>
<a id="pgfId-1067028"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#createRunLogWhenSimsFewerThan" show="replace" xml:link="simple">createRunLogWhenSimsFewerThan</a></li></ul>


</td>
</tr>
</tbody></table>

<h2>
<a id="pgfId-1066568"></a><a id="83042"></a>Viewing the Job <a id="jobLog"></a>Log<a id="marker-1021841"></a></h2>

<p>
<a id="pgfId-1062083"></a>A job log can be viewed for a particular ICRP on which simulation is running or a particular data point in the Results tab. </p>

<h3>
<a id="pgfId-1062084"></a>Viewing Job Log for an ICRP</h3>

<p>
<a id="pgfId-1062256"></a>To view the log file for a particular ICRP job, do the following:</p>
<ul><li>
<a id="pgfId-1062259"></a>In the Run Summary assistant pane, right-click the job status  icon <img src="images/iconJobRunning.gif" />
 and click <em>Job Log</em>.</li></ul>
<p>
<a id="pgfId-1062260"></a>The Job.log file appears in a text window. This file contains information about the ICRP job that is running simulations. It includes various details, such as the Cadence software version number, operating system version, working directory, design path, simulator, results location, data directory, netlist directory, and simulation errors, if any. </p>

<headingrunin id="#id1062088">
<a id="pgfId-1062088"></a>How Virtuoso Saves the Job Logs?

<p>
<a id="pgfId-1062089"></a>By default, each Virtuoso process creates a unique log subdirectory such as <code>logs&lt;num&gt;</code> under <code>logs_&lt;username&gt;</code>, where all the ICRP processes started by that Virtuoso process write their job log files. For example, if you start a Virtuoso process from a directory and that process further starts three ICRP jobs, Virtuoso creates a directory <code>logs_&lt;username&gt;/logs0</code> and the three ICRPs create their job log files, <code>Job0.log, Job1.log</code> and <code>Job2.log</code> in <code>logs_&lt;username&gt;/logs0 directory</code>. While this Virtuoso process is running, if the user starts another Virtuoso process from the same directory, which further starts two ICRP jobs, the second Virtuoso process will create a directory <code>logs_&lt;username&gt;/logs1</code> and two ICRPs started by it write their job log files <code>Job0.log</code> and <code>Job1.log</code> in the <code>logs_&lt;username&gt;/logs1</code> directory.</p>

<h3>
<a id="pgfId-1062092"></a><a id="RTF360032003900320033003a00"></a>Viewing Job Log for a Result</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1062093"></a>By default, ADE Assembler saves job logs only for the simulations that result into an error.</div>
<p>
<a id="pgfId-1062094"></a>To view the job log file for a particular data point in the Results tab, do the following:</p>
<ul><li>
<a id="pgfId-1062095"></a>On the Results tab of the Outputs pane, right-click a result cell and choose <em>Job Log</em>.</li></ul>
<p>
<a id="pgfId-1061995"></a>The job log file for the selected result appears in a text window. This file contains all the information related to the job, such as the parameter values, the path to the netlist directory and the data directory, and the output or error details.</p>

<p>
<a id="pgfId-1061999"></a></p>
<div class="webflare-div-image">
<img src="images/adexl_jobLog.gif" /></div>

<p>
<a id="pgfId-1062000"></a>To view the job logs for multiple points in the same log window, do the following:</p>
<ul><li>
<a id="pgfId-1062001"></a>On the Results tab of the Outputs pane, hold down the <em>Ctrl</em> key and click multiple cells, right-click and choose <em>Job Log</em>.</li></ul>

<h4><em>
<a id="pgfId-1062002"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1062003"></a>ADE Assembler saves the job log files in the psf directory and can be viewed when you load the results for a history.</li><li>
<a id="pgfId-1062004"></a>By default, to enable debugging, ADE Assembler saves the job log files only for those jobs that failed due to some reason and did not give any result. The <em>Job Log</em> command is not enabled for the points that successfully showed results. To save the job logs for all the jobs, set the <a actuate="user" class="URL" href="../anasimhelp/appA.html#generateJobFileOnlyOnError" show="replace" xml:link="simple">generateJobFileOnlyOnError</a> environment variable to <code>nil</code>. However, this would increase the disk space requirement.</li></ul>


<h2>
<a id="pgfId-1053239"></a><a id="34764"></a>Viewing the Simulation Output Log <a id="outputLog"></a>File<a id="marker-1053238"></a></h2>

<p>
<a id="pgfId-1013360"></a>To view the simulation log file, do the following:</p>
<ul><li>
<a id="pgfId-1021690"></a>On the Results tab of the Outputs pane:<ul><li>
<a id="pgfId-1035034"></a>Right-click a test or the result for the nominal corner and choose <em>Output Log</em> to view the simulation log file for the nominal corner.</li><li>
<a id="pgfId-1035076"></a>Right-click the result for a corner and choose <em>Output Log </em>to view the simulation log file for the corner.</li></ul><br />
<a id="pgfId-1021833"></a>The simulation output log file appears in a text window. This file contains information about the simulation environment, the command line sent to the simulator, the details of analyses, the simulation summary, and any simulation error or warning messages.<br />
<a id="pgfId-1077032"></a>An example of the output log is shown below.<br />
<a id="pgfId-1076972"></a><div class="webflare-div-image">
<img width="666" height="521" src="images/asmSimulating-125.gif" /></div>
<a id="pgfId-1076973"></a>The log contains hyperlinks that provide direct access to the netlist file, input files, instances in the schematic, the setup forms for analyses, and error or warning information. These links are helpful in debugging. For more details on the hyperlinked logs, refer to <a actuate="user" class="URL" href="../Explorer/chap11.html#firstpage" show="replace" xml:link="simple">Viewing the Simulation Results</a> in the Virtuoso ADE Explorer User Guide.<br />
<a id="pgfId-1062211"></a>Also see:<ul><li>
<a id="pgfId-1049164"></a><a href="asmSimulating.html#97981">Simulation Errors</a></li><li>
<a id="pgfId-1077366"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#showSimLogForOnePointSim" show="replace" xml:link="simple">showSimLogForOnePointSim</a></li></ul></li></ul>













<h2>
<a id="pgfId-1061587"></a><a id="97981"></a>Simulation Errors</h2>

<p>
<a id="pgfId-1061588"></a>If the simulation of an analysis or evaluation of an expression fails, ADE Assembler reports appropriate errors in the Results tab or in the output log. The errors can be categorized as described in the following table. </p>
<table class="webflareTable" id="#id1048761">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1048763">
<a id="pgfId-1048763"></a>Type of error</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1048765">
<a id="pgfId-1048765"></a>Reported when...</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050329"></a>netlist error</p>
<p>
<a id="pgfId-1061593"></a>(error)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1050331"></a>Generation of netlist fails because of some reason, such as a missing device master.</li></ul>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050320"></a>simulation error</p>
<p>
<a id="pgfId-1061083"></a>(sim err)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1050322"></a>A simulation was killed. This can be due to various reasons such as process killed in the background or insufficient disk space.</li><li>
<a id="pgfId-1050323"></a>The analysis on which an expression is dependent failed due to errors. In this case, all the expressions that depend on the failed analysis show sim err in the results table. Other outputs are not affected due to this failure. </li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048767"></a>evaluation error</p>
<p>
<a id="pgfId-1061090"></a>(eval err)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1049993"></a>An expression was wrongly constructed, and therefore, could not be properly evaluated</li><li>
<a id="pgfId-1049995"></a>No data was generated after simulation due to some reason </li><li>
<a id="pgfId-1078744"></a>The analysis on which evaluation of an expression is dependent was not selected for simulation</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1078732"></a>In case of evaluation errors, the min and max values on the Results tab and in Spec Summary are calculated by using the numeric values of the successful results. The results with errors are ignored. The tooltip of the result value also indicates this.</div>

</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1061195"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1061846"></a>You can rerun the design points that could not run because of simulation errors. However, you cannot rerun the design points that failed with eval errors because they will result in the same error again. </li><li>
<a id="pgfId-1061860"></a>If the eval error occurs because of an incorrectly built expression, you can update the expression on the <em>Output Setup</em> tab and click <em>Re-evaluate</em> on the <em>Results</em> tab to rerun the expression evaluation.</li><li>
<a id="pgfId-1104614"></a>If the following ASSEMBLER-2200 error message is reported: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1104707">
<a id="pgfId-1104707"></a>ERROR (ASSEMBLER-2200): Encountered the following problem with the results database engine:
SQL statement: SELECT count(name) FROM sqlite_master WHERE type=&#39;table&#39; and name=&#39;psfTable&#39;;
Error code: 6
Description: database schema is locked: main.
The results database uses SQL statements internally.
Contact Cadence Customer Support to report the problem.</pre>
<a id="pgfId-1105085"></a>You can try to resolve the issue as described below.<br />
<a id="pgfId-1105149"></a>Check the value of the <a href="appEnvVars.html#78746">RDBCreatePolicy</a> variable to identify the type of database being used for the simulation run. If <a href="appEnvVars.html#78746">RDBCreatePolicy</a> is set to &quot;TmpDir&quot;, ensure that the temporary location has sufficient space to save result database and simulation waveforms. Alternatively, you can reset the <a href="appEnvVars.html#78746">RDBCreatePolicy</a> variable to &quot;NFSDisk&quot; to write the results on an NFS disk, and then rerun simulation. If the problem persists, contact Cadence Customer Support.</li></ul>





<p>
<a id="pgfId-1048948"></a>See also:</p>
<ul><li>
<a id="pgfId-1049090"></a><a href="asmSimulating.html#34764">Viewing the Simulation Output Log File</a></li><li>
<a id="pgfId-1061117"></a><a href="asmSimulating.html#83042">Viewing the Job Log</a></li><li>
<a id="pgfId-1049103"></a><a href="asmSimulating.html#29482">Simulating Only Unfinished or Erroneous Points</a></li><li>
<a id="pgfId-1061148"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#showOutputLogOnError" show="replace" xml:link="simple">showOutputLogOnError</a></li><li>
<a id="pgfId-1061170"></a><a actuate="user" class="URL" href="../anasimhelp/appA.html#useLocalPsfDir" show="replace" xml:link="simple">useLocalPsfDir</a></li></ul>





<h2>
<a id="pgfId-1108914"></a><a id="30442"></a><a id="77705"></a>Running an Increm<a id="incrementalSimulation"></a>ental Simulation</h2>

<p>
<a id="pgfId-1108867"></a>The results for simulation runs in ADE Assembler are stored in history items. An incremental simulation allows you to use one or more histories as reference for a new simulation run for the following purposes:</p>
<ul><li>
<a id="pgfId-1111973"></a><a href="asmSimulating.html#37523">Running an Incremental Simulation to Reuse Results</a></li><li>
<a id="pgfId-1126578"></a><a href="asmSimulating.html#55403">Running an Incremental Monte Carlo Simulation</a></li><li>
<a id="pgfId-1118370"></a><a href="asmSimulating.html#22029">Reusing a Netlist from Another History</a></li><li>
<a id="pgfId-1118375"></a><a href="asmSimulating.html#60525">Rerunning Simulation after Modifying the Netlist</a><br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1108875"></a>
You can run an incremental simulation for the Single Run, Sweeps and Corners, and Monte Carlo Sampling run modes only. However, for Monte Carlo Sampling, you can use only one reference history.</div></li></ul>






<p>
<a id="pgfId-1108908"></a>Also see: <a href="asmSimulating.html#97034">Viewing Differences Between the Active Setup and the Reference History Setup</a></p>

<h3>
<a id="pgfId-1028531"></a><a id="37523"></a>Running an Increm<a id="incrementalSimulationTopic"></a>ental Simulation to Reuse Results</h3>

<p>
<a id="pgfId-1118275"></a>After running a simulation, you can make certain changes in the setup. For example, you can add more corners or sweep points, or modify the values of the existing points. After making these changes, you may want to simulate only the changed corners or sweep points and copy the results for the remaining points from the previous history. </p>
<p>
<a id="pgfId-1118276"></a>For example, you change the value of a variable <code>vdd</code> from <code>1,2,3</code> to <code>1,2,5</code>. In such a case, you can use the previous history as reference for the next simulation run. For the common or matching points (when <code>vdd=1</code> or <code>vdd=2</code>) results are reused from the reference history and a simulation is run only for the new value (<code>vdd=5</code>).</p>
<p>
<a id="pgfId-1118341"></a>This is also helpful when you have to correct any value of a corner or sweep point.</p>
<p>
<a id="pgfId-1108939"></a>To run an incremental run by reusing the results, do the following:</p>
<ol><li>
<a id="pgfId-1108940"></a>Identify the reference histories in the <em>History</em> tab of the Data View assistant.</li><li>
<a id="pgfId-1108941"></a>Right-click one of the identified histories and click <em>Load Setup to Active</em>. </li><li>
<a id="pgfId-1106667"></a>Select a run mode from the <em>Select a Run Mode</em> list on the Run toolbar.</li><li>
<a id="pgfId-1106672"></a>Click <em>Reference History Options</em> on the Reference History toolbar.<br />
<a id="pgfId-1106815"></a><div class="webflare-div-image">
<img width="668" height="35" src="images/asmSimulating-126.gif" /></div>
<a id="pgfId-1106677"></a>The Reference <a id="incrementalOptionsForm"></a>Histories form is displayed.<br />
<a id="pgfId-1106821"></a><div class="webflare-div-image">
<img width="572" height="417" src="images/asmSimulating-127.gif" /></div></li><li>
<a id="pgfId-1106678"></a>Select the <em>Use reference results </em>check box. <br />
<a id="pgfId-1113009"></a>All other fields on this form are enabled.</li><li>
<a id="pgfId-1106679"></a>From the <em>Histories</em> list box, select the histories you want to use as the reference histories and click <img width="25" height="23" src="images/asmSimulating-128.gif" />
 to add them to the <em>Selected Histories</em> list box. <br />
<a id="pgfId-1106683"></a>You can use the following buttons to manage the selected reference histories:<ul><li>
<a id="pgfId-1106684"></a><img width="29" height="26" src="images/asmSimulating-129.gif" />
: To remove the selected history name from the <em>Selected Histories</em> list.</li><li>
<a id="pgfId-1106688"></a><img width="30" height="25" src="images/asmSimulating-130.gif" />
 and <img width="25" height="22" src="images/asmSimulating-131.gif" />
: To change the order of histories in the <em>Selected Histories</em> list. </li><li>
<a id="pgfId-1106698"></a><img width="28" height="26" src="images/asmSimulating-132.gif" />
: To clear the <em>Selected Histories</em> list.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118701"></a>The <em>Histories</em> list does not show the names of children histories saved for grouped runs. For example, Sensitivity Analysis.</div></li></ul></li><li>
<a id="pgfId-1112710"></a>(Optional) If you want to use a reference netlist, select the <em>Use reference netlist</em> check box.</li><li>
<a id="pgfId-1113134"></a>In the <em>Result Completion</em> group box, specify how you want to populate the results for the incremental simulation run.<ul><li>
<a id="pgfId-1113287"></a><em>Copy results and run remaining points</em>: By default, this option is selected. It copies the results for common points from the reference history and runs simulation for the remaining points. For the points that resulted into errors in the reference history, the error status is retained. However, if the <em><a href="asmSimulating.html#carryover">Carry Over Error Points</a></em> check box is deselected, error points are simulated again.</li><li>
<a id="pgfId-1113544"></a><em>Only copy results</em>: This option copies only the results for common points from the reference history and does not run simulation for the remaining points. The status of any canceled or error points in the reference history is retained. In this case, all new points are shown as canceled.</li></ul></li><li>
<a id="pgfId-1113617"></a>(Optional) Select the <em>Ignore Setup Changes</em> check box to run an incremental simulation even if there are any test-level changes in the active setup. For example, analysis options have changed. <br />
<a id="pgfId-1114928"></a>By default, ADE Assembler does not run an incremental simulation by using a reference history if the test setup, variables, or output setup are different in the reference history and the active setup. The tool displays detailed warning messages in the CIW listing the differences in the setup. <br />
<a id="pgfId-1114988"></a>Select this option if you want to ignore the changes and run an incremental simulation. However, it is recommended to use this check box only when you are making minor modifications to the test-level setup because the results of an incremental simulation that is run by ignoring any setup changes might differ from the results of a non-incremental simulation because the latter considers the setup changes. <br />
<a id="pgfId-1113619"></a>Consider an example of a test AC where an initial simulation is run with the value of variable <code>vdd</code> set to <code>1</code>, <code>2</code>, <code>3</code>. Before running an incremental simulation, you make the following two changes:<ul><li>
<a id="pgfId-1113620"></a>Change the value of <code>vdd</code> to <code>1</code>, <code>2</code>, <code>5</code></li><li>
<a id="pgfId-1113621"></a>Change the Accuracy Defaults option for the tran analysis from <em>moderate</em> to <em>liberal</em>.</li></ul><br />
<a id="pgfId-1113622"></a>Next, select the <em>Ignore Setup Changes</em> check box in the <em>Reference Histories</em> form and run an incremental simulation by using the previous history as reference. For the common data points (where <code>vdd</code> = <code>1</code> or <code>2</code>), the new history ignores the change in the transient options and copies the results from the reference history. For <code>vdd</code>=<code>5</code>, no results are found in the reference history, therefore, ADE Assembler runs a new simulation by using the updated transient option, which is Accuracy Defaults = <em>liberal</em>.<br />
<a id="pgfId-1113623"></a>In comparison to this, if you run a non-incremental simulation after the two changes mentioned above, for all values of <code>vdd</code>, ADE Assembler uses the Accuracy Defaults transient option set to <em>liberal</em>. This might cause a difference in the results of the incremental and non-incremental simulation. </li><li>
<a id="pgfId-1113702"></a>(Optional) Selec<a id="carryover"></a>t <em>Carry Over Error Points</em> if you want to retain the status of error points from the reference history. When this check box is deselected, ADE Assembler also simulates the points that resulted in errors in the previous run. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1115360"></a>ADE Assembler considers this check box only when the <em>Copy results and run remaining points</em> option is selected in the <em>Result Completion</em> group box.</div></li><li>
<a id="pgfId-1106706"></a>Click <em>OK</em> to save the changes and close the Reference Histories form.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1110124"></a>
The color of the <em>Run Simulation</em> command on the Run toolbar changes to blue. This gives a visual indication that the setup for the next simulation uses reference histories.</div></li><li>
<a id="pgfId-1106710"></a>You can view the selected reference history items in the <a href="asmGettingStarted.html#29460">Reference History</a> toolbar.<br />
<a id="pgfId-1106714"></a><div class="webflare-div-image">
<img width="491" height="44" src="images/asmSimulating-133.gif" /></div></li><li>
<a id="pgfId-1106718"></a>(Optional) Click <em>Show Differences</em> on the <a href="asmGettingStarted.html#29460">Reference History</a> toolbar to view the differences between the active setup and the setup in the reference history. For more information, see <a href="asmSimulating.html#97034">Viewing Differences Between the Active Setup and the Reference History Setup</a>.<br />
<a id="pgfId-1106725"></a><div class="webflare-div-image">
<img width="668" height="34" src="images/asmSimulating-134.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1106726"></a>The <em>Show Differences</em> command is available only if a single reference history is selected.</div></li><li>
<a id="pgfId-1106730"></a>On the Run toolbar, click <em>Run Simulation</em> to start the incremental simulation run. <br />
<a id="pgfId-1106731"></a>If the <em>Use Reference Netlist </em>option is selected, a message box appears to seek your confirmation that you want to use the netlist of the reference history for the incremental run. Click <em>Yes</em> to continue.<br />
<a id="pgfId-1106732"></a>Observe that a new history for the incremental run is added to the Run Summary assistant.</li></ol>





















































<h4><em>
<a id="pgfId-1106733"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1106734"></a>The incremental simulation run uses the active setup.</li><li>
<a id="pgfId-1109925"></a>The run mode of the current run can be different from the run modes of the selected reference histories.</li><li>
<a id="pgfId-1106735"></a>The number of completed points displayed on the run status reflects the number of points for which the results are already available in the referenced history. Result data for those points is reused from the reference history. Simulation is then continued for the missing and failed points in the reference histories.</li><li>
<a id="pgfId-1106736"></a>If the same sweep or corner is used in more than one reference history, the results from the first reference history in the list box are considered.</li><li>
<a id="pgfId-1133384"></a>If a test contains variables defined using <code>calcVal</code> or <code>VAR</code>, results are not reused from a reference history. ADE Assembler reruns simulations for those tests.</li><li>
<a id="pgfId-1133533"></a>If you modify the outputs or their spec values in the active setup as compared to the reference history, a warning message is displayed and the Incremental simulation is not performed because the setup is incompatible with the setup in the reference history.</li><li>
<a id="pgfId-1110461"></a>The tooltip of a history saved for a simulation run using reference histories shows the following details:<ul><li>
<a id="pgfId-1110689"></a>The date and time of the history</li><li>
<a id="pgfId-1110691"></a>The names of the reference histories used for the run</li><li>
<a id="pgfId-1110900"></a>The status of the <em>Ignore Setup Changes</em> check box on the Reference Histories form.<br /><ffi2-fig-frame-in-2 id="#id1110904">
<a id="pgfId-1110904"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="669" height="327" src="images/asmSimulating-135.gif" /></div></li></ul></li><li>
<a id="pgfId-1106759"></a>ADE Assembler locks all writable histories used as reference histories. It displays an error if you use the <em>Unlock</em> command to unlock a reference history. You cannot remove the lock from a history until you remove it from the <em>Selected Histories</em> list on the <a href="asmSimulating.html#incrementalOptionsForm">Reference Histories</a> form. </li></ul>















<h3>
<a id="pgfId-1125306"></a><a id="55403"></a>Running an Incr<a id="MCRef"></a>emental Monte Carlo Simulation</h3>

<p>
<a id="pgfId-1125307"></a>Similar to Single Run, Sweeps, and Corners run mode, you can use one or more reference histories for Monte Carlo Sampling run mode.</p>
<p>
<a id="pgfId-1125308"></a>To use a reference history for a Monte Carlo simulation: </p>
<ol><li>
<a id="pgfId-1138938"></a>Select <em>Monte Carlo Sampling</em> run mode on the <em>Run</em> toolbar.</li><li>
<a id="pgfId-1138947"></a>Configure the reference history settings as described in the <a href="asmSimulating.html#37523">Running an Incremental Simulation to Reuse Results</a> section. <br />
<a id="pgfId-1138952"></a>If the multiple reference histories contain similar points, the results are used from the first found occurrence. Any duplicate point is ignored.<br />
<a id="pgfId-1138958"></a>Statistical parameter data is not copied from the reference history to the new history.</li></ol>



<p>
<a id="pgfId-1125312"></a>This feature is supported only when in the Monte Carlo options form:</p>
<ul><li>
<a id="pgfId-1125313"></a>The <em>Method</em> field is set to <code>Standard Monte Carlo</code></li><li>
<a id="pgfId-1125314"></a>The <em>Sampling Method</em> field is set to <code>Random</code> or <code>Low-Discrepancy Sequence</code></li><li>
<a id="pgfId-1125315"></a>The <em>Save Statistical Parameter Data</em> check box is not selected</li></ul>


<p>
<a id="pgfId-1125316"></a>If you <a id="MCPreview"></a>are running a Monte Carlo simulation using a fixed number of points and not to verify yield or to create statistical corners, you can review the setup and run points in the <em>Run Preview</em> table before running a simulation. All Monte Carlo iterations for a particular point, test, corner, and variable combination are combined in a single row where the <em>mc_iteration</em> column shows the range of points. You can enable or disable points to control the run.</p>

<p>
<a id="pgfId-1125320"></a></p>
<div class="webflare-div-image">
<img width="668" height="456" src="images/asmSimulating-136.gif" /></div>

<p>
<a id="pgfId-1125321"></a>While configuring an incremental simulation, you can select the <em>Ignore Setup Changes</em> check box on the Reference Histories form to ignore the following types of setup changes:</p>
<ul><li>
<a id="pgfId-1125322"></a>A change in the maximum number of points</li><li>
<a id="pgfId-1125323"></a>A change in the first point</li><li>
<a id="pgfId-1125324"></a>Changes in simulation settings to improve convergence</li></ul>


<p>
<a id="pgfId-1125325"></a>Multiple references are useful in the following scenarios of a Monte Carlo simulation:</p>
<ul><li>
<a id="pgfId-1125326"></a><strong>Running an incremental Monte Carlo simulation for different tests: </strong>You have already run a Monte Carlo simulation for a test, say <code>test1</code>, and saved the history as <code>Monte1</code>. You want to run a simulation for another test, <code>test2</code> , with the same number of points and the same variable and corner settings. By using <code>Monte1</code> as a reference history, you can merge the results from <code>Monte1</code> in the history of the second run <code>Monte2</code> for a complete result analysis without rerunning the simulation of <code>test1</code>.</li><li>
<a id="pgfId-1125327"></a><strong>Running an incremental Monte Carlo simulation for the same tests but different points: </strong>You have already run two Monte Carlo simulations. <code>Monte1</code> contains the results for the first 100 points and <code>Monte2</code> contains the results for points 101 to 200. Now, you want to run a simulation for a few more points and also include the points already simulated. Instead of rerunning the already run points, you can use <code>Monte1</code> and <code>Monte2</code> as reference histories. The results from all the histories are available in the third run <code>Monte3</code>.</li><li>
<a id="pgfId-1125328"></a><strong>Running an incremental Monte Carlo simulation with different settings for an improved convergence: </strong>You have run a Monte Carlo simulation for 100 points out of which 8 failed. In the second run, you change the simulation settings and run the same points out of which only 3 failed. Now, you again want to change the settings to improve the results. In this case, you can use both of the previous histories as reference histories and use the results for points that did not return errors. Run an incremental run for only those points that had errors and reuse the results for the remaining points.</li></ul>


<p>
<a id="pgfId-1125332"></a>Related Topics: <a href="asmSimulating.html#62147">Using the Run Preview Table</a></p>

<h3>
<a id="pgfId-1029186"></a><a id="97034"></a>Viewing Differences Between <a id="compareActiveHistorySetup"></a>the Active Setup and the Reference History Setup</h3>

<p>
<a id="pgfId-1030832"></a>To view the differences between the active setup and the setup in the reference history, do the following:</p>
<ul><li>
<a id="pgfId-1031930"></a>Click the <em>Show Differences</em> <img src="images/iconShowDifferences.gif" />
 button on the <a href="asmGettingStarted.html#29460">Reference History</a> toolbar.<br />
<a id="pgfId-1031931"></a>The differences between the active setup and the setup in the reference history are displayed in the Comparison: Active Setup v/s Reference History form.<br />
<a id="pgfId-1115510"></a><br /><div class="webflare-div-image">
<img src="images/formComparisonActiveVSReference.gif" /></div></li></ul>




<h3>
<a id="pgfId-1115515"></a><a id="22029"></a>Reusing a <a id="reuseNetlist"></a>Netlist from Another History</h3>

<p>
<a id="pgfId-1118487"></a>Reusing a netlist saved by a previous run is helpful in the following scenarios: </p>
<ul><li>
<a id="pgfId-1118488"></a>When you have changed the design, but you do not want to consider the changes in a simulation run. </li><li>
<a id="pgfId-1118489"></a>When the netlist creation takes a huge time and you are sure that reusing a netlist will save time.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118424"></a>You can reuse a netlist only when you are using a single reference history.</div>
<p>
<a id="pgfId-1115544"></a>To reuse a netlist from a simulation run in a subsequent simulation, do the following:</p>
<ol><li>
<a id="pgfId-1115798"></a>In the setup for a new simulation, click <em>Reference History Options</em> on the Reference History toolbar.<br />
<a id="pgfId-1115805"></a><div class="webflare-div-image">
<img width="668" height="35" src="images/asmSimulating-139.gif" /></div>
<a id="pgfId-1115807"></a>The Reference <a id="incrementalOptionsForm"></a>Histories form is displayed.<br />
<a id="pgfId-1115811"></a><div class="webflare-div-image">
<img width="572" height="453" src="images/asmSimulating-140.gif" /></div></li><li>
<a id="pgfId-1115793"></a>Select the <em>Use reference netlist</em> check box.<br />
<a id="pgfId-1115996"></a>The <em>Reference Histories</em> section is enabled.</li><li>
<a id="pgfId-1115986"></a>In the <em>Histories</em> list, select a history whose netlist you need to use in the next run. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1139347"></a>The tool allows you to select histories for which netlist is successfully created and the simulation has finished or simulation is not complete yet.</div></li><li>
<a id="pgfId-1116158"></a>Click the right arrow icon to move the selected history to the <em>Selected History</em> list.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1116250"></a>Select only one reference history. Netlists cannot be reused from more than one history.</div></li><li>
<a id="pgfId-1116373"></a>Click <em>OK</em> to close the form.</li></ol>
















<p>
<a id="pgfId-1118736"></a>The color of the <em>Run Simulation</em> command on the Run toolbar changes to blue. This gives a visual indication that the setup for the next simulation uses a reference netlist.</p>
<p>
<a id="pgfId-1116367"></a>When you run the next simulation, ADE Assembler compares the setup of the reference history with the active setup and reuses the netlist as described below.</p>
<ul><li>
<a id="pgfId-1131078"></a>If the tests are same in both, it copies the netlist from the reference history to the netlist directory for each test in the current history.</li><li>
<a id="pgfId-1130620"></a>(LSCS job control mode only) If the setup contains config sweeps in global variables or corners, for each swept cellview, the tool uses the reference netlist from the corresponding point in the reference history. <br />
<a id="pgfId-1131162"></a>For example, if the setup contains corners C1, C2, C3, where each corner uses a different config cellview, ADE Assembler uses the reference netlist from the corresponding corner in the specified reference history. This feature is not available in the ICRP job control mode, which uses the netlist of the nominal corner for each swept cellview.</li><li>
<a id="pgfId-1131098"></a>If there are any differences in the setup and the netlist cannot be reused, ADE Assembler displays an appropriate message and stops the simulation run.</li></ul>




<h4><em>
<a id="pgfId-1131168"></a>Related Topic</em></h4>

<p>
<a id="pgfId-1131187"></a><a href="asmParameterization.html#71222">Creating Config Sweep Variables</a></p>
<p>
<a id="pgfId-1131198"></a><a href="asmCorners.html#81685">Creating Corners</a></p>

<h3>
<a id="pgfId-1064035"></a><a id="60525"></a>Rerunning Simulation <a id="marker-1131222"></a>after Modifying the Netlist</h3>

<p>
<a id="pgfId-1064036"></a>After running a simulation, you might need to make some manual modifications in the netlist and rerun a simulation without regenerating a new netlist using ADE Assembler. In some cases, you might need to completely replace the netlist file with another one and run a simulation with the existing ADE Assembler setup.</p>
<p>
<a id="pgfId-1064037"></a>In the scenarios described above, you can perform the following steps to modify or replace a netlist file used in the previous run and use it for the next simulation:</p>
<ol><li>
<a id="pgfId-1064116"></a>After the reference simulation run is complete, note the name of a history saved for it. For example, <code>Interactive.3</code>.</li><li>
<a id="pgfId-1064117"></a>At the command prompt, traverse to the directory where the netlist was saved for that history. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1082161"></a>By default, the netlist file is saved in the simulation results directory specified by the <a actuate="user" class="URL" href="../anasimhelp/appA.html#saveResDir" show="replace" xml:link="simple">saveResDir</a> or <a actuate="user" class="URL" href="../anasimhelp/appA.html#adexlsetupdbsaveDir" show="replace" xml:link="simple">saveDir</a> environment variables in the given order of preference.</div>
<a id="pgfId-1082165"></a>For example, if the name of the history item for the test <code>ACGainBW</code> is <code>Interactive.14</code>, the netlist file for this history is saved in the <span class="webflare-courier-new" style="white-space:pre"><em>&lt;sim-dir-path&gt;</em></span>/simulation/<span class="webflare-courier-new" style="white-space:pre"><em>&lt;libName&gt;</em></span>/<span class="webflare-courier-new" style="white-space:pre"><em>&lt;cellName&gt;</em></span>/maestro/results/data/Interactive.14/psf/ACGainBW directory.</li><li>
<a id="pgfId-1064042"></a>Open the netlist file in a text editor and make changes as required.</li><li>
<a id="pgfId-1064043"></a>Save and close the netlist file.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1064044"></a>You can also replace the existing netlist file with another netlist for the same design.</div></li><li>
<a id="pgfId-1064045"></a>In the ADE Assembler environment, click <em>Reference History Options </em>on the Reference History toolbar.<br />
<a id="pgfId-1064046"></a><div class="webflare-div-image">
<img width="668" height="36" src="images/asmSimulating-141.gif" /></div>
<a id="pgfId-1064047"></a>The Reference History form is displayed.</li><li>
<a id="pgfId-1064048"></a>In the Reference History form, select the <em>Use reference netlist</em> check box, as shown below.<br />
<a id="pgfId-1064049"></a><div class="webflare-div-image">
<img width="668" height="429" src="images/asmSimulating-142.gif" /></div>
<a id="pgfId-1064050"></a>When the <em>Use reference netlist</em> mode is set, ADE Assembler does not generate netlist during the next simulation run. Instead, it uses the netlist file available in the results directory of the referenced history name. In this case, this is the netlist file that was edited in step 3.</li><li>
<a id="pgfId-1064051"></a>Click <em>OK</em> to close the form.</li><li>
<a id="pgfId-1064165"></a>From the <em>Reference</em> drop-down list on the Reference History toolbar, select the name of a reference history corresponding to the edited netlist file.<br />
<a id="pgfId-1064166"></a><div class="webflare-div-image">
<img width="668" height="38" src="images/asmSimulating-143.gif" /></div></li><li>
<a id="pgfId-1064167"></a>Run simulation. <br />
<a id="pgfId-1080534"></a>ADE Assembler copies the edited netlist file from the results directory for <code>Interactive.3</code> to the results directory for the new simulation run.</li></ol>



























<h2>
<a id="pgfId-1164429"></a><a id="29482"></a>Simulating Only <a id="rerunUnfinishedError"></a>Unfinished or Erroneous Points</h2>

<p>
<a id="pgfId-1164430"></a>If a history item includes points that are incomplete or that show errors, it could be because the simulation run was stopped before completion, or some simulations failed due to issues like license check failures, an unavailable model file, system issues on a remote host used for distributed simulation etc. For such history items, you can run incremental simulations to simulate only the incomplete or error points in the history item. This helps in saving time because the results for the completed points will be reused from the previous history item and the simulations will not run again for those points.</p>
<p>
<a id="pgfId-1164431"></a>ADE Assembler provides three ways in which you can run only those points that had errors or that were incomplete in the previous run:</p>
<ul><li>
<a id="pgfId-1164433"></a><a href="asmSimulating.html#rerun">By using the </a>Rerun Unfinished/Erroneous Points command</li><li>
<a id="pgfId-1164435"></a><a actuate="user" class="URL" href="../assembler/asmSimulating.html#rerunSpecificPoints" show="replace" xml:link="simple">By using the </a>Rerun Point command to rerun specific points</li><li>
<a id="pgfId-1164437"></a><a href="asmSimulating.html#prevSimResults">By setting reference to the simulation results of a previous run</a></li></ul>



<h3>
<a id="pgfId-1164439"></a><a id="26063"></a>Rerunning All Unfinished or Erroneous Points</h3>

<p>
<a id="pgfId-1164440"></a>This method is useful in scenarios when the design has not changed and you want to use the previous simulation setup while completing the unfinished points. If the design has changed, a new netlist will be generated, which may be different from the one used in the original run with unfinished points.</p>
<p>
<a id="pgfId-1164441"></a>To simulate all the unfinished or erroneous points in a history item, do the following:</p>
<ol><li>
<a id="pgfId-1164443"></a>Ensure that the History tab of the <a href="asmGettingStarted.html#assistantDataView">Data View</a> assistant pane is open.</li><li>
<a id="pgfId-1164444"></a>Right-click the desired history item that contains erroneous points and choose <em>Rerun Unfinished/Error Points</em>.<br />
<a id="pgfId-1164449"></a><div class="webflare-div-image">
<img width="668" height="313" src="images/asmSimulating-144.gif" /></div></li></ol>





<p>
<a id="pgfId-1164450"></a>When you use this command, ADE Assembler ignores any changes in the active setup after the last run and re-runs simulations for all the erroneous or unfinished points in the selected history run. All the consolidated results are saved in a new history named <span class="webflare-courier-new" style="white-space:pre"><em>history_name</em></span>.<code>rerun</code>.<span class="webflare-courier-new" style="white-space:pre"><em>seqNum</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>seqNum</em></span> starts from <code>0</code> and increases incrementally in the subsequent simulation runs. </p>
<p>
<a id="pgfId-1164451"></a>Note the following:</p>
<ul><li>
<a id="pgfId-1164452"></a>The simulation run uses the setup of the history item on which you ran <em>Rerun Unfinished/Error Points.</em> So any changes you make in the active setup will be ignored during the run.</li><li>
<a id="pgfId-1164453"></a>When you run <em>Rerun Unfinished/Error Points</em> on a history item, the simulation results of that history item are moved to the new history item. As a result, you will not be able to perform postprocessing operations (like plotting, printing, annotation, re-evaluation, and so on) on the history item on which you ran <em>Rerun Unfinished/Error Points</em>. You can use the <code>retainReferenceSimResults</code> environment variable to retain the simulation results of the history item on which you ran <em>Rerun Unfinished/Error Points</em>. For more information about this environment variable, see <a actuate="user" class="URL" href="../adexl/appEnvVars.html#retainReferenceSimResults" show="replace" xml:link="simple">retainReferenceSimResults</a>.</li></ul>


<h4><em>
<a id="pgfId-1164455"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1164459"></a><a href="asmRunPlan.html#59539">Rerun Simulations for Erroneous or Unfinished Points in a Run Plan</a></p>
<p>
<a id="pgfId-1164463"></a><a href="appEnvVars.html#12725">retainNetlistLinkForRerun</a></p>

<h3>
<a id="pgfId-1164466"></a><a id="75641"></a>Rerunning Sp<a id="rerunSpecificPoints"></a>ecific Unfinished or Erroneous Points</h3>

<p>
<a id="pgfId-1164467"></a>To rerun simulation for specific unfinished or erroneous points:</p>
<ol><li>
<a id="pgfId-1164468"></a>In the <em>Results</em> tab, press the <code>ctrl</code> key and select the points to be simulated again.</li><li>
<a id="pgfId-1164469"></a>Right-click any of the selected points and choose <em>Manage Point Results</em> &#8211; <em>Rerun Point</em> to rerun the simulation.<br />
<a id="pgfId-1164470"></a>The suffix <code>rerun</code> is added to the name of the related history.</li></ol>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1164471"></a>This feature is available only for <em>Detail</em> and <em>Detail - Transpose</em> result views.</div>

<h4><em>
<a id="pgfId-1164472"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1164476"></a><a href="asmRunPlan.html#59539">Rerun Simulations for Erroneous or Unfinished Points in a Run Plan</a></p>

<h3>
<a id="pgfId-1164478"></a>Running Erroneous or Incomplete Points By Referenc<a id="prevSimResults"></a>ing the Simulation Results of a Previous Run</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1164479"></a>This method is useful when the design has changed, but you want to reuse the previous netlist and simulation setup while completing the unfinished points.</div>
<p>
<a id="pgfId-1164480"></a>In this method, you can reference the netlist and the existing simulation results of a previous run. For details on the pre-requisites of this method and steps to run an incremental simulation, refer to <a href="asmSimulating.html#37523">Running an Incremental Simulation to Reuse Results</a>.</p>

<h2>
<a id="pgfId-1027641"></a><a id="35553"></a>Setting Up Debug O<a id="debugOptions"></a>ptions</h2>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1100504"></a>Read a blog related to this at <a actuate="user" class="URL" href="https://community.cadence.com/cadence_blogs_8/b/cic/posts/virtuosity-part-1-let-s-have-fun-with-ade-debugging" show="replace" xml:link="simple">Virtuosity: Let&#39;s Have Fun with ADE Debugging &#8211; Part 1</a>.</div>
<p>
<a id="pgfId-1097104"></a>You can set debugging options that help you troubleshoot several problems, such as non-responsive user-interface, simulation not starting, simulations showing error or warning messages, and so on. When set, these debug options are instantly applied on all the active simulation jobs, however, the current simulation run remains unaffected.</p>
<p>
<a id="pgfId-1097105"></a>Perform the following steps to set the debugging options:</p>
<ol><li>
<a id="pgfId-1097106"></a>Choose <em>Tools &#8211; Debug</em>. <br />
<a id="pgfId-1096886"></a>The Debug Utility form appears.<br />
<a id="pgfId-1097129"></a><div class="webflare-div-image">
<img width="537" height="393" src="images/asmSimulating-145.gif" /></div></li><li>
<a id="pgfId-1097137"></a>Specify the following fields to set the debugging options:<ol><li>
<a id="pgfId-1097138"></a><em>Enable verbose logging in job logs and CDS log</em>&#8212;Select this check box to enable the debugging options listed below:<ul><li>
<a id="pgfId-1097139"></a>Write the debug information and prepend a time-stamp in each debug message</li><li>
<a id="pgfId-1097140"></a>Write the callback evaluation information</li><li>
<a id="pgfId-1097141"></a>Capture the full stack trace if an error is thrown</li><li>
<a id="pgfId-1097142"></a>Write the Monte Carlo debug information</li><li>
<a id="pgfId-1097143"></a>Write the calcVal debug information</li><li>
<a id="pgfId-1097144"></a>Write the debug information for wave spec evaluation or re-evaluation</li><li>
<a id="pgfId-1097145"></a>Print the DE integration debug information and log all SKILL_CALLS issued by the UI</li><li>
<a id="pgfId-1097146"></a>Report information during runObjFile and interactive plotting operations</li><li>
<a id="pgfId-1097147"></a>Write the OCEAN debug information</li></ul><br />
<a id="pgfId-1097148"></a>When you click this check box, the following environment variables are enabled to write the std out and std error messages to the CDS.log file:<br />
<a id="pgfId-1097149"></a><code>&quot;adexl.icrpStartup&quot; &quot;showJobStdout&quot; &#39;boolean t</code><br />
<a id="pgfId-1097150"></a><code>&quot;adexl.icrpStartup&quot; &quot;showJobStderr&quot; &#39;boolean t</code></li><li>
<a id="pgfId-1097151"></a><em>Job Log Directory</em>&#8212;Specify a location where you want to redirect the job logs. This field is useful when you select the <em>Enable verbose logging in job logs and CDS log</em> field and want to write the job log files to a different location so that they can be shared for further debugging. <br />
<a id="pgfId-1097152"></a>Alternatively, you can set the location using the following environment variable:<br />
<a id="pgfId-1097153"></a><code>&quot;adexl.distribute&quot; &quot;jobFileDir&quot; &#39;string &quot;&lt;myDir&gt;&quot;\</code></li><li>
<a id="pgfId-1097154"></a><em>GUI Process ID</em>&#8212;Show the GUI process ID.</li><li>
<a id="pgfId-1097155"></a><em>Host Name</em>&#8212;Show the host name of the computer on which you are running Virtuoso.</li><li>
<a id="pgfId-1097156"></a><em>Options specifying how to proceed in case of failures</em>&#8212;Set the following fields to specify how you want to proceed when failures are found:<ul><li>
<a id="pgfId-1097157"></a><em>Confirm to proceed when job launch failure counts exceeds</em>&#8212;Specify a count after which if a job launch is failed, an error message is displayed. <br />
<a id="pgfId-1097158"></a>For example, if you specify this field value as <code>3</code>, then if the job fails three times, no error message is displayed. However, if the job continues to fail for the fourth time, an error message is displayed in CIW. This indicates that the number of attempts permitted to retry a job launch in the given case is three.<br />
<a id="pgfId-1097159"></a>Alternatively, you can set the following environment variable to specify how many number of times to retry a job launch before reporting the error:<br />
<a id="pgfId-1097160"></a><code>&quot;adexl.distribute&quot; &quot;maxJobFailPerPolicy&quot; &#39;int 1000</code></li><li>
<a id="pgfId-1097161"></a><em>Halt batch processing when job log failure count exceeds</em>&#8212;Specify a count after which if a job has failed to launch, the batch processing is stopped. The value you specify is applied to all the scripts generated from the current session.<br />
<a id="pgfId-1097162"></a>Alternatively, you can set the following environment variable to specify how many number of times a job launch can be retried before stopping the batch processing of jobs:<br />
<a id="pgfId-1097163"></a><code>&quot;adexl.distribute&quot; &quot;maxJobFailPerPolicyInBatch&quot; &#39;int 1000</code></li><li>
<a id="pgfId-1097164"></a><em>Maximum number of attempts to resubmit a failed simulation</em>&#8212;Specify how many times ADE Explorer can try resubmitting a failed simulation. By default, ADE Explorer resubmits a failed simulation only once, and if the simulation fails again, an error message is displayed. <br />
<a id="pgfId-1097165"></a>Alternatively, you can set the following environment variable to specify the maximum number of attempts to resubmit a failed simulation:<br />
<a id="pgfId-1097166"></a><code>envSetVal(&quot;adexl.distribute&quot; &quot;numRetriesOnError&quot; &#39;int 2)</code></li><li>
<a id="pgfId-1096918"></a>Click <em>OK</em> to apply the specified settings.</li></ul></li><li>
<a id="pgfId-1096918"></a>Click <em>OK</em> to apply the specified settings.</li></ol></li></ol>














































<p>
<a id="pgfId-1109010"></a>The options in the <em>LSCS debug options</em> group box are enabled only when <em>LSCS</em> job control mode is enabled. For more details, see <a href="asmSimulating.html#39819">Using Job Logs for Debugging</a>.</p>

<h4><em>
<a id="pgfId-1097178"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1097185"></a>The debug options settings specified in this form will be applied on all the jobs (ICRP sessions) that are new or waiting to run a simulation. To apply these changes on the currently running jobs as well, restart the jobs by right-clicking the ICRP icon in the Run Summary assistant and choosing <em>Stop and Resubmit</em>.</li><li>
<a id="pgfId-1097186"></a>The default values displayed for the debug options in this form are the values specified for them in the related environment variables.</li><li>
<a id="pgfId-1097200"></a>The debug options settings specified in this form temporarily override the specified <code>.cdsenv </code>or <code>.cdsinit</code> settings. </li><li>
<a id="pgfId-1097929"></a>The form settings are applicable only to the current Virtuoso and ICRP sessions, and form fields will show the default values in the next sessions.</li></ul>




<h2>
<a id="pgfId-1039791"></a><a id="89580"></a>Debugging <a id="adexlDebugEnvironment"></a>Points</h2>

<p>
<a id="pgfId-1050621"></a>After you run simulations in ADE Assembler, if any particular data point fails or shows undesired results, you can selectively change the setup of that data point and debug it. For this, you can use the <h-hot><a href="asmSimulating.html#adexl_debug_env_gui">ADE Assembler Debug Environment</a></h-hot>. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1122758"></a>You cannot use the debug environment when a simulation is run using Spectre X simulation performance mode.</div>
<p>
<a id="pgfId-1050814"></a>The ADE Assembler Debug Environment is a debug environment where you can load the setup of a data point you want to debug. The entire setup for the data point selected in ADE Assembler including the test, variables, and analyses details, corners, outputs, simulation settings, and job policy gets loaded. You can modify the settings for debugging purpose, run simulations, and plotting results. You cannot perform the following tasks in the debug environment:</p>
<ul><li>
<a id="pgfId-1050622"></a>Saving and loading states</li><li>
<a id="pgfId-1050623"></a>Changing the simulator or simulation run mode</li><li>
<a id="pgfId-1050624"></a>Changing the switch view list</li><li>
<a id="pgfId-1050625"></a>Running parametric analysis</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079812"></a>Simulations that run from the debug environment do not use <a href="asmSimulating.html#ICRPMode">ICRP</a>. They are same as ADE L simulations.</div>
<p>
<a id="pgfId-1079813"></a>After debugging the data point, you can bring back the corrected simulation setup to the maestro view. You can then run simulation by using the updated setup in the maestro view. </p>
<p>
<a id="pgfId-1087424"></a>To debug a data point by using the debug environment, do the following:</p>
<ol><li>
<a id="pgfId-1041676"></a>On the Results tab, right-click the data point and choose <em>Manage Point Results &#8211; Open Debug Environment</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1122916"></a>This command is disabled for the results of a simulation that was run using the Spectre X simulation performance mode.</div>
<a id="pgfId-1039854"></a>The ADE Assembler Debug Environment window appears displaying the setup for the data point. For example, the following figure displays the setup for corner <code>C0_2</code> of test <code>myTest</code> at data point <code>3</code> in history item Interactive.1.<br /><strong class="webflare-fig-line-height">Figure 17-1
<a id="pgfId-1043083"></a>ADE Assembler <a id="adexl_debug_env_gui"></a>Debug Environment</strong>
<a id="pgfId-1041662"></a><div class="webflare-div-image">
<img width="669" height="621" src="images/asmSimulating-146.gif" /></div>
<a id="pgfId-1042571"></a>Note the following:<ul><li>
<a id="pgfId-1042574"></a>As shown in the figure given above, the ADE Assembler Debug Environment window title bar displays the test name, history item name, corner name and design point ID for the selected point. </li><li>
<a id="pgfId-1042015"></a>The <em>Design Variables</em> pane displays the value of the design variables at the selected data point. The <em>Type</em> column indicates the type of the variables, as described below:<br /><ffi2-fig-frame-in-2 id="#id1042043">
<a id="pgfId-1042043"></a></ffi2-fig-frame-in-2><table class="webflareTable" id="#id1042058">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1042461">
<a id="pgfId-1042461"></a>Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1042463">
<a id="pgfId-1042463"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042465"></a><em>Test</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042467"></a>Design variable from test</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042469"></a><em>Sweep</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042471"></a>Global variable or device parameter with sweep (multiple) values</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042473"></a><em>Scalar</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042475"></a>Global variable or device parameter with single value</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042477"></a><em>Constraint</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042479"></a>Matched or ratioed device parameter</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042480"></a>You can modify only the value of the master parameter. Values of the matched and ratioed device parameters will change accordingly.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042482"></a><em>Corner</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1043161"></a>Design variables and parameters specified for the corner</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1043162"></a>The value of the <em>Temperature</em> variable specified for the corner is displayed on the toolbar, as shown below:</div>

<p>
<a id="pgfId-1042493"></a></p>
<div class="webflare-div-image">
<img width="245" height="92" src="images/asmSimulating-147.gif" /></div>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1043146"></a>The default project directory for the data point is the <code>/results/data/</code><span class="webflare-courier-new" style="white-space:pre"><em>historyName</em></span><code>/</code><span class="webflare-courier-new" style="white-space:pre"><em>pointID</em></span><code>/</code><span class="webflare-courier-new" style="white-space:pre"><em>testName</em></span><code>/debug</code> directory of the maestro view. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1043939"></a>You can choose <em>Setup &#8211; Simulator/Directory/Host</em> to modify the project directory path.</div></li><li>
<a id="pgfId-1047719"></a>You can see the path of the results directory for the data point in the <em>ADE Result Directory</em> toolbar. By default, this toolbar is hidden. You can right-click any toolbar and choose <em>ADE Result Directory</em> to make it visible.<br /><ffi2-fig-frame-in-2 id="#id1077529">
<a id="pgfId-1077529"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="173" src="images/asmSimulating-148.gif" /></div>
<a id="pgfId-1077542"></a>Click <em>XTerm</em> to open the terminal window from where you can access the <code>netlist</code> or <code>psf</code> directories for the data point.</li><li>
<a id="pgfId-1060198"></a>The relevant job policy settings set up in the ADE Assembler environment are copied to the debug environment. For example, if job policy is set in the ADE Assembler environment as shown below:<br />
<a id="pgfId-1051012"></a><br /><div class="webflare-div-image">
<img width="668" height="755" src="images/asmSimulating-149.gif" /></div>
<a id="pgfId-1051019"></a>In the form shown above, settings are done for distributed processing by using the LBS method. Relevant settings for distributed processing are copied from this form to the Analog Distributed Processing option Job Submit form in the debug environment, as shown below:<br />
<a id="pgfId-1051058"></a><br /><div class="webflare-div-image">
<img width="668" height="741" src="images/asmSimulating-150.gif" /></div></li><li>
<a id="pgfId-1050940"></a>You cannot use the debug environment to debug results from OCEAN-based tests. For more information about OCEAN-based tests, see <a href="asmTests.html#62001">Working with OCEAN-Based Tests</a>.</li><li>
<a id="pgfId-1047723"></a>Any existing <code>.cdsinit</code> variables set by the user (for example, the variables to set the simulation directory or the host run mode) are applicable to the debug environment.</li></ul></li><li>
<a id="pgfId-1047724"></a>Modify the setup for the data point as required and run simulations to debug the data point.</li><li>
<a id="pgfId-1043173"></a>(Optional) Choose <em>Session &#8211; Setup Back To Assembler</em> and click <em>Yes</em> in the message box that appears to bring the corrected setup back to the ADE Assembler view.<br />
<a id="pgfId-1044423"></a><div class="webflare-div-image">
<img width="654" height="138" src="images/asmSimulating-151.gif" /></div>
<a id="pgfId-1044425"></a>If you click <em>Yes</em>, ADE Assembler overwrites the active setup with the setup information in the history item for which you debugged the data point. For example, if you debug a data point in a history item named <code>Interactive.2</code>, ADE Assembler overwrites the active setup with the setup information in <code>Interactive.2</code>. Then, the changes in the debug environment setup are merged with the active setup as described below:<ul><li>
<a id="pgfId-1043558"></a>Changes in design variables, analyses and outputs for a test in the debug environment are merged with the setup for that test in the maestro view.</li><li>
<a id="pgfId-1043572"></a>Changes in scalar variables (global variables or device parameters with single value) in the debug environment overwrite the value of the corresponding global variables and device parameters in the maestro view.</li><li>
<a id="pgfId-1043807"></a>Changes in sweep variables (global variables or device parameters with sweep values) in the debug environment are appended to the sweep range for the corresponding global variables and design parameters in the maestro view. </li><li>
<a id="pgfId-1043579"></a>Changes in corner values in the debug environment result in a new corner being created in the maestro view. The new corner is enabled only for the test for which you debugged the data point.</li></ul><br />
<a id="pgfId-1043383"></a>For example, if you choose <em>Session &#8211; Setup Back To Assembler</em> after making the following changes in the debug environment, as shown in the figure:<ul><li>
<a id="pgfId-1044206"></a>Modified the value of the scalar variable <code>M6_fingers</code> from <code>1</code> to <code>3</code></li><li>
<a id="pgfId-1043284"></a>Modified the value of the sweep variable <code>M8_M6_fingers_ratio</code> from <code>3</code> to <code>4</code></li><li>
<a id="pgfId-1044047"></a>Modified the value of the <em>Temperature</em> variable for the corner to <code>120</code>The changes are merged into the active setup as described below:</li><li>
<a id="pgfId-1044255"></a>The value of the scalar global variable <code>M6_fingers</code> changes to <code>3</code>.<br /><ffi2-fig-frame-in-2 id="#id1044376">
<a id="pgfId-1044376"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="373" height="291" src="images/asmSimulating-152.gif" /></div></li><li>
<a id="pgfId-1044377"></a>The value <code>4</code> specified for the sweep global variable <code>M8_M6_fingers_ratio</code> is included in the sweep range for the variable. <br /><ffi2-fig-frame-in-2 id="#id1044322">
<a id="pgfId-1044322"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="669" height="410" src="images/asmSimulating-153.gif" /></div></li><li>
<a id="pgfId-1044295"></a>A new corner named <code>C0_2_3_0</code> which is enabled for test <code>myTest</code> for which you debugged the data point is created because of the change in the value of the <em>Temperature</em> variable for corner <code>C0_2</code> from <code>125</code> to <code>120</code> in the debug environment.<br /><ffi2-fig-frame-in-2 id="#id1044170">
<a id="pgfId-1044170"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="563" height="494" src="images/asmSimulating-154.gif" /></div></li></ul></li><li>
<a id="pgfId-1044080"></a>(Optional) Run simulation with the modified setup.</li></ol>
































































<h4><em>
<a id="pgfId-1056612"></a>Important Point to No<a id="confirmOverwriteDebugEnv"></a>te</em></h4>

<p>
<a id="pgfId-1056622"></a>It is important to note the following point while working in the debug environment:</p>
<ul><li>
<a id="pgfId-1056641"></a>If you try to open a debug environment for a point while this environment is already open for another point, the set up of the previous point is replaced with the new point. However, if a simulation is already running for the previous point, the following confirmation message is displayed.</li></ul>
<p>
<a id="pgfId-1056696"></a></p>

<div class="webflare-div-image">
<img src="images/msgOverDebugEnv.gif" /></div>

<p>
<a id="pgfId-1056697"></a>Click <em>No </em>to continue with the simulation already running. </p>
<p>
<a id="pgfId-1056766"></a>Click Yes to stop the simulation that is already running. The simulation running from the debug environment is stopped and the partial simulation results are plotted. In addition, the setup details of the new debug point overwrite the setup of the previous data point.</p>

<h2>
<a id="pgfId-1056700"></a><a id="91735"></a>Creating and Running an OCEAN <a id="OCEANscript"></a>Script</h2>

<p>
<a id="pgfId-1025262"></a>You can create and run an <h-hot><a actuate="user" class="URL" href="../oceanref/chap2.html#firstpage" show="replace" xml:link="simple">OCEAN</a></h-hot> script to run one or more tests over zero or more corner conditions. When you save an OCEAN script, the program saves setup information for all your tests, sweeps, corner conditions and Monte Carlo analyses.</p>
<p>
<a id="pgfId-1053847"></a>For more details, refer to the following sections:</p>
<ul><li>
<a id="pgfId-1053854"></a><a href="asmSimulating.html#17384">Creating an OCEAN Script</a></li><li>
<a id="pgfId-1058509"></a><a href="asmSimulating.html#32085">Modifying an OCEAN Script in ADE Assembler</a></li><li>
<a id="pgfId-1053868"></a><a href="asmSimulating.html#96603">Running an OCEAN Script</a></li><li>
<a id="pgfId-1053959"></a><a href="asmSimulating.html#34682">Running Parallel OCEAN XL Simulation Runs for a maestro View</a></li><li>
<a id="pgfId-1053986"></a><a href="asmSimulating.html#18545">Viewing Results of Simulations Run using OCEAN Scripts</a></li></ul>





<h3>
<a id="pgfId-1025280"></a><a id="17384"></a>Creating an OCEAN Script</h3>

<p>
<a id="pgfId-1053677"></a>You can create an OCEAN script in any of the following two ways:</p>
<ul><li>
<a id="pgfId-1053684"></a><a href="asmSimulating.html#21196">Saving the ADE Assembler Setup to an OCEAN Script</a></li><li>
<a id="pgfId-1053714"></a><a href="asmSimulating.html#22852">Scripting an OCEAN Script</a></li><li>
<a id="pgfId-1058435"></a><a href="asmSimulating.html#32611">Creating OCEAN Scripts with Netlist Specified as a Design</a></li></ul>



<h4>
<a id="pgfId-1053670"></a><a id="21196"></a>Saving the ADE Assembler Setup to an OCEAN Script</h4>

<p>
<a id="pgfId-1053694"></a>You can create a simulation setup in ADE Assembler user interface and save it as an OCEAN script. For this, after the simulation setup is complete, do the following:</p>
<ol><li>
<a id="pgfId-1025284"></a>In the main session window, choose <em>File &#8211; Save Script</em>.<br />
<a id="pgfId-1025299"></a>The Save <a id="marker-1025283"></a>OCEAN Script form appears.<br />
<a id="pgfId-1025289"></a><div class="webflare-div-image">
<img src="images/formSaveOCEANScript.gif" /></div></li><li>
<a id="pgfId-1025320"></a>In the <em>File Name</em> field, type a name and location for your OCEAN script file.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025338"></a>The default name and location is <code>./oceanScript.ocn</code>.</div></li><li>
<a id="pgfId-1025367"></a>Click <em>OK</em>.<br />
<a id="pgfId-1079600"></a>The program saves simulation setup to the specified OCEAN script file and shows the file in a text editor. <br />
<a id="pgfId-1079620"></a>By default, ADE Assembler opens the text editor set by using the <code>$EDITOR</code> shell variable in UNIX. You can specify a preferred text editor by using the <code>editor</code> SKILL variable.</li></ol>










<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1053763"></a>The setup information for non-ADE Assembler tests will not be saved in the OCEAN script.</div>

<h4>
<a id="pgfId-1053785"></a><a id="22852"></a>Scripting an OCEAN Script</h4>

<p>
<a id="pgfId-1053786"></a>You can use a text editor to create an OCEAN script by using OCEAN commands and save it in a <code>.ocn</code> file.</p>

<h4>
<a id="pgfId-1058417"></a><a id="32611"></a>Creating <a id="Netlist_based_ocean"></a>OCEAN Scripts with Netlist Specified as a Design</h4>

<p>
<a id="pgfId-1058418"></a>If you have an already generated netlist of a design, you can provide the path to that netlist file to the <a href="../oceanref/chap6.html#design">design</a> OCEAN command. By doing this, you can run a simulation without loading/ requiring the complete design hierarchy. Later, you can view the simulation results in ADE Assembler user interface. For more details, refer to <a href="asmSimulating.html#18545">Viewing Results of Simulations Run using OCEAN Scripts</a>.</p>

<h3>
<a id="pgfId-1058466"></a><a id="32085"></a>Modifying an OCEAN Script in ADE Assembler</h3>

<p>
<a id="pgfId-1089200"></a>To modify an OCEAN script, open it in a text editor, make the required modifications, and rerun simulations. </p>
<p class="webflare-indent1">
<a id="pgfId-1089191"></a>You can modify the setup using the ADE Assembler user interface (such as adding or modifying global variables or corners using the Data View assistant pane), or use the OCEAN Test Editor form to modify the setup.</p>
<p class="webflare-indent1">
<a id="pgfId-1058475"></a>To use the OCEAN Test Editor form, do the following:</p>
<ol><li style="list-style-type: none;background-image: none;"><ol><li>
<a id="pgfId-1058477"></a>Right-click a test name on the <em>Tests</em> tree in the Data tab of <a href="asmGettingStarted.html#assistantDataView">Data View</a> assistant pane and choose <em>Open Test Editor</em>.<br />
<a id="pgfId-1058478"></a>The OCEAN Test Editor form appears.<br /><ffi2-fig-frame-in-2 id="#id1058482">
<a id="pgfId-1058482"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/formOceanTestEditor.gif" /></div>
<a id="pgfId-1058483"></a>The OCEAN Test Editor form is a text editor that displays the OCEAN commands saved in a script. </li><li>
<a id="pgfId-1058484"></a>Change the simulation setup by modifying the OCEAN commands in the OCEAN Test Editor form.</li><li>
<a id="pgfId-1058485"></a>Click <em>OK</em> to save the changes in the setup.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1058486"></a>
When you modify the setup in the history item for the OCEAN run in ADE Assembler, the original OCEAN script that you used to run simulation from a UNIX shell will not be modified. Choose <em>File &#8211; Save Script</em> if you want to save the changes in the setup to a new OCEAN script file.</div></li></ol></li></ol>










<h3>
<a id="pgfId-1058458"></a><a id="96603"></a>Runnin<a id="run_ocean"></a>g an OCEAN Script</h3>

<p>
<a id="pgfId-1089165"></a>An OCEAN XL script can be created or saved for the ADE Assembler setup as described in the previous section. You can run the script from the command line and process the results as needed. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1131812"></a>An OCEAN script runs in the background and often on a different machine. Therefore, it is recommended not to use interactive commands, such as <code>plot</code>. </div>
<p>
<a id="pgfId-1089166"></a>To run simulations using OCEAN scripts, perform any one of the following steps:</p>
<ul><li>
<a id="pgfId-1053908"></a>In CIW, run the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1053909">
<a id="pgfId-1053909"></a>load(&quot;&lt;name-of-OCEAN-script-file&gt;&quot;)</pre></li><li>
<a id="pgfId-1053911"></a>In ADE Assembler user interface, load the set up from history of a previous OCEAN run and click <em>Run Simulation</em> <img src="images/iconRunSimulation.gif" />
 on the <a href="asmGettingStarted.html#11352">Run</a> toolbar to start the simulation. </li><li>
<a id="pgfId-1053918"></a>In a UNIX shell, type the following commands:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1053919">
<a id="pgfId-1053919"></a>ocean</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1053920">
<a id="pgfId-1053920"></a>load(&quot;&lt;name-of-OCEAN-script-file&gt;&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1089128">
<a id="pgfId-1089128"></a>OR</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1089148">
<a id="pgfId-1089148"></a>ocean -replay &lt;name-of-OCEAN-script-file&gt;</pre>
<a id="pgfId-1053922"></a>For information about running an OCEAN script from a UNIX shell, see the <em><a actuate="user" class="URL" href="../oceanref/oceanrefTOC.html" show="replace" xml:link="simple">OCEAN Reference</a></em>.</li></ul>








<p>
<a id="pgfId-1053923"></a>When you run a simulation using an OCEAN script, a history item named <code>Ocean.</code><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span> is created for the run. When finished, the results can be viewed in the ADE Assembler user interface.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1025432"></a>
While a cellview is opened in ADE Assembler, you cannot load and run an OCEAN script for the same cellview.</div>

<p>
<a id="pgfId-1025291"></a>When you <h-hot><a actuate="user" class="URL" href="../oceanref/chap2.html#firstpage" show="replace" xml:link="simple">run the script</a></h-hot>, the program reports the following information:</p>
<ul><li>
<a id="pgfId-1025583"></a>Sweep parameters and their values </li><li>
<a id="pgfId-1025587"></a>Number of tests, sweep points, and corners </li><li>
<a id="pgfId-1025559"></a>Points completed and job status information </li><li>
<a id="pgfId-1025570"></a>Results location to the output area of the CIW<br />
<a id="pgfId-1025591"></a>For example:<pre class="webflare-pre-block webflare-courier-new" id="#id1025443">
<a id="pgfId-1025443"></a>1/1 completed.
*Info*    The result of this OCEAN XL run are saved in &quot;Interactive.3&quot; in library &quot;rfExamples&quot;, cell &quot;ne600&quot;, view &quot;adexl&quot;.</pre>
<a id="pgfId-1025441"></a>The results location corresponds to the lib/cell/view specified in the <code>ocnxlTargetCell</code><a href="../ocnxl/ocnxlcommands.html#ocnxlTargetCellView"></a><code>View</code> call, such as<pre class="webflare-pre-block webflare-courier-new" id="#id1025489">
<a id="pgfId-1025489"></a>ocnxlTargetCellView( &quot;rfExamples&quot; &quot;ne600&quot; &quot;adexl&quot;)</pre></li></ul>







<p>
<a id="pgfId-1025374"></a>See <em>OCEAN XL Commands </em><h-hot><a actuate="user" class="URL" href="../ocnxl/ocnxlTOC.html#firstpage" show="replace" xml:link="simple"></a></h-hot><em>Reference</em> for information about OCEAN script commands for ADE Assembler.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1025644"></a>
You can run an OCEAN script using LSF, for example, by <a href="asmSimulating.html#commandGuidelines">submitting the job remotely</a> using the <code>bsub</code> command (for the LSF example) as follows:</div>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1025651"></a>bsub ocean -nograph <code><em>OCEANscriptFileName</em></code> </pre>
<p>
<a id="pgfId-1067649"></a>Also see: <h-hot><a actuate="user" class="URL" href="../anasimhelp/appA.html#includeSimLogInJobLog" show="replace" xml:link="simple">includeSimLogInJobLog</a></h-hot>, an environment that can be used to control the inclusion of the simulator output log in the OCEAN job log.</p>

<h3>
<a id="pgfId-1079878"></a><a id="34682"></a>Running P<a id="OCEAN_Parallel"></a>arallel OCEAN XL Simulation Runs for a maestro View</h3>

<p>
<a id="pgfId-1079879"></a>In OCEAN XL, you can simultaneously run multiple simulation runs for an maestro view. You can do this by executing multiple <h-hot><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlRun" show="replace" xml:link="simple">ocnxlRun</a></h-hot> functions in parallel from the same OCEAN XL script. The results of all the runs are saved in the results database of that maestro view.</p>
<p>
<a id="pgfId-1053593"></a>This section describes how to prepare setup and run parallel simulation runs in OCEAN XL.</p>

<h4>
<a id="pgfId-1053594"></a>Preparing Setup for Parallel Simulation Runs</h4>

<p>
<a id="pgfId-1054234"></a>You can enable the parallel run option for your OCEAN XL scripts in any of the following ways:</p>
<ul><li>
<a id="pgfId-1054255"></a>To enable the parallel run, before saving an OCEAN XL script from an maestro view, select the <em>Parallel</em> option in the <strong><a href="asmSimulating.html#formRunOptions">Run Options</a></strong> form.</li></ul>
<p>
<a id="pgfId-1054246"></a>See also:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1054170"></a><a href="asmSimulating.html#26332">Setting Up Run Options</a></li></ul></li></ul>


<h4>
<a id="pgfId-1054173"></a>Running Parallel Simulation Runs</h4>

<p>
<a id="pgfId-1053609"></a>In your OCEAN script, ensure that the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument of the <h-hot><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlRun" show="replace" xml:link="simple">ocnxlRun</a></h-hot> function is set to <code>nil</code>. </p>
<p>
<a id="pgfId-1053610"></a>For example, if you have saved an ADE Assembler state, <code>Ac_State1</code>, and want to run a simulation for it parallel to other runs in your OCEAN XL script, use the following commands:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1053611"></a>ocnxlLoadSetupState( &quot;AC_State1&quot; &#39;retain ?tests t ?vars t ?parameters t ?currentMode t ?runOptions t ?specs t ?corners t ?extensions t 
&#160;&#160;&#160;&#160;?modelGroups nil ?relxanalysis nil )<br />
runid1 = ocnxlRun(?waitUntilDone nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1053612"></a>ocnxlLoadSetupState( &quot;Tran_State2&quot; &#39;retain ?tests t ?vars t ?parameters t ?currentMode t 
&#160;&#160;&#160;&#160;?runOptions t ?specs t ?corners t ?extensions t 
&#160;&#160;&#160;&#160;?modelGroups nil ?relxanalysis nil )<br />
runid2 = ocnxlRun(?waitUntilDone nil)</pre>

<p>
<a id="pgfId-1053613"></a>When the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument is set to <code>nil</code>, OCEAN XL does not wait for the run to complete. Instead, while the run is in progress, it executes the next line in the script. In the example given above, OCEAN XL loads another state, <code>Tran_State2</code>, and starts a simulation for that without waiting for the first simulation run to finish.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1053614"></a>You need to set the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument for each OCEAN XL run that you want to run in parallel. By default, this argument is set to <code>t</code>.</div>
<p>
<a id="pgfId-1053615"></a>When you set the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument to <code>nil</code>, the ocnxlRun function also returns a run ID for each run. You can use this run ID later to either wait for that run to complete at a later stage or to access the history results of that run.</p>
<p>
<a id="pgfId-1053616"></a>For example, before printing results, if you want to wait for a particular OCEAN XL run to complete simulations, you can use the following statement in your script:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1053617"></a>(ocnxlWaitUntilDone rinid2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1053618"></a>(ocnxlOutputSummary ?forRun runid1 ?detailed nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1053619"></a>; The previous command displays run summary for the simulation run with run ID as runid1</pre>

<p>
<a id="pgfId-1053620"></a>After a run is complete, you can get access to its results by using its run ID, as shown in the following statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1053621"></a>h1 = ocnxlGetHistory(runid1)</pre>

<p>
<a id="pgfId-1053622"></a>You can use this handle to get results for the given OCEAN XL run.</p>
<p>
<a id="pgfId-1053623"></a>For details on the related OCEAN XL functions and their examples, refer to the following sections in the OCEAN Reference Guide:</p>
<ul><li>
<a id="pgfId-1053625"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlRun" show="replace" xml:link="simple">ocnxlRun</a></li><li>
<a id="pgfId-1053627"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlOutputSummary" show="replace" xml:link="simple">ocnxlOutputSummary</a></li><li>
<a id="pgfId-1053629"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlWaitUntilDone" show="replace" xml:link="simple">ocnxlWaitUntilDone</a></li><li>
<a id="pgfId-1053631"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlGetHistory" show="replace" xml:link="simple">ocnxlGetHistory</a></li><li>
<a id="pgfId-1054338"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlSetRunDistributeOptions" show="replace" xml:link="simple">ocnxlSetRunDistributeOptions</a></li><li>
<a id="pgfId-1054358"></a><a actuate="user" class="URL" href="../ocnxl/ocnxlcommands.html#ocnxlGetRunDistributeOptions" show="replace" xml:link="simple">ocnxlGetRunDistributeOptions</a></li></ul>






<h3>
<a id="pgfId-1053634"></a><a id="18545"></a>Viewing R<a id="view_ocean_results"></a>esults of Simulations Run using OCEAN Scripts</h3>

<p>
<a id="pgfId-1053635"></a>The results of simulations run from OCEAN scripts are saved in the results database of the maestro view. While the OCEAN XL simulations are in progress or after they are complete, you can view these results in the ADE Assembler user interface.</p>
<p>
<a id="pgfId-1053636"></a>To view the results for an OCEAN simulation run in the ADE Assembler user interface, do the following:</p>
<ul><li>
<a id="pgfId-1053638"></a>In the History tab of the <a href="asmGettingStarted.html#assistantDataView">Data View</a> assistant pane, right-click the history item for the OCEAN run and choose <em>View Results</em>.</li></ul>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1053639"></a>While the simulations are in progress, you need to close and reopen the results to view the updated data.</div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1053641"></a>
When you view the results of <a actuate="user" class="URL" href="../assembler/asmSimulating.html#Netlist_based_ocean" show="replace" xml:link="simple">simulations performed by specifying netlist as design</a>, you cannot use the schematic-based post processing options. For example, you cannot use the <code>VT</code> calculator function to select a net on schematic or you cannot use the <a actuate="user" class="URL" href="../assembler/asmViewingResults.html#directPlot" show="replace" xml:link="simple">direct plotting</a> feature. Therefore, when you right-click the data in the <em>Results</em> tab, some of the commands that require use of the schematic view are not enabled.</div>
<br /><a href="#pagetop">Return to top</a><br /></headingrunin></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="asmReliabilityAnalysis.html" id="prev" title="Performing Reliability Analysis">Performing Reliability Analysi ...</a></em></b><b><em><a href="asmDebugging.html" id="nex" title="Debugging with ADE Diagnostics">Debugging with ADE Diagnostics ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>