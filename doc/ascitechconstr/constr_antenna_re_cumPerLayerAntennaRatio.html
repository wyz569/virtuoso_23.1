
<html><head><title>cumPerLayerAntennaRatio</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="komal" />
<meta name="CreateDate" content="2023-10-23" />
<meta name="CreateTime" content="1698116159" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Defines the syntax of the statements required in a technology file and a display resource file to define the design constraints and rules and display attributes for design sessions" />
<meta name="DocTitle" content="Virtuoso Technology Data Constraints Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="cumPerLayerAntennaRatio" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="ascitechconstr" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-23" />
<meta name="ModifiedTime" content="1698116159" />
<meta name="NextFile" content="constr_antenna_re_diffWidthPlusFactor.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Cadence Shared Tools" />
<meta name="PrevFile" content="constr_antenna_re_antennaRatio.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Layout Suite,Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Layout Suite,Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Technology Data Constraints Reference -- cumPerLayerAntennaRatio" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Technology File Constraints" />
<meta name="prod_subfeature" content="Constraint Groups" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="ascitechconstrIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ascitechconstrTOC.html">Contents</a></li><li><a class="prev" href="constr_antenna_re_antennaRatio.html" title="antennaRatio">antennaRatio</a></li><li style="float: right;"><a class="viewPrint" href="ascitechconstr.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="constr_antenna_re_diffWidthPlusFactor.html" title="diffWidthPlusFactor">diffWidthPlusFactor</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Technology Data Constraints Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a name="Filename:re_cumPerLayerAntennaRatio" title="cumPerLayerAntennaRatio"></a><h3>
<a name="pgfId-2113648"></a><a name="50150"></a>cumPerLayerAntenn<a name="cumPerLayerAntennaRatio"></a>aRatio</h3>
<a name="pgfId-2113649"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
spacings(
( cumPerLayerAntennaRatio 
 <code><em>tx_layer
</em></code> &#39;OXIDE<code><em>n</em></code> 
 [&#39;isSide]
 [&#39;diffAreaRatio <code><em>g_table</em></code>]
 [&#39;areaFactor <code><em>f_areaFactor</em></code>]
 [&#39;diffuseOnly] 
 [[&#39;diffPlusFactor <code><em>f_diffPlusFactor</em></code>]
 | [&#39;gatePlusDiffPWL <code><em>g_gatePlusDiffTable</em></code>]
 ]
 [&#39;diffMinusFactor <code><em>f_diffMinusFactor</em></code>]
 [&#39;diffAreaReduceFactor <code><em>g_table</em></code>]
 [&#39;gatePWL <code><em>g_gatePWLTable</em></code>]
<code><em> </em></code>[&#39;cumRoutingPlusCut] 
<code><em> f_areaRatio
</em></code>)</pre>
<a name="pgfId-2113650"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
) ;spacings</pre>

<p>
<a name="pgfId-2113651"></a>Defines cumulative antenna ratios on a per-layer basis. This constraint adds all partial area ratios measured for each net in each layer below the specified layer and flags those that exceed the specified permissible ratios. Unique constraints can be specified for each of the 32 permissible OXIDE models. For detailed information about antenna model constraints, see <a href="constr_antenna_re_antennaModels.html#51365">antennaModels</a>.</p>
<p>
<a name="pgfId-2125892"></a>When <code>gatePWL</code> and either <code>diffPlusFactor</code> or <code>gatePlusDiffPWL</code> are specified, the gate area used to calculate <span class="webflare-courier-new" style="white-space:pre"><em>f_areaRatio</em></span> is determined using the following formula:<br /><code>gatePWL(gate) + plusDiffProtect(diff) </code></p>
<p>
<a name="pgfId-2125893"></a>Here:</p>
<ul><li>
<a name="pgfId-2125894"></a><code>gatePWL(gate)</code> indicates the gate area defined using <code>gatePWL</code>.</li><li>
<a name="pgfId-2125895"></a><code>plusDiffProtect(diff)</code> indicates the diffusion area that is added to the gate area value. <br />
<a name="pgfId-2125896"></a>If <code>diffPlusFactor</code> is specified, then:
<code>plusDiffProtect = plusDiffFactor * diffArea</code><br />
<a name="pgfId-2125897"></a>If <code>gatePlusDiffPWL</code> is specified, then:
<code>plusDiffProtect = interpolated PWL value indexed by diffArea</code></li></ul>





<h4>
<a name="pgfId-2115202"></a>Values</h4>
<table class="webflareTable" id="#id2115193">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115195"></a><span class="webflare-courier-new" style="white-space:pre"><em>tx_layer</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115197"></a>The metal layer to which the constraint applies.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115199"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_areaRatio</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115201"></a>The area ratio of the metal area to the connected gate area.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-2115257"></a>Parameters</h4>
<table class="webflareTable" id="#id2115377">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115205"></a><code>&#39;OXIDE</code><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115207"></a>Indicates the antenna model to which the constraint applies. It can be one of 32 values ranging from <code>OXIDE1</code> to <code>OXIDE32</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115209"></a><code>&#39;isSide</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115211"></a>By default, the antenna ratio specifies the ratio of the metal area to the gate area. If <code>isSide</code> is specified, it indicates that the ratio is measured from the metal side area as follows:</p>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-2115212"></a>(perimeter x thickness) / gate area</pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-2122289"></a><code>&#39;diffAreaRatio </code><span class="webflare-courier-new" style="white-space:pre"><em>g_table</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2122282"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2122284"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>g_table</em></span> row is in this format: </p>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-2122285"></a>( ((&quot;area&quot;) )<br />           ( <code><em>f_diffArea1</em></code> <code><em>f_metalToDiffAreaRatio1 </em></code>)<br />           ( <code><em>f_diffArea2</em></code> <code><em>f_metalToDiffAreaRatio2</em></code> ) &#8230;<br />           )</pre>
<p>
<a name="pgfId-2122286"></a>The index <span class="webflare-courier-new" style="white-space:pre"><em>f_diffArea</em></span> is the diffusion area, and the table value <span class="webflare-courier-new" style="white-space:pre"><em>f_metalToDiffAreaRatio</em></span> is the required metal area-to-diffusion area ratio. The table represents a piecewise linear model, in which the <code>diffAreaRatio</code> ratio is calculated using a linear interpolation of the diffusion areas.</p>
<p>
<a name="pgfId-2122287"></a>Type: A 1-D table indexed by a float value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-2115222"></a><code>&#39;areaFactor </code><span class="webflare-courier-new" style="white-space:pre"><em>f_areaFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115226"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115228"></a>Area ratios can be raised or lowered by the specified <span class="webflare-courier-new" style="white-space:pre"><em>f_areaFactor</em></span> value. When checking antenna rules, partial area ratios are calculated by multiplying the metal or gate ratio by <span class="webflare-courier-new" style="white-space:pre"><em>f_areaFactor</em></span>. These calculated ratios are stored on abstract pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115230"></a><code>&#39;diffuseOnly </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115232"></a>Indicates that the <span class="webflare-courier-new" style="white-space:pre"><em>f_areaFactor</em></span> value is applied only to partial area ratios for the metal attached to the diffusion.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-2125949"></a><code>[&#39;diffPlusFactor </code><span class="webflare-courier-new" style="white-space:pre"><em>f_diffPlusFactor</em></span><code>] <br />| [&#39;gatePlusDiffPWL</code> <span class="webflare-courier-new" style="white-space:pre"><em>g_gatePlusDiffTable</em></span><code>]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2125939"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2125941"></a>Indicates the diffusion area that is added to the gate area value. By default, the metal to gate ratio is measured. </p>
<p>
<a name="pgfId-2125942"></a>If a <span class="webflare-courier-new" style="white-space:pre"><em>f_diffPlusFactor</em></span> value is specified, the gate area used to calculate the ratio is adjusted by adding the value obtained by multiplying <span class="webflare-courier-new" style="white-space:pre"><em>f_diffPlusFactor</em></span> by <span class="webflare-courier-new" style="white-space:pre"><em>f_diffAreaRatio</em></span>.</p>
<p>
<a name="pgfId-2125943"></a>Instead, values can be specified separately for each oxide in the <span class="webflare-courier-new" style="white-space:pre"><em>g_gatePlusDiffTable</em></span> 1-D table. Each row in the table is in this format: </p>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-2125944"></a>( ((&quot;area&quot;) )<br />           ( <code><em>f_diffArea1</em></code> <code><em>f_plusDiffProtect1 </em></code>)<br />           ( <code><em>f_diffArea2</em></code> <code><em>f_plusDiffProtect2</em></code> ) &#8230;<br />           )</pre>
<p>
<a name="pgfId-2125945"></a>The index <span class="webflare-courier-new" style="white-space:pre"><em>f_diffArea</em></span> is the diffusion area, and the table value <span class="webflare-courier-new" style="white-space:pre"><em>f_plusDiffProtect</em></span> is the additional protection provided by the diffusion area to the gate area.</p>
<p>
<a name="pgfId-2125946"></a>For example:</p>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-2125947"></a>&#39;gatePlusDiffPWL ((( &quot;area&quot; ))<br /> (<br />    0.45 0.03<br />    1.1  0.1  )<br /> )<br />)</pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-2115242"></a><code>&#39;diffMinusFactor </code><span class="webflare-courier-new" style="white-space:pre"><em>f_diffMinusFactor</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115246"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115248"></a>By default, the metal or gate ratio is measured. If an <span class="webflare-courier-new" style="white-space:pre"><em>f_diffMinusFactor</em></span> value is specified, the metal area used to calculate the ratio is adjusted by subtracting the value obtained by multiplying <span class="webflare-courier-new" style="white-space:pre"><em>f_diffMinusFactor</em></span> by <span class="webflare-courier-new" style="white-space:pre"><em>f_diffAreaRatio</em></span>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-2122278"></a><code>&#39;diffAreaReduceFactor </code><span class="webflare-courier-new" style="white-space:pre"><em>g_table</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2122271"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2122273"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>g_table</em></span> row is in this format: </p>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-2122274"></a>( ((&quot;area&quot;) )<br />           ( <code><em>f_diffArea1</em></code> <code><em>f_diffAreaReduceFactor1 </em></code>)<br />           ( <code><em>f_diffArea2</em></code> <code><em>f_diffAreaReduceFactor2</em></code> ) &#8230;<br />           )</pre>
<p>
<a name="pgfId-2122276"></a>The index <span class="webflare-courier-new" style="white-space:pre"><em>f_diffArea</em></span> is the diffusion area, and the table value <span class="webflare-courier-new" style="white-space:pre"><em>f_diffAreaReduceFactor</em></span> is the factor used to adjust the diffusion area. The diffusion area used to calculate the ratio is adjusted by multiplying it by the <span class="webflare-courier-new" style="white-space:pre"><em>diffAreaReduceFactor</em></span> calculated from the table. The table represents a piecewise linear model, in which the required <code>diffAreaReduceFactor</code> value is calculated using a linear interpolation of the diffusion areas.</p>
<p>
<a name="pgfId-2122579"></a>Type: A 1-D table indexed by a float value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-2125962"></a><code>&#39;gatePWL</code> <span class="webflare-courier-new" style="white-space:pre"><em>g_gatePWLTable</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2125953"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2125955"></a>Specifies a PWL (piece-wise linear) table on the given antenna model that is indexed by the real gate area, and returns an effective gate area interpolated from the table. Each row in the table is in this format: </p>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-2125956"></a>( ((&quot;area&quot;) )<br />           ( <code><em>f_gateArea1</em></code> <code><em>f_effectiveGateArea1 </em></code>)<br />           ( <code><em>f_gateArea2</em></code> <code><em>f_effectiveGateArea2</em></code> ) &#8230;<br />           )</pre>
<p>
<a name="pgfId-2125957"></a>The index <span class="webflare-courier-new" style="white-space:pre"><em>f_gateArea</em></span> is the real gate area, and the table value <span class="webflare-courier-new" style="white-space:pre"><em>f_effectiveGateArea</em></span> is the effective gate area interpolated from the PWL table. </p>
<p>
<a name="pgfId-2125958"></a>For example:</p>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-2125959"></a>&#39;gatePlusDiffPWL ((( &quot;area&quot; ))<br /> (<br />    0.45 0.03<br />    1.1  0.1  )<br /> )<br />)</pre>
<p>
<a name="pgfId-2125960"></a>Type: A 1-D table indexed by a float value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115282"></a><code>&#39;cumRoutingPlusCut</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-2115284"></a>By default, this constraint includes the partial area ratios from the metal layer below. If <code>cumRoutingPlusCut</code> is specified, the cumulative antenna ratio of the cut layer immediately below is included for the cumulative antenna calculation for the specified layer.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-2113723"></a>Example</h4>

<p>
<a name="pgfId-2113724"></a>The cumulative antenna ratio for VIA1 is specified as follows.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-2122304"></a>spacings(
    ;OXIDE3 rules
      ( cumPerLayerAntennaRatio &quot;VIA1&quot; &#39;OXIDE3
&#160;&#160;&#160;&#160;   &#39;isSide <br />              &#160;&#160;&#160;&#160;   &#39;diffAreaRatio<br />                &#160;&#160;&#160;&#160;    ( ((&quot;area&quot;) )<br />                 &#160;&#160;&#160;&#160;     (<br />                  &#160;&#160;&#160;&#160;     0.0 100.0<br />                 &#160;&#160;&#160;&#160;     )<br />                &#160;&#160;&#160;&#160;    )<br />    &#39;areaFactor 0.4     <br />    &#39;diffuseOnly      <br />    &#39;diffPlusFactor 0.5    <br />    &#39;diffMinusFactor 0.6<br />    &#39;diffAreaReduceFactor <br />                &#160;&#160;&#160;&#160;    ( ((&quot;area&quot;) )<br />                 &#160;&#160;&#160;&#160;     (<br />                  &#160;&#160;&#160;&#160;     0.0 0.8<br />                 &#160;&#160;&#160;&#160;     )<br />                &#160;&#160;&#160;&#160;    )<br />    &#39;cumRoutingPlusCut<br />              &#160;&#160;&#160;&#160;   100.0<br />      )</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=diffWidthPlusFactor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="constr_antenna_re_antennaRatio.html" id="prev" title="antennaRatio">antennaRatio</a></em></b><b><em><a href="constr_antenna_re_diffWidthPlusFactor.html" id="nex" title="diffWidthPlusFactor">diffWidthPlusFactor</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>