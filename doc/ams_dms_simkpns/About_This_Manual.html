
<html><head><title>About This Manual</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2023-03-01" />
<meta name="CreateTime" content="1677668815" />
<meta name="DataType" content="KP&amp;S" />
<meta name="Description" content="Lists problems and solutions for the Virtuoso AMS Designer simulator." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Known Problems and Solutions" />
<meta name="DocType" content="Known Problems and Solutions" />
<meta name="FileTitle" content="About This Manual" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="" />
<meta name="spotlight_topic" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="ams_dms_simkpns" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-03-01" />
<meta name="ModifiedTime" content="1677668815" />
<meta name="NextFile" content="" />
<meta name="Group" content="Known Problems and Solutions" />
<meta name="Platform" content="Functional Verification," />
<meta name="PrevFile" content="ams_dms_simkpnsTOC.html" />
<meta name="c_product" content="Xcelium," />
<meta name="Product" content="Xcelium," />
<meta name="ProductFamily" content="Xcelium," />
<meta name="ProductVersion" content="22.09" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Known Problems and Solutions -- About This Manual" />
<meta name="Version" content="22.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimugKPNS2209" />
<meta name="confluence-version" content="7.4.1" />
<meta name="ecms-plugin-version" content="04.10.026" />
<script type="text/javascript" src="styles/shCore1.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shCore.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushCpp.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushJava.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushXml.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPython.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushPowerShell.js">/*<![CDATA[*//*]]>*/</script><link rel="stylesheet" href="styles/shCoreDefault.css" type="text/css" /><link rel="stylesheet" href="styles/shCoreMidnight.css" type="text/css" /><script type="text/javascript">/*<![CDATA[*/
SyntaxHighlighter.all();
/*]]>*/</script>
        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    document.querySelectorAll("img").forEach((img, index) => {
   img.addEventListener("click", (e) => { 
    document.querySelector("#cad_image_modal").classList.add("opac");
      document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0; margin: auto;max-height: 96%;max-width: 96%;" src="${e.target.src}">`;});});});
</script>

<style>
 img{cursor:pointer;
 }
 #cad_image_modal{
 position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;
 }
 #cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;
 }
 #cad_image_modal span{
  position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;
 }
 </style>

</head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="ams_dms_simkpnsTOC.html">Contents</a></li><li><a class="prev" href="ams_dms_simkpnsTOC.html" title="TOC">TOC</a></li><li style="float: right;"><a class="viewPrint" href="ams_dms_simkpns.pdf">View/Print PDF</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Known Problems and Solutions<br />Product Version 22.09, September 2022</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>About This Manual</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p>This Known Problems and Solutions document describes important change requests (CCRs) for the Spectre AMS Designer and Xcelium simulator with the mixed-signal option simulators. And, informs you how to solve or work around these problems.</p>

<p>Be aware that the CCR ID format has changed starting with this Xcelium release. Instead of reporting a purely numeric ID such as the following:</p>

<p><strong>CCR 494428: &lt;ccr_title&gt;</strong></p>

<p>New items use an AVSREQ ID as shown:</p>

<p><strong>CCR AVSREQ-114065: &lt;ccr_title&gt;</strong></p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The Planned Release information that is included for the CCRs listed in this document reflects the Cadence estimate, at the time of publishing, of when the resolution will be incorporated in the product. Communication of this Planned Release information is for informational purposes only and should not be considered a warranty of any kind. Cadence reserves the right to alter the planned release at any time without notice.</p>
</div>
</div>

<p>Updated Known Problems and Solutions documents are published at regular intervals. You can view on <a class="external-link" href="https://support.cadence.com" rel="nofollow">Cadence Online Support</a> the most up-to-date information about the status of their CCRs.</p>
<h2 id="AboutThisManual-Product:AMSD">Product: AMSD</h2>
<h3 id="AboutThisManual-ProductLevel2:AMSD">Product Level 2: AMSD</h3>

<p><strong>AVSREQ-110428 AMS test case with SV interface to Spice fails when using -ms_perf for multi-supply</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: Custom connect rules are not supported with SystemVerilog-AMS Connect modules (UDN to UDN IE)</p>
<p style="margin-left: 30.0px;">This AMS test case crashes when using -ms_perf switch and displays the following message:</p>
<p style="margin-left: 30.0px;"><code>
xmelab: *F,INTERR: INTERNAL EXCEPTION</code></p>
<p style="margin-left: 30.0px;"><strong>Solution</strong>: Currently, there is no workaround.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release</strong>: Not currently planned.</p>

<p><strong>CCR 02070704/2072065: SV-AMS connectmodules are not supported via VAMS connrules</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: Custom connect rules are not supported with SystemVerilog-AMS Connect modules (UDN to UDN IEs). The tool generates the following error when you specify custom connect rules with SV-AMS connect modules</p>
<pre style="margin-left: 30.0px;"><code>
xmelab: *E,CUCCSA (./crules.vams,14|6): SVAMS connect module &#39;EEnet_2_E&#39; is in user defined VAMS connect rule, which is not allowed.</code></pre><p style="margin-left: 30.0px;"><strong>Solution</strong>: Currently, there is no workaround. You must use the <code>-custom_udn_cr</code> option and the tool automatically creates the connect rules for the SV-AMS connect modules.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release</strong>: Not currently planned.</p>

<p><strong>CCR 02001471: Issue with &#39;packngo_agent&#39;</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: With <code>xrun -packngorec..</code> option, during <code>xmelab</code>, following errors are generated:</p>
<p style="margin-left: 30.0px;">However, the issue does not affect the feature functionality.</p>
<p style="margin-left: 30.0px;"><strong>Solution</strong>: None</p>
<p style="margin-left: 30.0px;"><strong>Planned Release</strong>: Not currently planned.</p>

<p><strong>CCR 1946797: Simulation fails when using Xcelium with Spectre17.1ISR6 and displays the message &quot;*E,SIGUSR: Unix Signal SIGILL raised&quot;</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: When running an AMS SystemC simulation with SPECTRE 17.1 ISR6 or above, and boost library version older than 1.56 is used in the user SystemC code, an error may be encountered. This issue may especially occur when <code>auto_ptr</code> is used.</p>
<p style="margin-left: 30.0px;"><strong>Solution</strong>: It is recommended to use boost library version 1.56 or above to run AMS SystemC simulations with SPECTRE 17.1 ISR6 or above.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release</strong>: Not currently planned.</p>

<p><strong>CCR 1702460: AMS simulation with skipdc=sigrampup gives incorrect outputs</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: The SST2 format waveform does not support minus values in the time axis.</p>
<p style="margin-left: 30.0px;"><strong>Solution</strong>: To work around this problem, do one of the following:</p>
<ul><li style="list-style-type: none;"><ul><li>Switch to the SST2/PSFXL unified format and add the following <code>xrun</code> argument in command-line mode:<br /><code>-amsformat psfxl_all</code></li><li>In ADE, select <em>Output</em>&gt;<em>Save All</em>&gt;<em>Output Format</em>&gt;<em>psfxl</em>.</li></ul></li></ul><p style="margin-left: 30.0px;"><strong>Planned Release</strong>: Not currently planned.</p>

<p><strong>CCR 1331095: Getting MMSIM tokens on multiple servers with a granularity of 1 token when queuing is enabled</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: If a simulation requires two or more MMSIM tokens that are available on different servers, AMS checks out the MMSIM tokens only from one server, locks the token(s), and waits for other tokens to be available on the same server for the simulation to run when the <code>-licqueue</code> option is turned on. For example, if a digital solver requires two MMSIM tokens and one MMSIM token is available on server 1 and the other is available on server 2 and the <code>-licqueue</code> option is turned on, AMS checks out the MMSIM token from server1 and even if the token is available in server2, it locks the token from server1 and waits for the token to be available on server1.</p>
<p style="margin-left: 30.0px;"><strong>Solution</strong>: To work around this problem, remove the <code>-licqueue</code> option to enable the feature in INCISIV 14.2.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release</strong>: This limitation will be removed in a future release.</p>

<p><strong>CCR 617209: Error loading mdl/libSpectreEH_sh.so in ibmrs/aix platform</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Spectre solver reports error as:</p>
<p style="margin-left: 30.0px;">============================&#160;&#160;</p>
<pre style="margin-left: 30.0px;"><code>
Error in opening shared object:      0509-022 Cannot load module<br />       /grid/avs/install/ius/8.2/08.20.001-p/tools.ibmrs/spectre/lib/mdl/libSpectreEH_sh.so.</code></pre><p style="margin-left: 30.0px;">============================</p>
<p style="margin-left: 30.0px;">This problem is noticed if both <code>LIBPATH</code> and <code>LD_LIBRARY_PATH</code> variables are set.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Do the following:<br /><code>%unsetenv LD_LIBRARY_PATH <br />%setenv LIBPATH &lt;ius_install_dir&gt;/tools/lib </code></p>
<p style="margin-left: 30.0px;">That solves the problem and the <em>mdl</em> library is loaded properly.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 560646: ncsim internal error and wrong ELF class message when running 64-bit AMS-Spectre on Solaris 10 x86_64</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>SOL86<strong> Version: </strong>10</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>On the Solaris 10 x86_64 platform, running the AMS Designer simulator with the Spectre solver, if you run the 64-bit version of <code>ncsim</code> by specifying the <span class="webflare-courier-new"><em>install_dir</em></span><code>/tools/bin/64bit</code> directory first in your path, <code>ncsim</code> terminates with an internal error: <code>ncsim: *F,INTERR: INTERNAL ERROR</code>.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>To work around this problem, do the following:</p>
<ol><li style="list-style-type: none;"><ol><li>Remove <span class="webflare-courier-new"><em>install_dir</em></span><code>/tools/bin/64bit</code> from your path.</li><li>Use the 32-bit version to run in 64-bit mode by using either the <code>-64bit</code> command-line option when you run the executable or by setting the <code>INCA_64BIT</code> environment variable.</li></ol></li></ol><p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 440028: ncelab cannot resolve hierarchical Verilog-A modules</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When you define a Verilog-A top module and Verilog-A submodules in the same file, only the top-level cell has a cellview (veriloga + symbol).</p>
<p style="margin-left: 30.0px;">For example, if the file <code>veriloga.va</code> contains:</p>
<p style="margin-left: 30.0px;"><code>
`include &quot;constants.vams&quot;</code><br /><code>`include &quot;disciplines.vams&quot;</code></p>
<p style="margin-left: 30.0px;"><code>
module top (qin, qout);</code><br /><code> input qin;</code><br /><code> output qout;</code><br /><code> electrical qin, qout;</code><br /><code> electrical aa1;</code></p>
<p style="margin-left: 30.0px;"><code>
 sub vd1 (qin, aa1);</code><br /><code> sub vd2 (aa1, qout);</code><br /><code>endmodule</code></p>
<p style="margin-left: 30.0px;"><code>
module sub (in, out);</code><br /><code> input in;</code><br /><code> output out;</code><br /><code> electrical in, out;</code></p>
<p style="margin-left: 30.0px;"><code>
 analog</code><br /><code>    V(out) &lt;+ 2.0 * V(in);</code><br /><code>endmodule</code></p>
<p style="margin-left: 30.0px;"><code>ncelab</code> fails with an error message such as the following:</p>
<p style="margin-left: 30.0px;"><code>ncelab: *E,CUCFUN: instance &#39;vd1&#39; of the unit &#39;sub&#39; is unresolved in &#39;hierVerilogA.hierarchical_mpa:veriloga&#39;.</code></p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>To work around the problem, do the following:&#160;</p>
<ol><li style="list-style-type: none;"><ol><li>Create a file containing the following statement, where the <code>ahdl_include</code> file contains the <code>veriloga.va</code> contents printed above.<br />
<p><code>&#160;ahdl_include .../veriloga_file.va</code></p>
</li><li>In the hierarchy editor (HED), right-click the cell and choose <em style="letter-spacing: 0.0px;">Set Cell View -&gt; Source File</em><span style="letter-spacing: 0.0px;">.</span></li><li>Use the <em>Browse</em> button on the form that appears to select the Verilog-A source file.</li><li>Click <em>OK</em>.</li></ol></li></ol><p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 305235: AMS Designer has a run-time dependency on ELF libs when run on SUSE Linux 9.0</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX<strong> Version: </strong>SLES9_64</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When it runs on a SUSE Linux 9.0 system, AMS Designer has a run-time dependency on a particular version of the ELF libs (<code>libelf.so.1</code>). The version of <code>libelf.so</code> in a typical SUSE Linux 9.0 installation differs from a typical Red Hat Linux installation. Due to this incompatibility in the versions of the ELF libs, some test cases fail to run on the SUSE Linux machine.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>When running on a SUSE Linux machine, add <span class="webflare-courier-new"><em>your_install_dir</em></span><code>/tools/lib/SuSE</code> to your <code>LD_LIBRARY_PATH</code>. For example:</p>
<pre style="margin-left: 30.0px;"><code>
setenv LD_LIBRARY_PATH $AMSHOME/tools/lib/SuSE:...</code></pre><p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 303934: AMS Designer does not support hierarchical node names</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>AMS Designer running with the Spectre solver cannot handle hierarchical node names. For example:</p>
<p style="margin-left: 30.0px;"><code>module top();</code><code>
 TB_amp_test uut ();<br /> Vsin_source Vin (top.uut.vin); \&lt;-- Cannot use hierarchical node name<br /> vsource #(.dc(5.0)) Vdd (cds_globals.\vdd! ,cds_globals.gnd );<br /> vsource #(.dc(-5.0)) Vss (cds_globals.\vss! ,cds_globals.gnd );</code><code>
endmodule</code></p>
<pre style="margin-left: 30.0px;"><code>
subckt Vsin_source (a)<br />V1 (a 0) vsource dc=1 mag=1 type=sine sinedc=0 ampl=50m freq=1M<br />ends Vsin_source</code></pre><p style="margin-left: 30.0px;">For this kind of usage, ncelab issues an error message such as the following:</p>
<p style="margin-left: 30.0px;"><code>Vsin_source Vin (top.uut.vin);<br />                            |<br />ncelab: *E,CUILDP (./top.v,6|28): defparam is not allowed on parameters of<br />analog primitives.</code></p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Do the following:</p>
<ol><li style="list-style-type: none;"><ol><li>In your <code>top.v</code> module, add code like this:<br /><code>&#160;`ifdef ams_mode<br />&#160;Vsin_source<br />&#160;Vin (cds_globals.net1);<br />&#160;`else
Vsin_source<br />&#160;Vin (top.uut.vin);<br />&#160;`endif</code></li><li>Add a declaration of <code>net1</code> in the <code>cds_globals</code> module.<br /><code>&#160;electrical net1;</code></li><li>Add a global statement in the SPICE netlist.<br /><code>&#160;.global net1</code></li><li>Add a <code>V0</code> vsource in the analog control file.<br /><code>&#160;simulator lang=spice</code><br /><code>&#160;V0 net1 top.uut.vin vsource dc=0</code></li><li>Add the <code style="letter-spacing: 0.0px;">-define ams_mode</code><span style="letter-spacing: 0.0px;"> option in the </span><code style="letter-spacing: 0.0px;">ncvlog</code><span style="letter-spacing: 0.0px;"> command.</span></li></ol></li></ol><p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 144885: Incomplete support for the digital variable in I/O statements</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When you use an I/O statement such as <code>$display</code>, <code>$write</code>, <code>$fdisplay</code>, or <code>$fwrite</code>, to print a digital variable that:</p>
<ul><li style="list-style-type: none;"><ul><li>contains bits of <code>X</code> or <code>Z</code>, and</li><li>is used in the analog block,</li></ul></li></ul><p style="margin-left: 30.0px;">the simulation fails. For example:</p>
<p style="margin-left: 30.0px;"><code>
module top;</code><br /><code>     wire control;</code><br /><code>     assign control = 1&#39;&#39;bz;</code></p>
<p style="margin-left: 30.0px;"><code>
     analog $display( &quot;control = %d\n&quot;, control );</code><br /><code>endmodule</code></p>
<p style="margin-left: 30.0px;">In this example, the simulation fails because the digital variable <code>control</code> contains bit <code>Z</code>.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Print the digital variable in the digital context.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 98772: SST2 interface error in restarting a snapshot when debugging analog HDL code</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When the following two conditions are true, restarting snapshot results in an SST2 interface error message:&#160;&#160;&#160;</p>
<ul><li style="list-style-type: none;"><ul><li>You are using an SST2 database opened either from within the analog simulation control file or by a TCL database or probe command, and</li><li>The simulation is being controlled from within the analog debugger.</li></ul></li></ul><p style="margin-left: 30.0px;"><strong>Solution: </strong>If the simulation is running within an analog interactive debug session or stopped at an analog breakpoint, use the <code>run -clean</code> command before restarting.</p>
<p style="margin-left: 30.0px;">Here is an example:</p>
<p style="margin-left: 30.0px;"><code>ncsim&gt;run [-phase|-next|-step]<br />ncsim&gt;run -clean<br />ncsim&gt;restart state1</code></p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 67622: AMS Designer does not support checklimit analysis</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The checklimit analysis, as supported by Spectre beginning with the 5.0.33 release is not supported by AMS Designer.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 43793: The run -timepoint command leaves a waveform gap between last 2 solutions</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The Tcl command <code>run -timepoint</code> runs to the next absolute time point, which might require processing by either the analog or digital solver. When that time point is processed by the analog solver, the <code>run -timepoint</code> command does not update the database used to display waveforms. As a result, the time displayed by the Tcl <code>time</code> command does not always agree with the final time shown for the waveform.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use the <code>run -clean</code> command to finish the processing for the time point and to write the results to the waveform database.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 31724: SST2 file created from analog control file does not keep index for analog bus</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>If your design contains an analog bus and the waveform is saved in the SST2 format by specifying the format (<code>rawfmt=sst2</code>) in an analog simulation control (<code>.scs</code>) file, the individual bits of the bus do not show a bit index.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Probe the analog bus from the Tcl prompt to see the correct waveform.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 13907: Auto-inserted connect modules not viewable in SimVision</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Currently auto-inserted connect modules cannot be stepped into or probed. You can access the values on both ports but nothing inside of the connect module.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>If you need visibility into connect module for debugging, manually insert the connect module into the design. Then, you have full use of the debug capabilities provided by Tcl commands and SimVision. After debugging your design, you can restore the automatically-inserted connect modules.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:AMSVF">Product Level 2: AMSVF</h3>

<p><strong>CCR 65445: Mixed-signal hierarchies beneath instance arrays are not supported</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>AMS Designer supports only pure digital hierarchies for instance arrays. As a result, the following limitations apply:</p>
<ul><li style="list-style-type: none;"><ul><li>If Verilog-AMS or VHDL-AMS content is found inside instance array hierarchies, an error is generated.</li><li>When an analog node is declared and connected to an instance array, an error is generated.</li><li>Dynamic parameter declarations inside hierarchies beneath instance arrays are not supported.</li><li>If connection modules are manually inserted as instance arrays, the elaborator generates an error.</li><li>Inherited connection attributes declared inside hierarchies beneath instance arrays are not supported.</li><li>Analog primitives cannot be instantiated as arrays.</li><li>If a wire attached to an instance array has an OOMR analog node declaration, the elaborator generates an error.</li></ul></li></ul><p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:DMS_ELAB">Product Level 2: DMS_ELAB</h3>

<p><strong>AVSREQ-115742 Elaboration crash with SystemC with -disres detailed by default in some cases</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Elaboration crashes sometimes when <code>-disres detailed</code> option is specified with AMS+SystemC designs.</p>
<p style="margin-left: 30.0px;"><strong>Solution:</strong> Add the <code>-dms_perf</code> option to resolve the crash with AMS-SystemC interactions in that discipline resolution mode.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-109778 xmelab: *F,INTERR:::: part-select of concatenation expression is passed to VHDL entity with &lt;+force_ms&gt;</strong></p>

<p><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>

<p><strong>Description</strong>: Tool crashes during elaboration when a design having part-select of concatenation expression is passed to VHDL entity using the <code>-force_ms</code> option.</p>

<p><strong>Solution</strong>: Currently there is no workaround. Specifying bit/part/ipart select of concatenation expression is not supported in mixed signal designs.</p>

<p><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:ANALOG_ELAB">Product Level 2: ANALOG_ELAB</h3>

<p><strong>CCR 910511: Parameter Expressions used in array declaration cause elaboration error</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX<strong> Version: </strong>4.0_X86_64</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The elaborator issues an error when you use parameter expressions instead of constant value inside array declaration. Below is a simple example where parameter <code>ANASWEN_MUX_WIDTH</code> is used in an expression in the array declaration of <code>ipt_anaswen_demux</code>.</p>
<pre style="margin-left: 30.0px;"><code>
parameter ANASWEN_MUX_WIDTH = 3; <br />output [(2**ANASWEN_MUX_WIDTH)-1:0] ipt_anaswen_demux;</code></pre><p style="margin-left: 30.0px;"><strong>Solution: </strong>To avoid the elaboration error, use const value inside array declaration. For example, to avoid the elaboration error in the above example, evaluate the parameter expression before the array declaration and assign the evaluated value in the array, as shown below.</p>
<pre style="margin-left: 30.0px;"><code>
parameter ANASWEN_MUX_WIDTH = 3; <br />Parameter BUS_WIDTH = (2**ANASWEN_MUX_WIDTH)-1; <br />output [BUS_WIDTH :0] ipt_anaswen_demux;</code></pre><p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 560104: ncelab internal error (Failed to open Spectre library) on Linux platforms</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX<strong> Version: </strong>4.0_X86_64</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong> If you are running the AMS Designer simulator on Linux using the three-step method (<code>ncvlog</code>, <code>ncelab</code>, <code>ncsim</code>), and you do not specify the <code>lib</code> directory correctly (and first) in the&#160;&#160;<code>LD_LIBRARY_PATH</code> variable, an error such as the following appears during elaboration:</p>
<p style="margin-left: 30.0px;"><code>ncelab: *N,SFEDPL: Deploying new SFE in analog engine.<br />ncelab: *F,INTERR: INTERNAL ERROR</code></p>
<p style="margin-left: 30.0px;">This problem does not occur if you are running <code>irun</code> or running the AMS Designer simulator from the AMS Designer environment.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Add the <code>tools/lib</code> location at the beginning of your <code>LD_LIBRARY_PATH</code> setting, before any other library locations. If you are using the 64-bit version of the software, add the <code>tools/lib/64bit</code> location first.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 396225: AMS Designer simulator does not support using an OOMR for passed_mfactor value</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The elaborator fails if you use an out-of-module reference (OOMR) as the value of <code>passed_mfactor</code>. For example, you cannot use a statement such as the following because <code>cds_globals.r</code> is an OOMR.<br /><code>
child #(.m(cds_globals.r)) (* integer passed_mfactor = &quot;m&quot;; *) c1();</code></p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Pass <code>passed_mfactor</code> values directly instead of using OOMRs.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 26067: Declaring global aliases makes ncelab fail</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When there are aliases defined in a design (which instantiates <code>cds_alias</code> from <code>basic</code>) the elaboration fails with a message like the following:<br /><code>ncelab: *E,DLPAKW: Attempt to write module basic.cds_alias:functional (SAM) &lt;0x00000001&gt; into a read-only library.Error found by spectre.</code></p>
<p style="margin-left: 30.0px;"><code>&#160;&#160;&#160;&#160;Error: Unable to instantiate master &quot;basic:cds_alias.functional&quot; as
&#160;&#160;&#160;&#160;     &quot;cds_globals.ams_alias_inst_1&quot;</code><br /><code>ncelab: *E,DLPAKW: Attempt to write module basic.cds_alias:functional (SDB)</code><br /><code>into a read-only library.</code><br /><code>ncelab: *F,SSIGF: Spectre Simulation Image generation failed!.</code></p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Set TMP directory in the <code>cds.lib</code> file and, in the command line, run <code>ncvlog</code> to compile <code>basic:cds_alias.functional</code> (<code>verilog.v</code>) into the TMP directory. For example, add the following lines to your <code>cds.lib</code> file:</p>
<p style="margin-left: 30.0px;"><code>DEFINE basic $CDSHOME/tools/dfII/etc/cdslib/basic<br />ASSIGN basic TMP ./basic_local</code></p>
<p style="margin-left: 30.0px;">Then run the <code>ncvlog</code> command as follows:</p>
<p style="margin-left: 30.0px;"><code>ncvlog -use5x -ams $CDSHOME/tools/dfII/etc/cdslib/basic/cds_alias/functional/verilog.v -work basic</code></p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 8473: Analog functions cannot call another function if it is forward declared</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>SUN4U ALL<strong> Version: </strong>NONE</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Analog user-defined functions fail elaboration if they call other analog functions that are not defined prior to their use (call).</p>
<p style="margin-left: 60.0px;">An example of this situation is:<br /><code>analog</code><br /><code>begin</code><br /><code>&#160;V(n2) &lt;+ maxVal(4.0, 5.0);</code><br /><code>end</code></p>
<p style="margin-left: 60.0px;"><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">analog function real maxVal;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;input n1, n2;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;real n1, n2;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;real g;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;begin<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160; g = (n1 &gt; n2) ? n1 : n2;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160; maxVal = add5(g);<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;end<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">endfunction</span></p>
<p style="margin-left: 60.0px;"><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">analog function real add5;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;input a;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;real a;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;begin<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160; add5 = a + 5;<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;end<br /></span><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">endfunction</span></p>
<p style="margin-left: 60.0px;">The above fragment fails during elaboration with the following error:</p>
<p style="margin-left: 60.0px;"><code>
            maxVal = add5(g);</code><br /><code>                            |</code><br /><code>ncelab: *E,SYERROR: Unknown user defined function</code></p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Ensure that analog user-defined functions are defined prior to their use in another analog function.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:Auto-IncrementalElaborationwithRNM">Product Level 2: Auto-Incremental Elaboration with RNM</h3>

<p><strong>CCR 02011260: Auto-MSIE partition file is generated even when the simulation has TYCMPAT elab error</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>In some scenarios, the tool performs auto-partitioning of designs and generates an invalid partition file, even when a TYCMPAT elab error is issued.</p>
<p style="margin-left: 30.0px;">This issue is related to part select of UDN array, which leads to mismatched size connection. This has been enabled in monolithic flow; however, not yet in the incremental elaboration flow.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None</p>
<p style="margin-left: 30.0px;"><strong>Planned Release</strong>: Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:CONNECT_MOD">Product Level 2: CONNECT_MOD</h3>

<p><strong>CCR 972832: Incorrect `timescale value causes unexpected &#39;x&#39; state on the logic side of the E2L connect module.</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX<strong> Version: </strong>RHEL5.0_64</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The <code>`timescale</code> value (1ns/100ps) is hardcoded in the E2L connect module. When you specify the tr/tf values as less than 12.5ps, an unexpected <code>x</code> state is added to the rising/falling edge of the logic side of E2L. The <code>x</code> state leads to wrong functions in the subsequent logic, and is hard to debug. The root cause of this condition is that the second precision <code>`timescale</code> value (100ps) exceeds eight times the specified <code>tr</code>/<code>tf</code> value, which does not conform to the algorithm in E2L conversion.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>To work around this issue, you can modify the E2L file and include it in the <code>irun</code> command to replace the built-in E2L file, or use the following <code>ncelab</code>/<code>irun</code> options:&#160;<span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">&#160;</span></p>
<ul><li style="list-style-type: none;"><ul><li><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">ncelab -timescale 1ns/10ps -OVERRIDE_Precision</span></li><li><span style="font-family: SFMono-Medium , &quot;SF Mono&quot; , &quot;Segoe UI Mono&quot; , &quot;Roboto Mono&quot; , &quot;Ubuntu Mono&quot; , Menlo , Courier , monospace;letter-spacing: 0.0px;">irun -timescale 1ns/10ps -OVERRIDE_Precision</span></li></ul></li></ul><p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:INTERACTIVE">Product Level 2: INTERACTIVE</h3>

<p><strong>CCR 1062751: Drivers for Wreal and/or SVDC Net Types cannot be traced</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The SimVision T<em>race Driver in side bar</em> feature erroneously reports <code>No Drivers Available</code> for WREAL and SVDC net types.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>As a workaround, use the Tcl <code>drivers</code> command to report the drivers for WREAL and/or SVDC net types.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 8130: Problems when evaluating integer analog array objects</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>NONE</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When evaluating the value of integer analog arrays, several formatting and valuation problems exist.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>To ensure that you see the correct and complete values of integer analog arrays, use the <code>%d</code> formatting option for these objects.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:NCELAB">Product Level 2: NCELAB</h3>

<p><strong>CCR 212139: Supply-sensitive connect module does not work with top digital test bench</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When you have a behavioral test bench driving an analog or SPICE block at the top level, automatically inserted connect modules (AICMs) used between the block and the test bench do not inherit the supply sensitivity value from the digital test bench.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Create a dummy top level and make sure the supply-sensitive AICMs are all one level below the top level.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 152870: AMS supply sensitivity attributes in IEEE 1364-2001 format are ignored</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>AMS Designer supply sensitivity attributes in IEEE 1364-2001 format are ignored by the simulation flow. Attributes in this form are unsupported.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use the IEEE 1364-1995 format to write AMS Designer supply sensitivity attributes.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 115386: Supply/ground sensitivity does not work in default discipline resolution mode</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The <code>ncelab</code> tool does not support supply and ground sensitivity attributes in the default discipline resolution mode. As a result, analog nodes are left floating (and grounded) leading to incorrect simulation results.</p>
<p style="margin-left: 30.0px;">The supply and ground sensitivity attributes <em>are</em> supported in the detailed discipline resolution mode.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use the <code>-detailed</code> discipline resolution option to the <code>ncelab</code> command instead of the <code>-default</code> option.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 68807: Error when more than two disciplines are used in a connectrule statement</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>If the connectrule statement includes three or more disciplines, the elaborator generates an error when you attempt to use the connectrule to resolve only two disciplines.</p>
<p style="margin-left: 30.0px;">For example, you have the connectrule:</p>
<pre style="margin-left: 30.0px;"><code>
connect electrical, magnetic, thermal resolveto magnetic;</code></pre><p style="margin-left: 30.0px;">and you have the following instantiation statements:</p>
<pre style="margin-left: 30.0px;"><code>
vams_a  aa1 (net1); // has electrical port<br />vams_b&#160;&#160;bb1 (net1); // has magnetic port</code></pre><p style="margin-left: 30.0px;">The elaborator generates an error if you try to resolve these two ports (an electrical one and a magnetic one) to magnetic, using a connectrule that includes three disciplines.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>To resolve ports that are of only two different disciplines, be sure that the connectrule to be used has only a pair of disciplines. For the example above, you can rewrite the connectrule as:</p>
<pre style="margin-left: 30.0px;"><code>
connect electrical, magnetic resolveto magnetic;</code></pre><p style="margin-left: 30.0px;">If you need to resolve ports of more than two different disciplines, you can continue to use a connectrule that includes more than two disciplines.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 19328: Hypotenuse function with param argument does not parse in AMS</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The hypotenuse function does not work in AMS Designer if at least one of the arguments is a parameter.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use the full equation, with the <code>sqrt</code> and <code>**2</code> functions.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:NCSIM">Product Level 2: NCSIM</h3>

<p><strong>CCR 1079842: Simvision does not display interface elements during live simulation</strong></p>
<p style="margin-left: 30.0px;"><strong>OS</strong>: ALL <strong>Version</strong>: ALL</p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: If you use the ncsim/irun <code>-gui</code> option or the ADE debugging mode, interface elements are not always displayed as marching waveforms during live simulation.</p>
<p style="margin-left: 30.0px;"><strong>Solution</strong>: You can verify the interface elements during post-processing.</p>

<p><strong>CCR 648450: AMS Designer does not support wreal array assignments</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>AMS Designer does not support wreal array assignments. For example,</p>
<p style="margin-left: 30.0px;"><code>
module mid(p,r);<br />&#160; output wreal r [1:0][1:0];<br />&#160; input  wreal p [1:0][1:0]; </code></p>
<p style="margin-left: 30.0px;"><code>&#160; assign r=p;<br />&#160; // The following is working fine:<br />&#160; //  assign r[0][0]=p[0][0];<br />&#160; //  assign r[0][1]=p[0][1];<br />&#160; //  assign r[1][0]=p[1][0];<br />&#160; //  assign r[1][1]=p[1][1]; </code></p>
<p style="margin-left: 30.0px;"><code>endmodule</code></p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Wreal array support is beyond the Verilog-AMS LRM requirement. Cadence extends the support of wreal array (among other extensions) to benefit wreal customers. In earlier releases, wreal array assignment was not supported, and the workaround was to assign bit by bit, that is, <code>wreal_a[1]=wreal_b[1]</code>, which was time-consuming if the array had a&#160;&#160;big dimension. In this release, you can perform wreal array assignment in a more convenient way through a predefined macro as follows:&#160;</p>
<ul><li style="list-style-type: none;"><ul><li>In the Verilog-AMS model file, define a macro with pre-compiler directive, as follows:<br /><pre class="webflare-pre-block webflare-courier-new">&#8216;define ASSIGN_ARRAY(a,b,c) genvar i; generate for (i=0;i&lt;c;i=i+1) assign a[i]=b[i];      
endgenerate </pre></li><li>Within the model, call the macro as follows: <br /><pre class="webflare-pre-block webflare-courier-new">&#8216;ASSIGN_ARRAY(myDes, myAssign, 5) </pre><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>Note: <code>myAssign</code> and <code>myDes</code> are 5-element arrays where <code>myDes</code>&lt;=<code>myAssign</code>. There is no &quot;;&quot; at the end of the line, since it just calls the macro.</p>
</div>
</div>
</li></ul></li></ul>
<p><strong>CCR 548909: digital signal cannot be plotted with simvision after ams simulation killed in SGE</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX<strong> Version: </strong>EE3.0</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>It occurs in a certain situation. The <code>ncsim</code> saves the digital waveform to database only when the memory is full. When the simulation is killed using SIGKILL(-9) in SGE AND the waveform memory is not full, the digital signal will not be saved properly.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>There is a SGE setting workaround for this problem:</p>
<p style="margin-left: 30.0px;">By default, the <code>qdel</code> command gives the SIGKILL(-9) signal, but you can change it to SIGTERM, which can terminate the simulator in a normal way using next method:</p>
<p style="margin-left: 30.0px;">Edit queue files in next directory:</p>
<p style="margin-left: 30.0px;"><code>
$SGE_ROOT/$SGE_CELL/spool/qmaster/cqueues/</code></p>
<p style="margin-left: 30.0px;">Before the change:</p>
<p style="margin-left: 30.0px;"><code>
terminate_method none</code></p>
<p style="margin-left: 30.0px;">After the change:</p>
<p style="margin-left: 30.0px;"><code>
terminate_method SIGTERM </code></p>
<p style="margin-left: 30.0px;">Re-invoke the SGE deamon and run the simulation from ADE selecting the queue you have changed. <code>qdel</code> the simulation now and the result waveform data is kept well and can be plotted without problem.</p>
<p style="margin-left: 30.0px;">You will get DP log inform as next:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&gt; -------------------------------------------- 
&gt; Job 658 (cmdLineRunDistrib) Complete 
&gt; User             = yanyan 
&gt; Queue            = cdsj139@cdsj139.Cadence.COM 
&gt;  Host             = cdsj139.Cadence.COM 
&gt;  Start Time       = 05/21/2008 07:20:06 
&gt;  End Time         = 05/21/2008 07:20:42 
&gt; User Time        = 00:00:30 
&gt;  System Time      = 00:00:03 
&gt;  Wallclock Time   = 00:00:36 
&gt;  CPU              = 00:00:33 
&gt;  Max vmem         = 333.016M 
&gt;  Exit Status      = 0 
&gt; ---------------------------------------------</pre>
</div>
</div>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 222957: Unprobed bits of analog bus also show non-empty waveforms in amsfastspice mode</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When you probe an individual bit of an analog bus, all the bits of that bus show up with non-empty waveforms. For example, you try to probe just bit <code>vd[1]</code> with the following commands,</p>
<pre style="margin-left: 30.0px;"><code>
probe -shm top.IdealDac.vd[1]<br />probe -shm -flow top.IdealDac.vd[1]</code></pre><p style="margin-left: 30.0px;">where <code>vd</code> is an 8-bit analog bus.</p>
<p style="margin-left: 30.0px;">After the simulation, you find that the SST2 waveform database for these Tcl commands contains waveforms for all the bits of the bus <code>vd</code>.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 93385: Mixed-case library name must be escaped when used in MAPN2D specification</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>If you want to use a <code>MAPN2D</code> specification for a VHDL-AMS nature defined in a library whose name is a mixed-case identifier, you must escape the library name in the <code>MAPN2D</code> specification.</p>
<p style="margin-left: 30.0px;">Example:</p>
<p style="margin-left: 30.0px;"><code>MAPN2D amsPLL.std_decls.electrical electrical   -- INCORRECT<br />MAPN2D \amsPLL\.std_decls.electrical electrical -- CORRECT</code></p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Always escape mixed-case library names that are used in <code>MAPN2D</code> specifications.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 7827: Tcl drivers command omits auto-inserted connect modules</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>NONE</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When the Tcl <code>drivers</code> command is applied to a mixed-net and an automatically-inserted connect module is driving that net in the design, the connect module is not included in the <code>drivers</code> command output listing.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>You can list all the connect modules in a particular scope of the design with the <code>scope</code> command (see <code>help</code>). In this way, you can determine if a problematic mixed-signal net has such a hidden driver.</p>
<p style="margin-left: 30.0px;">By editing your design, you can also replace automatically inserted connect modules with identical manually inserted connect modules. Then you have full use of the debug capabilities provided by Tcl commands and SimVision. After debugging your design, you can restore the automatically inserted connect modules.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:NCVHDL">Product Level 2: NCVHDL</h3>

<p><strong>CCR 40597: Restrictions to the simultaneous IF statement</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The <code>IF</code> statement must be balanced. Every <code>IF</code> statement must contain an <code>else</code> clause. Any free or interface quantity of mode out must be referenced in a simultaneous statement.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Support for the simultaneous <code>if</code> statement is limited so that the <code>else</code> clause, which according to the standard is optional, is required for the model to successfully pass the solvability balance check.</p>
<p style="margin-left: 30.0px;">Example:<br />The following code snippet while LRM compliant fails in the parser:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">FAILS:if (vd &gt; -5.0) use
q1 == 5.0;
elsif (vd &lt;= -5.0) use
q1 == 6.0;
end use;</pre>
</div>
</div>
<p style="margin-left: 30.0px;">It needs to be re-written like this to pass through:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">PASSES:if (vd &gt; -5.0) use
q1 == 5.0;
else
q1 == 6.0;
end use;</pre>
</div>
</div>
<p style="margin-left: 30.0px;">A modeling constraint is also placed such that the <code>If</code> statement has to be balanced. In other words, the number of simultaneous statements in the <code>if</code> and <code>else</code> blocks must be equal.</p>
<p style="margin-left: 30.0px;">For example:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">PASSES:if (vd &gt; 6.0) use
q1 == 6.0;
q2 == -6.0;
elsif (vd &gt; 0.0) use
q1 == vd;
q2 == -vd;
else
q1 == 0.0;
q2 == 0.0;
end use;
FAILS:if (vd &gt; 6.0) use
q1 == 6.0;
q2 == -6.0;
elsif (vd &gt; 0.0) use
q1 == vd;
q2 == -vd;
else
q1 == 0.0; -- this path has different number of expressions
end use;</pre>
</div>
</div>
<p style="margin-left: 30.0px;"><span style="letter-spacing: 0.0px;">A dependency check is also performed to ensure that any free or interface quantity of mode out is referenced in a simultaneous statement.</span></p>
<p style="margin-left: 30.0px;">Example (assume the quantities <code>q1</code>, <code>q2</code> and <code>q3</code> are not referenced in any other simultaneous statements outside the block below). This example passes the balance check but fails the dependency check.</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">FAILS_2:if condition_1 use
if condition_2 use
q1 == 0.0;
else
q1 == 1.0;
end use;
q2 == 2.0; --q3 is not referenced in the design.
else
q1 == 3.0;
q3 == 4.0; --q2 is not referenced in the design.
end use;
PASSES:if condition_1 use
if condition_2 use
q1 == 0.0;
else
q1 == 1.0;
end use;
q2 == 2.0;
q3 == 5.0;
else
q1 == 3.0;
q2 == 5.0;
q3 == 6.0;
end use;</pre>
</div>
</div>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:NCVLOG">Product Level 2: NCVLOG</h3>

<p><strong>CCR 73352: Digital signals not detected in @cross expression</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Using digital signals in the <code>@cross</code> expression can slow down simulation because, effectively, the digital signal does not cross the 0.0 threshold. Although the <em>Language Reference Manual</em> does not declare this usage to be illegal, Cadence recommends that you avoid using digital signals in this way.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use digital events such as <code>@posedge</code>, <code>@negedge</code>, or just <code>@</code>, to detect changes in digital signals. These events are supported in the analog context.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 144136: Inherited connections that resolve to implicit nets cause an elaboration error</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>An inherited connection that resolves to an implicit net causes a <code>CUVHNF</code> error during elaboration.</p>
<p style="margin-left: 30.0px;">During inherited connection processing, the elaborator searches in the parent hierarchy for the target net. Because the net is implicit, it is not found. As a result, the elaborator is unable to establish the connection and issues an error.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Explicitly declare all nets that are used as inherited connections. One way to do this is to declare the target inherited connection as a wire within the parent hierarchy.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:OUTPUT">Product Level 2: OUTPUT</h3>

<p><strong>CCR 938845: Analog signals or vectors are not saved by default in the AIUM flow</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>In AMS-Spectre or AMS-APS, when you save or probe analog signals or vectors using the AIUM flow (Verilog-Spice or VHDL-Spice), these vectors are not saved.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>You can work around this problem by using the following two methods:&#160;</p>
<ol><li style="list-style-type: none;"><ol><li>Add <code>save=selected</code> to the <code>tran</code> command card or statement, as follows: <br />Spice format: <code>.tran 1ns 10ns save=selected .probe v(*) depth=3</code> <br />Spectre format: <code>simulator lang=spectre tran1 tran stop=10ns save * depth=3</code></li><li>Use the Spectre option <code>save=selected</code>, as follows: <br /><code>simulator lang=spectre myopt options  save=selected</code></li></ol></li></ol><p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 898494: Run multiple simulations from the same directory</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>When you run multiple simulations on the same case from the same directory, the following two important options are used:<code>&#160;</code></p>
<ul><li style="list-style-type: none;"><ul><li><strong><code>-nclibdirname</code></strong>: All intermediate outputs for digital and mixed-signal (The generic irun <code>INCA_lib</code> output, AIUM internal material, like skeleton, portmap file, and so on.)</li><li><strong><code>-outdir</code></strong>: All analog solver outputs.</li></ul></li></ul><p style="margin-left: 30.0px;">However, the location of the final waveform database is determined by the <code>database -into</code> command in Tcl file, and not the <code>-outdir</code> command.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>To work around this problem, set the waveform location in the <code>database -into</code> command in TCL file the same as the value of the irun option of the <code>-outdir</code> command.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 8002: Long term: port probe problem in hierarchy</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>NONE</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Port probes do not consider current contributions of instantiated components inside of a hierarchical design. As a result, the accumulated value of a port probe does not reflect the complete current through the port.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Manually (explicitly) create a port probe in the module by introducing an internal node. The internal node should be connected to the port using a zero-volts source. All references to the port in the module should be replaced by a reference to the internal node. Then the port probe can be created by probing between the port and the internal node.</p>
<p style="margin-left: 30.0px;">For example, rewrite;</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">module test(a,b);
inout a,b;
electrical a,b, gnd;
ground gnd;
real r1, r2;

resistor #(.r(10)) R3 (a, gnd);

analog begin
 &#160;&#160;&#160;&#160;r1 = I(&lt;a&gt;);
 &#160;&#160;&#160;&#160;I(a,b) &lt;+ V(a,b)/10;
 &#160;&#160;&#160;&#160;I(b,gnd) &lt;+ V(b,gnd)/10;
 &#160;&#160;&#160;&#160;$display(&quot; I(&lt;a&gt;) = %g \n&quot;, r1);
end

endmodule</pre>
</div>
</div>
<p style="margin-left: 30.0px;"><code>
</code></p>
<p style="margin-left: 30.0px;">as:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">module test(a,b);
inout a,b;
electrical a,b, gnd;
ground gnd;
real r1, r2;

electrical a2;
resistor #(.r(10)) R3 (a2, gnd);

analog begin
&#160;&#160;&#160;&#160;V(a,a2) &lt;+ 0;
&#160;&#160;&#160;&#160;r1 = I(a,a2);
&#160;&#160;&#160;&#160;I(a2,b) &lt;+ V(a2,b)/10;
&#160;&#160;&#160;&#160;I(b,gnd) &lt;+ V(b,gnd)/10;
&#160;&#160;&#160;&#160;$display(&quot; I(&lt;a&gt;) = %g \n&quot;, r1);
end
endmodule</pre>
</div>
</div>
<p style="margin-left: 60.0px;"><code>
</code></p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:SAVE-RESTART">Product Level 2: SAVE-RESTART</h3>

<p><strong>CCR 1071048: The SystemC-AMS SaveRestart feature does not work on SLES11</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX <strong>Version: SLES11_64</strong></p>
<p style="margin-left: 30.0px;"><strong>Description</strong>: If you try to perform save &amp; restart on a SystemC-AMS design that uses both SystemC and AMS languages on SLES11, AMS may crash when restarting the simulation.</p>
<p style="margin-left: 30.0px;">Solution: Use this feature only on platforms other than SLES11.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:SIMVISIONMS">Product Level 2: SIMVISIONMS</h3>

<p><strong>AVSREQ-138349: No highlight on port that is also a conversion point</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> A ports that are also a conversion point is not highlighted in the Browse Currents sidebar.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-133883: No conversion point annotation on the low power mixed-signal boundary where ISO is inserted</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Low power circuitry is constructed during elaboration based on the UPF/CPF specification. For the case where the connectivity of this circuit is a mixed net and this net connects to a low power isolation elements, connections to these isolation elements will not be present the mixed-net database.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-133431: Incorrect connections in SimVision for electrical signal connected to EEnet/UDN multi-field signals</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Incorrect connections may be shown in SimVision Schematic Tracer in cases where the top electrical bus connects to lower level EEnet signals.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-131964: No conversion point annotation in SPICE_on_Top case connections</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> For SPICE-on-Top configurations, wrappers are automatically created to establish connectivity of the design. If this connectivity is a mixed net, the extraction of the mixed-net data may be incomplete. This would be notable in missing hierarchical connections and Prim connections for that mixed net.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-131050: No conversion point annotation on inherited connections</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> The conversion points on the inherited connection do not get annotated on the schematic.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-126977: SimVision Schematic Tracer shows only one highlighted conversion point during IE optimization for SPICE-logic-SPICE scenario</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> When an IE is highlighted in the Mixed Net Browser and the net is a B2B net, where it is electrical-logic-electrical scenario and IE optimization replaced the E2L+L2E by a bidirectional pin, then the bidirectional pin is displayed only in one of the ports.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-125128: NON-SIE mode is not supported</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Hierarchical connections are not listed in the <code>mxnet.dump</code> file for E2L connect module connections to wire with non-AMS-SIE mode connect modules.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong><code>-amsie</code> is the default simulation option. When using a non-SIE mode, remove the <code>-disable_amssie</code> option.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>AVSREQ-123900: No conversion point annotation of VHDL module</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Mixed Net abstraction is rooted in Verilog/Verilog-AMS scope where AICM instances are inserted. Connections from a Mixed Net to VHDL/VHDL-AMS are not considered during mixed net abstraction. These boundaries are not part of the mixed net database.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2333834: Contents of DSPF do not show when schematic is replaced with DSPF</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Cell defined in <code>netlist.vams</code> gets replaced with the cell defined in the DSPF file by <code>dspf_include</code>.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2333017: &quot;inv&quot; keyword is mapped to a symbol in Schematic Tracer, but other names are not</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> A cell named &quot;inv&quot; will map to an inverter symbol, but &quot;inv_2V&quot; does not, even if it is put in the mapping file.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2325496: Post-layout analog circuit is not supported in Schematic Tracer</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Post-layout analog circuit from a DSPF file or extracted view is not supported well as large number of parasitic devices may cause performance issues. Meanwhile, large number of R/C will be difficult to view in Schematic Tracer.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2311979: Check-point based save/restart is not supported</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Save and restart based on check-point is not supported with SimVision MS.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use process-based save/restart, add the <code>-process_save</code> option in xrun.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2257182: Encrypted modules do not show connectivity and do not open in Source Browser</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> In Schematic Tracer, encrypted modules are drawn as a block without connectivity. Source files of such modules will not open in Source Browser.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2198299: Verilog-AMS use model and behavior in SimVision MS</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Verilog-AMS from <code>ahdl_include</code> is not supported in SimVision MS.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2195179: Source Browser viewing issues with MTS subcircuit</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> A scoped subcircuit definition may not be correctly identified in a MTS application.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 2195168: analogLib mutual inductor cannot be plotted in Schematic Tracer</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Mutual inductor in the GUI is a symbol that indicates the relation between two inductors. Currently, in SimVision MS, there is no mechanism to have a device, such as a mutual inductor, that represents relationship rather than connection.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:SPECTRE">Product Level 2: SPECTRE</h3>

<p><strong>CCR 1072379: Linter message tags do not work on ibmrs platform</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>AIX<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>AMS checks for static and dynamic linter issues when the -<code>spectre_args</code> <code>-ahdllint</code> option is used. When issues are encountered, linter gives the warning as below.</p>
<p style="margin-left: 30.0px;"><code>WARNING (AHDLLINT-5008): &quot;test.va&quot;, line 139: Detected discrete expression on the right side of a contribution statement. It is recommended that you apply the transition function on discrete values by specifying the transition rise and fall time when the logic or discrete expression value changes. </code></p>
<p style="margin-left: 30.0px;">In the ibmrs platform, the warning is stil issued but the reference tag is missing as below:</p>
<p style="margin-left: 30.0px;"><code>&quot;test.va&quot;, line 139: Detected discrete expression on the right side of a con&#160;&#160;tribution statement. It is recommended that you apply the transition function on&#160;&#160;discrete values by specifying the transition rise and fall time when the logic&#160;&#160;or discrete expression value changes. </code></p>
<p style="margin-left: 30.0px;">This may hinder extracting further info about the warning using ahdlhelp or to track the issue when <code>-ahdllint=error</code> is used.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use non-ibmrs platforms.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 870372: tclspice probing does not work in ibmrs platform</strong></p>
<p style="margin-left: 30.0px;"><strong>OS:</strong> ALL <strong>Version:</strong> ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> The tclspice probing feature is not turned on in the AIX platform.</p>
<p style="margin-left: 30.0px;"><strong>Solution:</strong> Use other platforms for this feature.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release:</strong> Not currently planned.</p>

<p><strong>CCR 836468: Multithreading not enabled in AMS Designer on AIX platform</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description:</strong> Starting with MMSIM10.1, multithreading is enabled with the Spectre and APS solvers on AIX platform. However, multithreading remains disabled in AMS Designer with Spectre or APS solver on AIX platform.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 523791: Default minimum time step for the analog solver causes AMS-Spectre to hang</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>In very rare customer test cases, the AMS Designer simulator with the Spectre solver hangs when using the default minimum time step of the Spectre analog solver. While the default minimum time step of the analog solver typically yields accurate results, the default minimum time step can lead to a quantity blow-up or convergence issue for some designs that feature digital-to-analog events such as Verilog-AMS <code>logic</code>-to-<code>electrical</code> conversions or VHDL-AMS <code>break</code> statements. On occasion, the simulation might just hang.</p>
<p style="margin-left: 30.0px;">For example, consider a typical VHDL-AMS design that has a stop time of 1.2 ms, a liberal mode maxstep of 120 us, and 16 time steps during simulation without <code>break</code> statements. If you add <code>break</code> statements, the simulation has 28 time steps, which amounts to a minimum time step that is 12 orders of magnitude less than the previous setup without the <code>break</code> statements. In this way, the simulation time can increase significantly.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>Use the <code>d2aminstep</code> option on the <code>tran</code> statement to define a different minimum time step for the Spectre analog solver. For example, the following statement (in an analog control file) demonstrates how you might define a <code>d2aminstep</code> (minimum time step) of 1e-12 for AMS-Spectre simulation of a 1Ghz design:</p>
<p style="margin-left: 30.0px;"><code>amsAnalysis tran stop=100u d2aminstep=1e-12</code></p>
<p style="margin-left: 30.0px;">Usually a larger <code>d2aminstep</code> value can speed up the simulation as well as prevent the simulator from hanging. It can also prevent non convergence during tran analysis. However, it must not be too large to cause missing signal transition. Tune the option to make sure there is no <code>d2aminstep</code> warning message in the simulation log.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 446913: Wrong analog/digital signal transitions during transient analysis using skipdc</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>LINUX<strong> Version: </strong>RHEL4.0_32</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Using the AMS Designer simulator with the Spectre solver, you should not set the <code>skipdc</code> transient analysis option to anything other than <code>no</code> as doing so can result in incorrect analog-to-digital signal transitions. The default value for the <code>skipdc</code> option is <code>no</code>. (You set transient analysis options using the <code>tran</code> statement in your analog simulation control file.) &lt;no&gt;If you used this option, a warning message appears in your simulation log file and you can search for the <code>AMSD</code> keyword to find the message.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 8448: @final_step does not always run</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>NONE</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>In the following simulation termination scenarios, <code>@final_step</code> does not run and the last analog solution is not always written to the database.&#160;</p>
<ul><li style="list-style-type: none;"><ul><li>The digital solver encounters <code>$finish()</code> in behavioral code.</li><li>The analog solver is interactive (Tcl prompt) at some behavioral statement when the Tcl <code>finish</code> command is issued.</li><li>The digital solver is interactive at some behavioral statement when the Tcl <code>finish</code> command is issued.</li><li>The analog solver is interactive at a time advance when the Tcl <code>finish</code> command is issued.</li><li>The digital solver is interactive at a time advance when the Tcl <code>finish</code> command is issued.</li></ul></li></ul><p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>
<h3 id="AboutThisManual-ProductLevel2:VHDL_AMS">Product Level 2: VHDL_AMS</h3>

<p><strong>CCR 43803: Simultaneous case statement implementation constraints</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The <code>case</code> statement must be balanced, so that the number of simultaneous statements in each case of the statement is the same. The simultaneous <code>case</code> statement must also pass the dependency check.</p>
<p style="margin-left: 30.0px;">For information about the dependency check, refer to the entry for CCR 40597 (&quot;Restrictions to the simultaneous IF statement&quot;) in this document.</p>
<p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 30746: Expressions and implicit quantities cannot be actuals in quantity port map</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>Only the following types of quantities can be used as actuals in a component port map (having quantity ports): across quantities, through quantities, and free quantities. This restriction means that you cannot use the following types of quantities in a quantity port map:&#160;</p>
<ul><li style="list-style-type: none;"><ul><li>Implicit quantities (quantity valued attributes such as <code>S&#39;&#39;RAMP</code> or <code>Q&#39;&#39;DOT</code>). As a result, statements like the following are not supported. <br /><p class="webflare-pre-block webflare-courier-new"><code>i1: TEST_ENT1 PORT MAP(s3&#39;&#39;RAMP(1.0/10.0, 1.0/20.0));</code></p>
</li><li>Expressions (like 2.0, 1.5 * q3 where q3 is a quantity reference). As a result, statements like the following are not supported. <br /><p class="webflare-pre-block webflare-courier-new"><code>i1: TEST_ENT1 PORT MAP(2.0 * q3);</code></p>
</li></ul></li></ul><p style="margin-left: 30.0px;"><strong>Solution: </strong>Declare an additional free quantity and assign it to the unsupported type (the implicit quantity or expression) using a simple simultaneous statement. Use this new quantity in the quantity port map. For example, the unsupported statement</p>
<p style="margin-left: 30.0px;"><code>
i1: TEST_ENT1 PORT MAP(s3&#39;&#39;RAMP(1.0/10.0, 1.0/20.0));</code></p>
<p style="margin-left: 30.0px;">can be recoded as</p>
<p style="margin-left: 30.0px;"><code>
quantity q4 : real;</code><br /><code>q4 == s3&#39;&#39;RAMP(1.0/10.0, 1.0/20.0);</code><br /><code>i1: TEST_ENT1 PORT MAP(q4);</code></p>
<p style="margin-left: 30.0px;">Similarly, the unsupported statement</p>
<p style="margin-left: 30.0px;"><code>
i1: TEST_ENT1 PORT MAP(2.0 * q3);</code></p>
<p style="margin-left: 30.0px;">can be recoded as</p>
<p style="margin-left: 30.0px;"><code>
quantity q4 : real;</code><br /><code>q4 == 2.0 * q3;</code><br /><code>i1: TEST_ENT1 PORT MAP(q4);</code></p>
<p style="margin-left: 30.0px;">Be aware that quantity initialization is unsupported. This means that if you replace an expression with a free quantity, the free quantity might not initially have the same value as the expression it replaces.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

<p><strong>CCR 29392: Incorrect initialization of Q&#39;&#39;ABOVE(E) signal</strong></p>
<p style="margin-left: 30.0px;"><strong>OS: </strong>ALL<strong> Version: </strong>ALL</p>
<p style="margin-left: 30.0px;"><strong>Description: </strong>The implicit signal <code>Q&#39;ABOVE(E)</code> is incorrectly initialized to <code>FALSE</code> even when the quantity <code>Q</code> is assigned an initial value greater than the value of the expression <code>E</code>. Depending on how the implicit signal is used in the design, the incorrect initialization might or might not impact the simulation result.</p>
<p style="margin-left: 30.0px;">Shown below are two examples. In the first, there is no impact on the simulation result; in the second, there is an impact.&#160;</p>
<ol><li style="list-style-type: none;"><ol><li>In this example, <code>q&#39;&#39;above</code> is used in the analog context. <br /><pre class="webflare-pre-block webflare-courier-new">architecture TEST_ARCH of TEST_ENT is
    quantity q1 : real := 10.0;
    quantity q2 : real;
begin
    q1 == 1.0;
    if (q1&#39;&#39;ABOVE(0.5)) use
        q2 == 1.0;
    else
        q2 == 2.0;
    end use;
end architecture TEST_ARCH;</pre>In the above example, the initial guess for <code>q1</code> is 10.0 and the DC value is 1.0. The <code>q1&#39;&#39;ABOVE(0.5)</code> is incorrectly initialized to <code>FALSE</code> but at DC it identifies the value to be <code>TRUE</code> (because <code>q1</code> is now 1.0) and correctly chooses the equation <code>q2 == 1.0</code>. <br />So, in this example, the incorrect initial value of <code>q1&#39;&#39;above(0.5)</code> has no impact on the simulation result.</li><li>In the next example, the incorrect <code>q1&#39;&#39;above(0.5)</code> initialization causes unexpected behavior. In this architecture, <code>q&#39;&#39;above</code> is used in the digital context in the sensitivity clause of the <code>process</code> statement. <br /><pre class="webflare-pre-block webflare-courier-new">architecture TEST_ARCH of TEST_ENT is
    quantity q1 : real := 1.0;
    begin
       q1 == 1.0;
       process(q1&#39;&#39;above(0.5))
         begin
            report &quot;When working correctly should print exactly once. &quot; &amp;
                   &quot;Currently q1&#39;&#39;above(0.5) (=&quot; &amp;
                   Boolean&#39;&#39;IMAGE(q1&#39;&#39;above(0.5)) &amp;
                   &quot;) is true.&quot;;
            report &quot; &quot;;
       end process;
end architecture TEST_ARCH;</pre>In the above example, <code>q1&#39;&#39;above(0.5)</code> is incorrectly initialized to <code>FALSE</code>. So, during the first digital run, the report statement is executed and reports the value of <code>q1&#39;&#39;above(0.5</code>) to be <code>FALSE</code>. However, during DC computation, <code>q1</code> is set to 1.0, thereby switching the value of <code>q1&#39;&#39;above(0.5)</code> from <code>FALSE</code> to <code>TRUE</code>. <br />This causes the <code>process</code> statement to be executed one additional time. The incorrect <code>q1&#39;&#39;above(0.5)</code> initialization causes the process block to be executed twice when only one execution is expected.</li></ol></li></ol><p style="margin-left: 30.0px;"><strong>Solution: </strong>None.</p>
<p style="margin-left: 30.0px;"><strong>Planned Release: </strong>Not currently planned.</p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="ams_dms_simkpnsTOC.html" id="prev" title="TOC">TOC</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" />
<div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;&#10240;</center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div>

</body></html>