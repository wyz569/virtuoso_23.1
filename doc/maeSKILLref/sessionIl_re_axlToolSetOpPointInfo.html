
<html><head><title>axlToolSetOpPointInfo</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="namratam" />
<meta name="CreateDate" content="2023-10-27" />
<meta name="CreateTime" content="1698424187" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the SKILL functions for Virtuoso ADE Suite" />
<meta name="DocTitle" content="Virtuoso ADE SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="axlToolSetOpPointInfo" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="maeSKILLref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-27" />
<meta name="ModifiedTime" content="1698424187" />
<meta name="NextFile" content="sessionIl_re_Signals_or_Triggers_for_ADE_Sessions.html" />
<meta name="Order" content="1" />
<meta name="Group" content="ADE Explorer, ADE Assembler" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="sessionIl_re_axlShowPersistedQuestionDialog.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE SKILL Reference -- axlToolSetOpPointInfo" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="api reference" />
<meta name="prod_feature" content="ADE Explorer/ADE Assembler" />
<meta name="prod_subfeature" content="maestro Session,SKILL" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="maeSKILLrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="maeSKILLrefTOC.html">Contents</a></li><li><a class="prev" href="sessionIl_re_axlShowPersistedQuestionDialog.html" title="axlShowPersistedQuestionDialog">axlShowPersistedQuestionDialog</a></li><li style="float: right;"><a class="viewPrint" href="maeSKILLref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="sessionIl_re_Signals_or_Triggers_for_ADE_Sessions.html" title="Signals or Triggers for ADE Sessions">Signals or Triggers for ADE Se ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE SKILL Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a name="Filename:re_axlToolSetOpPointInfo" title="axlToolSetOpPointInfo"></a><h3>
<a name="pgfId-1139121"></a><a name="axlToolSetOpPointInfo"></a><a name="21021"></a>axlToolSetOpPointInfo</h3>
<a name="pgfId-1139123"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
axlToolSetOpPointInfo( 
<code><em>g_sessionID</em></code> 
<code><em>t_testName
</em></code>[ ?instanceName <code><em>t_instanceName</em></code> ]
[ ?parameters <code><em>t_parameters</em></code> ]
) 
=&gt; <code><em>o_sevOpPoint</em></code><code> / nil </code></pre>
<h4>
<a name="pgfId-1139124"></a>Description</h4>
<p>
<a name="pgfId-1139902"></a><a name="25737"></a>Adds the signal specified for the <code>oppoint</code> type item to the Output Setup table in a test setup and returns the signal object.</p>
<h4>
<a name="pgfId-1139136"></a>Arguments</h4>
<table class="webflareTable" id="#id1139129">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1139131"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_sessionID</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1139133"></a>ID of the current session. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1139551"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_testName</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1139553"></a>Name of the test. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a name="pgfId-1139629"></a><code>?instanceName</code><span class="webflare-courier-new" style="white-space:pre"><em> t_instanceName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1139557"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1139559"></a>Name of the instance. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="3" rowspan="1">
<p>
<a name="pgfId-1139706"></a><code>?parameters</code><span class="webflare-courier-new" style="white-space:pre"><em> t_parameters</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1139677"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1139565"></a>Operating point parameters related to the specified instance. </p>
</td>
</tr>
</tbody></table>
<h4>
<a name="pgfId-1139150"></a>Value Returned</h4>
<table class="webflareTable" id="#id1139137">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1139139"></a><span class="webflare-courier-new" style="white-space:pre"><em>o_sevOpPoint</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1139141"></a>Returns the signal object when adding the signal output to the test successfully. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1139145"></a><span class="webflare-courier-new" style="white-space:pre"><em>nil</em></span></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1139147"></a>Returns <span class="webflare-courier-new" style="white-space:pre"><em>nil</em></span> if the operation is unsuccessful.</p>
</td>
</tr>
</tbody></table>
<h4>
<a name="pgfId-1139151"></a>Examples</h4>

<p>
<a name="pgfId-1139152"></a>Adds an <code>oppoint</code> type signal to the output setup.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1139828"></a>sessionId=axlGetWindowSession(hiGetCurrentWindow)<br />testName=&quot;myoalib:ampTest:1&quot;<br />axlToolSetOpPointInfo(sessionId testName ?instanceName &quot;/R2&quot; ?parameters &quot;res&quot;)<br />=&gt; sevOpPointStruct@0x2f207140</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Working with ADE (G)XL Signals or Triggers

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-1120613"></a><a name="20583"></a>Working <a name="adexl_triggers"></a>with Signals or Triggers</h2>

<p>
<a name="pgfId-1120614"></a>The session functions are a known set of <code>states</code>. Any transition from one state to another is called an <code>event</code>. You can specify customized actions to be automatically performed whenever an event occurs. You can do this by registering callbacks for these events or signals. In Qt terminology, these events are known as <code>signals</code> and the callbacks are known as <code>slots</code>. </p>
<p>
<a name="pgfId-1096304"></a>To execute callbacks or slots for signals, perform the following tasks:</p>

<ol><li>
<a name="pgfId-1096415"></a>Define a callback function<br />
<a name="pgfId-1096556"></a>Define any SKILL function that you need to call when an event occurs in an ADE session. It is recommended to define this procedure in the <code>.cdsinit</code> file.<br /><div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1096748"></a>You can use any other SKILL function in this callback function.</div></li><li>
<a name="pgfId-1096431"></a>Connect the defined callback function with the signal<br />
<a name="pgfId-1096653"></a>Connect the custom SKILL function defined in step 1 with the required signal or event by using the <a href="sessionIl_re_axlSessionConnect.html#72296">axlSessionConnect</a> SKILL function in the <code>.cdsinit</code> file.</li><li>
<a name="pgfId-1096438"></a>Register the callback when a session is launched<br />
<a name="pgfId-1097071"></a>To make the callback function available for calling, it is required to register the function by using the axlSessionRegisterCreationCallback SKILL function in the <code>.cdsinit</code> file.<br /><div class="webflare-information-macro webflare-macro-tip">
<a name="pgfId-1097072"></a>
To know the signature of a trigger, you can use the <a href="sessionIl_re_axlSessionSignalSignature.html#97883">axlSessionSignalSignature</a> SKILL function.</div></li></ol>














<p>
<a name="pgfId-1097073"></a>The following examples show how you can register callbacks and call them at runtime from a session:</p>

<h4>
<a name="pgfId-1096482"></a><a name="23384"></a>Example 1: To automatically disable corners when ADE is launched</h4>

<p>
<a name="pgfId-1150658"></a>Add the following code in <code>.cdsinit</code> to register a callback that disables all corners after ADE is launched:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1150612"></a>(defun ADEexampletrigger_postInstall_disable_corners (session)<br />    (let (sdb)<br />        sdb = (axlGetMainSetupDB session) ; setup DB handle<br />        (axlSetAllCornersEnabled sdb nil)<br />    )<br />)<br />
(axlSessionRegisterCreationCallback (lambda (session) (axlSessionConnect session &quot;postInstall&quot; &#39;ADEexampletrigger_postInstall_disable_corners)))</pre>
<h4>
<a name="pgfId-1105720"></a><a name="59717"></a><a name="47458"></a>Example 2: To send an email after a run is finished</h4>

<p>
<a name="pgfId-1105819"></a>The following example connects a procedure to the runFinished trigger to send an email on completion of a simulation run:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1150784"></a>(defun ADEexampletrigger_runFinished_email (session _runid histid _errorid)<br />    (let (email history lib cell view message command)<br />
email = &quot;user@cadence.com&quot;

&#160;&#160;  ;send email with subject &quot;ADE run finished - &lt;history&gt; - &lt;lib&gt; &lt;cell&gt; &lt;view&gt;&quot;<br />    history = (axlGetHistoryName histid)<br />    lib = (axlGetSessionLibName session)<br />    cell = (axlGetSessionCellName session)<br />    view = (axlGetSessionViewName session)<br />
&#160;&#160;  (sprintf message &quot;ADE run finished - %s - %s %s %s&quot; history lib cell view)<br />
; mutt command (no body) e.g.:&#160;&#160;mutt -s &#39;the subject&#39; user@address.com &lt; /dev/null<br />
&#160;&#160;      (sprintf command &quot;mutt -s &#39;%s&#39; %s &lt; /dev/null&quot; message email)<br />        (system  command)<br />
&#160;&#160;      ; print message to CIW/CDS.log<br />        (printf &quot;\n%s\n&quot; message)<br />    )<br />)<br />
(axlSessionRegisterCreationCallback (lambda (session) (axlSessionConnect session &quot;runFinished&quot; &#39;ADEexampletrigger_runFinished_email)))</pre>
<h4>
<a name="pgfId-1098732"></a><a name="91218"></a>Example 3: To automatically print the job policy settings to CDS.log when a run starts</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1150841"></a>(defun ADEexampletrigger_runStarted_print_jobpolicy (_session _runid histid)<br />    (let (jp)<br />
&#160;&#160;  (printf &quot;\nStarting ADE run %s\n&quot; (axlGetHistoryName histid))<br />        (when (maeGetJobControlMode) == &quot;LSCS&quot;<br />        jp = (maeGetJobPolicy ?jobType &quot;netlisting&quot;)<br />            (printf &quot;Job Policy (Netlisting):\n&quot;)<br />            (foreach p jp-&gt;?<br />                printf &quot;%s=%s\n&quot; p (get jp p))<br />            )<br />        )<br />        jp = (maeGetJobPolicy)<br />        (printf &quot;\nJob Policy (Simulation):\n&quot;)<br />        (foreach p jp-&gt;?<br />            (printf &quot;%s=%s\n&quot; p (get jp p))<br />        )<br />
&#160;&#160;  )<br />)<br /></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1098790"></a>(axlSessionRegisterCreationCallback (lambda (session) (axlSessionConnect session &quot;runStarted&quot; &#39;ADEexampletrigger_runStarted_print_jobpolicy)))</pre>
<h4>
<a name="pgfId-1124817"></a><a name="47619"></a>Example 4: To automatically change the job policy per ADE test based on the simulation setup</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1150920"></a>(defun ADEexampletrigger_preRun_pertest_jobpolicy (@rest _args)<br />    (let (tests cmdbase jp unimode)<br />
; Simplistic example to set a per-test job policy based on simulation options
; This is an LSF bsub command example where the -J option (job name) is modified 
; per test

cmdbase = &quot;bsub -q cic -K&quot;
&#160;&#160;      tests = (maeGetSetup ?typeName &quot;tests&quot; ?enabled t)<br />
&#160;&#160;      (foreach test tests<br />            unimode = (asiGetHighPerformanceOptionVal (maeGetTestSession test) &#39;uniMode)<br />
&#160;&#160;      (if (maeHasTestJobPolicy test) then<br />            jp = (maeGetJobPolicy ?testName test)<br />            else<br />                jp = maeGetJobPolicy()<br />            ; Could choose to load from a named policy, see maeGetJobPolicyByName<br />            )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1150939"></a>
&#160;&#160;          (case unimode<br />                (&quot;Spectre&quot;<br />                    jp-&gt;distributionmethod = &quot;Command&quot;<br />                    jp-&gt;jobsubmitcommand = (sprintf nil &quot;%s -J SPECTRE&quot; cmdbase)<br />                    jp-&gt;name = &quot;LSF Spectre&quot;<br />                    (maeSetJobPolicy jp ?testName test)<br />                )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1150946"></a>                (&quot;APS&quot;<br />                    jp-&gt;distributionmethod = &quot;Command&quot;<br />                    jp-&gt;jobsubmitcommand = (sprintf nil &quot;%s -J APS&quot; cmdbase)<br />                    jp-&gt;name = &quot;LSF APS&quot;<br />                    (maeSetJobPolicy jp ?testName test)<br />                )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1150952"></a>                (&quot;Spectre X&quot;<br />                    jp-&gt;distributionmethod = &quot;Command&quot;<br />                    jp-&gt;jobsubmitcommand = (sprintf nil &quot;%s -J SPECTREX&quot; cmdbase)<br />                    jp-&gt;name = &quot;LSF SpectreX&quot;<br />                    (maeSetJobPolicy jp ?testName test)<br />                )<br />            )<br />        )<br />    )<br />)<br />
(axlSessionRegisterCreationCallback (lambda (session) (axlSessionConnect session &quot;preRun&quot; &#39;ADEexampletrigger_preRun_pertest_jobpolicy)))</pre>
<h4>
<a name="pgfId-1147684"></a><a name="51835"></a>Example 5: To automatically perform a task after the setup is saved</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1151010"></a>(defun ADEexampletrigger_setupSaved_doaction (_session)<br />    printf(&quot;\nSetup is saved!!\n&quot;)<br />)<br />
(axlSessionRegisterCreationCallback (lambda (session) (axlSessionConnect session &quot;setupSaved&quot; &#39;ADEexampletrigger_setupSaved_doaction)))</pre>
<h4>
<a name="pgfId-1153614"></a>Example 6: To automatically add a variable to an ADE test when created</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1153597"></a>
(defun ADEexampletrigger_postCreatedTest_addvar (_session testname)
&#160;&#160;  (maeSetVar &quot;VDD&quot; &quot;1.1&quot; ?typeName &quot;test&quot; ?typeValue (list testname))<br />)<br />
(axlSessionRegisterCreationCallback (lambda (session) (axlSessionConnect session &quot;postCreatedTest&quot; &#39;ADEexampletrigger_postCreatedTest_addvar)))</pre>
<!-- [TOPIC_END] -->
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="sessionIl_re_axlShowPersistedQuestionDialog.html" id="prev" title="axlShowPersistedQuestionDialog">axlShowPersistedQuestionDialog</a></em></b><b><em><a href="sessionIl_re_Signals_or_Triggers_for_ADE_Sessions.html" id="nex" title="Signals or Triggers for ADE Sessions">Signals or Triggers for ADE Se ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>