
<html><head><title>Using Relative Object Design Functions</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-08-04" />
<meta name="CreateTime" content="1691179177" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes a set of high-level functions for defining simple to complex layout objects and their relationships to each other, without the need to use low-level SKILL language functions." />
<meta name="DocTitle" content="Virtuoso Relative Object Design User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Using Relative Object Design Functions" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="roduser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-08-04" />
<meta name="ModifiedTime" content="1691179177" />
<meta name="NextFile" content="appB.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap2.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Relative Object Design User Guide -- Using Relative Object Design Functions" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="roduserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="roduserTOC.html">Contents</a></li><li><a class="prev" href="chap2.html" title="Accessing Information about ROD Objects">Accessing Information about RO ...</a></li><li style="float: right;"><a class="viewPrint" href="roduser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appB.html" title="Accessing the Cellview ID">Accessing the Cellview ID</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Relative Object Design User Guide<br />Product Version IC23.1, August 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>A
<a id="pgfId-1022793"></a></h1>
<h1>
<a id="pgfId-1022819"></a><hr />
<a id="24464"></a>Using Relative Object Design Functions<hr />
</h1>

<p>
<a id="pgfId-1022820"></a>This chapter contains information on using Virtuoso relative object design (ROD) functions. </p>
<p>
<a id="pgfId-1026187"></a>For information on relative object design (ROD) functions, refer to the <em><a actuate="user" class="URL" href="../rodskillref/rodskillrefTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Relative Object Design SKILL Reference</a></em>.</p>
<p>
<a id="pgfId-1025078"></a><a href="appA.html#92284">Aligning ROD Objects Using rodAlign</a></p>
<p>
<a id="pgfId-1025093"></a><a href="appA.html#23870">Creating Handles Using rodCreateHandle</a></p>
<p>
<a id="pgfId-1025104"></a><a href="appA.html#34405">Creating Paths with rodCreatePath</a></p>
<p>
<a id="pgfId-1025114"></a><a href="appA.html#26301">Creating Objects Using rodCreateRect</a></p>
<p>
<a id="pgfId-1025125"></a><a href="appA.html#27300">Using rodGetObj</a></p>
<p>
<a id="pgfId-1025135"></a><a href="appA.html#75728">Naming Shapes Using rodNameShape</a></p>
<p>
<a id="pgfId-1025235"></a><a href="appA.html#19172">Unaligning All Zero-level Shapes in a Cellview Using rodUnAlign</a></p>
<p>
<a id="pgfId-1025384"></a><a href="appA.html#71657">Unnaming All Named Shapes in a Cellview Using rodUnNameShape</a></p>
<p>
<a id="pgfId-1025159"></a><a href="appA.html#16065">Solutions for rodCreateHandle</a></p>
<p>
<a id="pgfId-1025173"></a><a href="appA.html#16409">Solutions for rodCreatePath</a></p>
<p>
<a id="pgfId-1025200"></a><a href="appA.html#25357">Solutions for rodCreateRect</a></p>
<p>
<a id="pgfId-1025214"></a><a href="appA.html#42291">Solutions for rodGetObj</a></p>
<p>
<a id="pgfId-1025224"></a><a href="appA.html#45708">Solutions for rodNameShape</a></p>

<h3>
<a id="pgfId-1022952"></a><a id="92284"></a>Aligning ROD Objects Using rodAlign</h3>

<p>
<a id="pgfId-1022953"></a>This section presents a few problems that can be solved using the <a href="../rodskillref/chap1.html#rodAlign">rodAlign</a> function. To encourage you to think about or solve them yourself, the solutions are not presented until the end of this chapter. </p>
<p>
<a id="pgfId-1022954"></a>You can use one of the following variables to access the current cellview ID: <code>pcCellView</code>, <code>tcCellView</code>, or <code>rodCellView</code>. For a brief description of these variables, see <h-hot><a actuate="user" class="URL" href="../rodskillref/chap1.html#variableROD" show="replace" xml:link="simple">Using Variables in ROD Functions</a></h-hot> in the <em>Virtuoso Relative Object Design User Guide</em>.</p>
<ul><li>
<a id="pgfId-1022961"></a><a href="appA.html#32398">Problem 3-1 Aligning an Object to a Point</a></li><li>
<a id="pgfId-1022965"></a><a href="appA.html#33457">Problem 3-2 Aligning Two Rectangles at the Same Level of Hierarchy</a></li><li>
<a id="pgfId-1022969"></a><a href="appA.html#32840">Problem 3-3 Moving an Object with rodAlign</a></li><li>
<a id="pgfId-1022973"></a><a href="appA.html#39583">Problem 3-4 Aligning Objects at Different Levels in the Hierarchy</a></li></ul>



<p>
<a id="pgfId-1022976"></a>For an example showing a guard ring created using <code>rodAlign</code>, see <a href="appG.html#27167">Code Examples</a>.</p>

<h4>
<a id="pgfId-1022980"></a><a id="32398"></a>Problem 3-1 <a id="marker-1022979"></a>Aligning an Object to a Point</h4>

<p>
<a id="pgfId-1022981"></a>Inside of a Pcell, align the lower left corner of the object named <code>Boundary</code> to the reference point 15:10.</p>

<p>
<a id="pgfId-1023041"></a></p>
<div class="webflare-div-image">
<img width="667" height="296" src="images/appA-2.gif" /></div>

<p>
<a id="pgfId-1023045"></a><a href="appA.html#24498">Solution 3-1 Aligning an Object to a Point</a>.</p>

<h4>
<a id="pgfId-1023048"></a><a id="33457"></a>Problem 3-2 <a id="marker-1023047"></a>Aligning Two Rectangles at the Same Level of Hierarchy</h4>

<p>
<a id="pgfId-1023049"></a>Align the center of the rectangle named <code>polyRect</code> to the center of the rectangle named <code>activeRect</code> so that their centers are coincident. The two rectangles are at the same level in the design hierarchy.</p>

<p>
<a id="pgfId-1023113"></a></p>
<div class="webflare-div-image">
<img width="667" height="315" src="images/appA-3.gif" /></div>

<p>
<a id="pgfId-1023117"></a><a href="appA.html#25467">Solution 3-2 Aligning Two Rectangles at the Same Level of Hierarchy</a>.</p>

<h4>
<a id="pgfId-1023120"></a><a id="32840"></a>Problem 3-3 <a id="marker-1023119"></a>Moving an Object with rodAlign</h4>

<p>
<a id="pgfId-1023121"></a>Use the <code>rodAlign</code> function to move the object named <code>boundary</code> so that its <code>lowerCenter</code> handle has a positive offset along the Y axis from the <code>upperLeft</code> handle of the reference object <code>activeRect</code>. Specify the arguments so that no alignment persists after the <code>rodAlign</code> function completes.</p>

<p>
<a id="pgfId-1023180"></a></p>
<div class="webflare-div-image">
<img width="667" height="294" src="images/appA-4.gif" /></div>

<p>
<a id="pgfId-1023184"></a><a href="appA.html#40702">Solution 3-3 Moving an Object with rodAlign</a>.</p>

<h4>
<a id="pgfId-1023187"></a><a id="39583"></a>Problem 3-4 <a id="marker-1023186"></a>Aligning Objects at Different Levels in the Hierarchy</h4>

<p>
<a id="pgfId-1023188"></a>In a Pcell, there are two objects named <code>rect0</code> on the <code>metal1</code> layer in different instances. Align the <code>centerRight</code> point handle on <code>rect0</code> in the instance <code>nTran1</code> to the <code>centerLeft</code> point handle of the reference object <code>rect0</code> in the instance <code>nTran2</code>. Specify a negative separation along the X axis between the point handles as the minimum spacing rule from the technology file for the <code>metal1</code> layer. Because this <code>rodAlign</code> statement occurs within a Pcell, you can use the Pcell variable <code>pcCellView</code> for the cellview ID.</p>
<p>
<a id="pgfId-1023189"></a>To access the technology file, use the <code>techGetTechFile</code> function to get the technology file ID and set it equal to the variable <code>tfId</code>. The <code>techGetTechFile</code> function requires the cellview ID or library ID as input. </p>

<p>
<a id="pgfId-1023235"></a></p>
<div class="webflare-div-image">
<img width="666" height="261" src="images/appA-5.gif" /></div>
<p>
<a id="pgfId-1023289"></a></p>
<div class="webflare-div-image">
<img width="666" height="280" src="images/appA-6.gif" /></div>

<p>
<a id="pgfId-1022940"></a><a href="appA.html#36828">Solution 3-4 Aligning Objects at Different Levels in the Hierarchy</a>.</p>

<h3>
<a id="pgfId-1023321"></a><a id="23870"></a>Creating Handles Using rodCreateHandle</h3>

<p>
<a id="pgfId-1023322"></a>This section presents you with a series of problems to solve, to help you become familiar with using the <a href="../rodskillref/chap1.html#rodCreateHandle">rodCreateHandle</a> function. To encourage you to think about or solve the problems yourself, the solutions are not presented until the end of this chapter.</p>
<ul><li>
<a id="pgfId-1023326"></a><a href="appA.html#18610">Problem 3-5a Creating a Point Handle for a Cellview</a></li><li>
<a id="pgfId-1023330"></a><a href="appA.html#16668">Problem 3-5b Querying a Point Handle for a Cellview</a></li><li>
<a id="pgfId-1023334"></a><a href="appA.html#36924">Problem 3-6 Querying a System-Assigned Handle Name</a></li></ul>


<p>
<a id="pgfId-1023336"></a>You identify the object for which you want to create a handle by using its <h-hot><a actuate="user" class="URL" href="../roduser/chap1.html#name" show="replace" xml:link="simple">hierarchical name</a></h-hot>. To create a handle for a cellview, you must <h-hot><a href="appA.html#useRodGetObj">supply the ROD object ID</a></h-hot> for the cellview.</p>
<p>
<a id="pgfId-1023338"></a>You might want to use information from your technology file for the values of some arguments. For example, for the <span class="webflare-courier-new" style="white-space:pre"><em>n_width</em></span> argument, you can use the value of the design rule for minimum width. </p>
<p>
<a id="pgfId-1023339"></a>You can access design rules in several ways. The problems in this section access design rules by using defaults, and by including <code>techGetTechFile</code> and <code>techGetSpacingRule</code> statements, when needed. For more detailed information about accessing design rules, see <a href="appC.html#17456">Using Design Rules in ROD Functions</a>.</p>
<p>
<a id="pgfId-1023343"></a>For a code example showing how to use <code>rodCreateHandle</code> to compute the resistance of a ROD path, see <a href="appG.html#29934">Getting the Resistance for a ROD Path</a>.</p>

<h4>
<a id="pgfId-1023349"></a><a id="18610"></a>Problem 3-5a <a id="marker-1023348"></a>Creating a Point Handle for a Cellview</h4>

<p>
<a id="pgfId-1023350"></a>Create a point handle named <code>originAAA</code> for the origin of layout cellview AAA in the library <code>cellLib</code>.</p>

<p>
<a id="pgfId-1023386"></a></p>
<div class="webflare-div-image">
<img width="584" height="209" src="images/appA-7.gif" /></div>

<p>
<a id="pgfId-1023390"></a><a href="appA.html#27551">Solution 3-5a Creating a Point Handle for a Cellview</a>.</p>

<h4>
<a id="pgfId-1023393"></a><a id="16668"></a>Problem 3-5b <a id="marker-1023392"></a>Querying a Point Handle for a Cellview</h4>

<p>
<a id="pgfId-1023394"></a>Find the value of the point handle named <code>originAAA</code>, which is the origin of layout cellview AAA. Instance <code>IA1</code> of cellview AAA is within cellview BBB, offset from the origin of cellview BBB by 3 units in the direction of the X and Y axes.</p>

<p>
<a id="pgfId-1023439"></a></p>
<div class="webflare-div-image">
<img width="666" height="264" src="images/appA-8.gif" /></div>

<p>
<a id="pgfId-1023443"></a><a href="appA.html#41049">Solution 3-5b Querying a Point Handle for a Cellview</a>.</p>

<h4>
<a id="pgfId-1023446"></a><a id="36924"></a>Problem 3-6 <a id="marker-1023445"></a>Querying a System-Assigned Handle Name</h4>

<p>
<a id="pgfId-1023447"></a>When you create a handle without specifying a name, the system assigns a name. For the layout cellview <code>myCell</code> in the library <code>cellLib</code>, find the system-assigned name for the last handle you created without a name.</p>
<p>
<a id="pgfId-1023309"></a><a href="appA.html#37808">Solution 3-6 Querying a System-Assigned Handle Name</a>.</p>

<h3>
<a id="pgfId-1023493"></a><a id="34405"></a><a id="22333"></a>Creating Paths with rodCreatePath</h3>

<p>
<a id="pgfId-1023494"></a>To help you become familiar with using the <a href="../rodskillref/chap1.html#rodCreatePath">rodCreatePath</a> function, this section presents a problem to solve. To encourage you to think about and solve the problem yourself, the solution is not presented until the end of this chapter.</p>
<ul><li>
<a id="pgfId-1023498"></a><a href="appA.html#52078">Problem 3-7 Create a Master Path with an Offset Subpath to the Right</a></li></ul>
<p>
<a id="pgfId-1023479"></a>For additional code examples, including computing the resistance for a ROD path, see <a href="appG.html#27167">Code Examples</a>.</p>

<h3>
<a id="pgfId-1023528"></a><a id="26301"></a>Creating Objects Using rodCreateRect</h3>

<p>
<a id="pgfId-1023529"></a>This section presents you with a series of problems to solve, to help you become familiar with using the <a href="../rodskillref/chap1.html#rodCreateRect">rodCreateRect</a> function. To encourage you to think about or solve the problems yourself, the solutions are not presented until the end of this chapter.</p>
<ul><li>
<a id="pgfId-1023533"></a><a href="appA.html#11056">Problem 3-8 Create One Rectangle with n_width and n_length</a></li><li>
<a id="pgfId-1023537"></a><a href="appA.html#34795">Problem 3-9 Create One Rectangle with l_bBox</a></li><li>
<a id="pgfId-1023540"></a><a href="appA.html#28780">Problem 3-10 Create a Multipart Rectangle with One Row/Column of Master Rectangles</a></li><li>
<a id="pgfId-1023544"></a><a href="appA.html#13353">Problem 3-11 Create a Multipart Rectangle with Multiple Rows/Columns of Master Rectangles</a></li><li>
<a id="pgfId-1023549"></a><a href="appA.html#12037">Problem 3-12 Fill a Bounding Box with Master Rectangles</a></li></ul>




<p>
<a id="pgfId-1023550"></a>When using <code>rodCreateRect</code>, you might want to use information from your technology file for the values of some arguments. For example, for the <span class="webflare-courier-new" style="white-space:pre"><em>n_width</em></span> argument, you can use the value of the design rule for minimum width. </p>
<p>
<a id="pgfId-1023551"></a>You can access design rules in several ways. The problems in this section access design rules by using defaults and by including <code>techGetTechFile</code> and <code>techGetSpacingRule</code> statements, when needed. For more detailed information about accessing design rules, see <a href="appC.html#17456">Using Design Rules in ROD Functions</a>.</p>

<h3>
<a id="pgfId-1023556"></a><a id="27465"></a>Creating a Named Rectangle</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1023557"></a>Remember, when you want to create a rectangle that is a regular, unnamed database shape (with no ROD information), use the <code>dbCreateRect</code> function instead of the <code>rodCreateRect</code> function.</div>
<p>
<a id="pgfId-1023558"></a>To create a named rectangle with ROD attributes, determine its size and location either by specifying the width, length, and origin (<span class="webflare-courier-new" style="white-space:pre"><em>n_width</em></span>, <span class="webflare-courier-new" style="white-space:pre"><em>n_length</em></span>, and <span class="webflare-courier-new" style="white-space:pre"><em>l_origin</em></span>) or by specifying a bounding box (<span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span>). The <span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span> argument overrides the values of the <span class="webflare-courier-new" style="white-space:pre"><em>n_width</em></span>, <span class="webflare-courier-new" style="white-space:pre"><em>n_length</em></span>, and <span class="webflare-courier-new" style="white-space:pre"><em>l_origin</em></span> arguments.</p>

<h4>
<a id="pgfId-1023562"></a><a id="11056"></a>Problem 3-8 <a id="marker-1023560"></a>Create One Rectangle with n_width and n_length<a id="oneRectProblem"></a></h4>

<p>
<a id="pgfId-1023563"></a>Assume that you are in a Pcell, and create a rectangle named <code>minMetal</code> on the <code>metal1</code> layer. Set the width equal to 3. Set the length equal to twice the minimum width.</p>
<p>
<a id="pgfId-1023564"></a>Use the <code>techGetTechFile</code> function to get the technology file ID, and set it equal to the variable <span class="webflare-courier-new" style="white-space:pre"><em>tfId</em></span>. Let the cellview ID (<span class="webflare-courier-new" style="white-space:pre"><em>d_cvId</em></span>) default to the Pcell variable <code>pcCellView</code>, because your statement is executed inside of a Pcell.</p>

<p>
<a id="pgfId-1023590"></a></p>
<div class="webflare-div-image">
<img width="668" height="168" src="images/appA-9.gif" /></div>

<p>
<a id="pgfId-1023594"></a><a href="appA.html#28313">Solution 3-8 Create One Rectangle with n_width and n_length</a></p>

<h4>
<a id="pgfId-1023597"></a><strong>Problem 3-9 Create One Rectangle with l_bBox</strong><a id="34795"></a><a id="marker-1023596"></a></h4>

<p>
<a id="pgfId-1023600"></a>Create a single rectangle similar to the way it was created for <a href="appA.html#11056">Problem 3-8 Create One Rectangle with n_width and n_length</a>, but this time, use <span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span> to specify its size and location. Make the rectangle 6 wide by 3 long, with its origin point at the coordinates 2:2.</p>

<p>
<a id="pgfId-1023643"></a></p>
<div class="webflare-div-image">
<img width="668" height="198" src="images/appA-10.gif" /></div>

<p>
<a id="pgfId-1023647"></a><a href="appA.html#20939">Solution 3-9 Create One Rectangle with l_bBox</a></p>

<h3>
<a id="pgfId-1023649"></a><a id="35831"></a>Creating a Multipart Rectangle with Rows/Columns of Master Rectangles</h3>

<p>
<a id="pgfId-1026105"></a>To create rows and/or columns of rectangles that are regular, unnamed database shapes, see <h-hot><a actuate="user" class="URL" href="../rodskillref/chap1.html#fillBoundBRectFig" show="replace" xml:link="simple">Filling a Bounding Box with Rectangles</a></h-hot> in the <em>Virtuoso Relative Object Design SKILL Reference</em>.</p>
<p>
<a id="pgfId-1026109"></a>To create a multipart rectangle with a single row of master rectangles parallel to the X axis, specify the number of rectangles (elements) with the <span class="webflare-courier-new" style="white-space:pre"><em>x_elementsX</em></span> argument. To create a single column of master rectangles parallel to the Y axis, use the <span class="webflare-courier-new" style="white-space:pre"><em>x_elementsY</em></span> argument. To create both rows and columns, use both <span class="webflare-courier-new" style="white-space:pre"><em>x_elements</em></span> arguments.</p>

<h4>
<a id="pgfId-1023657"></a><a id="28780"></a>Problem 3-10 <a id="marker-1023656"></a>Create a Multipart Rectangle with One Row/Column of Master Rectangles</h4>

<p>
<a id="pgfId-1023658"></a>For a Pcell, you want to create a multipart rectangle with one row of master rectangles. Add a <code>rodCreateRect</code> statement to the body of a <code>pcDefinePCell</code> statement, as follows:</p>
<p>
<a id="pgfId-1023659"></a>Create nine minimum-size rectangles on the <code>metal1</code> drawing layer in the direction of the X axis, and name them <code>minMetal.1</code> through <code>minMetal.9</code>. Use the rules from the technology file for minimum width and minimum space between rectangles.</p>
<p>
<a id="pgfId-1023660"></a>Let the origin of the first rectangle default to the coordinates <code>0:0</code>. Let the cellview ID default to the value of the Pcell variable <code>pcCellView</code>, because your statement is executed inside of a Pcell.</p>
<p>
<a id="pgfId-1023661"></a>The rectangles form a row that looks like this:</p>

<p>
<a id="pgfId-1023712"></a></p>
<div class="webflare-div-image">
<img width="668" height="216" src="images/appA-11.gif" /></div>

<p>
<a id="pgfId-1023716"></a><a href="appA.html#41597">Solution 3-10 Create a Single Row or Column of Rectangles</a></p>

<h4>
<a id="pgfId-1023719"></a><a id="13353"></a>Problem 3-11 <a id="marker-1023718"></a>Create a Multipart Rectangle with Multiple Rows/Columns of Master Rectangles</h4>

<p>
<a id="pgfId-1023720"></a>Inside a Pcell, create rows and columns of master rectangles using <code>polyRect</code> as the base for the name, with five along the X axis and four along the Y axis, using the layer-purpose pair <code>poly</code> and <code>drawing</code>. Set the origin of the first rectangle to the coordinates <code>3:6</code>. </p>
<p>
<a id="pgfId-1023721"></a>For the X axis, make the distance between the edges of rectangles equal to three greater than the minimum spacing for the <code>poly</code> layer. For the Y axis, make the distance between rectangles equal to six greater than the minimum spacing for the <code>poly</code> layer. This time, you need the technology file ID.</p>
<p>
<a id="pgfId-1023722"></a>The rectangles form rows and columns that looks like this:</p>

<p>
<a id="pgfId-1023796"></a></p>
<div class="webflare-div-image">
<img width="668" height="415" src="images/appA-12.gif" /></div>

<p>
<a id="pgfId-1023800"></a><a href="appA.html#10458">Solution 3-11 Create Multiple Rows and Columns of Rectangles</a></p>

<h3>
<a id="pgfId-1023802"></a><a id="22060"></a>Filling Bounding Boxes with Master Rectangles</h3>

<p>
<a id="pgfId-1023803"></a>To fill a bounding box with master rectangles that have ROD attributes, use the <span class="webflare-courier-new" style="white-space:pre"><em>l_fillBBox</em></span> argument; to partially fill a bounding box, specify the maximum number of rectangles to repeat in the direction of the X and/or Y axis. The system creates rectangles starting in the lower left corner of the fill-bounding box.</p>
<p>
<a id="pgfId-1023804"></a>The system gives each rectangle a unique name, using the value of the <span class="webflare-courier-new" style="white-space:pre"><em>S_name </em></span>argument as a base, then adding a suffix for the row and column number, with periods in front of the row and column numbers. For example, if you specify <code>polyRect</code> as the base for the name, the system names the rectangle in the lower-left corner of the fill-bounding box <code>polyRect.1.1</code>. The system creates all rectangles at level zero in the hierarchy, so no additional hierarchy is created. Also, no bounding box is created.</p>
<p>
<a id="pgfId-1023805"></a>To specify the maximum number of rectangles along each axis, use the <span class="webflare-courier-new" style="white-space:pre"><em>x_elementsX</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>x_elementsY</em></span> arguments. To specify spacing between rectangles, use the <span class="webflare-courier-new" style="white-space:pre"><em>n_spaceX</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>n_spaceY</em></span> arguments. When you specify both spacing and number of elements, the system creates as many rectangles as fit inside the bounding box without exceeding the numbers specified by the <span class="webflare-courier-new" style="white-space:pre"><em>x_elements</em></span> arguments. </p>

<h4>
<a id="pgfId-1023808"></a><a id="12037"></a>Problem 3-12 <a id="marker-1023807"></a>Fill a Bounding Box with Master Rectangles</h4>

<p>
<a id="pgfId-1023809"></a>In a Pcell, define an 18-by-10 bounding box on the <code>poly</code> layer, offset from the coordinates 0:0 by 2 user units in both directions. Fill the box with master rectangles using <code>polyRect</code> as the base for the name and the minimum width for the poly layer. Make the distance between rectangles along the X and Y axes equal to 2.0 units.</p>
<p>
<a id="pgfId-1023810"></a>Let the cellview ID default to the variable <code>pcCellView</code>, because the statement is inside of a Pcell. The fill-bounding box and rectangles look like this:</p>

<p>
<a id="pgfId-1023869"></a></p>
<div class="webflare-div-image">
<img width="668" height="280" src="images/appA-13.gif" /></div>

<p>
<a id="pgfId-1023873"></a><a href="appA.html#30983">Solution 3-12 Fill a Bounding Box with Rectangles</a></p>

<h4>
<a id="pgfId-1023876"></a><a id="42016"></a>Problem 3-13 <a id="marker-1023875"></a>Partially Fill a Bounding Box with Master Rectangles</h4>

<p>
<a id="pgfId-1023877"></a>On the <code>metal1</code> layer in a Pcell, fill a bounding box that is 18 units wide and 10 units long with master rectangles. Do not define an offset for the fill-bounding box. Set the layer purpose to <code>drawing</code>. Fill the box with a maximum of 3 rectangles in the direction of the X axis and 2 rectangles in the direction of the Y axis. </p>
<p>
<a id="pgfId-1023878"></a>Specify the size of the rectangles as 2 units wide by 2 units long using the bounding box argument <span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span>. Set the distance between rectangles along the Y axis to the minimum design rule in the technology file for the <code>metal1</code> layer. Make the distance between rectangles along the X axis twice as large as the spacing along the Y axis. <em>The rectangles do not fill the bounding box.</em></p>
<p>
<a id="pgfId-1023879"></a>Let the cellview ID default to the variable <code>pcCellView</code>, because the statement is inside of a Pcell.</p>

<p>
<a id="pgfId-1023931"></a> </p>
<div class="webflare-div-image">
<img width="668" height="331" src="images/appA-14.gif" /></div>

<p>
<a id="pgfId-1023935"></a><a href="appA.html#25873">Solution 3-13 Partially Fill a Bounding Box with Rectangles</a></p>

<h4>
<a id="pgfId-1023938"></a><a id="16666"></a>Problem 3-14 <a id="marker-1023937"></a>Overfill a Bounding Box with Master Rectangles</h4>

<p>
<a id="pgfId-1023939"></a>Fill an 18-by-10 bounding box with master rectangles on the <code>metal1</code> layer, with no offset. Make the rectangles as wide and long as the minimum width for the <code>metal1</code> layer. Specify a maximum of six rectangles in the direction of the X axis and four rectangles in the direction of the Y axis. </p>
<p>
<a id="pgfId-1023940"></a>Set the distance between rectangles along the X axis to 2.5 and along the Y axis to 2.0. Let the cellview ID default to the Pcell variable <code>pcCellView</code>. </p>
<p>
<a id="pgfId-1023941"></a>The bounding box and rectangles look like this:</p>

<p>
<a id="pgfId-1023979"></a></p>
<div class="webflare-div-image">
<img width="668" height="212" src="images/appA-15.gif" /></div>

<p>
<a id="pgfId-1023983"></a><a href="appA.html#39042">Solution 3-14 Overfill a Bounding Box with Rectangles</a></p>

<h3>
<a id="pgfId-1023985"></a><a id="23314"></a>Creating Rectangles on a Terminal and Net</h3>

<p>
<a id="pgfId-1023986"></a>To create a shape on a specific terminal and net, specify the terminal and net name using the <span class="webflare-courier-new" style="white-space:pre"><em>S_termName</em></span> argument. </p>

<h4>
<a id="pgfId-1023989"></a><a id="27529"></a>Problem 3-15 <a id="marker-1023988"></a>Create a Single Named Rectangle on a Terminal and Net</h4>

<p>
<a id="pgfId-1023990"></a>In a Pcell, create a rectangle named <code>termFig</code> on the <code>metal1</code> layer. Assign the rectangle to the terminal and net <code>Aout</code>, and make the terminal direction type <code>output</code>. </p>
<p>
<a id="pgfId-1023991"></a>Let the width and length default to the minimum width for the specified layer from the technology file. Let the cellview ID (<span class="webflare-courier-new" style="white-space:pre"><em>d_cvId</em></span>) default to the variable <code>pcCellView</code>.</p>

<p>
<a id="pgfId-1024012"></a> </p>
<div class="webflare-div-image">
<img width="668" height="170" src="images/appA-16.gif" /></div>

<p>
<a id="pgfId-1024016"></a><a href="appA.html#25145">Solution 3-15 Create a Single Rectangle on a Terminal and Net</a></p>

<h4>
<a id="pgfId-1024017"></a>Looking at Properties</h4>

<p>
<a id="pgfId-1024018"></a>You can look at the properties for ROD objects with the Virtuoso layout editor <em>Edit</em><em> &#8211; </em><em>Properties</em> command.</p>

<h3>
<a id="pgfId-1024020"></a><a id="25821"></a>Creating Rectangular Pins</h3>

<p>
<a id="pgfId-1024021"></a>To create rectangular pins with the <code>rodCreateRect</code> function, you must specify the net and terminal name and your intention to create a pin. The system assigns the pin to the net and terminal identified by the <span class="webflare-courier-new" style="white-space:pre"><em>S_termName</em></span> argument.</p>
<p>
<a id="pgfId-1024025"></a>For a short overview of pin connectivity, see <a href="chap1.html#25385">Connectivity</a>.</p>

<h4>
<a id="pgfId-1024028"></a><a id="31684"></a>Problem 3-16 <a id="marker-1024027"></a>Create a Rectangular Pin</h4>

<p>
<a id="pgfId-1024029"></a>Create a rectangular pin named <code>polyPin</code> for the terminal and net named <code>InOut0</code>, using the layer-purpose pair <code>poly</code> and <code>pin</code>. Set the access direction to input-output and label the pin. Use the <span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span> argument to determine the pin size and to place the pin in the upper-right corner of the object named <code>trans1</code>.</p>
<p>
<a id="pgfId-1024030"></a>You need to define a local variable for the minimum width so that you can use it to compute the size of the bounding box for the rectangle. You also need a local variable for the coordinates of the upper-right corner of the ROD object <code>trans1</code>. You can use the <code>rodPointX</code> function to get the X coordinate from your variable for the upper-right corner and <code>rodPointY</code> to get the Y coordinate.</p>
<p>
<a id="pgfId-1024031"></a>The <code>polyPin</code> pin looks like this:</p>

<p>
<a id="pgfId-1024072"></a></p>
<div class="webflare-div-image">
<img width="655" height="237" src="images/appA-17.gif" /></div>

<p>
<a id="pgfId-1023516"></a><a href="appA.html#26665">Solution 3-16 Create a Rectangular Pin</a>.</p>

<h3>
<a id="pgfId-1024167"></a><a id="27300"></a>Using rodGetObj<a id="useRodGetObj"></a></h3>

<p>
<a id="pgfId-1024168"></a>This section presents you with a few problems to solve using the <a href="../rodskillref/chap1.html#rodGetObj">rodGetObj</a> function. To encourage you to think about or solve the problems yourself, the solutions are not presented until the end of this chapter.</p>
<ul><li>
<a id="pgfId-1024172"></a><a href="appA.html#16971">Problem 3-17 Accessing Coordinates without Hierarchy</a></li><li>
<a id="pgfId-1024176"></a><a href="appA.html#41128">Problem 3-18 Accessing Coordinates through One Level of Hierarchy</a></li><li>
<a id="pgfId-1024180"></a><a href="appA.html#42429">Problem 3-19 Accessing Coordinates through Two Levels of Hierarchy</a></li></ul>


<p>
<a id="pgfId-1024181"></a>For more information about the ROD object ID (the value returned by the <code>rodGetObj</code> function), see <a href="chap2.html#15944">About ROD Objects and ROD Object IDs</a>. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1024185"></a>Although you can access ROD object information about mosaics, in the current release you cannot descend into a mosaic or access anything within a mosaic.</div>

<h4>
<a id="pgfId-1024186"></a>Transforming Coordinates through Hierarchy</h4>

<p>
<a id="pgfId-1024187"></a>The following problems show how the system transforms a set of coordinates up through the hierarchy to the top-level layout cellview. This information applies to the <code>rodGetObj</code> and <code>rodGetHandle</code> functions and to queries made using the ROD object ID with the database access operator (<code>~&gt;</code>) to access point handles on ROD objects.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1024189"></a>In hierarchical <a id="marker-1024188"></a>names, be sure to use the <em>instance name</em>, not the 
cellview name.</div>
<p>
<a id="pgfId-1024190"></a>To get the ROD object ID for an object, you must provide either the database ID, or both the hierarchical name and cellview ID as input to the <code>rodGetObj</code> function. When the <code>rodGetObj</code> function is within the body of Pcell code, you can use one of the following variables for the cellview ID:</p>
<ul><li>
<a id="pgfId-1024194"></a>The <a id="marker-1024191"></a><code>pcCellView</code> variable when <code>rodGetObj</code> is in a <a href="../skpcellref/graphicalFunctions_re_pcDefinePCell.html">pcDefinePCell</a> statement. The <code>pcDefinePCell</code><a id="marker-1024193"></a> function automatically sets the value of the <code>pcCellView</code> variable to the cellview ID.</li><li>
<a id="pgfId-1024197"></a>The <code>tcCellView</code><a id="marker-1024195"></a> variable when <code>rodGetObj</code> is in a <a href="../ascitechfile/chap7.html#tcCreateCDSDeviceClass">tcCreateCDSDeviceClass</a> function call. The <code>tcCreateDeviceClass</code><a id="marker-1024198"></a> function automatically sets the value of the <code>tcCellView</code> variable to the cellview ID.</li></ul>

<p>
<a id="pgfId-1024199"></a>For convenience, you might want to assign these internal variables to a variable with a shorter name, for example <br /><code>cv = pcCellView<br /></code>or<br /><code>cv = tcCellView</code></p>
<p>
<a id="pgfId-1024200"></a>You can access information about the attributes of ROD objects by using the ROD object ID and the database access operator (<code>~&gt;</code>). For detailed information about how to do so, see <a href="chap2.html#16955">Accessing ROD Object Attributes</a>.</p>

<h4>
<a id="pgfId-1024206"></a><a id="16971"></a>Problem 3-17 Accessing Coordinates without <a id="marker-1024205"></a>Hierarchy</h4>

<p>
<a id="pgfId-1024207"></a>The layout cellview <code>AAA</code> contains a shape named <code>polyRect</code>. The lower-left corner of <code>polyRect</code> is 3 units above and 3 units to the right of the coordinates 0:0 on the X and Y axes. The library name is <code>rodTestLib</code>. </p>
<p>
<a id="pgfId-1024208"></a>Assign the cellview ID for layout cellview <code>AAA</code> to the local variable <code>cv</code> and the coordinates of the lower-left corner of <code>polyRect</code> to the local variable <code>point1</code>. What is the value of <code>point1</code>?</p>
<p>
<a id="pgfId-1024242"></a></p>

<div class="webflare-div-image">
<img width="666" height="224" src="images/appA-18.gif" /></div>

<p>
<a id="pgfId-1024246"></a><a href="appA.html#39835">Solution 3-17 Accessing Coordinates without Hierarchy</a>.</p>

<h4>
<a id="pgfId-1024248"></a><a id="41128"></a>Problem 3-18 Accessing Coordinates through One Level of Hierarchy</h4>

<p>
<a id="pgfId-1024249"></a>The layout cellview <code>BBB</code> contains two instances of layout cellview <code>AAA</code>: <code>IA1</code> and <code>IA2</code>. Each instance of <code>AAA</code> contains the shape <code>polyRect</code>.</p>
<p>
<a id="pgfId-1024250"></a>Instance <code>IA1</code> is offset from the coordinates 0:0 by 6 units on the X axis and 3 units on the Y axis. Instance <code>IA2</code> is offset from 0:0 by 66 units and 3 units, respectively. The origin of shape <code>polyRect</code> is offset from the origin of each instance by 3 units and 3 units.</p>
<p>
<a id="pgfId-1024251"></a>Assign local variables <code>point1</code> and <code>point2</code> to the values of the <code>lowerLeft</code> point handles on the shape <code>polyRect</code> in instances <code>IA1</code> and <code>IA2</code>, respectively. What are the values of <code>point1</code> and <code>point2</code>?</p>

<p>
<a id="pgfId-1024316"></a></p>
<div class="webflare-div-image">
<img width="666" height="275" src="images/appA-19.gif" /></div>

<p>
<a id="pgfId-1024320"></a><a href="appA.html#20648">Solution 3-18 Accessing Coordinates through One Level of Hierarchy</a>.</p>

<h4>
<a id="pgfId-1024323"></a><a id="42429"></a>Problem 3-19 Accessing Coordinates through Two Levels of <a id="marker-1024322"></a>Hierarchy</h4>

<p>
<a id="pgfId-1024324"></a>The layout cellview <code>CCC</code> contains instance <code>IB1</code> of layout cellview <code>BBB</code>, and instance <code>IB1</code> contains instance <code>IA1</code> of <code>AAA</code>. The named shape <code>polyRect</code> is in instance <code>IA1</code>.</p>
<p>
<a id="pgfId-1024325"></a>Instance <code>IB1</code> is 3 units above and 6 units to the right of the coordinates 0:0. Instance <code>IA1</code> is offset from the origin of <code>IB1</code> by 6 units and 3 units. The shape <code>polyRect</code> is offset from the origin of <code>IA1</code> by 3 units and 3 units, respectively.</p>
<p>
<a id="pgfId-1024326"></a>Assign the value of the <code>lowerLeft</code> point handle for the shape <code>polyRect</code> to the local variable <code>point1</code>. What is the value of <code>point1</code>?</p>

<p>
<a id="pgfId-1024388"></a></p>
<div class="webflare-div-image">
<img width="666" height="364" src="images/appA-20.gif" /></div>

<p>
<a id="pgfId-1024541"></a><a href="appA.html#10009">Solution 3-19 Accessing Coordinates through Two Levels of Hierarchy</a>.</p>

<h3>
<a id="pgfId-1024555"></a><a id="75728"></a>Naming Shapes Using rodNameShape</h3>

<p>
<a id="pgfId-1024556"></a>Normally, you create named rectangles and paths using the <code>rodCreateRect</code>, <code>rodCreatePolygon</code>, and <code>rodCreatePath</code> functions, so you do not need to name them. But if you want to assign a name and create ROD object information for a shape that was created with a database function, such as <code>dbCreateRect</code>, <code>dbCreatePolygon</code>, or <code>dbCreatePath</code>, you can do so with the <a href="../rodskillref/chap1.html#rodNameShape">rodNameShape</a> function and the database ID of the shape. The <code>dbCreate</code> functions return the database ID of the newly created shape.</p>
<p>
<a id="pgfId-1024557"></a>If you are working interactively in the Virtuoso layout editor and the CIW and need the database ID for an unnamed shape, follow the steps below. Use variables to hold the value returned by each function.</p>
<p>
<a id="pgfId-1024559"></a>To get the <a id="marker-1024558"></a>database ID for a shape, do the following:</p>

<ol><li>
<a id="pgfId-1024560"></a>Select the shape in the layout cellview window.</li><li>
<a id="pgfId-1024561"></a>To get the cellview ID for a selected shape in the active cellview window, type in the CIW<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1024562">
<a id="pgfId-1024562"></a>cv = deGetCellView()</pre></li><li>
<a id="pgfId-1024563"></a>To return a list of the database IDs for the selected shapes (in this case, only one shape), type in the CIW:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1024564">
<a id="pgfId-1024564"></a>selset = geGetSelectedSet(cv)</pre></li><li>
<a id="pgfId-1024565"></a>To return the first element in the list (even though there is only one element), type in the CIW:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1024566">
<a id="pgfId-1024566"></a>dbId = car(selset)</pre></li></ol>












<h4>
<a id="pgfId-1024569"></a><a id="12967"></a>Problem 3-20 <a id="marker-1024568"></a>Naming a Polygon Created by dbCreatePolygon in a Pcell</h4>

<p>
<a id="pgfId-1024570"></a>The polygon shown in this problem was created inside a Pcell with the <code>dbCreatePolygon</code> function. The <code>dbCreatePolygon</code> function returns the database ID of the new polygon. In this problem, the polygon ID is stored in the variable <span class="webflare-courier-new" style="white-space:pre"><em>polyDbId</em></span>.</p>
<p>
<a id="pgfId-1024571"></a>Verify that the name <code>testName</code> is a valid name and that it has not been used in the cellview. Then assign the name <code>testName</code> to the unnamed polygon. Use a variable to save the value returned by the <code>rodNameShape</code> function.</p>

<p>
<a id="pgfId-1024590"></a> </p>
<div class="webflare-div-image">
<img width="668" height="157" src="images/appA-21.gif" /></div>

<p>
<a id="pgfId-1024594"></a><a href="appA.html#35896">Solution 3-20 Naming a Polygon Created in a Pcell</a></p>

<h4>
<a id="pgfId-1024597"></a><a id="40604"></a>Problem 3-21 <a id="marker-1024596"></a>Naming a Shape Created in the CIW and Layout Window</h4>

<p>
<a id="pgfId-1024598"></a>You are working interactively in a layout cellview window and the CIW. You used the layout editor to create the ordinary, unnamed rectangle. Assign the name <code>rectA</code> to the shape, using variables for values returned by functions.</p>

<p>
<a id="pgfId-1024617"></a> </p>
<div class="webflare-div-image">
<img width="668" height="190" src="images/appA-22.gif" /></div>

<p>
<a id="pgfId-1024547"></a><a href="appA.html#38767">Solution 3-21 Naming a Shape Created in the CIW and Layout Window</a></p>

<h3>
<a id="pgfId-1024644"></a><a id="19172"></a>Unaligning All Zero-level Shapes in a Cellview Using rodUnAlign</h3>

<p>
<a id="pgfId-1025293"></a>To remove the alignments from all zero-level ROD shapes in a cellview using the <a href="../rodskillref/chap1.html#rodUnAlign">rodUnAlign</a> function, run the procedure shown below. This procedure does not remove alignments from shapes at levels in the hierarchy other than zero. </p>

<ol><li>
<a id="pgfId-1025294"></a>Set the variable <span class="webflare-courier-new" style="white-space:pre"><em>cvId</em></span> equal to the desired cellview ID by using your library name for <span class="webflare-courier-new" style="white-space:pre"><em>library</em></span> and your cell name for <span class="webflare-courier-new" style="white-space:pre"><em>cell</em></span>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025295">
<a id="pgfId-1025295"></a>cvId = dbOpenCellViewByType( &quot;<code><em>library</em></code>&quot; &quot;<code><em>cell</em></code>&quot; &quot;layout&quot; )</pre></li><li>
<a id="pgfId-1025296"></a>Load the following procedure:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025297">
<a id="pgfId-1025297"></a>;
; ExUnAlignShapes -- removes alignments from all zero-level ROD
; shapes in cellview
;
procedure( ExUnAlignShapes( cvId )
    prog( ( shapelist shape rodId )
        ; Get list of all shapes in cellview
        shapelist = cvId~&gt;shapes
        if(shapelist then
            ; For each shape in cellview, get rodID
            foreach( shape shapelist
                if( rodId = rodGetObj( shape ) then
                    ; The shape is a ROD object because the ROD ID
                    ; is not nil; remove all associated alignments.
                    rodUnAlign( rodId )
                ) ;end if rodID
            ) ;end foreach
        ) ;end if shapelist
    ) ;end prog
) ;end procedure</pre></li><li>
<a id="pgfId-1025298"></a>Execute the procedure using the cellview ID:</li></ol>









<p>
<a id="pgfId-1025275"></a>ExUnAlignShapes(cvId)</p>

<h3>
<a id="pgfId-1025330"></a><a id="71657"></a>Unnaming All Named Shapes in a Cellview Using rodUnNameShape</h3>

<p>
<a id="pgfId-1025358"></a>To remove the names from all named shapes in a cellview using the <a href="../rodskillref/chap1.html#rodUnNameShape">rodUnNameShape</a> function, run the procedure shown below. </p>

<ol><li>
<a id="pgfId-1025359"></a>Set the variable <span class="webflare-courier-new" style="white-space:pre"><em>cvId</em></span> equal to the desired cellview ID by using your library name for <span class="webflare-courier-new" style="white-space:pre"><em>library</em></span> and your cell name for <span class="webflare-courier-new" style="white-space:pre"><em>cell</em></span>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025360">
<a id="pgfId-1025360"></a>cvId = dbOpenCellViewByType( &quot;<code><em>library</em></code>&quot; &quot;<code><em>cell</em></code>&quot; &quot;layout&quot; )</pre></li><li>
<a id="pgfId-1025361"></a>Load the following procedure:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025362">
<a id="pgfId-1025362"></a>;
; ExUnNameAll -- removes ROD names from all ROD objects in cellview
;
procedure( ExUnNameAll( cvId )
    prog( ( shapelist shape rodId )
        ; Get list of all shapes in cellview
        shapelist = cvId~&gt;shapes
        if( shapelist then
            ; For each shape in the cellview,get rodID
            foreach( shape shapelist
                 rodId = rodGetObj( shape )
                    ; if it has a rodId (ie., is a ROD object)
                    ; then remove it&#8217;s ROD name
                    if( rodId then
                        rodUnNameShape( rodId )
                    ) ;end if rodId
            ) ;end foreach
        ) ;end if shapelist
    ) ;end prog
) ;end procedure</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1025363">
<a id="pgfId-1025363"></a></pre></li><li>
<a id="pgfId-1025364"></a>Execute the procedure using the cellview ID:</li></ol>










<p>
<a id="pgfId-1025318"></a>ExUnNameAll(cvId)</p>

<h3>
<a id="pgfId-1026300"></a>Converting Multipart Path to Polygon Using dbConvertPathToPolygon </h3>

<p>
<a id="pgfId-1026392"></a>By default, it is not possible to edit a subpart of a multipart path (MPP) individually, and you need to use defining parameters of the MPP to make changes to the whole structure. However, if the <span class="webflare-courier-new" style="white-space:pre"><em>dbId</em></span> supplied to the <code>dbConvertPathToPolygon</code><a id="marker-1026530"></a> function is an MPP subpath ID, then the MPP subpath will be converted to a polygon and removed from the complex MPP structure.</p>

<h2>
<a id="pgfId-1025246"></a><a id="15290"></a>Solutions to Problems</h2>

<p>
<a id="pgfId-1024645"></a>Here are solutions to the problems presented in this chapter. </p>
<p>
<a id="pgfId-1024649"></a><a href="appA.html#23293">Solutions for rodAlign</a></p>
<p>
<a id="pgfId-1024653"></a><a href="appA.html#16065">Solutions for rodCreateHandle</a></p>
<p>
<a id="pgfId-1024657"></a><a href="appA.html#16409">Solutions for rodCreatePath</a></p>
<p>
<a id="pgfId-1024661"></a><a href="appA.html#25357">Solutions for rodCreateRect</a></p>
<p>
<a id="pgfId-1024665"></a><a href="appA.html#42291">Solutions for rodGetObj</a></p>

<h3>
<a id="pgfId-1024667"></a><a id="23293"></a>Solutions for rodAlign</h3>
<h4>
<a id="pgfId-1024670"></a><a id="24498"></a>Solution 3-1 <a id="marker-1024669"></a>Aligning an Object to a Point</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024671"></a>rodAlign(   ?alignObj        rodGetObj(&quot;boundary&quot;)<br />            ?alignHandle     &quot;lowerLeft&quot;<br />            ?refPoint        15:10<br />) ;end of rodAlign</pre>

<p>
<a id="pgfId-1024672"></a>For the <code>rodGetObj</code> function, you let the cellview ID default to the local variable <code>pcCellView</code>, because the statement is in the body of Pcell code<span class="webflare-courier-new" style="white-space:pre"><em>.</em></span></p>
<p>
<a id="pgfId-1024673"></a>There is no separation between the <code>lowerLeft</code> point handle and the reference point because the <span class="webflare-courier-new" style="white-space:pre"><em>txf_xSep</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>txf_ySep</em></span> arguments defaulted to zero. You can align a named object directly to a specific point by specifying a value for the reference point argument <span class="webflare-courier-new" style="white-space:pre"><em>l_refPoint</em></span>. </p>
<p>
<a id="pgfId-1024674"></a>When you specify a reference point, you do not have to specify a reference object (<span class="webflare-courier-new" style="white-space:pre"><em>R_refObj</em></span>) and a reference handle (<span class="webflare-courier-new" style="white-space:pre"><em>S_refHandle</em></span>). If you specify a reference point and also specify a reference object (with or without specifying a reference handle), the value of the reference point overrides the values for reference object and reference handle.</p>
<p>
<a id="pgfId-1024678"></a>Return to <a href="appA.html#32398">Problem 3-1 Aligning an Object to a Point</a>.</p>

<h4>
<a id="pgfId-1024681"></a><a id="25467"></a>Solution 3-2 <a id="marker-1024680"></a>Aligning Two Rectangles at the Same Level of Hierarchy</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024682"></a>cvId = deGetCellView()<br />rodAlign(   ?alignObj        rodGetObj(&quot;polyRect&quot; cvId)<br />            ?refObj          rodGetObj(&quot;activeRect&quot; cvId)<br />) ;end of rodAlign</pre>

<p>
<a id="pgfId-1024683"></a>To get the ROD object IDs for <code>polyRect</code> and <code>activeRect</code> using the <code>rodGetObj</code> function, you need the cellview ID. The reference handle arguments (<span class="webflare-courier-new" style="white-space:pre"><em>S_refHandle</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>S_alignHandle</em></span>) default to the value <code>centerCenter</code> for both rectangles, so the center of <code>polyRect</code> is aligned to the center of the reference object <code>activeRect</code>. The <span class="webflare-courier-new" style="white-space:pre"><em>txf_xSep</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>txf_ySep</em></span> arguments default to zero, so the centers of the two rectangles are on the same point. The <span class="webflare-courier-new" style="white-space:pre"><em>g_maintain</em></span> argument defaults to <code>t</code>, so this alignment is maintained. </p>
<p>
<a id="pgfId-1024687"></a>Return to <a href="appA.html#33457">Problem 3-2 Aligning Two Rectangles at the Same Level of Hierarchy</a>.</p>

<h4>
<a id="pgfId-1024690"></a><a id="40702"></a>Solution 3-3 <a id="marker-1024689"></a>Moving an Object with rodAlign</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024691"></a>rodAlign(    ?alignObj        rodGetObj(&quot;boundary&quot;)<br />             ?alignHandle     &quot;lowerCenter&quot;<br />             ?refObj          rodGetObj(&quot;activeRect&quot;)<br />             ?refHandle       &quot;upperLeft&quot;<br />             ?ySep            6.0<br />             ?maintain        nil<br />) ;end of rodAlign</pre>

<p>
<a id="pgfId-1024692"></a>When you specify <span class="webflare-courier-new" style="white-space:pre"><em>g_maintain</em></span> as equal to <code>nil</code>, the alignment operation behaves like a move. No alignment information is saved after the <code>rodAlign</code> function completes.</p>
<p>
<a id="pgfId-1024696"></a>Return to <a href="appA.html#32840">Problem 3-3 Moving an Object with rodAlign</a>.</p>

<h4>
<a id="pgfId-1024699"></a><a id="36828"></a>Solution 3-4 <a id="marker-1024698"></a>Aligning Objects at Different Levels in the Hierarchy</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024700"></a>tfId = techGetTechFile( pcCellView )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024701"></a>rodAlign(  ?alignObj         rodGetObj(&quot;nTran1/rect0&quot;)<br />           ?alignHandle      &quot;centerRight&quot;<br />           ?refObj           rodGetObj(&quot;nTran2/rect0&quot;)<br />           ?refHandle        &quot;centerLeft&quot;<br />           ?xSep <br />             &quot;-techGetSpacingRule(tfId \&quot;<code>minSpacing\</code>&quot; \&quot;metal1\&quot;)&quot;<br />) ;end of rodAlign</pre>

<p>
<a id="pgfId-1024702"></a>The rectangles were specified by their hierarchical names <code>nTran1/rect0</code> and <code>nTran2/rect0</code>. Separation along the Y axis defaulted to zero. Separation along the X axis is negative, so the aligned object is moved to the left of the reference object by the distance specified in the <code>minSpacing</code> rule for the <code>metal1</code> layer. The alignment will be maintained because the <span class="webflare-courier-new" style="white-space:pre"><em>g_maintain</em></span> argument defaulted to <code>t</code>.</p>
<p>
<a id="pgfId-1024703"></a>The <code>techGetSpacingRule</code> expression is enclosed in quotation marks so that whenever the <code>minSpacing</code> rule for the <code>metal1</code> layer changes in your technology file, the system updates the alignment using the new rule. If you do not enclose the whole expression in double quotations marks, the system evaluates the expression immediately and uses the result from then on. Be sure to include a backslash in front of each double quotation mark within the string to prevent the system from interpreting it as the end of the string.</p>
<p>
<a id="pgfId-1024706"></a>For more detailed information about accessing design rules, see <a href="appC.html#17456">Using Design Rules in ROD Functions</a>.</p>
<p>
<a id="pgfId-1024711"></a>Return to <a href="appA.html#39583">Problem 3-4 Aligning Objects at Different Levels in the Hierarchy</a>.</p>

<h3>
<a id="pgfId-1024713"></a><a id="16065"></a>Solutions for rodCreateHandle</h3>
<h4>
<a id="pgfId-1024716"></a><a id="27551"></a>Solution 3-5a <a id="marker-1024715"></a>Creating a Point Handle for a Cellview</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024717"></a>cvId1 = dbOpenCellViewByType( &quot;<code>cellLib</code>&quot; &quot;<code>AAA</code>&quot; &quot;layout&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024718"></a>rodId = rodGetObj( &quot;&quot; cvId1 )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024719"></a>rodCreateHandle( ?name    &quot;originAAA&quot;<br />                 ?type    &quot;point&quot;<br />                 ?value    0:0<br />                 ?rodObj   rodId<br />) ; end rodCreateHandle</pre>

<p>
<a id="pgfId-1024720"></a>First, you need the ROD object ID for the cellview, and to get it, you need the cellview ID. You can use <code>dbOpenCellViewByType</code> to get the cellview ID. Get the ROD object ID for the cellview with <a href="../rodskillref/chap1.html#rodGetObj">rodGetObj</a>, where the name of the cellview is represented by a null string.</p>
<p>
<a id="pgfId-1024724"></a>Return to <a href="appA.html#18610">Problem 3-5a Creating a Point Handle for a Cellview</a>.</p>
<p>
<a id="pgfId-1025873"></a>For more informarion, see <a href="../rodskillref/chap1.html#rodCreateHandle">rodCreateHandle</a> in the <em>Virtuoso Relative Object Design SKILL Reference</em>.</p>

<h4>
<a id="pgfId-1024727"></a><a id="41049"></a>Solution 3-5b <a id="marker-1024726"></a>Querying a Point Handle for a Cellview</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024728"></a>cvId2 = dbOpenCellViewByType( &quot;<code>cellLib</code>&quot; &quot;<code>BBB</code>&quot; &quot;layout&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024729"></a>rodId = rodGetObj( &quot;IA1&quot; cvId2 )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024730"></a>origin = rodID~&gt;originAAA</pre>

<p>
<a id="pgfId-1024731"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024732"></a>origin = rodGetObj( &quot;IA1&quot; cvId2 )~&gt;originAAA</pre>

<p>
<a id="pgfId-1024733"></a>First, get the ID for cellview BBB. Then either set a variable equal to the ROD object ID for cellview BBB and query the variable, or perform both actions in a single statement. The value of <code>originAAA</code> in the coordinate system of cellview BBB is 3:3.</p>
<p>
<a id="pgfId-1024737"></a>Return to <a href="appA.html#16668">Problem 3-5b Querying a Point Handle for a Cellview</a>.</p>

<h4>
<a id="pgfId-1024740"></a><a id="37808"></a>Solution 3-6 <a id="marker-1024739"></a>Querying a System-Assigned Handle Name</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024741"></a>cvId = dbOpenCellViewByType( &quot;<code>cellLib</code>&quot; &quot;<code>myCell</code>&quot; &quot;layout&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024742"></a>rodId = rodGetObj( &quot;&quot; cvId )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024743"></a>rodId~&gt;userHandleNames</pre>

<p>
<a id="pgfId-1025861"></a>You can use the database access operator (<code>~&gt;</code>) and the ROD object ID to <h-hot><a actuate="user" class="URL" href="../roduser/chap2.html#userHandleNames" show="replace" xml:link="simple">query the value of ROD object attributes</a></h-hot>. The last name assigned by the system to a user-defined handle is at the end of the list of user handle names.</p>
<p>
<a id="pgfId-1025866"></a>Return to <a href="appA.html#36924">Problem 3-6 Querying a System-Assigned Handle Name</a>.</p>

<h3>
<a id="pgfId-1025868"></a><a id="16409"></a>Solutions for rodCreatePath</h3>
<h4>
<a id="pgfId-1024754"></a><a id="19721"></a>Solution 3-7 <a id="marker-1024753"></a>Create a Multipart Path with an Offset Subpath on the Right</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024755"></a>rodCreatePath(<br />        ?name            &quot;p1&quot;<br />        ?layer           &quot;nwell&quot;<br />        ?width           0.6<br />        ?pts             list(2:2 8:2 8:6 10:6)<br />        ?endType        &quot;flush&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024756"></a>        ?offsetSubPath   list( <br />                                 list(  ?layer           &quot;metal2&quot;<br />                                        ?width           0.8<br />                                        ?justification   &quot;right&quot;<br />                                        ?sep             1.0<br />                                      ) ; end of sublist<br />                            ) ; end of offset subpath list</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024757"></a>) ; end rodCreatePath</pre>

<p>
<a id="pgfId-1024758"></a>For both the master path and the offset path, the layer purpose defaults to <code>drawing</code>. The master path is choppable because <span class="webflare-courier-new" style="white-space:pre"><em>g_choppable</em></span> defaults to <code>t</code>.</p>
<p>
<a id="pgfId-1024759"></a>Because <span class="webflare-courier-new" style="white-space:pre"><em>S_justification</em></span> is set to <code>right</code>, the offset subpath appears on the right side of the master path, relative to the direction of the master path.</p>
<p>
<a id="pgfId-1024763"></a>For more information, see <a href="../rodskillref/chap1.html#rodCreatePolygon">rodCreatePolygon</a> or <code>rodCr</code><a actuate="user" class="URL" href="../rodskillref/chap1.html#rodCreatePath" show="replace" xml:link="simple"></a>eatePath in the <em>Virtuoso Relative Object Design SKILL Reference</em>.</p>

<h3>
<a id="pgfId-1024765"></a><a id="25357"></a>Solutions for rodCreateRect</h3>
<h4>
<a id="pgfId-1024767"></a><a id="28313"></a>Solution 3-8 Create One Rectangle with n_width and n_length</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024768"></a>tfId = techGetTechFile( pcCellView )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024769"></a>rodCreateRect(<br />    ?name     &quot;minMetal&quot;<br />    ?width    3<br />    ?layer    &quot;metal1&quot;<br />    ?length   2 * techGetSpacingRule( tfId &quot;minWidth&quot; &quot;metal1&quot; )<br />) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024770"></a>The layer purpose defaults to <code>drawing</code>. To use minimum width in a calculation, you must refer to the technology file rule for minimum width directly. Do this by using the <code>techGetSpacingRule</code> function with the standard user-defined name for minimum width, <code>minWidth</code>, and the layer name, <code>metal1</code>. Let the origin of the rectangle default to <code>0:0</code>.</p>
<p>
<a id="pgfId-1024774"></a>Return to <a href="appA.html#11056">Problem 3-8 Create One Rectangle with n_width and n_length</a>.</p>
<p>
<a id="pgfId-1025944"></a>For more information, see <a href="../rodskillref/chap1.html#rodCreateRect">rodCreateRect</a> in the <em>Virtuoso Relative Object Design SKILL Reference</em>.</p>

<h4>
<a id="pgfId-1024777"></a><a id="20939"></a>Solution 3-9 <a id="marker-1024776"></a>Create One Rectangle with l_bBox</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024778"></a>tfId = techGetTechFile( pcCellView )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024779"></a>rodCreateRect(   ?name       &quot;minMetal&quot;<br />                 ?bBox       list( 2:2 8:5 )<br />                 ?layer      &quot;metal1&quot;<br />) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024780"></a>The rectangle is 6 by 3 with its origin at 2:2, and the upper-right corner is <br />at 8:5. </p>
<p>
<a id="pgfId-1024784"></a>Return to <a href="appA.html#34795">Problem 3-9 Create One Rectangle with l_bBox</a>.</p>

<h4>
<a id="pgfId-1024787"></a><a id="41597"></a>Solution 3-10 <a id="marker-1024786"></a>Create a Single Row or Column of Rectangles</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024788"></a>rodCreateRect(<br />        ?name        &quot;<code>minMetal</code>&quot;<br />        ?layer       &quot;<code>metal1</code>&quot;<br />        ?elementsX   <code>9<br /></code>) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024789"></a>Because the rectangle width and space between rectangles was not specified, the system automatically retrieves the minimum width and minimum design rules for the <code>metal1</code> layer from your technology file. </p>
<p>
<a id="pgfId-1024792"></a>Return to <a href="appA.html#28780">Problem 3-10 Create a Multipart Rectangle with One Row/Column of Master Rectangles</a>.</p>

<h4>
<a id="pgfId-1024796"></a><a id="10458"></a>Solution 3-11 <a id="marker-1024795"></a>Create Multiple Rows and Columns of Rectangles</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024797"></a>tfId = techGetTechFile( pcCellView )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024798"></a>rodCreateRect( ?name&#160;&#160;       &quot;<code>polyRect</code>&quot;<br />               ?layer        &quot;poly&quot;<br />               ?elementsX    <code>5<br /></code>               ?elementsY    <code>4<br /></code>               <code>?origin       list( 3 6 )<br /></code>               ?spaceX       <br />                   techGetSpacingRule( tfId &quot;minSpacing&quot; &quot;poly&quot; ) + 3<br />               ?space<code>Y&#160;&#160;&#160;&#160;  <br /></code>                   techGetSpacingRule( tfId &quot;minSpacing&quot; &quot;poly&quot; )<code> </code>+ <code>6<br /></code>) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024799"></a>For rectangle size, let the system use the minimum width for the <code>poly</code> layer from the technology file for both width and length. Set a local variable equal to the technology file ID.</p>
<p>
<a id="pgfId-1024800"></a>Use the <code>techGetSpacingRule</code> function to get the minimum space between rectangles for the <code>poly</code> layer. Let the cellview ID default to the variable <code>pcCellView</code>, because the statement is executed inside of a Pcell. </p>
<p>
<a id="pgfId-1024803"></a>Return to <a href="appA.html#13353">Problem 3-11 Create a Multipart Rectangle with Multiple Rows/Columns of Master Rectangles</a>.</p>

<h4>
<a id="pgfId-1024807"></a><a id="30983"></a>Solution 3-12 <a id="marker-1024806"></a>Fill a Bounding Box with Rectangles</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024808"></a>rodCreateRect(&#160;&#160;     ?name        &quot;<code>polyRect</code>&quot;<br />                     ?layer       &quot;poly&quot;<br />                     ?fillBBox    list( 2:2 20:12 )<br />                     ?spaceX      2.0<br />) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024809"></a>Let the rectangle width and length default to the minimum design rules in the technology file for the poly layer and the distance between rectangles along the Y axis default to the value of the <span class="webflare-courier-new" style="white-space:pre"><em>n_spaceX</em></span> argument. The layer purpose defaults to <code>drawing</code>. </p>
<p>
<a id="pgfId-1024813"></a>Return to <a href="appA.html#12037">Problem 3-12 Fill a Bounding Box with Master Rectangles</a>.</p>

<h4>
<a id="pgfId-1024816"></a><a id="25873"></a>Solution 3-13 <a id="marker-1024815"></a>Partially Fill a Bounding Box with Rectangles</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024817"></a>tfId = techGetTechFile( pcCellView )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024818"></a>rodCreateRect(      <br />        ?fillBBox    list( 0:0 18:10 )<br />        ?layer       list( &quot;metal1&quot; &quot;drawing&quot; )<br />        ?elementsX   3<br />        ?elementsY   2<br />        ?bBox        <code>list( list(0 0) list(2 2)) <br /></code>        ?spaceY      <br />                techGetSpacingRule( tfId &quot;minSpacing&quot; &quot;metal1&quot; )<br />        ?spaceX      <br />                techGetSpacingRule( tfId &quot;minSpacing&quot; &quot;metal1&quot; ) * 2<br />) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024819"></a>This is the first time rectangles were created in the cellview, so the names of the rectangles default to <code>rect0.</code><span class="webflare-courier-new" style="white-space:pre"><em>x.y</em></span>. The system did not use the values for <span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span> to determine the location of the first rectangle because using the <span class="webflare-courier-new" style="white-space:pre"><em>l_fillBBox</em></span> argument always causes the first rectangle to be placed in the lower-left corner of the fill-bounding box. </p>
<p>
<a id="pgfId-1024820"></a>Use the <code>techGetSpacingRule</code> function to retrieve the minimum design rule for the <code>metal1</code> layer. </p>
<p>
<a id="pgfId-1024824"></a>Return to <a href="appA.html#42016">Problem 3-13 Partially Fill a Bounding Box with Master Rectangles</a>.</p>

<h4>
<a id="pgfId-1024827"></a><a id="39042"></a>Solution 3-14 <a id="marker-1024826"></a>Overfill a Bounding Box with Rectangles</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024828"></a>rodCreateRect(     <br />        ?fillBBox    list( 0:0 18:10 )<br />        ?layer       &quot;metal1&quot;<br />        ?elementsX   6<br />        ?elementsY   4<br />        ?spaceX      2.5<br />        ?spaceY      2.0<br />) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024829"></a>This is the second time rectangles were created in the cellview, so the names of the rectangles default to <code>rect2.</code><span class="webflare-courier-new" style="white-space:pre"><em>x.y</em></span>. When you use the <span class="webflare-courier-new" style="white-space:pre"><em>l_fillBBox</em></span> argument, the system always places the first rectangle in the lower-left corner of the fill-bounding box. The width and length of the rectangles defaults to the minimum width for the <code>metal1</code> layer from the technology file, which is 2.0.</p>
<p>
<a id="pgfId-1024830"></a>The number of rectangles specified with the <span class="webflare-courier-new" style="white-space:pre"><em>n_elements</em></span> arguments, combined with the distance between them, exceeds the space in the fill-bounding box, so the system creates <em>only as many rectangles as fit inside the box</em>. In this case, the system creates four columns and three rows of rectangles.</p>
<p>
<a id="pgfId-1024834"></a>Return to <a href="appA.html#16666">Problem 3-14 Overfill a Bounding Box with Master Rectangles</a>.</p>

<h4>
<a id="pgfId-1024837"></a><a id="25145"></a>Solution 3-15 <a id="marker-1024836"></a>Create a Single Rectangle on a Terminal and Net</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024838"></a>rodCreateRect(   ?name            &quot;termFig&quot;<br />                 ?layer           &quot;metal1&quot;<br />                 ?termName        &quot;Aout&quot;<br />                 ?termIOType      &quot;output&quot;<br />) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024839"></a>The layer purpose defaults to <code>drawing</code>. The origin of the rectangle defaults to <code>0:0</code>. The rectangle <code>termFig</code> is now associated with the terminal and net <code>Aout</code>. </p>
<p>
<a id="pgfId-1024842"></a>Return to <a href="appA.html#27529">Problem 3-15 Create a Single Named Rectangle on a Terminal and Net</a>.</p>

<h4>
<a id="pgfId-1024846"></a><a id="26665"></a>Solution 3-16 <a id="marker-1024845"></a>Create a Rectangular Pin</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024847"></a>tfId = techGetTechFile( pcCellView )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024848"></a>localMinWidth = techGetSpacingRule( tfId &quot;minWidth&quot; &quot;poly&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024849"></a>ptUR = rodGetObj( &quot;trans1&quot; )~&gt;upperRight</pre>
<a id="pgfId-1024850"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
rodCreateRect(
?name       &quot;polyPin&quot;
?pin        t
?termName   &quot;InOut0&quot;
?layer      list( &quot;poly&quot; &quot;pin&quot; )
?pinLabel   t</pre>
<a id="pgfId-1024851"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
    ?bBox    list( list( rodPointX( ptUR ) - localMinWidth</pre>
<a id="pgfId-1024852"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
                         rodPointY( ptUR ) - localMinWidth
                  ) ; list for value of lower-left corner
              ptUR   ; value of upper-right corner
              ; end of bBox list of points
) ; end of rodCreateRect</pre>

<p>
<a id="pgfId-1024853"></a>First, the technology file ID is set equal to the variable <code>tfId</code>, and the local variable <code>localMinWidth</code> is set equal to the minimum width rule from the technology file for the <code>poly</code> layer. Then, the local variable <code>ptUR</code> is set equal to the coordinates of the upper-right corner of the bounding box around the object <code>trans1</code>, using the <code>rodGetObj</code> function. The upper-right corner of the pin has the same coordinates.</p>
<p>
<a id="pgfId-1024854"></a>In the <code>rodCreateRect</code> statement, set the <span class="webflare-courier-new" style="white-space:pre"><em>g_pin</em></span> argument to <code>t</code> for true to create a pin. Let the pin access direction default to <code>inputOutput</code>. Set <span class="webflare-courier-new" style="white-space:pre"><em>g_pinLabel</em></span> to <code>t</code> to create a pin text-display label. The text of the label is the contents of the <span class="webflare-courier-new" style="white-space:pre"><em>S_termName</em></span> argument, <code>InOut0</code>. The location of the origin of the text-display label defaulted to <code>centerCenter</code>.</p>
<p>
<a id="pgfId-1024855"></a>Next, compute the coordinates for the lower-left corner of the pin bounding box as follows:</p>
<ul><li>
<a id="pgfId-1024856"></a>To compute the X coordinate, use the <code>rodAddToX</code> function to subtract the minimum width for the poly layer from the X coordinate of <code>ptUR</code>.</li><li>
<a id="pgfId-1024857"></a>To compute the Y coordinate, use the <code>rodAddToY</code> function to subtract the minimum width for the poly layer from the Y coordinate of <code>ptUR</code>.</li></ul>

<p>
<a id="pgfId-1024858"></a>For the upper-right corner of the pin bounding box, use the value of the <code>ptUR</code> variable, the same point as the upper-right corner of <code>trans1</code>. </p>
<p>
<a id="pgfId-1024862"></a>Return to <a href="appA.html#31684">Problem 3-16 Create a Rectangular Pin</a>.</p>

<h3>
<a id="pgfId-1024864"></a><a id="42291"></a>Solutions for rodGetObj</h3>
<h4>
<a id="pgfId-1024867"></a><a id="39835"></a>Solution 3-17 <a id="marker-1024866"></a>Accessing Coordinates without Hierarchy</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024868"></a>cv = dbOpenCellViewByType( <br />                    &quot;rodTestLib&quot; &quot;AAA&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;a&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024869"></a>point1 = rodGetObj( &quot;polyRect&quot; cv )~&gt;lowerleft</pre>

<p>
<a id="pgfId-1024870"></a>There is no hierarchy in layout cellview <code>AAA</code>.</p>
<p>
<a id="pgfId-1024871"></a>First, you used the database function <code>dbOpenCellViewByType</code> to get the cellview ID for <code>AAA</code>. Then you got the ROD object ID for the object <code>polyRect</code> and used the database access operator (<code>~&gt;</code>) to retrieve the system-defined point handle for the lower-left corner. </p>
<p>
<a id="pgfId-1024872"></a>The <code>lowerLeft</code> point handle is at 3:3, so <code>point1</code> = 3:3.</p>
<p>
<a id="pgfId-1026022"></a>For more information, see <a href="../rodskillref/chap1.html#rodGetObj">rodGetObj</a> in the <em>Virtuoso Relative Object Design SKILL Reference</em>.</p>
<p>
<a id="pgfId-1024876"></a>Return to <a href="appA.html#16971">Problem 3-17 Accessing Coordinates without Hierarchy</a>.</p>

<h4>
<a id="pgfId-1024879"></a><a id="20648"></a>Solution 3-18 <a id="marker-1024878"></a>Accessing Coordinates through One Level of Hierarchy</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024880"></a>cv = dbOpenCellViewByType( <br />                    &quot;rodTestLib&quot; &quot;BBB&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;a&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024881"></a>point1 = rodGetObj( &quot;IA1/polyRect&quot; cv )~&gt;lowerLeft</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024882"></a>point2 = rodGetObj( &quot;IA2/polyRect&quot; cv )~&gt;lowerLeft</pre>

<p>
<a id="pgfId-1024883"></a>There is one level of hierarchy. The coordinates of the lower-left corner of <code>polyRect</code> are 9:6 for instance <code>IA1</code> and 69:6 for instance <code>IA2</code>, so <br /><code>point1</code> = 9:6 and <code>point2</code> = 69:6. </p>
<p>
<a id="pgfId-1024887"></a>Return to <a href="appA.html#41128">Problem 3-18 Accessing Coordinates through One Level of Hierarchy</a>.</p>

<h4>
<a id="pgfId-1024892"></a><a id="10009"></a>Solution 3-19 <a id="marker-1024889"></a>Accessing <a id="marker-1024890"></a>Coordinates through Two <a id="marker-1024891"></a>Levels of Hierarchy</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024893"></a>cv = dbOpenCellViewByType( <br />                    &quot;rodTestLib&quot; &quot;CCC&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;a&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024894"></a>point1 = rodGetObj( &quot;IB1/IA1/polyRect&quot; cv )~&gt;lowerLeft</pre>

<p>
<a id="pgfId-1024895"></a>There are two levels of hierarchy. The coordinates of the lower-left corner of <code>polyRect</code> are 15:9, so <code>point1</code> = 15:9.</p>
<p>
<a id="pgfId-1024898"></a>Return to <a href="appA.html#42429">Problem 3-19 Accessing Coordinates through Two Levels of Hierarchy</a>.</p>

<h3>
<a id="pgfId-1024900"></a><a id="45708"></a>Solutions for rodNameShape</h3>
<h4>
<a id="pgfId-1024903"></a><a id="35896"></a>Solution 3-20 <a id="marker-1024902"></a>Naming a Polygon Created in a Pcell </h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024904"></a>cvId =       deGetCellView()<br />testName =   &quot;abcde&quot;<br />rodId = if( <br />            rodIsFigNameUnused( testName cvId )<br />        then<br />            rodNameShape(<br />                          ?name       testName<br />                          ?shapeId    polyDbId<br />                         ) ;end rodNameShape<br />        ) ;end if</pre>

<p>
<a id="pgfId-1024905"></a>To verify whether the name <code>testName</code> has already been used in the cellview, you need the cellview ID. </p>
<p>
<a id="pgfId-1026011"></a>The local variable <span class="webflare-courier-new" style="white-space:pre"><em>polyDbId</em></span> was set equal to the database ID for the polygon when it was created, so you can use <span class="webflare-courier-new" style="white-space:pre"><em>polyDbId</em></span> in your <code>rodNameShape</code> statement. You can specify a name as a character string enclosed in quotation marks or as a symbol preceded by a single quotation mark (&#39;). The <code>rodNameShape</code> function returns the ROD object ID for the shape you named.</p>
<p>
<a id="pgfId-1026013"></a>For more information, see <a href="../rodskillref/chap1.html#rodNameShape">rodNameShape</a> in the <em>Virtuoso Relative Object Design SKILL Reference</em>.</p>
<p>
<a id="pgfId-1026016"></a>Return to <a href="appA.html#12967">Problem 3-20 Naming a Polygon Created by dbCreatePolygon in a Pcell</a>.</p>

<h4>
<a id="pgfId-1024914"></a><a id="38767"></a>Solution 3-21 <a id="marker-1024913"></a>Naming a Shape Created in the CIW and Layout Window</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1024915"></a>cvId = deGetCellView()<br />selSet = geGetSelectedSet(cvId)<br />dbId = car(selSet)<br />rectRodId = rodNameShape(?name &quot;rectA&quot; ?shapeId dbId)</pre>

<p>
<a id="pgfId-1024916"></a>First, you must select the unnamed shape in the active cellview window by clicking on it. Then, get the cellview ID (<code>cvId</code>) using <code>deGetCellView()</code>. Use <code>cvId</code> with <code>geGetSelectedSet</code> to return a list of the database IDs for all objects in the selected set (in this case, just one object). </p>
<p>
<a id="pgfId-1024917"></a>Use the variable containing the list of database IDs (<code>selSet</code>) with the <code>car</code> Cadence SKILL language function to get the first database ID in the list (<code>dbId</code>). Use <code>dbId</code> to identify the shape you want to rename with <code>rodNameShape</code>.</p>
<p>
<a id="pgfId-1024920"></a>Return to <a href="appA.html#40604">Problem 3-21 Naming a Shape Created in the CIW and Layout Window</a>.</p>

<h4>
<a id="pgfId-1024924"></a><a id="52078"></a>Problem 3-7 <a id="marker-1024923"></a>Create a Master Path with an Offset Subpath to the Right </h4>

<p>
<a id="pgfId-1024925"></a>When you create an offset subpath, you determine its location by specifying its separation from the master path (<span class="webflare-courier-new" style="white-space:pre"><em>n_sep</em></span>) and its justification (<span class="webflare-courier-new" style="white-space:pre"><em>S_justification</em></span>).</p>
<p>
<a id="pgfId-1024926"></a>Assume that you are in a Pcell. Create a three-segment master path on the <code>nwell</code> layer as shown in the following illustration, with the width equal to 0.6, end type <code>flush</code>, and the centerline on the following points: 2:2, 8:2, 8:6, 10:6. Make the master path choppable and name it <code>p1</code>.</p>
<p>
<a id="pgfId-1024927"></a>In the same statement, create an offset subpath 1.0 units to the right of the master path on the <code>metal2</code> layer, with a width of 0.8. Let the offset of the subpath ends default to zero. You can also let the cellview ID (<span class="webflare-courier-new" style="white-space:pre"><em>d_cvId</em></span>) default to the Pcell variable <code>pcCellView</code>, because your statement is executed inside a Pcell.</p>
<p>
<a id="pgfId-1024928"></a>The master path and offset subpath look something like this:</p>

<p>
<a id="pgfId-1024986"></a></p>
<div class="webflare-div-image">
<img width="668" height="329" src="images/appA-23.gif" /></div>

<p>
<a id="pgfId-1024427"></a><a href="appA.html#19721">Solution 3-7 Create a Multipart Path with an Offset Subpath on the Right</a></p>
<p>
<a id="pgfId-1028353"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap2.html" id="prev" title="Accessing Information about ROD Objects">Accessing Information about RO ...</a></em></b><b><em><a href="appB.html" id="nex" title="Accessing the Cellview ID">Accessing the Cellview ID</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>