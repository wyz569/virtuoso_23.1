
<html><head><title>Troubleshooting Constraints</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2023-10-24" />
<meta name="CreateTime" content="1698145853" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use the unified custom constraints system in Virtuoso." />
<meta name="DocTitle" content="Virtuoso Unified Custom Constraints User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Troubleshooting Constraints" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="constraints" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-24" />
<meta name="ModifiedTime" content="1698145853" />
<meta name="NextFile" content="appC.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="appA.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Unified Custom Constraints User Guide -- Troubleshooting Constraints" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="constraintsIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="constraintsTOC.html">Contents</a></li><li><a class="prev" href="appA.html" title="Default Constraint Types">Default Constraint Types</a></li><li style="float: right;"><a class="viewPrint" href="constraints.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appC.html" title="Environment Variables">Environment Variables</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Unified Custom Constraints User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>B
<a id="pgfId-1051186"></a></h1>
<h1>
<a id="pgfId-1051187"></a><hr />
Troubleshooting Constraints<hr />
</h1>

<p>
<a id="pgfId-1041437"></a>This appendix provides information and guidance on the recommended use of the constraints management system. Its aim is to provide assistance and support in any areas where you may encounter unexpected results or difficulties.</p>
<p>
<a id="pgfId-1050130"></a>If your concern is not addressed here, you should contact your local Cadence representative.</p>
<p>
<a id="pgfId-1050223"></a>The following troubleshooting areas are covered in this appendix:</p>
<ul><li>
<a id="pgfId-1050224"></a><a href="appB.html#27890">Performance Issues</a></li><li>
<a id="pgfId-1050229"></a><a href="appB.html#68646">Read-Only Issues</a></li><li>
<a id="pgfId-1050234"></a><a href="appB.html#18239">Transfer and Migration Issues</a></li><li>
<a id="pgfId-1050244"></a><a href="appB.html#56725">Constraint Conflict Issues</a></li></ul>



<p>
<a id="pgfId-1050019"></a>See also: <h-hot><a actuate="user" class="URL" href="../virtuosoKPNS/constraintsKPNS.html#firstpage" show="replace" xml:link="simple">Virtuoso Unified Custom Constraints Known Problems and Solutions</a></h-hot>.</p>

<h3>
<a id="pgfId-1050131"></a><a id="27890"></a>Performance Issues</h3>
<h4>
<a id="pgfId-1050136"></a>Opening the Constraint Manager is Slow Even When No Constraints Exist</h4>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1051552"></a>This issue can effect the opening of workspaces that also contain the <em>Constraint Manager</em>.</div>
<p>
<a id="pgfId-1051553"></a>This can occur because the constraints system looks for a <code>config.xml</code> file with constraint extensions in all directories in the Cadence search path (which includes the shell path). </p>
<p>
<a id="pgfId-1051640"></a>A shorter path, or one that points to existing directories in the network, will reduce the lookup time considerably, therefore speeding up <em>Constraint Manager</em> opening time.</p>
<p>
<a id="pgfId-1051641"></a>For more information on the Cadence search path, see <h-hot><a actuate="user" class="URL" href="../caiuser/chap3.html#firstpage" show="replace" xml:link="simple">Cadence Setup Search File: setup.loc</a></h-hot> in the <em><a actuate="user" class="URL" href="../caiuser/caiuserTOC.html#firstpage" show="replace" xml:link="simple">Cadence Application Infrastructure User Guide</a></em>.</p>

<h4>
<a id="pgfId-1055148"></a>Running a Circuit Prospector Finder is Slow When There Are Many Results</h4>

<p>
<a id="pgfId-1055137"></a>The highlighting of finder results using the Circuit Prospector can impact the speed. For cellviews with many results, you can improve the speed by setting the <a href="appC.html#56710"><h-hot>highlightCPResults</h-hot><code></code></a> environment variable to <code>nil</code>, which switches off the highlight feature.</p>

<h3>
<a id="pgfId-1051649"></a><a id="68646"></a>Read-Only Issues</h3>
<h4>
<a id="pgfId-1050192"></a>Closing Read-Only Schematic Does Not Ask for Constraints To Be Saved</h4>

<p>
<a id="pgfId-1050193"></a>When a read-only schematic window is closed, but not purged from memory, the <em>Constraint Manager</em> could also be closed even though it contains constraints that have not yet been saved. If this occurs you will be prompted to save any unsaved constraints upon exiting Virtuoso/CIW. Alternatively, you can save and close data ahead of exit by selecting <em>File &#8211; Close Data</em> from the CIW.</p>

<h4>
<a id="pgfId-1050207"></a>Constraints Shown as Read-Only When Schematic Is Opened in Write Mode</h4>

<p>
<a id="pgfId-1051791"></a>If a constraint view is read-only, or had previously been opened in read mode by another tool, the <em>Constraint Manager</em> reuses that data instead of forcing to re-open it in append mode. If this occurs, you can manually toggle the editing mode by selecting <em>Make Editable</em> / <em>Read Only</em> from the <em>Save</em> pull-down on <a href="chap1.html#37141">Constraint Manager Toolbar</a>.</p>

<h3>
<a id="pgfId-1050221"></a><a id="18239"></a>Transfer and Migration Issues</h3>
<h4>
<a id="pgfId-1050252"></a>Constraint Migration to Open Access (OA) Based Storage in IC612</h4>

<p>
<a id="pgfId-1050253"></a>When constraints are migrated to the new OA based storage system in IC612, the constraint view must be writable. If the view is not writable, errors will be produced by the OA design management layer.</p>
<p>
<a id="pgfId-1050254"></a>How you approach this issue is largely dependent upon the importance of the constraints to be migrated:</p>
<ul><li>
<a id="pgfId-1050255"></a>If the constraints are important you should make the constraint view writable to facilitate constraint migration.</li><li>
<a id="pgfId-1050256"></a>If the constraints are not of great importance, or you are content to just maintain them for potential future IC611 use, you should <strong>MOVE</strong> the entire view into, for example, a <code>constraint_611</code> directory.</li><li>
<a id="pgfId-1050257"></a>If you just want to save a copy of the constraints for potential future use in IC611, <strong>COPY</strong> the view into, for example, a <code>constraint_611</code> directory and also make the original constraint view writable to facilitate a successful migration to IC612 and beyond.</li></ul>



<h4>
<a id="pgfId-1050268"></a><a id="95328"></a>Constraints in Layout</h4>

<p>
<a id="pgfId-1050269"></a>To transfer/update constraints in the <em>Virtuoso Layout Suite XL</em>, select <em>Connectivity &#8211; Update &#8211; Layout Constraints</em>. This will transfer all the relevant constraints to the layout view.</p>
<ul><li>
<a id="pgfId-1050270"></a>All single occurrence constraints will have a matching layout constraint, and all mFactor and iterated instance transfers will also be performed.</li><li>
<a id="pgfId-1050271"></a>All multiple occurrence (cell) constraints will have a matching layout constraint for <em>each</em> of the occurrences.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050275"></a>You can cross-select between single occurrence constraints in the layout <em>Constraint Manager</em> with the occurrence of the cell constraint in the schematic <em>Constraint Manager</em>.</div>

<h4>
<a id="pgfId-1050650"></a>Missing All Constraints For a Schematic</h4>

<p>
<a id="pgfId-1050651"></a>If you switch between an ADE XL configuration and a physical configuration, the specified constraint view lists may differ. If this is the case, you should ensure that the content and order of the constraint views, in the new list to be used, is identical so that the intended constraint view will be used.</p>
<p>
<a id="pgfId-1050657"></a>For example, for a schematic that has both &#8220;<code>constraints_1</code>&#8221; and &#8220;<code>constraints_2</code>&#8221; views, the first view in the list will be used. However, if your configuration has &#8220;<code>constraints_2 constraints_1</code>&#8221; as the constraint view list, the &#8220;<code>constraints_2</code>&#8221; view would be used.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050658"></a>The same will be the case when schematics are used with the global constraint view list and a configuration is applied.</div>

<h3>
<a id="pgfId-1050277"></a><a id="56725"></a>Constraint Conflict Issues</h3>

<p>
<a id="pgfId-1050296"></a>The constraint system identifies most common geometrical <em>over-constraints</em>; when a number of constraints share the same members. These over-constraints can cause conflicts in the design intent. Most constraint member and parameter inconsistencies are detected during constraint entry, when a consistency check is performed. It may however be beneficial to understand what potential inconsistencies can exist before entering constraints into a design, as it can help build a solid strategy when choosing an appropriate minimal constraint set.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050629"></a>For more information on the constraint types mentioned in this section, see<a actuate="user" class="URL" href="../constraints/appA.html#firstpage" show="replace" xml:link="simple"> Default Constraint Types</a>.</div>

<h4>
<a id="pgfId-1050365"></a>Clusters</h4>

<p>
<a id="pgfId-1050367"></a>Clusters cannot have overlapping members. However, clusters can be hierarchical.</p>

<h4>
<a id="pgfId-1050369"></a>Modgen as Member of Other Constraints</h4>

<p>
<a id="pgfId-1050370"></a>In addition to existing as a constraint in its own right, a modgen can also be the member of the following constraint types:</p>
<ul><li>
<a id="pgfId-1050461"></a>alignment</li><li>
<a id="pgfId-1050465"></a>distance</li><li>
<a id="pgfId-1050469"></a>symmetry</li><li>
<a id="pgfId-1050473"></a>matched orientation</li><li>
<a id="pgfId-1050477"></a>orientation</li><li>
<a id="pgfId-1050481"></a>guard ring</li></ul>






<h4>
<a id="pgfId-1050378"></a>Modgen and Cluster</h4>

<p>
<a id="pgfId-1050379"></a>A modgen cannot be a member of a cluster constraint. However, all instance members of a modgen can be members of a cluster.</p>

<h4>
<a id="pgfId-1050382"></a>Modgen and Alignment</h4>

<p>
<a id="pgfId-1050383"></a>All modgen constraints contain embedded alignment constraints for each row and column.</p>
<p>
<a id="pgfId-1050484"></a>Although it is possible to set an additional, and compatible, alignment constraint for the same members, it is preferable to choose only one constraint type (either modgen or alignment) for those same members.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050684"></a>It is preferable to apply constraints to a modgen (for all constraints that support modgens) rather than to constrain the individual modgen members, as they could have implied constraints already by virtue of forming part of a modgen.</div>

<h4>
<a id="pgfId-1050385"></a>Modgen and Symmetry</h4>

<p>
<a id="pgfId-1050386"></a>All modgen constraints specify the order and orientation of each member inside the formed array. Although it is possible to set an additional, and compatible, symmetry constraint for a single, or number of the same members, it is preferable to choose only one constraint type (either modgen or symmetry) for those members.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050500"></a>A symmetry constraint can be set against a modgen or a pair of modgens.</div>
<p>
<a id="pgfId-1050388"></a>Two symmetrical instances can also be members of different modgens. However, if this is the case, then the two modgens must be symmetrical.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050689"></a>It is preferable to apply constraints to a modgen (for all constraints that support modgens) rather than to constrain the individual modgen members, as they could have implied constraints already by virtue of forming part of a modgen.</div>

<h4>
<a id="pgfId-1050390"></a>Net Class</h4>

<p>
<a id="pgfId-1051406"></a>Net-based constraints that apply to groups of nets are not allowed to have common members that are shared with other constraints. For example, the following combinations of constraints are infeasible:</p>
<ul><li>
<a id="pgfId-1051488"></a>Net Class and Diff Pair</li><li>
<a id="pgfId-1051537"></a>Net Class and Matched Length</li><li>
<a id="pgfId-1051495"></a>Net Class and Symmetry</li></ul>


<p>
<a id="pgfId-1051465"></a>If an overlap is detected, such constraints are not generated and a warning message is displayed in the CIW with the names of the common members.</p>

<h4>
<a id="pgfId-1051383"></a>Symmetry and Alignment</h4>

<p>
<a id="pgfId-1050391"></a>A symmetry constraint, defined for a pair of objects, will contain an embedded alignment constraint. The alignment axis will be orthogonal to the symmetry axis. It is therefore not required (and not recommended) to <em>over-constrain</em> a pair of symmetrical objects with an additional alignment constraint.</p>
<p>
<a id="pgfId-1050393"></a>However, an alignment constraint can be valuable and its use is especially valid when aligning two, or more, pairs of symmetrical objects together.</p>

<h4>
<a id="pgfId-1050397"></a>Symmetry and Cluster</h4>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050398"></a>This conflict is specifically related to a current limitation in the Analog Placer and Constraint Aware Editing.</div>
<p>
<a id="pgfId-1050707"></a>If a symmetrical object is a member of a cluster, the other object must also be a member of the same cluster.</p>

<h4>
<a id="pgfId-1050400"></a>Symmetry and Orientation</h4>

<p>
<a id="pgfId-1050401"></a>Two symmetrical objects can both have an orientation constraint. However, the allowed orientation for these objects must be compatible with the value of the mirror parameter.</p>
<p>
<a id="pgfId-1050402"></a>For example, if mirror = true the orientation of one symmetrical object must be the mirrored orientation of the other object of the same symmetrical pair.</p>

<h4>
<a id="pgfId-1050408"></a>Symmetry Axis</h4>

<p>
<a id="pgfId-1050409"></a>When several self-symmetrical objects, or pairs of symmetrical objects, have the same symmetry axis they will share the same symmetry axis for placement.</p>
<p>
<a id="pgfId-1050410"></a>To have different groups of symmetry placement at least two different names of symmetry axis are required.</p>
<p>
<a id="pgfId-1050647"></a>It is recommended that a specific axis be set for all symmetry and alignment constraints, as leaving the constraints with the default axis may lead to unpredictable results.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1050411"></a>The name, direction, and coordinate of each symmetry axis can be changed and fixed.</div>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="appA.html" id="prev" title="Default Constraint Types">Default Constraint Types</a></em></b><b><em><a href="appC.html" id="nex" title="Environment Variables">Environment Variables</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>