<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html xmlns="http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Virtuoso UltraSim Simulator User Guide -- 6</title>
<META NAME="Approver" CONTENT="Technical Publications">
<META NAME="Author" CONTENT="Technical Publications">
<META NAME="CreateDate" CONTENT="2018-12-07">
<META NAME="CreateTime" CONTENT="1544164344">
<META NAME="DataType" CONTENT="Manuals">
<META NAME="Description" CONTENT="This manual is intended for integrated circuit (IC) designers who want to use the Virtuoso UltraSim simulator to analyze the timing, power, noise, and reliability of circuit designs.">
<META NAME="DocTitle" CONTENT="Virtuoso UltraSim Simulator User Guide">
<META NAME="DocType" CONTENT="User Guide">
<META NAME="EdmsRelease" CONTENT="FM-Wiki-2.0_HF1">
<META NAME="FileTitle" CONTENT="6">
<META NAME="FileType" CONTENT="Chapter">
<META NAME="Keyword" CONTENT="UltraSim_User">
<META NAME="Language" CONTENT="English">
<META NAME="ModifiedDate" CONTENT="2018-12-07">
<META NAME="ModifiedTime" CONTENT="1544164344">
<META NAME="NextFile" CONTENT="UltraSim_Chap7.html">
<META NAME="PageCount" CONTENT="8">
<META NAME="Platform" CONTENT="ALL">
<META NAME="PrevFile" CONTENT="UltraSim_Chap5.html">
<META NAME="Product" CONTENT="UltraSim">
<META NAME="ProductFamily" CONTENT="Analog & Mixed-Signal Design">
<META NAME="ProductVersion" CONTENT="18.1">
<META NAME="RightsManagement" CONTENT="Copyright 2003Ð2019 Cadence Design Systems Inc.">
<META NAME="Title" CONTENT="Virtuoso UltraSim Simulator User Guide -- 6">
<META NAME="TopicTags" CONTENT="FALSE">
<META NAME="Version" CONTENT="18.1">
  </head>
  <body style="margin-left: 5%;">
    <a name="pagetop"></a>
    <a name="firstpage"></a>
    <!-- Begin Buttons -->
    <table width="650" cellpadding="0" cellspacing="0" border="0">
      <tr>
        <td height="36" width="650" colspan="10">
          <img src="images/header_doc.gif" width="650" height="34">
        </td>
      </tr>
      <tr>
        <td height="20" width="59">
<a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a>

                </td>
<td height="20" width="73">
<a href="UltraSim_UserTOC.html"><img src="../support/nav2_toc.gif" alt="Table of Contents" border="0"></a>
</td>
<td height="20" width="46">
<img src="../support/nav2_index_b.gif" border="0">
</td>

        <td>
          <a href="UltraSim_Chap5.html"><img src="images/nav2_previous.gif" alt="Previous" border="0"></a>
        </td>
        <td>
          <a href="UltraSim_Chap7.html"><img src="images/nav_next.gif" alt="Next" border="0"></a>
        </td>
        <td height="20">
          <a>
<a href="UltraSim_User.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a>

          </a>
        </td>
        <td height="20" width="61">
<img src="../support/nav2_black.gif" border="0"  height="20" width="76">

        </td>
        <td height="20" width="76">
<a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a>

        </td>
        <td height="20" width="43">
<a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a>

        </td>
        <td height="20" width="37">
<a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a>

        </td>
      </tr>
    </table>
    <!-- End Buttons -->
    <p>
    <hr>
    <p>
      <h3>
        <center>
          <font >
            <div>Virtuoso<sup>&#174;</sup> UltraSim Simulator User Guide</div>
            <font >
              <div>Product Version 18.1  January 2019</div>
            </font>
          </font>
        </center>
      </h3>
      <br>
    </p>
    <div>
      <h1>6<a name="1032955">&nbsp;</a></h1>
      <h1><a name="1035250">Power Network Solver</a></h1>
      <p><a name="1040000">This chapter describes how to detect and analyze power networks using the Virtuoso</a><font color="#000000"><sup>&#174;</sup></font> UltraSim<font color="#000000"><sup>&#8482;</sup></font> power network solver (UPS).</p>
      <h2><a name="1040004">Detecting and Analyzing Power Networks</a></h2>
      <p><a name="1039671">The Virtuoso UltraSim simulator can be set to detect power networks. A power network is a RC network that is driven by a power supply or internal generator, and it sends voltage through channel connections into a large number of active devices (for example, a MOSFET device). In most cases, the power network is used to model the IR drop in power supplies, yet power networks can also appear in signal nets.</a></p>
      <p><a name="1039672">The methods of detection include:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1039673"><font color="#000000"><strong>Automatic </strong></font></a>- simulator automatically detects the power network according to its connectivity. Use the <a href="#1039198" title="6"><font color="#0000ff"><u>pn_level</u></font></a> and <a href="#1038700" title="6"><font color="#0000ff"><u>pn_max_res</u></font></a> methods to get finer grid control for automatic detection.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1039263"><font color="#000000"><strong>Manual </strong></font></a>- you can manually specify a substring for a power net name (known as string or name mapping). Only the elements, primarily resistors and capacitors with terminal names that contain the specified substring, are kept in the power networks. Use the <a href="#1038708" title="6"><font color="#0000ff"><u>usim_pn</u></font></a> command to specify the pattern and <font size="2" face="'Courier New'" color="#000000">pn_max_res</font> to further control partitioning.</td>
          </tr>
        </table>
      </div>
      <h3><a name="1038708">usim_pn</a></h3>
      <h4><a name="1039601">Spectre Syntax</a></h4>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039602">usim_pn node=name &#60;pattern=[pattern1, pattern2, ...]&#62; &#60;method=short|keep|ups&#62;</a></font>
      </dl>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039603">usim_pn auto=yes|no &#60;method=short|keep|ups&#62;</a></font>
      </dl>
      <h4><a name="1039604">SPICE Syntax</a></h4>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039605">.usim_pn node=name &#60;pattern=[pattern1, pattern2, ...]&#62; &#60;method=short|keep|ups&#62;</a></font>
      </dl>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039606">.usim_pn auto=yes|no &#60;method=short|keep|ups&#62;</a></font>
      </dl>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1039461">A period (</a><font size="2" face="'Courier New'" color="#000000">.</font>) is required when using SPICE language syntax (for example, <font size="2" face="'Courier New'" color="#000000">.usim_pn</font>).</p>
      <h4><a name="1035761">Description</a></h4>
      <p><a name="1035762">The</a><font size="2" face="'Courier New'" color="#000000"> usim_pn</font> command is used to specify how power network nodes are detected and handled by the Virtuoso UltraSim simulator.</p>
      <h4><a name="1038463">Arguments</a></h4>
      <p align="left"><a name="1035763">&nbsp;</a></p>
      <table summary="" cellpadding="4" cellspacing="0" bgcolor="#FFFFFF" width="648">
        <tr>
          <td cellpadding="4" border="0" valign="top" width="192">
            <p><a name="1035775"><font size="2" face="'Courier New'" color="#000000">node</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top" width="456">
            <p><a name="1035777">Name of the power network node (wildcards are not supported).</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1035779"><font size="2" face="'Courier New'" color="#000000"><em>pattern1</em></font></a>, <font size="2" face="'Courier New'" color="#000000"><em>pattern2</em></font></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1035781">Strings for pattern matching. Only nodes with names containing </a><font size="2" face="'Courier New'" color="#000000"><em>pattern1</em></font> or <font size="2" face="'Courier New'" color="#000000"><em>pattern2</em></font> are partitioned into power networks.</p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1035783"><font size="2" face="'Courier New'" color="#000000">method</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1035785">Method applied to the nodes previously specified - determines how parser networks are handled.</a></p>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1038880"><font size="2" face="'Courier New'" color="#000000">method=short</font></a> removes the power network (default for <font size="2" face="'Courier New'" color="#000000">mx</font>, <font size="2" face="'Courier New'" color="#000000">ms</font>, <font size="2" face="'Courier New'" color="#000000">da</font>, and <font size="2" face="'Courier New'" color="#000000">df</font> modes)</td>
                </tr>
              </table>
            </div>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1039692"><font size="2" face="'Courier New'" color="#000000">method=keep</font></a> keeps the power network and simulates it with the circuit</td>
                </tr>
              </table>
            </div>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1039693"><font size="2" face="'Courier New'" color="#000000">method=ups</font></a> keeps the power network and analyzes it with the UPS solver (rest of the circuit is simulated by the simulator)</td>
                </tr>
              </table>
            </div>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1038825"><font size="2" face="'Courier New'" color="#000000">auto</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1038827">Auto&#45;detection mode for the power network nodes.</a></p>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1038895"><font size="2" face="'Courier New'" color="#000000">auto=yes</font></a> enables auto&#45;detection (default for <font size="2" face="'Courier New'" color="#000000">mx</font>, <font size="2" face="'Courier New'" color="#000000">ms</font>, <font size="2" face="'Courier New'" color="#000000">da</font>, and <font size="2" face="'Courier New'" color="#000000">df</font> modes)</td>
                </tr>
              </table>
            </div>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1039697"><font size="2" face="'Courier New'" color="#000000">auto=no</font></a> disables auto&#45;detection (default for <font size="2" face="'Courier New'" color="#000000">s</font> and <font size="2" face="'Courier New'" color="#000000">a</font> modes)</td>
                </tr>
              </table>
            </div>
            <p><font color="#000000"><strong>Note: </strong></font><a name="1039694">You need to specify nodes manually.</a></p>
          </td>
        </tr>
      </table>
      <h4><a name="1035793">Example</a></h4>
      <p><a name="1039615">Spectre Syntax:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039616">usim_pn node=vdd method=keep </a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039617">usim_pn node=gnd method=short </a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039618">usim_pn auto=yes method=ups</a></font>
      </p>
      <p><a name="1039619">SPICE Syntax:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039620">.usim_pn node=vdd method=keep </a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039621">.usim_pn node=gnd method=short </a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039474">.usim_pn auto=yes method=ups</a></font>
      </p>
      <p><a name="1038699">tells the Virtuoso UltraSim simulator to keep the </a><font size="2" face="'Courier New'" color="#000000">vdd</font> power network, simulates the network, removes the <font size="2" face="'Courier New'" color="#000000">gnd</font> power network, and uses auto&#45;detection to find all of the other power networks to which the simulator applies UPS.</p>
      <h3><a name="1039198">pn_level</a></h3>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039201">usim_opt pn_level=0|1|2|3|4</a></font>
      </dl>
      <h4><a name="1039203">Description</a></h4>
      <p><a name="1039205">The Virtuoso UltraSim simulator uses a detection algorithm to automatically detect power networks. The </a><font size="2" face="'Courier New'" color="#000000">pn_level</font> method is used to control the aggressiveness of the power network detection algorithm. The higher <font size="2" face="'Courier New'" color="#000000">pn_level</font> is set (range of <font size="2" face="'Courier New'" color="#000000">0</font> to <font size="2" face="'Courier New'" color="#000000">4</font>), the more aggressive the detection algorithm, which results in more nets being classified as power nets. The default is <font size="2" face="'Courier New'" color="#000000">pn_level=0</font>.</p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1039331">This method only applies to automatic detection of power networks.</a></p>
      <h4><a name="1039207">Example</a></h4>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039209">usim_opt pn_level=4</a></font>
      </p>
      <p><a name="1039211">tells the simulator to use the most aggressive simulation setting (</a><font size="2" face="'Courier New'" color="#000000">pn_level=4</font>) to automatically detect power networks.</p>
      <h3><a name="1038700">pn_max_res</a></h3>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1038942">usim_opt pn_max_res=</a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font></font>
      </dl>
      <h4><a name="1038944">Description</a></h4>
      <p><a name="1038946">Controls partitioning between signal and power nets via resistor values. Use </a><font size="2" face="'Courier New'" color="#000000">pn_max_res</font> to specify the resistor values. Resistors with a value less than the specified value are considered part of the power network, whereas resistors with a value equal to or larger than the specified value are part of the signal net.</p>
      <h4><a name="1038951">Example</a></h4>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1038953">usim_opt pn_max_res=1000</a></font>
      </dl>
      <p><a name="1038955">tells the Virtuoso UltraSim simulator to partition resistors with a value less than 1000 ohms that are part of a specific power net.</a></p>
      <h3><a name="1039402">pn</a></h3>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039403">usim_opt pn=0 inst=[res1 res2 cap1 cap2...] model=[model1 model2..] pn_file=["filename1" "filename2"...]</a></font>
      </dl>
      <h4><a name="1039406">Description</a></h4>
      <p><a name="1039407">The </a><font size="2" face="'Courier New'" color="#000000">pn=0</font> command is used to exclude resistors and capacitors from power network detection.</p>
      <p align="left"><a name="1039433">&nbsp;</a></p>
      <table summary="" border="1" cellpadding="5" cellspacing="0" width="648">
        <caption>
          <p align="left">
            <strong><font color="#000000"><strong>Table 6&#45;1&nbsp; </strong></font></strong>
            <strong><a name="1039410">pn=0 Options</a></strong>
          </p>
        </caption>
        <tr>
          <td bgcolor="#CCCCCC" cellpadding="4" border="2" bordercolor="#000000" valign="middle" width="156">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1039414">Option</a></strong></font>
            </p>
          </td>
          <td bgcolor="#CCCCCC" cellpadding="4" border="2" bordercolor="#000000" valign="middle" width="492">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1039416">Description</a></strong></font>
            </p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="1" bordercolor="#000000" valign="top">
            <p><a name="1039418"><font size="2" face="'Courier New'" color="#000000">res1</font></a>, <font size="2" face="'Courier New'" color="#000000">res2</font></p>
          </td>
          <td cellpadding="4" border="1" bordercolor="#000000" valign="top">
            <p><a name="1039420">Specifies the resistors to be excluded from power network detection (must use full hierarchical name).</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1039422"><font size="2" face="'Courier New'" color="#000000">cap1</font></a>, <font size="2" face="'Courier New'" color="#000000">cap2</font></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1039424">Specifies the capacitors to be excluded from power network detection (must use full hierarchical name).</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1039426"><font size="2" face="'Courier New'" color="#000000"><em>filename1</em></font></a>, <font size="2" face="'Courier New'" color="#000000"><em>filename2...</em></font></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1039428">The name of the files which contain the resistors and capacitors to be excluded (full hierarchical name for resistors and capacitors needs to be included in files).</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="1" bordercolor="#000000" valign="top">
            <p><a name="1039430"><font size="2" face="'Courier New'" color="#000000">model1</font></a>, <font size="2" face="'Courier New'" color="#000000">model2</font></p>
          </td>
          <td cellpadding="4" border="1" bordercolor="#000000" valign="top">
            <p><a name="1039432">Specifies the model names. The model names need to use the resistor or capacitor model names. All instances for the specified model are excluded from power network detection.</a></p>
          </td>
        </tr>
      </table>
      <h4><a name="1039434">Example</a></h4>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039435">usim_opt pn=0 inst=[x1.r1 x1.c2]</a></font>
      </p>
      <p><a name="1039436">tells the simulator to exclude the </a><font size="2" face="'Courier New'" color="#000000">x1.r1</font> and <font size="2" face="'Courier New'" color="#000000">x1.c2</font> resistors from any power networks, even if the resistors share connectivity.</p>
      <h2><a name="1038702">UltraSim Power Network Solver</a></h2>
      <p><a name="1037129">The UPS is an optimized solver designed to analyze linear power networks. The solver is integrated into the Virtuoso UltraSim simulator, and together with the Virtuoso UltraSim engine, lets you calculate the IR drop in power networks and analyze its effect on circuit behavior. Figure </a><a href="#1037134" title="6"><font color="#0000ff"><u>6&#45;1</u></font></a> shows an overview of the power network simulation methodology recommended by Cadence.</p>
      <p>
        <strong><font color="#000000"><strong>Figure 6&#45;1&nbsp; </strong></font></strong>
        <strong><a name="1037134">Overview of Power Network Simulation Methodology</a></strong>
      </p>
      <p align="left"><a name="1037397"><img src="images/UltraSim_Chap6.09.1.1.png" width="675" height="414" alt=""><br></a></p>
      <p><a name="1037401">The </a><font size="2" face="'Courier New'" color="#000000">method=ups</font> argument in the <a href="#1038708" title="6"><font color="#0000ff"><u>usim_pn</u></font></a> command is used to enable UPS. Additional power network solver options can be set using the <font size="2" face="'Courier New'" color="#000000">usim_ups</font> keyword (see the table of <a href="#1038468" title="6"><font color="Blue"><u>"Arguments"</u></font></a><a href="#1038468" title="6"></a> for a list of <font size="2" face="'Courier New'" color="#000000">usim_ups</font> arguments).</p>
      <h4><a name="1037405">usim_ups</a></h4>
      <h4>
        <em></em>
        <em><a name="1039630">Spectre Syntax</a></em>
      </h4>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039631">usim_ups &#60;iteration=integer&#62; &#60;speed=number&#62; &#60;ir_avg_threshold=double&#62; &#60;ir_peak_threshold=double&#62; &#60;ir_rms_threshold=double&#62; <dd>&#60;ir_report=filename&#62; &#60;waveform_file=filename&#62; &#60;all_waveform=true|false&#62;|&#60;output_node_file=filename&#62;&#62; &#60;step=number&#62;</a></font>
      </dl>
      <h4>
        <em></em>
        <em><a name="1039632">SPICE Syntax</a></em>
      </h4>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1039478">.usim_ups &#60;iteration=integer&#62; &#60;speed=number&#62; &#60;ir_avg_threshold=double&#62; &#60;ir_peak_threshold=double&#62; &#60;ir_rms_threshold=double&#62; <dd>&#60;ir_report=filename&#62; &#60;waveform_file=filename&#62; &#60;all_waveform=true|false&#62;|&#60;output_node_file=filename&#62;&#62; &#60;step=number&#62;</a></font>
      </dl>
      <h4>
        <em></em>
        <em><a name="1038468">Arguments</a></em>
      </h4>
      <p align="left"><a name="1037461">&nbsp;</a></p>
      <table summary="" cellpadding="4" cellspacing="0" bgcolor="#FFFFFF" width="648">
        <tr>
          <td cellpadding="4" border="0" valign="top" width="216">
            <p><a name="1037424"><font size="2" face="'Courier New'" color="#000000">iteration</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top" width="432">
            <p><a name="1037426">Number of iterations between UPS and the Virtuoso UltraSim engine. The higher the iteration number, the greater the accuracy (default is </a><font size="2" face="'Courier New'" color="#000000">iteration=1</font>). The <font size="2" face="'Courier New'" color="#000000">iteration</font> argument only provides IR drop and does not calculate its influence on circuit behavior. To achieve higher accuracy for a large IR drop, Cadence recommends using <font size="2" face="'Courier New'" color="#000000">iteration=2</font> or greater.</p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037428"><font size="2" face="'Courier New'" color="#000000">speed</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037430">Designates the speed and accuracy trade&#45;off for UPS, with speed levels ranging from 1 to 8. The speed settings are as follows (default is </a><font size="2" face="'Courier New'" color="#000000">speed=3</font>):</p>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1039754"><font color="#000000"><strong>speed=1</strong></font></a> lowest speed, highest accuracy</td>
                </tr>
              </table>
            </div>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1039755"><font color="#000000"><strong>speed=2</strong></font></a> through <font color="#000000"><strong>speed=7</strong></font> moderate speed and accuracy</td>
                </tr>
              </table>
            </div>
            <div>
              <table border="0" cellspacing="0" cellpadding="3" summary="">
                <tr valign="baseline">
                  <td width="31.999679999999998">
                    <div>
                      <nobr>
                        <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                      </nobr>
                    </div>
                  </td>
                  <td><a name="1039718"><font color="#000000"><strong>speed=8</strong></font></a> highest speed, lowest accuracy</td>
                </tr>
              </table>
            </div>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037433"><font size="2" face="'Courier New'" color="#000000">ir_avg_threshold</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037435">Threshold average for IR drop reporting (default print out is 20 nodes with highest average IR drop).</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037437"><font size="2" face="'Courier New'" color="#000000">ir_peak_threshold</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037439">Threshold peak for IR drop reporting (default print out is 20 nodes with highest peak IR drop).</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037441"><font size="2" face="'Courier New'" color="#000000">ir_rms_threshold</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037443">Threshold RMS for IR drop reporting (default print out is 20 nodes with highest average RMS drop).</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037445"><font size="2" face="'Courier New'" color="#000000">ir_report</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037447">Filename to which IR report is printed (default is </a><font size="2" face="'Courier New'" color="#000000">none</font>).</p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037450"><font size="2" face="'Courier New'" color="#000000">waveform_file</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037452">Filename of waveform file containing voltages for selected nodes, power networks, and tap points (default is </a><font size="2" face="'Courier New'" color="#000000">none</font>).</p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037454"><font size="2" face="'Courier New'" color="#000000">all_waveform</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1037456">Prints out all power network node voltages (</a><font size="2" face="'Courier New'" color="#000000">true</font>) or the tap point connected to active devices (<font size="2" face="'Courier New'" color="#000000">false</font>). Default is <font size="2" face="'Courier New'" color="#000000">false</font>.</p>
            <p><font color="#000000"><strong>Note: </strong></font><a name="1037460">You first need to define </a><a href="#1037450" title="6"><font size="2" face="'Courier New'" color="#0000ff"><u>waveform_file</u></font></a> before <font size="2" face="'Courier New'" color="#000000">all_waveform</font> is enabled.</p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1038428"><font size="2" face="'Courier New'" color="#000000">output_node_file</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1038430">Filename that contains the nodes from the waveform file. Allows you to choose the nodes of interest.</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1040050"><font color="#000000">step</font></a></p>
          </td>
          <td cellpadding="4" border="0" valign="top">
            <p><a name="1040052">Specifies the time step used for UPS solver.</a></p>
          </td>
        </tr>
      </table>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1036304">The UltraSim simulator only accepts one </a><font size="2" face="'Courier New'" color="#000000">usim_ups</font> statement at a time. If multiple <font size="2" face="'Courier New'" color="#000000">usim_ups</font> statements are specified in the netlist file, the simulator uses the last statement and ignores the rest.</p>
      <h4>
        <em></em>
        <em><a name="1039570">Example</a></em>
      </h4>
      <p><a name="1039641">Spectre Syntax:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039642">usim_pn node=VSS_D pattern=[VSS_D] method=ups</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039643">usim_pn node=VSS_A pattern=[vss_a] method=ups</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039644">usim_ups iteration=1 speed=2 waveform_file=wave all_waveform=true</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039645">usim_opt pn_max_res=50</a></font>
      </p>
      <p><a name="1039646">SPICE Syntax:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039647">.usim_pn node=VSS_D pattern=[VSS_D] method=ups</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039648">.usim_pn node=VSS_A pattern=[vss_a] method=ups</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039649">.usim_ups iteration=1 speed=2 waveform_file=wave all_waveform=true</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039487">.usim_opt pn_max_res=50</a></font>
      </p>
      <p><a name="1038503">tells the Virtuoso UltraSim simulator:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1039177">To partition power nets according to the name mapping mechanism.</a></td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1039196">For nodes associated with power net </a><font size="2" face="'Courier New'" color="#000000">VSS_D</font>, the simulator only partitions elements with terminal names containing <font size="2" face="'Courier New'" color="#000000">VSS_D</font> to be solved by UPS. For nodes associated with <font size="2" face="'Courier New'" color="#000000">VSS_A</font>, the simulator only partitions elements with terminal names containing <font size="2" face="'Courier New'" color="#000000">vss_a</font> to be solved by UPS. For nodes associated with <font size="2" face="'Courier New'" color="#000000">VSS_D</font>, the simulator only partitions elements with terminal names containing <font size="2" face="'Courier New'" color="#000000">VSS_D</font> to be solved by UPS.</blockquote>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1039165">The iteration number between the simulator engine and UPS is </a><font size="2" face="'Courier New'" color="#000000">1</font> (default), and speed is <font size="2" face="'Courier New'" color="#000000">2</font> (moderate speed and accuracy).</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1039566">All waveform files start with </a><font size="2" face="'Courier New'" color="#000000">wave</font> and they contain all of the power network nodes. </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1039567">To limit the maximum resistance in the power nets to 50 ohms.</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1039169">&nbsp;</a></p>
    </div>
    <br>
    <a href="#pagetop">Return to top of page</a>
    <hr>
    <hr align="left">
    <div style="text-align: left;">
      <!-- Begin Buttons -->      <table width="650" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td height="20" width="59">
<a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a>

                    </td>
<td height="20" width="73">
<a href="UltraSim_UserTOC.html"><img src="../support/nav2_toc.gif" alt="Table of Contents" border="0"></a>
</td>
<td height="20" width="46">
<img src="../support/nav2_index_b.gif" border="0">
</td>

          <td>
            <a href="UltraSim_Chap5.html"><img src="images/nav2_previous.gif" alt="Previous" border="0"></a>
          </td>
          <td>
            <a href="UltraSim_Chap7.html"><img src="images/nav_next.gif" alt="Next" border="0"></a>
          </td>
          <td>
            <a>
<a href="UltraSim_User.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a>

            </a>
          </td>
          <td height="20" width="61">
<img src="../support/nav2_black.gif" border="0"  height="20" width="76">

          </td>
          <td height="20" width="76">
<a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a>

          </td>
          <td height="20" width="43">
<a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a>

          </td>
          <td height="20" width="37">
<a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a>

          </td>
        </tr>
      </table>
      <!-- End Buttons -->
    </div>
    <br>
    <font size="-1" >
For support, see <a href="http://support.cadence.com" target="_blank">Cadence Online Support</a> service.</font>
    <br>
    <br>
    <font size="-1" >
      <i>Copyright &#169; 2019, <a href="http://www.cadence.com">Cadence Design Systems, Inc.</a></i>
    </font>
    <br>
    <font size="-1" >
All rights reserved.</font>
    <br>
    <br>
  </body>
</html>
