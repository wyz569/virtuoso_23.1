
<html><head><title>Requirements for Antenna Calculation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698314931" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Abstract Generator to create abstracts from layout data" />
<meta name="DocTitle" content="Virtuoso Abstract Generator User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Requirements for Antenna Calculation" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="abstract" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698314931" />
<meta name="NextFile" content="AG_Techfile_Requirements_for_Metal_Density_Calculation.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Layout" />
<meta name="PrevFile" content="AG_Techfile_Technology_File_Requirements_for_Virtuoso_Abstract_Generator.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Abstract Generator User Guide -- Requirements for Antenna Calculation" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="abstractIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="abstractTOC.html">Contents</a></li><li><a class="prev" href="AG_Techfile_Technology_File_Requirements_for_Virtuoso_Abstract_Generator.html" title="Technology File Requirements for Virtuoso Abstract Generator">Technology File Requirements f ...</a></li><li style="float: right;"><a class="viewPrint" href="abstract.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="AG_Techfile_Requirements_for_Metal_Density_Calculation.html" title="Requirements for Metal Density Calculation">Requirements for Metal Density ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Abstract Generator User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Requirements_for_Antenna_Calculation" title="Requirements for Antenna Calculation"></a><h2>
<a id="pgfId-1037367"></a><a id="82005"></a>Requirements for Antenna Calculation</h2>

<p>
<a id="pgfId-1037369"></a>This section describes the technology file requirements for using the antenna calculation capabilities of Abstract Generator.</p>
<p>
<a id="pgfId-1042900"></a>In the technology file on OpenAccess 2.2, the antenna rules have been moved to the <code>antennaModels</code> section of the <code>foundry</code> constraint group. You specify a separate <code>antennaModels</code> group for each oxide type and can specify <code>antennaModels</code> for up to four oxide types. </p>
<p>
<a id="pgfId-1054340"></a>If an <code>alternate foundry</code> constraint group (AFCG) is defined in the <code>.cdsenv</code> file, Abstract Generator replaces the <code>foundry</code> constraint group and uses the specified AFCG instead.</p>
<p>
<a id="pgfId-1054341"></a>You can specify an AFCG by setting the following environment variable in your <code>.cdsenv</code> file:</p>

<a id="pgfId-1054342"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
cdba.layout AlternateFoundryCG string &quot;<code><em>AFCG_name</em></code>&quot;</pre>

<p>
<a id="pgfId-1042917"></a>The constraint specifies the antenna ratios for one oxide type corresponding to a specific thickness of the gate oxide. You can specify the thickness value in the <code>techLayerProperties</code> subsection in the <code>layerDefinitions</code> section if antenna side area calculation is to be performed.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042908"></a>In OpenAccess, you must specify either side antenna values or non-side antenna values. OpenAccess supports only one of them at a time.</div>
<p>
<a id="pgfId-1047707"></a>Durin<a id="antennacalc"></a>g the Extract step, the following factors are supported while calculating the antenna value. These factors are defined in the <code>antennaModels</code> section of the foundry constraint group in the technology file.</p>
<ul><li>
<a id="pgfId-1047765"></a>(antennaCutFactor) cumulativeRoutingPlusCut<br />
<a id="pgfId-1047775"></a>If this factor is found in the technology file, the values of the cumulative antenna ratio for <code>CUT</code> layers are dumped in the LEF file. In addition, the values of the cumulative antenna ratio for <code>CUT</code> layers are added to the cumulative antenna ratio values of the metal layers. This factor has a boolean value. By default, this factor is set to <code>nil</code>.</li><li>
<a id="pgfId-1047788"></a>(antennaMetalFactor) diffArea<br />
<a id="pgfId-1047852"></a>If this factor is found in the technology file, Abstract Generator uses the value of this factor to calculate the cumulative antenna ratio values for the metal layers. However, if this factor is not found in the technology file, Abstract Generator sets it to the default value 1.0 and calculates the cumulative antenna ratio values. This factor has float values.</li><li>
<a id="pgfId-1047798"></a>(antennaDiffPlusFactor) diffPlus<br />
<a id="pgfId-1048474"></a>If this factor is found in the technology file, Abstract Generator uses the value of this factor to calculate the cumulative antenna ratio values for the metal layers. However, if this factor is not found in the technology file, Abstract Generator sets it to the default value 0.0 and calculates the cumulative antenna ratio values. This factor has float values.</li><li>
<a id="pgfId-1047808"></a>(antennaDiffMinusFactor)) diffMinus<br />
<a id="pgfId-1049077"></a>If this factor is found in the technology file, Abstract Generator uses the value of this factor to calculate the cumulative antenna ratio values for the metal layers. However, if this factor is not found in the technology file, Abstract Generator sets it to the default value 0.0 and calculates the cumulative antenna ratio values. This factor has float values.</li><li>
<a id="pgfId-1049078"></a>(antennaDiffAreaReduceFactor) diffAreaReduce<br />
<a id="pgfId-1049079"></a>If this factor is found in the technology file, Abstract Generator uses the value of this factor to calculate the cumulative antenna ratio values for the metal layers. However, if this factor is not found in the technology file, Abstract Generator sets it to the default value 1.0 and calculates the cumulative antenna ratio values. The values for this factor are given in the form of 1-D table.</li></ul>









<p>
<a id="pgfId-1049080"></a>The formula used to calculate the cumulative antenna ratio values for the metal layers is as follows:</p>

<a id="pgfId-1049081"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
areaCar[j] += (((antennaMetalFactor*cumMetalArea) + (antennaCutFactor*cumCutArea)) * antennaDiffAreaReduceFactor - diffArea * antennaDiffMinusFactor)/(cumGateAreaSharingCharge_[j] + antennaDiffPlusFactor * diffArea);</pre>

<p>
<a id="pgfId-1043050"></a><strong>Example</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047492"></a>constraintGroups(
 ( &quot;foundry&quot;
   antennaModels(
   ;( model
   ;( ----
    ( &quot;default&quot;
      antenna(
      ;( ratioName &#160;&#160;&#160;&#160;      layer       value )<br />      ;( --------- &#160;&#160;&#160;&#160;     &#160;&#160;&#160;&#160;----- &#160;&#160;&#160;&#160;     ----- )<br />       ( areaRatio      METAL1 &#160;&#160;&#160;&#160;    0.345                  )<br />       ( diffAreaRatio  METAL1   ((0.45 0.4)(0.55 0.6))  &#160;&#160;&#160;&#160;)
       ( areaRatio      VIA1      &#160;&#160;&#160;&#160; 0.344                     )<br />       ( diffAreaRatio  VIA1     ((0.44 0.5)(0.57 0.8))  &#160;&#160;&#160;&#160;)
      ) ;antenna

      cumulativeMetalAntenna(
      ;( ratioName &#160;&#160;&#160;&#160;          value )<br />      ;( ---------         &#160;&#160;&#160;&#160;  ----- )<br />       ( areaRatio         0.544 &#39;side  &#160;&#160;&#160;&#160;)&#160;&#160;&#160;&#160;
       ( diffAreaRatio     0.888  &#160;&#160;&#160;&#160;         ) <br />      ) ;cumulativeMetalAntenna

      cumulativeViaAntenna(
      ;( ratioName  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;value )
      ;( ---------  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;----- )
       ( areaRatio         0.654 &#39;side  &#160;&#160;&#160;&#160;  )<br />       ( diffAreaRatio     0.884&#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  )<br />      ) ;cumulativeViaAntenna
    ) ;default

    ( &quot;second&quot;
      antenna(
      ;( ratioName &#160;&#160;&#160;&#160;      layer       value )<br />      ;( --------- &#160;&#160;&#160;&#160;     &#160;&#160;&#160;&#160;----- &#160;&#160;&#160;&#160;     ----- )<br />       ( areaRatio      METAL1 &#160;&#160;&#160;&#160;    1.345 &#39;side                )<br />       ( diffAreaRatio  METAL1   ((0.455 0.4)(0.555 0.65))  &#160;&#160;&#160;&#160;)<br />      ) ;antenna</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1050484"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1050485"></a>antenna( 
( areaRatio &quot;poly&quot; &lt;value&gt; ) 
); antenna 

      cumulativeMetalAntenna(
      ;( ratioName &#160;&#160;&#160;&#160;          value )<br />      ;( ---------         &#160;&#160;&#160;&#160;  ----- )<br />       ( areaRatio         3.564  &#160;&#160;&#160;&#160;          ) <br />       ( diffAreaRatio     7.888  &#160;&#160;&#160;&#160;         ) <br />      ) ;cumulativeMetalAntenna

      cumulativeViaAntenna(
      ;( ratioName  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;value )
      ;( ---------  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;----- )
       ( areaRatio         7.654&#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  )<br />       ( diffAreaRatio     1.884&#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  )<br />      ) ;cumulativeViaAntenna
    ) ;second

    ( &quot;third&quot;
      antenna(
      ;( ratioName &#160;&#160;&#160;&#160;      layer       value )<br />      ;( --------- &#160;&#160;&#160;&#160;     &#160;&#160;&#160;&#160;----- &#160;&#160;&#160;&#160;     ----- )<br />       ( areaRatio      METAL1 &#160;&#160;&#160;&#160;    0.343                      )<br />       ( diffAreaRatio  METAL1   ((0.43 0.3)(0.53 0.6))     &#160;&#160;&#160;&#160;)
      ) ;antenna

      cumulativeMetalAntenna(
      ;( ratioName &#160;&#160;&#160;&#160;          value )<br />      ;( ---------         &#160;&#160;&#160;&#160;  ----- )<br />       ( areaRatio         9.765 &#39;side  &#160;&#160;&#160;&#160;)&#160;&#160;&#160;&#160;
       ( diffAreaRatio     0.188  &#160;&#160;&#160;&#160;         ) <br />      ) ;cumulativeMetalAntenna

      cumulativeViaAntenna(
      ;( ratioName  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;value )
      ;( ---------  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;----- )
       ( areaRatio         3.22  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;                               )<br />       ( diffAreaRatio    ((0.421 0.4)(0.7 0.64)(0.81 0.59))&#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;   )<br />      ) ;cumulativeViaAntenna
    ) ;third

    ( &quot;fourth&quot;
      antenna(
      ;( ratioName &#160;&#160;&#160;&#160;      layer       value )<br />      ;( --------- &#160;&#160;&#160;&#160;     &#160;&#160;&#160;&#160;----- &#160;&#160;&#160;&#160;     ----- )<br />       ( areaRatio      METAL2 &#160;&#160;&#160;&#160;    0.645 &#39;side                )<br />       ( diffAreaRatio  METAL2   ((0.47 0.4)(0.55 0.7))     &#160;&#160;&#160;&#160;)
      ) ;antenna

      cumulativeMetalAntenna(
      ;( ratioName &#160;&#160;&#160;&#160;          value )<br />      ;( ---------         &#160;&#160;&#160;&#160;  ----- )<br />       ( areaRatio         0.6                          )&#160;&#160;&#160;&#160;
       ( diffAreaRatio     ((0.127 0.23)(0.32 0.7))     )&#160;&#160;&#160;&#160;
      ) ;cumulativeMetalAntenna

      cumulativeViaAntenna(
      ;( ratioName  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;value )
      ;( ---------  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;----- )
       ( areaRatio         9.67  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; )
       ( diffAreaRatio     0.684&#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;   )<br />      ) ;cumulativeViaAntenna<br />    ) ;fourth<br />
&#160;&#160;    ( &quot;factors&quot;<br />      ( cumulativeRoutingPlusCut &quot;METAL1&quot; t )<br />      ( area &quot;METAL1&quot; 0.50 )<br />      ( diffPlus &quot;METAL1&quot; 0.60 )<br />      ( diffMinus &quot;METAL1&quot; 0.70 )<br />      ( diffAreaReduce &quot;METAL1&quot; (<br />      ( 0.0 20.0 )<br />      ( 0.5 30.0 )<br />      ( 1.0 40.0 )<br />    ))<br />    ) ;factors<br />  ) ;antennaModels <br />      <br />   ) ;antennaModels<br /> ) ;foundry<br />) ;constraintGroups</pre>
<h4><em>
<a id="pgfId-1049082"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1058280"></a><h-hot><a actuate="user" class="URL" href="../ascitechfile/ascitechfileTOC.html#firstpage" show="replace" xml:link="simple">Technology File Structure</a></h-hot></p>
<p>
<a id="pgfId-1042885"></a><h-hot><a href="ExtractStep_tk_Processing_Antenna_Information_in_Standalone_Abstract_Generator.html#59090">Processing Antenna Information in Standalone Abstract Generator</a></h-hot></p>
<p>
<a id="pgfId-1058159"></a><h-hot><a actuate="user" class="URL" href="../lefdefref/lefdefrefTOC.html#firstpage" show="replace" xml:link="simple">Calculating and Fixing Process Antenna Violations</a></h-hot></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="AG_Techfile_Technology_File_Requirements_for_Virtuoso_Abstract_Generator.html" id="prev" title="Technology File Requirements for Virtuoso Abstract Generator">Technology File Requirements f ...</a></em></b><b><em><a href="AG_Techfile_Requirements_for_Metal_Density_Calculation.html" id="nex" title="Requirements for Metal Density Calculation">Requirements for Metal Density ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>