
<html><head><title>Guidelines for Designing Pins</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698314945" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Abstract Generator to create abstracts from layout data" />
<meta name="DocTitle" content="Virtuoso Abstract Generator User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Guidelines for Designing Pins" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="abstract" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698314945" />
<meta name="NextFile" content="LibraryGuidelines_Design_IO_Corner_Cells_and_Blocks.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Layout" />
<meta name="PrevFile" content="LibraryGuidelines_Guidelines_for_Designing_a_Cell_Library.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Abstract Generator User Guide -- Guidelines for Designing Pins" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="abstractIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="abstractTOC.html">Contents</a></li><li><a class="prev" href="LibraryGuidelines_Guidelines_for_Designing_a_Cell_Library.html" title="Guidelines for Designing a Cell Library">Guidelines for Designing a Cel ...</a></li><li style="float: right;"><a class="viewPrint" href="abstract.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="LibraryGuidelines_Design_IO_Corner_Cells_and_Blocks.html" title="Design IO, Corner Cells, and Blocks">Design IO, Corner Cells, and B ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Abstract Generator User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:Guidelines_for_Designing_Pins" title="Guidelines for Designing Pins"></a><h2>
<a id="pgfId-1018585"></a><a id="42980"></a>Guidelines for Designing Pins</h2>

<p>
<a id="pgfId-1018586"></a>This topic contains guidelines for designing pins so that you maximize the routability of the cells and improve the run time and memory performance of the router. The more porous the design, the easier it is for the router to make connections.</p>

<h4>
<a id="pgfId-1018587"></a>Guidelines to Optimize Pin Placement</h4>

<p>
<a id="pgfId-1018588"></a>Every pin should cover at least one grid intersection because the software connects most efficiently to pins at grid intersections. If you have off-grid pins, the software creates a pseudo-grid through the center of each off-grid pin.</p>
<p>
<a id="pgfId-1022312"></a>Use the following guidelines to optimize pin placement:</p>
<ul><li>
<a id="pgfId-1018589"></a>Place pins on-grid wherever possible. </li><li>
<a id="pgfId-1018590"></a>Ensure that off-grid pins follow spacing rules by using the pseudogrid point at the center of the pin geometry. </li><li>
<a id="pgfId-1018591"></a>Center the pin via on the routing grid for its layer. </li><li>
<a id="pgfId-1018592"></a>Place special pins in such a way so that they do not obstruct routing on an adjacent track. You can place special pins off-grid for this. </li></ul>



<p>
<a id="pgfId-1019223"></a>Innovus has gridless routers but they handle gridded pins better than off-grid pins. A pin is considered to be on-grid if it meets the following criteria:</p>
<ul><li>
<a id="pgfId-1018594"></a>The pin rectangle is centered at the grid intersection. </li><li>
<a id="pgfId-1018596"></a>The pin rectangle encloses the grid intersection point on all four sides by half the minimum metal width of that pin shape layer. The grid intersection is from the x and y routing grid pitch for that layer. The router routes to the pin rectangle only at that grid intersection.</li><li>
<a id="pgfId-1018597"></a>The router only routes to the center of the off-grid pin port rectangles if this is legal.</li></ul>


<p>
<a id="pgfId-1018665"></a>The following figure shows a LEF standard cell with shapes similar to layout data.</p>

<p>
<a id="pgfId-1020481"></a></p>
<div class="webflare-div-image">
<img width="668" height="253" src="images/LibraryGuidelines-8.gif" /></div>

<p>
<a id="pgfId-1018666"></a>Pin A has several off-grid shapes and one on-grid shape. Pin B has two off-grid polysilicon pin shapes. Pin O has one on-grid shape. The off-grid shapes slow down the router and lead to inefficient routing. Further, if the spacing rules for this example did not allow <em>M1</em>/<em>M2</em> vias to be placed on pin A, the router would not be able to connect to Pin A. This could result in an inefficiently routed design. </p>
<p>
<a id="pgfId-1018667"></a>Off-grid pins can affect your design in a number of ways. Some of these are listed below:</p>
<ul><li>
<a id="pgfId-1018668"></a>Large die size<br />
<a id="pgfId-1018669"></a>The router creates jogs to compensate for pins that are not aligned. This forces the channels to expand vertically and increases the die size.<br />
<a id="pgfId-1020553"></a><div class="webflare-div-image">
<img width="502" height="133" src="images/LibraryGuidelines-9.gif" /></div></li><li>
<a id="pgfId-1022329"></a>Overconstrained design<br />
<a id="pgfId-1018700"></a>The more constraints there are, the harder it is for the router. The following figure shows how one off-grid pin increases the number of constraints. <br />
<a id="pgfId-1020587"></a><div class="webflare-div-image">
<img width="505" height="379" src="images/LibraryGuidelines-10.gif" /></div></li><li>
<a id="pgfId-1018753"></a>Longer run-times<br />
<a id="pgfId-1018754"></a>This design slows down the router significantly because the router is more constrained. Each off-grid track can interfere with adjacent tracks. </li><li>
<a id="pgfId-1018755"></a>Optimistic global router results<br />
<a id="pgfId-1018756"></a>The global router might not recognize off-grid pins as blocking the routing track and, as a result gives you optimistic results.</li></ul>
















<h4>
<a id="pgfId-1018757"></a>Guidelines to Handle Special Pins</h4>

<p>
<a id="pgfId-1018758"></a>Special pins are pins routed by the special net router instead of the final router. Special pins have different shapes, depending on their function. On cells, you can have feedthrough or abutment special pins. </p>
<ul><li>
<a id="pgfId-1018759"></a>Non-interference with adjacent grid lines.</li><li>
<a id="pgfId-1018760"></a>Define special pins in the <code>SPECIAL NETS</code> section of the DEF file.</li><li>
<a id="pgfId-1018761"></a>Place all power and ground feedthrough and abutment pins at the same axis on opposite sides of the cell. </li><li>
<a id="pgfId-1018762"></a>Position the power and ground feedthrough or abutment pins so that they align with corresponding pins in other cells.</li><li>
<a id="pgfId-1018763"></a>Avoid creating power and ground pins in <em>M2</em>, because <em>M2</em> within the cell makes it harder to route over the cell. </li><li>
<a id="pgfId-1018764"></a>Define a shape property for power and ground pins with the value set to either feedthru or abutment. </li><li>
<a id="pgfId-1018765"></a>Set the same y offset for power and ground pins from the cell origin so that the FollowPins command works properly. You can specify the origin in the LEF file or use the default, which is the lower left corner.</li></ul>







<h4>
<a id="pgfId-1018766"></a>Guidelines to Maximize Routing Resources</h4>

<p>
<a id="pgfId-1018767"></a>The more routing resources you have available, the easier it is for the router to connect. You must maximize the resources in your most constrained layer. In three-layer designs where <em>M2</em> is vertical and <em>M1</em> and <em>M3</em> are horizontal, <em>M2</em> is typically the most constrained layer.</p>
<p>
<a id="pgfId-1018768"></a>The following are some suggestions:</p>
<ul><li>
<a id="pgfId-1018769"></a>Maximize pin accessibility.<br />
<a id="pgfId-1018770"></a>Make cell pins as accessible as they can be by declaring the complete geometry of the pin as a pin. This will allow the router to connect to the best location on the pin as it sees fit, rather than forcing it to connect to a particular point. <br />
<a id="pgfId-1019226"></a>Also, avoid having geometries on the same layer close to and around the pin, in effect, blocking it. This makes the router unable to make a connection to the pin.<br />
<a id="pgfId-1019227"></a>Special care should be taken not to block access to pins through vias. For example, avoid <em>M2</em> geometries too close to a <em>M1</em> pin such that <em>M1</em> to <em>M2</em> via cannot be dropped in order to access the pin on <em>M2</em>.</li><li>
<a id="pgfId-1018771"></a>Stagger pins in the x and y directions.<br />
<a id="pgfId-1018772"></a>Staggering pins provides additional vertical routing resources, as shown in the following figure:<br />
<a id="pgfId-1020644"></a><div class="webflare-div-image">
<img width="638" height="251" src="images/LibraryGuidelines-11.gif" /></div>
<a id="pgfId-1018798"></a>If two or more pins are aligned vertically, then the vertical track going through the pins can become blocked, forcing some of the horizontal routing resources to be used to connect to the pins.<br />
<a id="pgfId-1019229"></a>By staggering the pins in the vertical direction, especially at a pitch equal to integer multiples of the pitch of the vertical routing track, a higher degree of flexibility is given to the tool to connect to the pins in either direction.</li><li>
<a id="pgfId-1018799"></a>Minimize the number of geometries within the cell that are on the constrained layer.<br />
<a id="pgfId-1018800"></a>Any geometry on the constrained layer within the cell becomes a blockage to routing in that layer. For three-layer designs where <em>M2</em> is the vertical layer, you can maximize routing resources by creating internal cell geometries in <em>M1</em> and polysilicon, and leave <em>M2</em> and <em>M3</em> for routing. </li><li>
<a id="pgfId-1018801"></a>Allow extra routing resources in the constrained layer.<br />
<a id="pgfId-1018802"></a>In libraries for gate isolation base arrays that might be congested in <em>M2</em>, you can add extra <em>M2</em> routing resources as padding. For example, a two-input NAND gate might be three tracks wide with every track obstructed by a pin. You can model this as at least four tracks wide to provide an extra track for routing. </li><li>
<a id="pgfId-1018803"></a>Do not add pieces of metal to provide extra connection points. <br />
<a id="pgfId-1018804"></a>In some libraries, you add a piece of <em>M2</em> to a pin to provide the router with an extra connection point if <em>M1</em> is blocked. This is counter productive because unused <em>M2</em> areas become blockages that limit the flexibility of the router. You do not have to add extra metal, because the router can drop vias to the pins. </li></ul>


















<h4><em>
<a id="pgfId-1029224"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1029253"></a><a href="LibraryGuidelines_Guidelines_for_Designing_a_Cell_Library.html#20320">Guidelines for Designing a Cell Library</a></p>
<p>
<a id="pgfId-1029256"></a><a href="LibraryGuidelines_Design_IO_Corner_Cells_and_Blocks.html#31920">Design IO, Corner Cells, and Blocks</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="LibraryGuidelines_Guidelines_for_Designing_a_Cell_Library.html" id="prev" title="Guidelines for Designing a Cell Library">Guidelines for Designing a Cel ...</a></em></b><b><em><a href="LibraryGuidelines_Design_IO_Corner_Cells_and_Blocks.html" id="nex" title="Design IO, Corner Cells, and Blocks">Design IO, Corner Cells, and B ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>