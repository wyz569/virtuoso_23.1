
<html><head><title>Density Calculation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2023-10-26" />
<meta name="CreateTime" content="1698314923" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Abstract Generator to create abstracts from layout data" />
<meta name="DocTitle" content="Virtuoso Abstract Generator User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Density Calculation" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="abstract" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-26" />
<meta name="ModifiedTime" content="1698314923" />
<meta name="NextFile" content="AbstractStep_tk_Fracturing_Pins_and_Blockages.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Layout" />
<meta name="PrevFile" content="AbstractStep_tk_Calculating_Metal_Layer_Density.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Abstract Generator User Guide -- Density Calculation" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Abstract Generation" />
<meta name="prod_subfeature" content="Abstract Step" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="abstractIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="abstractTOC.html">Contents</a></li><li><a class="prev" href="AbstractStep_tk_Calculating_Metal_Layer_Density.html" title="Calculating Metal Layer Density">Calculating Metal Layer Densit ...</a></li><li style="float: right;"><a class="viewPrint" href="abstract.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="AbstractStep_tk_Fracturing_Pins_and_Blockages.html" title="Fracturing Pins and Blockages">Fracturing Pins and Blockages</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Abstract Generator User Guide<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a id="Filename:re_Density_Calculation" title="Density Calculation"></a><h2>
<a id="pgfId-1082285"></a><a id="90528"></a>Density Calculation</h2>

<p>
<a id="pgfId-1082312"></a>You can generate metal density information for abstracts in LEF 5.8. The density value in LEF helps in verifying metal density fabrication rules early in the design cycle without having to replace the abstracts with the layouts. This information in LEF can reduce the memory requirements and increase the speed of metal fill tools and aid these tools to analyze and fix the designs using abstracts.</p>

<h4>
<a id="pgfId-1031847"></a>Specifying the Metal Layers for Density Calculation</h4>

<p>
<a id="pgfId-1031848"></a>For metal density calculation, you can either use the already specified metal layers and their geometry specifications or specify them afresh on this tab. These two alternatives are elaborated below:</p>
<ul><li>
<a id="pgfId-1032143"></a>You can use the same metal layers and their corresponding geometry specifications as you would have specified for signal nets, power nets, or antenna data extraction in the Extract step. To do this, select one of the following options on the <em>Density</em> tab:<ul><li>
<a id="pgfId-1031936"></a><em>Use layer assignment for signal extraction</em></li><li>
<a id="pgfId-1031945"></a><em>Use layer assignment for antenna extraction</em></li><li>
<a id="pgfId-1031950"></a><em>Use layer assignment for power extraction</em></li></ul><br />
<a id="pgfId-1032224"></a>These options are mutually exclusive and selecting one disables the other two options. Only metal layers specified in the selected table will be considered for metal density calculation.<br />
<a id="pgfId-1032222"></a>Along with selecting one of these options, you can ally specify the <em>Width</em> and <em>Height</em> of the density window in the <em>Layer Assignment for Metal Density Regions</em> table. See <a href="AbstractStep_re_Density_Calculation.html#16869">Specifying the Dimensions of the Density Window</a>.</li><li>
<a id="pgfId-1032167"></a>Alternatively, you can specify a different set of geometry specifications for metal layers by using the <em>Layer Assignment for Metal Density Regions</em> table. To use the geometry specifications from this table, ensure that none of the three layer assignment options is selected. You can turn off these options individually.<br />
<a id="pgfId-1032174"></a>The table contains the following columns:<ul><li>
<a id="pgfId-1032185"></a>The <em>Layer</em> column is pre-populated with the metal layers from the technology file. You can remove or edit the existing layers or add any removed layers. Density data will not be calculated for metal layers that are not specified in the table.<br />
<a id="pgfId-1033011"></a>If you use the <em>Layer Assignment for Metal Density Regions</em> table and you have specified a non-metal layer in the table, Abstract Generator will issue a warning message during density calculation.</li><li>
<a id="pgfId-1032186"></a>By default, the <em>Geometry Specification</em> column contains the layer names corresponding to each metal layer name in the <em>Layer</em> column. You can modify these values as required.</li><li>
<a id="pgfId-1032183"></a>The <em>Width</em> and <em>Height</em> columns are described in <a href="AbstractStep_re_Density_Calculation.html#16869">Specifying the Dimensions of the Density Window</a> section.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1032003"></a>
If you select to use a layer assignment table for density calculations from a different tab, you can still use the <em>Width</em> and <em>Height</em> columns of the <em>Layer Assignment for Metal Density Regions</em> table on the <em>Density</em> tab. In this case, though the geometry specifications in the <em>Layer Assignment for Metal Density Regions</em> table will not be considered for metal density calculation but you need to ensure that a valid geometry specification exists for every layer specified in this table.</div></li></ul></li></ul>















<h4>
<a id="pgfId-1031854"></a><a id="16869"></a>Specifying the Dimensions of the Density Window</h4>

<p>
<a id="pgfId-1032194"></a>You can specify the width and height of the density window either for all the layers or separately for each layer.</p>
<p>
<a id="pgfId-1033062"></a>To specify the width and height on a per layer basis, use the <em>Width</em> and <em>Height</em> columns of the <em>Layer Assignment for Metal Density Regions</em> table. You can use the <em>Width</em> and <em>Height</em> columns of this table when you either select one of the layer assignment options or use the <em>Layer Assignment for Metal Density Regions</em> table for density calculation.</p>
<p>
<a id="pgfId-1033103"></a>To specify the same width and height value for all the layers, use the following fields on the <em>Density</em> tab:</p>
<ul><li>
<a id="pgfId-1033104"></a><em>Default density window width</em></li><li>
<a id="pgfId-1033105"></a><em>Default density window height</em></li></ul>

<p>
<a id="pgfId-1061140"></a>The default value for both the fields is <code>20</code>, which is derived by calculating 10% of a typical <code>130nm</code> window and 20% of a typical <code>90nm</code> density check window size. You can modify this value to get Abstract Generator to override the default window size without having to change the <em>Width</em> and <em>Height</em> values for every layer.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1033057"></a>If you do not populate the <em>Width</em> or the <em>Height</em> column, Abstract Generator picks the density window dimension from the <em>Default density window width</em> and <em>Default density window height</em> fields.</div>

<p>
<a id="pgfId-1033651"></a>Some density windows in the final abstract may be smaller in dimension than the option values specified. This happens around the edges of the PR boundary on various layers. This is illustrated in the following scenarios:</p>
<p>
<a id="pgfId-1033443"></a><strong>Scenario I: Rectangular PR Boundary</strong></p>
<p>
<a id="pgfId-1033588"></a>Starting from the lower left corner of the bounding box of the PR boundary, the abstract is divided into a rectangular grid with window size as specified in the GUI. The rectangles intersecting the PR boundary are clipped at the right and top sides. Therefore, the size of the density windows at the right and top sides will be smaller than the size specified for the density window in the GUI. This is shown in the figure below.</p>

<p>
<a id="pgfId-1033724"></a></p>
<div class="webflare-div-image">
<img width="668" height="260" src="images/AbstractStep-50.gif" /></div>

<p>
<a id="pgfId-1032860"></a><strong>Scenario II: Rectilinear PR Boundary</strong></p>
<p>
<a id="pgfId-1033605"></a>The density windows are clipped wherever they intersect the PR boundary. The resulting polygons are fractured into smaller rectangles and density data is generated for each of these independently.</p>

<p>
<a id="pgfId-1033404"></a></p>
<div class="webflare-div-image">
<img width="668" height="191" src="images/AbstractStep-51.gif" /></div>
<h4>
<a id="pgfId-1033816"></a>Storage Location of Metal Density Information</h4>

<p>
<a id="pgfId-1033814"></a>On OpenAccess, the density rectangles are saved as an <code>oaLayerBlockage</code> object with type <code>oacFillBlockageType</code>. The bBox of the <code>oaLayerBlockage</code> object is reported as the metal density rectangle in LEF by the export tool.</p>

<h4><em>
<a id="pgfId-1082489"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1082508"></a><a href="AbstractStep_tk_Calculating_Metal_Layer_Density.html#12684">Calculating Metal Layer Density</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="AbstractStep_tk_Calculating_Metal_Layer_Density.html" id="prev" title="Calculating Metal Layer Density">Calculating Metal Layer Densit ...</a></em></b><b><em><a href="AbstractStep_tk_Fracturing_Pins_and_Blockages.html" id="nex" title="Fracturing Pins and Blockages">Fracturing Pins and Blockages</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>