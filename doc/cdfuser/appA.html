
<html><head><title>Advice and Warnings</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2023-06-12" />
<meta name="CreateTime" content="1686598855" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the parameters, attributes of parameters of individual components, and libraries of components to let you create and describe your own components" />
<meta name="DocTitle" content="Component Description Format User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Advice and Warnings" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="cdfuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-12" />
<meta name="ModifiedTime" content="1686598855" />
<meta name="NextFile" content="appTroubleshoot.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="chap9.html" />
<meta name="c_product" content="Cadence Shared Tools" />
<meta name="Product" content="Cadence Shared Tools" />
<meta name="ProductFamily" content="Cadence Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Component Description Format User Guide -- Advice and Warnings" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="cdfuserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="cdfuserTOC.html">Contents</a></li><li><a class="prev" href="chap9.html" title="Verifying CDF Operation">Verifying CDF Operation</a></li><li style="float: right;"><a class="viewPrint" href="cdfuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appTroubleshoot.html" title="Troubleshooting CDF Callback">Troubleshooting CDF Callback</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Component Description Format User Guide<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>A
<a id="pgfId-26024"></a></h1>
<h1>
<a id="pgfId-26025"></a><hr />
Advice and Warnings<hr />
</h1>

<p>
<a id="pgfId-26028"></a>This section answers frequently asked questions not already covered, and warns you about common mistakes.</p>

<ul><li>
<a id="pgfId-26031"></a><a id="marker-26111"></a>Library CDF versus Cell CDF<br />
<a id="pgfId-26033"></a>A cell inherits all definitions from the library CDF. If there are changes in the cell CDF, the changes override the library CDF at the cell level. It is important to be aware of what is in the library CDF of any cell you work on.</li><li>
<a id="pgfId-26116"></a>CDF level differences<br />
<a id="pgfId-26501"></a>Remember that only the <a id="marker-26122"></a>base-level CDF is saved to disk. The <a id="marker-26123"></a>user-level CDF is used only for one session and cannot be saved. If you have a base and user CDF, the effective CDF is everything from the base CDF updated with anything new from the user CDF. In the Edit CDF form, you can &#8220;edit&#8221; the effective CDF. In reality, the effective CDF is just there to give you a way to look at the total CDF for a component. There is nothing to edit in an effective CDF, so changing the effective CDF in the Edit CDF form does nothing.</li><li>
<a id="pgfId-26039"></a>Update<br />
<a id="pgfId-26502"></a>The <a id="marker-26124"></a>update function under <em>Cadence</em> <em>Analog Design Environment&#8211; Design Variables &#8211; Update</em> in the schematic editor updates only what is in the current window and for only one level of hierarchy.</li><li>
<a id="pgfId-26040"></a>Parameter values and callbacks<br />
<a id="pgfId-26503"></a>If you use <em>iPar</em>, <em>pPar, atPar, dotPar, </em>or the old notation ({}) to <a id="marker-26125"></a>inherit the value of a parameter, as the real value changes, the <a id="marker-26126"></a>callbacks associated with that parameter are NOT triggered. So, be aware of that when determining which parameters inherit values. Similarly, if you assign a design variable as a parameter value, the setting of the design variable does not trigger callbacks.</li><li>
<a id="pgfId-26041"></a>Units<br />
<a id="pgfId-26505"></a>The <a id="marker-26127"></a>units you can use in the CDF are limited to those offered in the Edit CDF form. There are no user-defined units. </li><li>
<a id="pgfId-26042"></a>Range checking<br />
<a id="pgfId-26504"></a>CDF provides no <a id="marker-26128"></a>automatic range checking. You must use callbacks to do that.</li><li>
<a id="pgfId-26043"></a>Pcell default values<br />
<a id="pgfId-26506"></a>There is no system mechanism to ensure that your <a id="marker-26129"></a>Pcell defaults and CDF defaults are synchronized, so you must manage this.</li><li>
<a id="pgfId-26044"></a>Callback files<br />
<a id="pgfId-26507"></a>If you define your <a id="marker-26130"></a>callbacks in a separate file (not self-contained in the CDF or attached to the library), you must remember to archive that file whenever you archive your library. </li><li>
<a id="pgfId-26045"></a>Callback limitation<br />
<a id="pgfId-26508"></a>You can <a id="marker-26131"></a>control parameter values with callbacks, but you cannot affect anything in the simulation information section.</li><li>
<a id="pgfId-26046"></a>Boolean properties<br />
<a id="pgfId-26509"></a>Be careful of using the CDF &#8220;<a id="marker-26132"></a>Boolean.&#8221; It is defined as <em>t</em><a id="marker-26133"></a> or <em>nil</em><a id="marker-26134"></a>. If you add a property to an instance using the <em>Add</em> button in the Edit Object Properties form you will see that the system models that kind of Boolean as TRUE or FALSE. There are some applications that depend on that. For example, the property <em>lvsIgnore</em><a id="marker-26135"></a><a id="marker-26136"></a> used in DLE and LVS must be TRUE or FALSE. So, if you want to add it to your CDF, instead of making it a CDF Boolean type, make it a cyclic type and set its choices to TRUE and FALSE.</li><li>
<a id="pgfId-26047"></a>Triggering callbacks<br />
<a id="pgfId-26510"></a>Callbacks are triggered whenever a change is made to the parameter value, even if the change is caused by loading a default value. You need to ensure that default values do not violate any relationships that you are trying to enforce.<br />
<a id="pgfId-993747"></a>Use callbacks to establish dependencies between parameters whose values are numeric constants. <br />
<a id="pgfId-993674"></a>Avoid using callbacks on parameters whose values are expressions. Such values require update evaluations and can quickly become out of date. If you do choose to use callbacks of this type, you will need to run a <a id="marker-993687"></a>hierarchical evaluator that will walk the entire design to trigger all CDF callbacks whenever the value of the parameter is changed. Note, too, that a hierarchical evaluator will not be reliable with pPar() parameters.</li><li>
<a id="pgfId-26048"></a>Layout extraction, properties, and callbacks<br />
<a id="pgfId-26511"></a>When you run <a id="marker-26138"></a>layout extraction to find devices in the layout, you can also measure the sizes of the devices. When you save that information, it is stored as a <a id="marker-26139"></a>property on the symbol (<em>auLvs</em> or an <em>ivpcell</em>) that is placed in the extracted layout. For example, when extraction finds an NFET, it places the cell <em>nfet auLvs</em> at the location of the recognition shape. That instance has the connectivity that was found and has the properties for the measured values saved, probably the length and width. Setting those measured parameters by extraction does not trigger any callbacks on those parameters. This is especially important to remember if you are doing parasitic resimulation, because you need all parameters necessary for simulation to be set in the extracted layout. You cannot rely on the callbacks; you must redo the calculations in the extraction rules.<a id="marker-26140"></a></li><li>
<a id="pgfId-26035"></a>LVS case sensitivity<br />
<a id="pgfId-26512"></a>Remember the <a id="marker-26141"></a>property mapping example for LVS. Even though CDF might use lowercase parameter names, LVS expects capital letters. If you do not enter this mapping properly, the parameters are not netlisted correctly and in LVS this most likely means that size comparisons are not made at all.</li><li>
<a id="pgfId-26049"></a>The <a id="marker-26142"></a>Virtuoso<sup>&#174;</sup> layout editor now accesses and uses CDF parameters.</li><li>
<a id="pgfId-26050"></a>Property value replacement and callbacks<br />
<a id="pgfId-26513"></a>Using <em>Edit &#8211; Search &#8211; Replace </em>to find a property and change its value across a set of instances does not trigger callbacks associated with the parameter. The <em>Cadence Analog Design Environment &#8211; Design Variables &#8211; Update</em><a id="marker-26145"></a><a id="marker-26146"></a> command triggers the callbacks associated with each variable, but you cannot control the order in which the callbacks are executed.<br />
<a id="pgfId-26051"></a>In addition, if you use the default value for a parameter, and set <em>storeDefault</em><em> </em>to <em>no</em>, there is no property for <em>Edit &#8211; Search &#8211; Replace</em> to find. However, changing the default value does change it.</li><li>
<a id="pgfId-26052"></a>Numerical value format<br />
<a id="pgfId-26514"></a>Be careful about <a id="marker-26147"></a>entering blanks when entering values in a form or defining values or default values. In the CDF, &#8220;  12&#8221; does not equal 12; nor does 
&#8220;12 &#8221;.  &#8220;12 u&#8221; does not equal &#8220;12u&#8221;. This can cause errors.</li><li>
<a id="pgfId-26053"></a>The <em>dontSave</em> parameter attribute<br />
<a id="pgfId-26517"></a>Do not use the <em>dontSave</em><a id="marker-26148"></a> parameter attribute unless you are absolutely sure you need to. It can lead to unexpected results, especially when callbacks are used. The only thing that <em>dontSave</em> does for you is save the space used to store the property value on a parameter that you think is not so useful. One example is when you use the parameter <em>resType</em> on a resistor to trigger callbacks to set up the rest of the parameters based on the resistor type. Once that is done, you do not think the value of <em>resType</em> needs to be saved. The problems occur when you edit the parameters on existing instances and the values do not match.</li><li>
<a id="pgfId-27126"></a><a id="marker-27125"></a>Reserved words<br />
<a id="pgfId-27127"></a>There are words that are reserved and cannot be used as net, component, property, or parameter names. Do not use any of the following:<ul><li>
<a id="pgfId-27128"></a>Command or function names that your simulator uses </li><li>
<a id="pgfId-27129"></a>A parameter or property name or prompt that is already in use </li><li>
<a id="pgfId-27130"></a>The names of fields </li><li>
<a id="pgfId-27131"></a>&#8220;others,&#8221; &#8220;loadSave,&#8221; &#8220;simInfo,&#8221; &#8220;othersFG,&#8221; &#8220;area,&#8221; &#8220;resistor,&#8221; or &#8220;multiplier&#8221; </li></ul><br />
<a id="pgfId-27132"></a>In addition, if you want to make sure a property you define does not go into the netlist, do not use the name of a CDF parameter.</li><li>
<a id="pgfId-26521"></a>Initial and final procedures<br />
<a id="pgfId-26524"></a>Avoid using too many initial and final procedures (<em>formInitProc</em> and <em>doneProc</em>). Running one or two procedures every time you change a parameter can slow down system performance noticeably.</li><li>
<a id="pgfId-26528"></a>Layout name labels<br />
<a id="pgfId-26531"></a>Labels in layout do not know the hierarchy, so they cannot display hierarchical names, only current names.</li><li>
<a id="pgfId-26565"></a>Do not use <a id="marker-26149"></a>parameter names that begin with a number.   </li><li>
<a id="pgfId-26455"></a>Changes in the Edit CDF form do not take effect until you click <em>Apply</em> on the Edit CDF form.</li><li>
<a id="pgfId-26460"></a>Avoid using the <em>dontUse</em> attribute.</li></ul>























































































<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap9.html" id="prev" title="Verifying CDF Operation">Verifying CDF Operation</a></em></b><b><em><a href="appTroubleshoot.html" id="nex" title="Troubleshooting CDF Callback">Troubleshooting CDF Callback</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>