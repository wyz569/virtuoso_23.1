
<html><head><title>Accessing Subcircuit Simulation Data</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2023-06-12" />
<meta name="CreateTime" content="1686598857" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the parameters, attributes of parameters of individual components, and libraries of components to let you create and describe your own components" />
<meta name="DocTitle" content="Component Description Format User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Accessing Subcircuit Simulation Data" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="cdfuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-12" />
<meta name="ModifiedTime" content="1686598857" />
<meta name="NextFile" content="appC.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="appTroubleshoot.html" />
<meta name="c_product" content="Cadence Shared Tools" />
<meta name="Product" content="Cadence Shared Tools" />
<meta name="ProductFamily" content="Cadence Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Component Description Format User Guide -- Accessing Subcircuit Simulation Data" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="cdfuserIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="cdfuserTOC.html">Contents</a></li><li><a class="prev" href="appTroubleshoot.html" title="Troubleshooting CDF Callback">Troubleshooting CDF Callback</a></li><li style="float: right;"><a class="viewPrint" href="cdfuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appC.html" title="NBSIM Transistor CDF SKILL Description">NBSIM Transistor CDF SKILL Des ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Component Description Format User Guide<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>C
<a id="pgfId-883105"></a></h1>
<h1>
<a id="pgfId-883106"></a><hr />
Accessing Subcircuit Simulation Data<hr />
</h1>

<ul><li>
<a id="pgfId-879782"></a><a href="appB.html#39513">Overview</a></li><li>
<a id="pgfId-879783"></a><a href="appB.html#42119">Accessing Subcircuit Port Currents</a></li><li>
<a id="pgfId-879784"></a><a href="appB.html#19648">Accessing Subcircuit Model Parameter and Operating Point Information</a></li><li>
<a id="pgfId-879785"></a><a href="appB.html#31140">Accessing Schematic Primitive Model and Operating Point Information</a></li><li>
<a id="pgfId-879786"></a><a href="appB.html#39993">Editing a CDF Description</a></li></ul>





<h2>
<a id="pgfId-874847"></a><a id="39513"></a>Overview</h2>

<p>
<a id="pgfId-879999"></a>This appendix describes how to <a id="marker-879998"></a>access simulation data from primitive <a id="marker-880000"></a>subcircuits and schematics when you use the spectre interface. By modifying the Component Description Format (CDF) description of components in a design, you can annotate and plot <a id="marker-880001"></a>subcircuit port currents, primitive <a id="marker-880002"></a>model parameters, and <a id="marker-880003"></a>operating point parameters. You can apply the techniques described here to any simulation primitive, not just subcircuits. These techniques allow you to annotate derived parameters on the schematic.</p>
<p>
<a id="pgfId-880287"></a>Text-based subcircuits are frequently used to</p>
<ul><li>
<a id="pgfId-875333"></a>Provide a better model of device behavior</li><li>
<a id="pgfId-877174"></a>Allow quick modification of the netlist representing the subcircuit</li></ul>

<p>
<a id="pgfId-875336"></a>The first section describes how to modify a CDF description to obtain subcircuit port currents. The second section describes how to obtain the derived model parameters and operating point information. The third section describes how to obtain model parameters and operating point information from schematics below the level of the component in question. The last section reviews one method of editing a CDF description.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-880009"></a>Unless otherwise specified, the information in this appendix is for the <em>spectre</em> simulator. Other simulators may require a variation on the syntaxes detailed here.</div>
<p>
<a id="pgfId-880011"></a>The subcircuit examples use this simplified <a id="marker-880010"></a>operational amplifier model. You can find this in the file </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-880288"></a><code><em>your_install_dir</em></code>/tools/dfII/samples/artist/models/spectre/vcvsOpampModels.scs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-880318"></a>subckt opamp (plus minus output)<br />parameters inputCap=500e-15<br />C1 (plus minus) capacitor c=inputCap<br />E1 (aout 0 plus minus) vcvs gain=1e6<br />R3 (aout output) r100m<br />R4 (plus minus) r10M<br />ends</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-880340"></a>model r100m resistor r=100e-3<br />model r10M resistor r=10e6</pre>

<p>
<a id="pgfId-880014"></a>The <a id="marker-880013"></a>subcircuit is represented at the next higher level in the design hierarchy by a symbol, with pins <code>INplus</code>, <code>INminus</code>, and <code>OUTPUT</code>. The instance <code>I16</code> in the cellview <code>vcvsOpampTest</code> schematic in the library <code>aExamples</code> references the cellview. </p>
<p>
<a id="pgfId-880015"></a>If you update the CDF, you must generate a new netlist in order for the enhancements described here to work.</p>

<p>
<a id="pgfId-880452"></a></p>
<div class="webflare-div-image">
<img width="496" height="160" src="images/appB-2.gif" /></div>
<h2>
<a id="pgfId-875341"></a><a id="42119"></a>Accessing Subcircuit Port Currents</h2>

<p>
<a id="pgfId-880034"></a><a id="marker-880033"></a>You can obtain the port current of subcircuits of a component with simple simInfo on the CDF of that component. For the Spectre<sup>&#174; </sup>circuit simulator, the use of expressions is not necessary because this simulator handles the calculation of currents. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-880036"></a>Only the port currents may be obtained. No access is provided to <a id="marker-880035"></a>internal subcircuit currents. </div>
<p>
<a id="pgfId-880037"></a>The required simInfo is best illustrated by an example. To provide access to the currents entering through the plus, minus, and output ports of the <a id="marker-880038"></a>operational amplifier model for spectre, add the following Cadence<sup>&#174; </sup>SKILL language lines to the text of the spectre Simulation Information section of the operational amplifier CDF description, using the symbol pin names <code>INplus</code><a id="marker-880039"></a>, <code>INminus</code>, and <code>OUTPUT</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-883085"></a>termMapping ( nil INplus \:1 INminus \:2 OUTPUT \:3)</pre>

<p>
<a id="pgfId-883083"></a>The termMapping <a id="marker-880041"></a>property value is a <a id="marker-880042"></a>disembodied property list (DPL), which provides information to the data access code on how to obtain data for the relevant terminal. This information is also used by the simulator interface to generate appropriate save statements. The first term of the <em>termMapping</em> entry should always be <em>nil</em>. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-885357"></a>spectre requires the order number of the terminal for subcircuits, not the name. So instead of <code>&quot;:plus&quot;</code>, <code>&quot;:1&quot;</code> is required. </div>
<p>
<a id="pgfId-880044"></a>The termMapping property describes that the schematic terminal <code>INplus</code> is mapped to plus, and <code>INminus</code> is mapped to minus, and <code>OUTPUT</code> is mapped to the simulator name output. The colon character (<code>:</code>) is the Spectre simulator&#8217;s instance-terminal delimiter. </p>
<p>
<a id="pgfId-880045"></a>To save currents, use the Save Options form on the simulation window, or use the <em>Outputs &#8211; To Be Saved </em>command. You can select the individual terminals on the <code>I16</code> instance in the <code>vcvsOpampTest</code> schematic cellview. During simulation, only the currents you specify are saved. </p>

<h2>
<a id="pgfId-875355"></a><a id="marker-876252"></a><a id="19648"></a><a id="opParam"></a>Accessing Subcircuit Model Parameter and 
Operating Point Information</h2>

<p>
<a id="pgfId-32737"></a>By modifying a device CDF description, you can save additional <a id="marker-32736"></a>model parameters or operating point information using the following functions:</p>
<ul><li>
<a id="pgfId-883494"></a><strong>opParamExprList</strong><a id="marker-883578"></a> for specifying DC operating point information </li><li>
<a id="pgfId-883498"></a><strong>optParamExprList</strong><a id="marker-883576"></a> for specifying transient operating point information </li><li>
<a id="pgfId-883502"></a><strong>modelParamExprList</strong><a id="marker-883577"></a> for specifying model parameters </li></ul>


<p>
<a id="pgfId-883489"></a>After simulation, you can access this information from the calculator or by using the label display mechanism. This method differs from the one used in the previous example in that you must fully specify the required functions. This is demonstrated in the following example.</p>
<p>
<a id="pgfId-885081"></a>In this example, three additional operating point parameters are resistors: <em>rin </em>(input resistance),<em> rout</em> (output resistance), and <em>gain</em>. Add the following lines to the spectre Simulation Information section of the operational amplifier CDF description:<a id="marker-885082"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-885083"></a>opParamExprList  (&quot;rin&quot;  &quot;OP(mappedRoot(\&quot;.R4\&quot;) \&quot;res\&quot;)&quot;)<br />(&quot;rout&quot; &quot;OP(mappedRoot(\&quot;.R3\&quot;) \&quot;res\&quot;)&quot;)<br />(&quot;gain&quot; &quot;1e6&quot;)</pre>

<p>
<a id="pgfId-884868"></a>The opParamExprList<a id="marker-884867"></a> property is a list of pairs. The first element of each pair is the name of the new property, and the second element is the expression that must be evaluated to compute the new property. <em>OP</em><a id="marker-884869"></a> is the operating parameter function, which takes an instance name and an associated parameter as arguments. The second argument <em>res</em> is the resistance parameter for that component. The first argument, <code>mappedRoot(\&quot;.R4\&quot;)</code>, is the expression for the name of the instance. </p>
<p>
<a id="pgfId-880056"></a>The <em>mappedRoot()</em><a id="marker-880055"></a> function takes the string ( <code>\&quot;.R4\&quot;</code> ) and prepends the simulator instance name of the current instance. The dot character (<code>.</code>) is the spectre subcircuit delimiter. Since the property value is a string, substrings (such as <code>&quot;.R4&quot;</code>) must be escaped (<code>\&quot;.R4\&quot;</code>).</p>
<p>
<a id="pgfId-884429"></a>The <em>root()</em><a id="marker-884428"></a> function prepends the schematic name (rather than simulator name) of the device instance in question. The <em>root()</em> function also adds a slash (the schematic delimiter) before its argument.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-884543"></a>Use of the <em>root()</em> function is recommended over the <em>mappedRoot()</em> function in CDF mapping. This is because the <em>root()</em> function gives you the flexibility to specify schematic names, which are simulator independent, instead of simulator specific names. Consider the following example.</div>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-884544"></a>(&quot;id&quot; &quot;OP(root(\&quot;M0\&quot;) \&quot;id\&quot;)&quot;) </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-884545"></a>(&quot;id&quot; &quot;OP(root(\&quot;M2&lt;1&gt;\&quot;) \&quot;id\&quot;)&quot;)&#160;&#160;</pre>

<p class="webflare-indent1">
<a id="pgfId-884559"></a>In this example, M0 is non-iterated and M2 is an iterated instance.</p>

<p>
<a id="pgfId-884484"></a>Use the <em>mappedRoot()</em> function only when you know the exact simulator name, as shown in the following example (for a spectre simulator): </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-884487"></a>(&quot;id&quot;&#160;&#160;&quot;OP(mappedRoot(\&quot;.M0\&quot;) \&quot;id\&quot;)&quot;)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-884488"></a>(&quot;id&quot; &quot;OP(mappedRoot(\&quot;.M2\\\\\\\\&lt;1\\\\\\\\&gt;\&quot;) \&quot;id\&quot;)&quot;)</pre>

<p class="webflare-indent1">
<a id="pgfId-884592"></a>In this example, M0 is non-iterated and M2 is an iterated instance.</p>

<p>
<a id="pgfId-880061"></a>The other two functions provided, <em>inst()</em><a id="marker-880059"></a> and <em>mappedInst()</em><a id="marker-880060"></a>, do not take arguments and return the schematic and simulator instance names, respectively. </p>
<p>
<a id="pgfId-880087"></a>The following table shows the difference between the four functions.</p>

<p>
<a id="pgfId-880892"></a></p>
<table class="webflareTable" id="#id880062">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id880064">
<a id="pgfId-880064"></a>Function Syntax</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id880066">
<a id="pgfId-880066"></a>Value Returned</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880069"></a><a id="marker-880068"></a>root(string)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880071"></a>strcat(instSchematicName &quot;/&quot; string)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880074"></a><a id="marker-880073"></a>mappedRoot(string)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880076"></a>strcat(instSimulatorName string)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880079"></a><a id="marker-880078"></a>inst()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880081"></a>instSchematicName</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880084"></a><a id="marker-880083"></a>mappedInst()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-880086"></a>instSimulatorName</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-880089"></a>The SKILL function <em>strcat</em><a id="marker-880088"></a> is the standard SKILL string concatenate function.</p>
<p>
<a id="pgfId-880090"></a>Given an instance of the subcircuit with the name <code>I16</code> and the simulator instance name of <code>I16</code>, the expressions in the example would evaluate as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-880091"></a>mappedRoot(\&quot;.R4\&quot;) -&gt; &quot;I16.R4&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-880092"></a>root(\&quot;inplus\&quot;) -&gt; &quot;I16/inplus&quot;</pre>

<p>
<a id="pgfId-880093"></a>The other functions would act as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-880094"></a>inst() -&gt; &quot;I16&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-880095"></a>mappedInst() -&gt; &quot;I16&quot;</pre>

<p>
<a id="pgfId-880096"></a>Similarly, you can add transient operating point information and model parameters if you replace opParamExprList with <em>optParamExprList</em> and <a id="marker-880097"></a>modelParamExprList respectively. Also replace OP with OPT and <em>MP</em><a id="marker-880098"></a> as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-880099"></a>OP(instance_name parameter) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-883522"></a>OPT(instance_name parameter) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-883539"></a>MP(instance_name parameter)</pre>

<p>
<a id="pgfId-885071"></a>Following are examples of <em>optParamExprList</em> and <em>modelParamExprList</em>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-885072"></a>optParamExprList&#160;&#160;(&quot;rin&quot; &quot;OPT(mappedRoot(&#39;.R4&#39;) &#39;res&#39;)&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-885073"></a>modelParamExprList&#160;&#160; ((&quot;afin&quot; &quot;MP(mappedRoot(\&quot;.R4\&quot;) \&quot;af\&quot;)&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-880102"></a>                    (&quot;afout&quot; &quot;MP(mappedRoot(\&quot;.R3\&quot;) \&quot;af\&quot;)&quot;))</pre>

<p>
<a id="pgfId-884947"></a>In the same way, you can <a id="marker-884946"></a>add parameters to cells that are similar to the ones you find in <em>analogLib</em>. The following addition to a resistor CDF description adds a conductance property:<a id="marker-884948"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-884949"></a>opParamExprList&#160;&#160;(&quot;cond&quot;&#160;&#160;&quot;1.0/OP(inst() \&quot;res\&quot;)&quot;)</pre>

<p>
<a id="pgfId-884951"></a><a id="marker-884950"></a>You can define your own functions to perform computations. Consider the following example which adds the <code>xyz</code> parameter:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-880108"></a>opParamExprList&#160;&#160;(&quot;xyz&quot;&#160;&#160;&quot;userFun(inst())&quot;)</pre>

<p>
<a id="pgfId-883464"></a>When the <code>xyz</code> operating point property is accessed, the function <code>userFun()</code> is called with the schematic name of the instance in question. The <code>userFunc()</code> should return an integer if the operation is successful. If <code>userFunc()</code> does not return an integer, then the parameter is not displayed. Some more examples of user defined functions are as follows.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-883465"></a>opParamExprList  (&quot;avgcurrent&quot;   &quot;averageCurrent(root(&#39;PLUS&#39;))&quot;) <br />    (&quot;pwr&quot;          &quot;instPwr(inst())&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-883466"></a>defun( instPwr ( instName ) <br />    (let (i v) <br />        i = OP(instName &quot;i&quot;)<br />        v = OP(instName &quot;v&quot;) <br />        (when (and i v)  i * v ) <br />) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-883467"></a>defun( averageCurrent (instTerm) <br />    (let (i) <br />        i = IT( instTerm) <br />        (when i average(i)) <br />    ) </pre>

<p>
<a id="pgfId-883447"></a>)</p>
<p>
<a id="pgfId-883453"></a>While using a user a user defined function with <code>opParamExprList</code> ensure that the function is defined, otherwise it causes an error. This process can aid debugging. </p>
<p>
<a id="pgfId-883458"></a>The expression you use to define a given property can be arbitrary, but if the expression evaluates incorrectly or the current is not saved, the system generates an error. This can be slow down the simulation if there are many instances of the device on a schematic attempting to display this property. For example, you might add the following <code>avecurrent</code> property to a resistor to compute the average transient current through the resistor:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-880111"></a>opParamExprList&#160;&#160;(&quot;avecurrent&quot;&#160;&#160;&quot;average(IT(root(\&quot;PLUS\&quot;)))&quot;)</pre>

<p>
<a id="pgfId-880113"></a>If you did not save the current, then the <code>IT()</code><a id="marker-880112"></a> function returns <code>nil</code>, and the <em></em><a id="marker-880114"></a><code>average() </code>function complains about a <code>nil</code> argument. To prevent this, add logic to the expression as in this example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-880115"></a>opParamExprList&#160;&#160;(&quot;avecurrent&quot;&#160;&#160;&quot;let(((i IT(root(\&quot;PLUS\&quot;))))(and i average(i)))&quot;)</pre>

<p>
<a id="pgfId-880116"></a>If you did not save the current, this expression prevents the system from flagging errors.</p>
<p>
<a id="pgfId-880119"></a>You can use standard SKILL functions like <em>let</em><a id="marker-880117"></a> in these expressions. <em>IT</em><a id="marker-880118"></a> and <em>average</em><a id="marker-880120"></a> are private, internal SKILL functions that are not documented for any other use.</p>

<h2>
<a id="pgfId-877137"></a><a id="marker-877135"></a><a id="31140"></a>Accessing Schematic Primitive Model and <a id="marker-877136"></a>Operating Point Information</h2>

<p>
<a id="pgfId-877183"></a>You can apply the methods for accessing model and operating point information in subcircuits to access that same information in schematics. By modifying the CDF description of a component, you can access model or operating point information in a schematic one level below the component and display it at the component&#8217;s level.</p>
<p>
<a id="pgfId-880124"></a>For example, the instance <code>I19</code> in the cellview <code>vcvsOpampTest</code> is a schematic of the same subcircuit. On the next higher level is another schematic, where the sample schematic is represented by a symbol. </p>

<p>
<a id="pgfId-880483"></a></p>
<div class="webflare-div-image">
<img width="509" height="277" src="images/appB-3.gif" /></div>

<p>
<a id="pgfId-877184"></a>By putting a particular statement in the model or operating point expression list of the CDF <em>simInfo</em> section of <em>OP52</em>, you can define new parameters such as <em>inres</em> and <em>outres</em>, base them on primitive values one level down, such as <em>R4</em> and <em>R3</em>, and display their values on <em>OP52</em>.</p>
<p>
<a id="pgfId-877270"></a>To create the two parameters in the example, include these statements in the simInfo section of <em>OP52</em> for each simulator that you are using:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-877278"></a>opParamExprList&#160;&#160;&#160;&#160;  (&quot;inres&quot; &quot;OP(root(\&quot;R4\&quot;) \&quot;res\&quot;)&quot;)<br />    (&quot;outres&quot; &quot;OP(root(\&quot;R3\&quot;) \&quot;res\&quot;)&quot;)</pre>

<p>
<a id="pgfId-877298"></a>In this example, <em>inres</em> and <em>outres</em> are parameter names that you define. They derive their values from the <em>res</em> parameter on primitives <em>R4</em> and <em>R3</em>, respectively. For schematics you use the <em>root</em> function.</p>
<p>
<a id="pgfId-877480"></a>To display the information produced by these CDF description entries, make sure that you have created enough labels for your component and that those labels are set to display model or operating point values. For model data, use <em>modelParamExprList</em> and the <em>MP</em> function.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-877481"></a>CDF data is not view specific, so do not reference parameters in views that are not netlisted because of their position in the view switch list.</div>
<p>
<a id="pgfId-877301"></a>To refer to primitive data several design levels below the component where you want the data displayed, you need to include all the instance names from each level.</p>

<p>
<a id="pgfId-880563"></a></p>
<div class="webflare-div-image">
<img width="491" height="179" src="images/appB-4.gif" /></div>

<p>
<a id="pgfId-877380"></a>For this example, use the following statement in the CDF description of <code>I10</code> to display the capacitance on <code>C13</code> as the input capacitance of <code>I10</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-877385"></a>opParamExprList&#160;&#160;(&quot;cin&quot; &quot;OP(root(\&quot;E157/C13\&quot;) \&quot;c\&quot;))</pre>
<h2>
<a id="pgfId-879779"></a><a id="39993"></a>Editing a CDF Description</h2>
<h3>
<a id="pgfId-875377"></a>Writable Cells</h3>

<p>
<a id="pgfId-875709"></a>To modify a cell CDF description for which you have write access</p>

<ol><li>
<a id="pgfId-875378"></a>In the CIW, type<br /><pre class="webflare-pre-block webflare-courier-new" id="#id879912">
<a id="pgfId-879912"></a>cdfDump( &quot;lib&quot; &quot;<code><em>full_path</em></code>/<code><em>filename</em></code>&quot; ?cellName &quot;cell&quot; ?edit &#8217;t ?level &#8217;base)</pre>
<a id="pgfId-875380"></a>and wait for a window to appear. </li><li>
<a id="pgfId-875382"></a>Edit the file, making the necessary changes.</li><li>
<a id="pgfId-875383"></a>Load the file in the CIW with<br /><pre class="webflare-pre-block webflare-courier-new" id="#id879914">
<a id="pgfId-879914"></a>load(&quot;<code><em>full_path</em></code>/<code><em>filename</em></code>&quot;)</pre></li></ol>









<h3>
<a id="pgfId-879919"></a>Sample CDF</h3>

<p>
<a id="pgfId-880201"></a>The <code>aExamples</code> library demonstrates several different methods of parameter display. </p>
<p>
<a id="pgfId-880202"></a>The following is a sample CDF for several of the schematics in the <code>aExamples</code> library. Spectre examples are given:</p>
<ul><li>
<a id="pgfId-880203"></a>opamp (macro model)<br /><pre class="webflare-pre-block webflare-courier-new" id="#id880204">
<a id="pgfId-880204"></a>cdfId-&gt;simInfo-&gt;spectre = &#39;( nil</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880205">
<a id="pgfId-880205"></a>        propMapping       nil</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880206">
<a id="pgfId-880206"></a>        instParameters    nil</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880207">
<a id="pgfId-880207"></a>        otherParameters   (model)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880208">
<a id="pgfId-880208"></a>        netlistProcedure  nil</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880209">
<a id="pgfId-880209"></a>        termMapping      ( nil IN\plus &quot;:1&quot; IN\minus &quot;:2&quot; OUTPUT &quot;:3&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880210">
<a id="pgfId-880210"></a>        termOrder         (&quot;INplus&quot; &quot;INminus&quot; &quot;OUTPUT&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880211">
<a id="pgfId-880211"></a>        componentName     opamp</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880212">
<a id="pgfId-880212"></a>        opParamExprList   (&quot;rin&quot; &quot;OP(mappedRoot(&quot;.R4&quot;) &quot;res&quot;)&quot;) (&quot;rout&quot; &quot;OP(mappedRoot(&quot;.R3&quot;) &quot;res&quot;)&quot;) (&quot;gain&quot; &quot;1e6&quot;))</pre></li><li>
<a id="pgfId-880215"></a>opamp_sch (1 level display):<br /><pre class="webflare-pre-block webflare-courier-new" id="#id880216">
<a id="pgfId-880216"></a>cdfId-&gt;simInfo-&gt;spectre = &#8217;( nil</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880217">
<a id="pgfId-880217"></a>        termOrder         (&quot;INplus&quot; &quot;INminus&quot; &quot;OUTPUT&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880218">
<a id="pgfId-880218"></a>        componentName nil</pre><pre class="webflare-pre-block webflare-courier-new" id="#id880219">
<a id="pgfId-880219"></a>        opParamExprList  (&quot;inres&quot; &quot;OP(root(&quot;R2&quot;) &quot;res&quot;)&quot;) (&quot;outres&quot; &quot;OP(root(&quot;R3&quot;) &quot;res&quot;)&quot;))</pre></li><li>
<a id="pgfId-880221"></a>opamp_2Level (2 level display):<br /><pre class="webflare-pre-block webflare-courier-new" id="#id883137">
<a id="pgfId-883137"></a>cdfId-&gt;simInfo-&gt;spectre = &#8217;( nil</pre><pre class="webflare-pre-block webflare-courier-new" id="#id883138">
<a id="pgfId-883138"></a>        termOrder         (&quot;in_plus&quot; &quot;in_minus&quot; &quot;out_again&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id883139">
<a id="pgfId-883139"></a>        componentName     &quot;subcircuit&quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id884699">
<a id="pgfId-884699"></a>        opParamExprList  (&quot;cin&quot; &quot;OP(root(&quot;I0/C0&quot;) &quot;cap&quot;)&quot;) (&quot;rin&quot; &quot;OP(root(&quot;I0/R2&quot;) &quot;res&quot;)&quot;))<a id="10243"></a></pre></li></ul>




















<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="appTroubleshoot.html" id="prev" title="Troubleshooting CDF Callback">Troubleshooting CDF Callback</a></em></b><b><em><a href="appC.html" id="nex" title="NBSIM Transistor CDF SKILL Description">NBSIM Transistor CDF SKILL Des ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>