
<html><head><title>dbWriteSkill</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-25" />
<meta name="CreateTime" content="1698259410" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes SKILL functions that interface with Virtuoso Studio design environment applications" />
<meta name="DocTitle" content="Virtuoso Studio Design Environment SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="dbWriteSkill" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="skdfref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-25" />
<meta name="ModifiedTime" content="1698259410" />
<meta name="NextFile" content="cvio_re_dbWriteSkillWithLib.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="cvio_re_dbUnsetLibDataCompressionLevel.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Studio Design Environment SKILL Reference -- dbWriteSkill" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="api reference" />
<meta name="prod_feature" content="Design Environment Infrastructure" />
<meta name="prod_subfeature" content="SKILL API" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="skdfrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="skdfrefTOC.html">Contents</a></li><li><a class="prev" href="cvio_re_dbUnsetLibDataCompressionLevel.html" title="dbUnsetLibDataCompressionLevel">dbUnsetLibDataCompressionLevel</a></li><li style="float: right;"><a class="viewPrint" href="skdfref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="cvio_re_dbWriteSkillWithLib.html" title="dbWriteSkillWithLib">dbWriteSkillWithLib</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Studio Design Environment SKILL Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a name="Filename:re_dbWriteSkill" title="dbWriteSkill"></a><h3>
<a name="pgfId-5492674"></a><a name="59378"></a>dbWriteSkill<a name="dbWriteSkill"></a></h3>
<a name="pgfId-5492676"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbWriteSkill( 
<code><em>d_cellViewId 
t_fileName 
t_mode 
t_release</em></code> 
[ <code><em>g_conn</em></code> ] db
[<code><em> g_ref</em></code> ] 
[<code><em> g_lppString</em></code> ] 
) 
=&gt; t / nil </pre>

<h4>
<a name="pgfId-5492677"></a>Description</h4>
<p>
<a name="pgfId-5492679"></a>Creates a file that contains all the SKILL commands needed to recreate a cellview, so that the design can be recreated in the current or previous release by loading the file in the current or previous release, respectively.</p>

<p>
<a name="pgfId-5492680"></a>To avoid painfully traversing the customer design hierarchy, the <span class="webflare-courier-new" style="white-space:pre"><em>g_ref</em></span> option allows you to traverse the cellview hierarchy from a source cellview and to generate the SKILL functions to recreate all the database objects of all the reference cellviews which the source cellview directly and indirectly referenced. </p>
<p>
<a name="pgfId-5492681"></a><code>dbWriteSkill</code> creates two files for a procedural pcell&#8212;one with the cell&#8217;s design data and the other with the procedure. </p>
<p>
<a name="pgfId-5492685"></a>Functions <code>dbWriteSkill</code> and <a href="cvio_re_dbWriteSkillWithLib.html#36382"><h-hot>dbWriteSkillWithLib</h-hot><code></code></a> do not replicate all database attributes of all objects, and should not be viewed as a way to completely recreate a given design. In previous releases, these functions served purposes related to migration of basic objects from older releases to newer versions, but are not intended to fully support newer and expanded capabilities and methods used by the latest versions, and latest features in the OA database. For example, a partial list of limitations include, layer coloring information, blockages, and physical-only attributes. </p>



<h4>
<a name="pgfId-5492723"></a>Arguments</h4>
<table class="webflareTable" id="#id5492686">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492688"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492690"></a>ID of the source cellview. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492692"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_fileName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492694"></a>Target SKILL filename. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492696"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_mode</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492698"></a>Modes. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492700"></a>            </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492702"></a>Valid Values:<code> w</code> (overwrite),<code> a</code> (append)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492704"></a>               </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492706"></a>Using <code>a</code> mode, you can dump a few designs into one file. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492708"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_release</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492710"></a>The release in which the file will be loaded. </p>
<p>
<a name="pgfId-5505112"></a>The valid values are <code>&quot;4.3&quot;</code>, <code>&quot;4.4&quot;</code>, <code>&quot;5.0&quot;</code>, and <code>&quot;6.1&quot;</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492712"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_conn</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492714"></a>The default is to dump out everything. If this argument is set to <code>TRUE</code>, then only the connectivity of the given cellview will be written out. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492716"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_ref</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492718"></a>The default is to not dump the reference cellviews. If this argument is set to <code>t</code>, then all the cellviews that the source cellview directly or indirectly referenced will be written out. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492720"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_lppString</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492722"></a>Layer purpose name or number. The default is to dump <code>lpp</code> as number (for backward compatibility.) If set to <code>t</code>, <code>lpp</code> is dumped as a string. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-5492733"></a>Values Returned</h4>
<table class="webflareTable" id="#id5492724">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492726"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492728"></a>The function was successful. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492730"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-5492732"></a>The function failed.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-5492734"></a>Examples </h4>

<p>
<a name="pgfId-5492735"></a>In the 6.1 or later, do </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492736"></a>dbWriteSkill(cvId &quot;/tmp/bar.il&quot; &quot;w&quot; &quot;6.1&quot;)</pre>

<p>
<a name="pgfId-5492737"></a>If you are dumping with the reference cellview option (<span class="webflare-courier-new" style="white-space:pre"><em>g_ref</em></span>), a SKILL procedure is defined for each cellview to modularize all the database objects of each cellview. Because the number of database objects is unlimited but the line number of a SKILL procedure is limited, split the procedure if the line number in each procedure is more than PROCMAXLINE (that is, 2000 lines). The procedure name is based on the ID of the cellview in memory. Append the numbers starting from 0 when splitting multiple procedures. </p>
<p>
<a name="pgfId-5492738"></a>For example: </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492739"></a>procedure( dbD_10056748Ref0() ... )<br />procedure( dbD_10055724Ref0() ... )<br />procedure( dbD_10055724Ref1() ... )<br />procedure( dbD_10055724Ref2() ... )<br />procedure( dbD_10055724Ref3() ... )</pre>

<p>
<a name="pgfId-5492740"></a>The sequence of recreating the cellviews in the hierarchy is important. Create the leaf node cellviews first, then go up to the source cellview. This ensures that when any database object that references another cellview is created, it will not fail. </p>
<p>
<a name="pgfId-5492741"></a>For example, create cellview A with the following reference cellviews: </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492742"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492743"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492744"></a>     A<br />    /   \<br />     B      C<br />    / \    / \<br />   D   E  /   F<br />  /   / \/<br /> &#160;&#160;G&#160;&#160;  H  I</pre>

<p>
<a name="pgfId-5492745"></a>In this example, the sequence of creating cellviews is G, D, H, I, E, B, F, C, and A.</p>
<p>
<a name="pgfId-5492746"></a>There is a size limitation with the <span class="webflare-courier-new" style="white-space:pre"><em>g_ref</em></span> option when you load a huge SKILL file that is generated from a big design. In this case, avoid dumping from the top level cellview, and try to dump from lower level cellviews.</p>
<p>
<a name="pgfId-5492747"></a>Given below is an example for a procedural <code>pCell</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492748"></a>pcell cvId = dbOpenCellViewByType(&quot;myLib&quot; &quot;myPcell&quot; &quot;layout&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492749"></a>dbWriteSkill(cvId &quot;/tmp/dumpFile.il&quot; &quot;w&quot; &quot;5.0&quot;)</pre>

<p>
<a name="pgfId-5492750"></a>creates two files in <code>/tmp</code>:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492751"></a>dumpFile.il</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-5492752"></a>myLib_myPcell_layout_pCell.il</pre>

<p>
<a name="pgfId-5492753"></a><code>dumpFile.il</code> contains design data for the cell.</p>
<p>
<a name="pgfId-5492754"></a><code>myLib_myPcell_layout_pCell.il</code> contains the <code>pCell</code> procedure.</p>
<p>
<a name="pgfId-5492755"></a>Follow these steps, substituting your names for the example names:</p>
<ol><li>
<a name="pgfId-5492756"></a>Execute <code>dbWriteSkill.</code></li><li>
<a name="pgfId-5492757"></a>Run the SKILL Code Checker on <code>dumpFile.il.</code></li><li>
<a name="pgfId-5492758"></a>Make the necessary changes to <code>myLib_myPcell_layout_pCell.il</code>.</li><li>
<a name="pgfId-5492759"></a>Recreate the <code>pCell</code>.</li></ol>



<p>
<a name="pgfId-5492760"></a>Do not use the load command or the pcell compiler to re-create the cell. You lose graphical data if you use load and you lose parameters if you recompile. For information about loading pcells, refer to the <em>Virtuoso Parameterized Cell Reference.</em></p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbWriteSkillWithLib

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="cvio_re_dbUnsetLibDataCompressionLevel.html" id="prev" title="dbUnsetLibDataCompressionLevel">dbUnsetLibDataCompressionLevel</a></em></b><b><em><a href="cvio_re_dbWriteSkillWithLib.html" id="nex" title="dbWriteSkillWithLib">dbWriteSkillWithLib</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>