
<html><head><title>dbColorShapeQuery</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-25" />
<meta name="CreateTime" content="1698259464" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes SKILL functions that interface with Virtuoso Studio design environment applications" />
<meta name="DocTitle" content="Virtuoso Studio Design Environment SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="dbColorShapeQuery" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="skdfref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-25" />
<meta name="ModifiedTime" content="1698259464" />
<meta name="NextFile" content="mpt_re_dbGetIntegrationColorModel.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="mpt_re_dbGetShapeSameMaskGroups.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Studio Design Environment SKILL Reference -- dbColorShapeQuery" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="api reference" />
<meta name="prod_feature" content="Design Environment Infrastructure" />
<meta name="prod_subfeature" content="SKILL API" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="skdfrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="skdfrefTOC.html">Contents</a></li><li><a class="prev" href="mpt_re_dbGetShapeSameMaskGroups.html" title="dbGetShapeSameMaskGroups">dbGetShapeSameMaskGroups</a></li><li style="float: right;"><a class="viewPrint" href="skdfref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="mpt_re_dbGetIntegrationColorModel.html" title="dbGetIntegrationColorModel">dbGetIntegrationColorModel</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Studio Design Environment SKILL Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a name="Filename:re_dbColorShapeQuery" title="dbColorShapeQuery"></a><h3>
<a name="pgfId-1743232"></a><a name="34843"></a>dbColorSh<a name="dbColorShapeQuery"></a>apeQuery</h3>
<a name="pgfId-1743233"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbColorShapeQuery( 
<code><em>d_cellViewId
l_layerPurposePair
l_bBox
</em></code>[ <code><em>x_startLevel</em></code> ]
[ <code><em>x_stopLevel</em></code> ]
[ <code><em>n_filterSize</em></code> ]
[ <code><em>l_transform</em></code> ]
)
=&gt; <code><em>l_shapeColorPairs</em></code> / nil</pre>

<h4>
<a name="pgfId-1743235"></a>Description</h4>

<p>
<a name="pgfId-1743237"></a>Returns a list of all shapes and their effective color, where the bounding boxes of the shapes overlap the region specified by <span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span>. </p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1743238"></a>The effective color of a shape is the color after applying any hierarchical shifting that may be specified at different levels of the design hierarchy. This effective color may not be the color assigned to the shape.</div>
<div class="webflare-information-macro webflare-macro-information">
<a name="pgfId-1743239"></a>
Query of objects is based on the open hierarchy level. Only cellviews that are currently open will be searched. To ensure that all shapes are returned in a query list, <code>dbOpenHier</code> can be used to load all required cellviews. </div>



<h4>
<a name="pgfId-1743270"></a>Arguments</h4>
<table class="webflareTable" id="#id1743240">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743242"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellviewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743244"></a>Specifies the cellview ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743246"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_layerPurposePair</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743248"></a>Specifies the layer-purpose pair</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743250"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743252"></a>Specifies the region that should overlap bounding boxes of all returned shapes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743254"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_startLevel</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743256"></a>Specifies the level of the design hierarchy in which to start the querying process. If the startLevel argument is not specified, the start level defaults to 0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743258"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_stopLevel</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743260"></a>Specifies the level of the design hierarchy in which to stop the querying process. If the stopLevel argument is not specified, the stop level defaults to maximum hierarchy depth.</p>
<p>
<a name="pgfId-1743261"></a>The query will stop prior to x_stopLevel if it encounters a cellview which is not currently loaded.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743263"></a><span class="webflare-courier-new" style="white-space:pre"><em>n_filterSize</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743265"></a>Specifies the shapes filter size. The query produces only shapes with a size larger than the filterSize. If no filterSize argument is specified, the blockage filter size defaults to 0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743267"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_transform</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743269"></a>Describes the initial transformation to be used during the region querying process, such as offset, rotation, and/or magnification. If no transform argument is specified, the initial formation defaults to offset (0,0),and orientation R0.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743280"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743271">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743273"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_shapeColorPairs</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743275"></a>Returns a list of pairs (shape ID, shape color)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743277"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743279"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743281"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743282"></a>dbColorShapeQuery( cvId &#39;(&quot;M1&quot; &quot;drawing&quot;) &#39;((0 0) (100 100)) )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a name="pgfId-1743283"></a>=&gt; ((sh1Id &quot;mask1Color&quot;) (sh2Id &quot;grayColor&quot;))</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetIntegrationColorModel

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="mpt_re_dbGetShapeSameMaskGroups.html" id="prev" title="dbGetShapeSameMaskGroups">dbGetShapeSameMaskGroups</a></em></b><b><em><a href="mpt_re_dbGetIntegrationColorModel.html" id="nex" title="dbGetIntegrationColorModel">dbGetIntegrationColorModel</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>