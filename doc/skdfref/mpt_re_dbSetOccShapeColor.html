
<html><head><title>dbSetOccShapeColor</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-10-25" />
<meta name="CreateTime" content="1698259464" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes SKILL functions that interface with Virtuoso Studio design environment applications" />
<meta name="DocTitle" content="Virtuoso Studio Design Environment SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="dbSetOccShapeColor" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="skdfref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-10-25" />
<meta name="ModifiedTime" content="1698259464" />
<meta name="NextFile" content="mpt_re_dbSetOccShapeColorLocked.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="mpt_re_dbGetShapeEffectiveColor.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Studio Design Environment SKILL Reference -- dbSetOccShapeColor" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="reference" />
<meta name="reference_type" content="api reference" />
<meta name="prod_feature" content="Design Environment Infrastructure" />
<meta name="prod_subfeature" content="SKILL API" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="skdfrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="skdfrefTOC.html">Contents</a></li><li><a class="prev" href="mpt_re_dbGetShapeEffectiveColor.html" title="dbGetShapeEffectiveColor">dbGetShapeEffectiveColor</a></li><li style="float: right;"><a class="viewPrint" href="skdfref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="mpt_re_dbSetOccShapeColorLocked.html" title="dbSetOccShapeColorLocked">dbSetOccShapeColorLocked</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Studio Design Environment SKILL Reference<br />Product Version IC23.1, November 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<a name="Filename:re_dbSetOccShapeColor" title="dbSetOccShapeColor"></a><h3>
<a name="pgfId-1792733"></a><a name="88004"></a>dbSetOccSh<a name="dbSetOccShapeColor"></a>apeColor</h3>
<a name="pgfId-1792735"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetOccShapeColor( 
<code><em>l_occShape
t_color
</em></code>)
=&gt; <code>t</code> / nil</pre>

<h4>
<a name="pgfId-1792736"></a>Description</h4>

<p>
<a name="pgfId-1792738"></a>Assigns the specified color to the given occurrence shape. You can set the color for occurrence shapes with types <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, and <code>Rect</code>. </p>



<h4>
<a name="pgfId-1792758"></a>Arguments</h4>
<table class="webflareTable" id="#id1792739">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792741"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792743"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)<br /></code>where, </p>

<ul><li>
<a name="pgfId-1792745"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1792747"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1792748"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,<ul><li>
<a name="pgfId-1792750"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.</li><li>
<a name="pgfId-1792751"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li><li>
<a name="pgfId-1792752"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1792942"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape to be colored.
Supported shapes: <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, <code>Rect</code></li></ul>









</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792755"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_color</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792757"></a>Name of the color mask (<code>&quot;grayColor&quot;</code>, <code>&quot;mask&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span><code>&gt;Color&quot;</code>, where <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span><code>&gt;</code> is 1, 2, and so on, up to the number of masks defined in the technology library for the layer). If the color is <code>&quot;grayColor&quot;</code> and there is a hierarchical color lock (HCL) on the occurrence shape, the HCL will be removed if the color state is unlocked.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792772"></a>Value Returned</h4>
<table class="webflareTable" id="#id1792759">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792761"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1792763"></a>Color is assigned to the specified occurrence shape. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792765"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792767"></a>Returned in case of an error. An error occurs when an attempt is made to:</p>

<ul><li>
<a name="pgfId-1792768"></a>Set the color of the occurrence shape, and the color state of the occurrence shape or the shape is found to be locked. Unlock the color state of the occurrence shape before changing its color. </li><li>
<a name="pgfId-1792769"></a>Set the color mask to <code>&#39;multi&#39;</code> or <code>&#39;black&#39;</code>.</li><li>
<a name="pgfId-1792770"></a>Set the color of an occurrence shape that is on an unbounded layer or on a layer that does not support coloring.</li><li>
<a name="pgfId-1792771"></a>Set the color for occurrence shapes with a type other than <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, or <code>Rect</code>.</li></ul>




</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792773"></a>Example</h4>

<p>
<a name="pgfId-1860637"></a>Creates a one-level occurrence shape <code>rect0</code>, then sets its color to <code>mask2Color</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792774"></a>cv = dbOpenCellViewByType(&quot;tech&quot; &quot;design&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />top = dbOpenCellViewByType(&quot;tech&quot; &quot;top&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />inst = dbCreateInst(top cv &quot;InstInTop&quot; &#39;(0 0) &quot;R0&quot;)<br />rect0 = dbCreateRect(cv &#39;(&quot;metal2&quot; &quot;drawing&quot;) &#39;((1 8.6) (5.3 6.6)))<br />path = list(list(inst) rect0)<br />dbSetOccShapeColor(path &quot;mask2Color&quot;) </pre>

<p>
<a name="pgfId-1792775"></a>Creates a via, then sets the color of a randomly picked shape from the via master to <code>mask1Color</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792776"></a>viaDef_M2_M1 = techFindViaDefByName(tf &quot;M2_M1&quot;)<br />via1t_m2_m1  = dbCreateVia(cv viaDef_M2_M1 10:10 &quot;R0&quot;)<br />path = list(list(via1t_m2_m1) nth(1 via1t_m2_m1~&gt;viaHeader~&gt;master~&gt;shapes))<br />dbSetOccShapeColor(path &quot;mask1Color&quot;)</pre>

<p>
<a name="pgfId-1792777"></a>Sets the color of the instance of <code>rect1</code> inside the mosaic to <code>mask2Color</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792778"></a>rect1 = dbCreateRect(cv &#39;(&quot;metal2&quot; &quot;drawing&quot;) &#39;((0 7.6) (4.3 5.6)))<br />mosaic = dbCreateSimpleMosaic(top cv &quot;MosaicInTop&quot; list(0 0) &quot;R0&quot; 2 2 2 2)<br />path = list(list(list(mosaic 1 1)) rect1)<br />dbSetOccShapeColor(path &quot;mask2Color&quot;)<br />dbGetShapeEffectiveColor(path)</pre>

<p>
<a name="pgfId-1792779"></a>Sets the color of the <code>rect</code> shapes in the instances given by <code>inst1</code> and <code>inst2</code> to <code>mask1Color</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792780"></a>dbSetOccShapeColor((list(list(inst1 inst2) rect) &quot;mask1Color&quot;)</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetOccShapeColorLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="mpt_re_dbGetShapeEffectiveColor.html" id="prev" title="dbGetShapeEffectiveColor">dbGetShapeEffectiveColor</a></em></b><b><em><a href="mpt_re_dbSetOccShapeColorLocked.html" id="nex" title="dbSetOccShapeColorLocked">dbSetOccShapeColorLocked</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>