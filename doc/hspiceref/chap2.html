
<html><head><title>SPICE Circuit Simulation Interface</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2023-06-14" />
<meta name="CreateTime" content="1686751861" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the HSPICE and SPICE Interface which lets you run an HSPICE and SPICE simulation in the Cadence environment." />
<meta name="DocTitle" content="HSPICE/SPICE Interface Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="SPICE Circuit Simulation Interface" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="hspiceref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-06-14" />
<meta name="ModifiedTime" content="1686751861" />
<meta name="NextFile" content="chap3.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="chap1.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="HSPICE/SPICE Interface Reference -- SPICE Circuit Simulation Interface" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="hspicerefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="hspicerefTOC.html">Contents</a></li><li><a class="prev" href="chap1.html" title="Introduction">Introduction</a></li><li style="float: right;"><a class="viewPrint" href="hspiceref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3.html" title="HSPICE Circuit Simulation Interface">HSPICE Circuit Simulation Inte ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>HSPICE/SPICE Interface Reference<br />Product Version IC23.1, June 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a name="pgfId-918676"></a></h1>
<h1>
<a name="pgfId-918677"></a><hr />
SPICE Circuit Simulation Interface<hr />
</h1>

<p>
<a name="pgfId-919536"></a>This chapter contains the following topics:</p>
<ul><li>
<a name="pgfId-919537"></a><a href="chap2.html#40414">Overview</a></li><li>
<a name="pgfId-919542"></a><a href="chap2.html#40046">Example of a SPICE Simulation Run</a></li></ul>


  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Overview

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-918696"></a><a name="40414"></a>Overview </h2>

<p>
<a name="pgfId-918697"></a>To set up and run a basic simulation using menus and forms, refer to <em><a actuate="user" class="URL" href="../se/seTOC.html#firstpage" show="replace" xml:link="simple">Simulation Environment Help</a></em>. Here is information specific to running the SPICE simulator:<a name="marker-918698"></a></p>
<ul><li>
<a name="pgfId-918699"></a>SPICE does not have a command to read an input file, so the <em>netlist</em> file must be specified in the <em>control</em> file with the simulation environment file inclusion function, &#8220;<em>[!netlist]</em>&#8221;; this tells the interface to include the <em>netlist</em> file in the file that is passed to SPICE. For an example of this, refer to the sample SPICE <em>control</em> file in &quot;<a href="chap2.html#Example">Example of a SPICE Simulation Run&#8221;</a>. Any other command or stimulus files you want to use as input to SPICE can be specified in the same way. </li><li>
<a name="pgfId-918700"></a>The template <em>control</em> file for SPICE includes two other files in addition to the <em>netlist</em> file, <em>spice.inp</em> and <em>spice.sim</em>. These files are for stimulus data and simulator commands. The <em>Initialize</em><a name="marker-918701"></a> command from the Simulation menu automatically creates templates for these files in a new run directory.  </li><li>
<a name="pgfId-918702"></a>The waveform interface for SPICE does not handle multiple analysis simulation runs. To view waveforms, perform one analysis for each simulation run. </li><li>
<a name="pgfId-918703"></a>The Waveform Display program does not display results of AC small-signal analysis simulation runs. Use the SPICE .PRINT or .PLOT commands to generate SPICE text output, and read it using the view output command. </li></ul>




<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Example of a SPICE Simulation Run

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-918705"></a><a name="Example"></a><a name="40046"></a><a name="Example"></a>Example of a SPICE Simulation Run </h2>

<p>
<a name="pgfId-918706"></a>This section shows an example of input and output files needed for running a SPICE simulation.<a name="marker-918707"></a> </p>
<p>
<a name="pgfId-918708"></a>The following input and output files are for running the simulation on the inverter shown below:</p>

<p>
<a name="pgfId-918767"></a></p>
<div class="webflare-div-image">
<img width="676" height="202" src="images/chap2-2.gif" /></div>

<ul><li>
<a name="pgfId-918768"></a>The <em>control</em> file is used as an input for running the simulation.</li><li>
<a name="pgfId-918769"></a>The netlist file created by running the netlister on the design.</li><li>
<a name="pgfId-918770"></a>The si.inp file is created by the simulation interface and is passed to SPICE. This file is formed by including the specified files in the control file and mapping the user-defined names to numbers suitable for SPICE.  </li><li>
<a name="pgfId-918771"></a>The spice.inp file is created by the <em>Initialize</em> command. Modify this file by adding the stimulus data.</li><li>
<a name="pgfId-918772"></a>The <em>spice.sim</em> file is created by the <em>Initialize</em> command. Modify this file by adding the simulator commands.</li><li>
<a name="pgfId-918773"></a>The <em>si.log</em> file is the log of the simulation run.</li><li>
<a name="pgfId-918774"></a>The <em>si.out</em> file is the text output created by SPICE.</li></ul>







<h3>
<a name="pgfId-918776"></a>control file<a name="marker-918775"></a></h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918777"></a>* Spice control file</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918778"></a>.options acct opts nopage limpts=1000 <br />.width in=80 out=80 <br />[!spice.inp]<br />[!netlist] <br />[!spice.sim]<br />.end</pre>
<h3>
<a name="pgfId-918780"></a> netlist file<a name="marker-918779"></a></h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918781"></a>* net 1 = vdd! <br />* net 0 = gnd! <br />* net 2 = /OUT <br />* net 3 = /IN <br />.MODEL Model1 pmos level=2 vto=-.7 kp=1.5e-05 gamma=.4 <br />+lambda=.03 tox=6.e-07 xqc=.5 <br />* pmos(0) = /1 <br />M$#0 1 3 2 1 Model1 l=2u w=6u <br />* capacitor(1) = /2 <br />C$#1 2 0 poly 1pf <br />.MODEL Model3 nmos level=2 vto=.7 kp=3.e-05 gamma=.2 +lambda=.02 <br />+ tox=6.e-07 xqc=.5 <br />* nmos(2) = /0 <br />M$#2 2 3 0 0 Model3 l=2u w=4u</pre>
<h3>
<a name="pgfId-918783"></a> spice.inp file<a name="marker-920040"></a><a name="marker-918782"></a></h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918784"></a>vdd [#vdd!] [#gnd!] dc 5v <br />vin [#/IN] 0 pwl 0 0 100ns 5v 150ns 5v 250ns 0 </pre>
<h3>
<a name="pgfId-918786"></a> spice.sim file<a name="marker-920051"></a><a name="marker-918785"></a></h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-920059"></a>.tran 1ns 300ns</pre>
<h3>
<a name="pgfId-920060"></a> si.inp file<a name="marker-920067"></a>: Used as Input to SPICE</h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-920061"></a>* Spice control file</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918790"></a>.options acct opts nopage limpts=1000 
.width in=80 out=80
vdd 1 0 dc 5v 
vin 3 0 pwl 0 0 100ns 5v 150ns 5v 250ns 0
* net 1 = vdd! 
* net 0 = gnd! 
* net 2 = /OUT 
* net 3 = /IN 
.MODEL Model1 pmos level=2 vto=-.7 kp=1.5e-05 gamma=.4 
+lambda=.03 tox=6.e-07 xqc=.5 
* pmos(0) = /1 
M$#0 1 3 2 1 Model1 l=2u w=6u 
* capacitor(1) = /2 
C$#1 2 0 poly 1pf 
.MODEL Model3 nmos level=2 vto=.7 kp=3.e-05 gamma=.2
&#160;&#160;&#160;&#160;lambda=.02 <br />+ tox=6.e-07 xqc=.5 <br />* nmos(2) = /0 <br />M$#2 2 3 0 0 Model3 l=2u w=4u<br />.tran 1ns 300ns</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-920522"></a>.end</pre>
<h3>
<a name="pgfId-920524"></a> <em>si.log</em> file: Produced from the Simulation Run<a name="marker-920523"></a></h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-920525"></a>si version 4.0.55 Wed Apr 18 21:51:31 PDT 1990          (cds2082)<br />si: Loading user defined simulation run control file &quot;~/.simrc&quot;.<br />si: Loading simulation environment file &quot;/usr/mnt2/hpeter/4.0/group/spice/test2/run1/si.env&quot;.<br />si: Loading simulation capabilities file &quot;/usr/mnt2/hpeter/4.0/etc/skill/si/simcap.ile&quot;.</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919880"></a>Running simulation in directory: &quot;/usr/mnt2/hpeter/4.0/group/spice/test2/run1&quot;.</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919881"></a>Running netlist<br />Begin netlist:    Apr 26 11:58:45 1990<br />    simulation library path = &quot;. ~&quot;<br />    simulation library = testLib<br />               library configuration = default<br />               cell = spice.cct2<br />               view = schematic<br />    view list = (&quot;spice&quot; &quot;cmos.sch&quot; &quot;schematic&quot;)<br />    stopping view list = (&quot;spice&quot;)<br />End netlist:&#160;&#160;    Apr 26 11:58:54 1990</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919882"></a>Running simin</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919883"></a>Running runsim with simulator: &quot;spice&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919884"></a>Begin simulation:    Apr 26 11:58:56 1990<br />End simulation:&#160;&#160;    Apr 26 12:02:38 1990</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919885"></a>Running simout<br />Simulation completed successfully.</pre>
<h3>
<a name="pgfId-918795"></a> <em>si.out</em> file: Output of a SPICE Simulation Run<a name="marker-920085"></a></h3>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918796"></a>***4/26/90 ***** SPICE 2G.6 3/16/83 ****14:35:31***</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918797"></a>* SPICE CONTROL FILE</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919669"></a>**** INPUT LISTING&#160;&#160;TEMPERATURE = 27.000 DEG C</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-919863"></a>********************************************************<br />.OPTIONS ACCT OPTS NOPAGE LIMPTS=1000<br />.WIDTH IN=80 OUT=80<br />VDD vdd! gnd! DC 5V<br />VIN /IN gnd! PWL 0 0 100NS 5V 150NS 5V 250NS 0<br />* NET 1   =         VDD!<br />* NET 0   =         GND!<br />* NET 2   =         /OUT<br />* NET 3   =         /IN<br />.MODEL MODEL1 PMOS LEVEL=2      VTO=-.7 KP=1.5E-05<br />          GAMMA=.4<br />+LAMBDA=.03      TOX=6    .E-07 XQC=.5<br />* PMOS(0) = /1<br />M/1 vdd! /IN /OUT vdd! MODEL1 L=2U      W=6U<br />* CAPACITOR(1) = /2<br />C/2 /OUT gnd! POLY 1PF<br />.MODEL MODEL3 NMOS LEVEL=2 VTO=.7 KP=3.E-05 GAMMA=.2<br />+ LAMBDA=.02<br />+ TOX=6.E-07      XQC=.5<br />* NMOS(2) = /0<br />M/0 /OUT /IN gnd! gnd! MODEL3 L=2U      W=4U<br />.TRAN 1NS 300NS<br />.END<br />****************************************************************<br />**** MOSFET MODEL PARAMETERS  TEMPERATURE = 27.000 DEG C<br />          MODEL1    MODEL3<br />TYPE      PMOS      NMOS<br />LEVEL     2.000     2.000<br />VTO       -0.700    0.700<br />KP        1.50D-05  3.00D-05<br />GAMMA     0.400     0.200<br />LAMBDA    3.00D-02  2.00D-02<br />TOX       6.00D-07  6.00D-07<br />XQC       0.500     0.500<br />**** OPTION SUMMARY TEMPERATURE = 27.000 DEG C<br />DC ANALYSIS -<br />GMIN      =         1.000D-12<br />RELTOL    =         1.000D-03<br />ABSTOL    =         1.000D-12<br />VNTOL     =         1.000D-06<br />LVLCOD    =         1<br />ITL1      =         100<br />ITL2      =         50<br />PIVTOL    =         1.000D-13<br />PIVREL    =         1.000D-03<br />TRANSIENT ANALYSIS -<br />METHOD    =         TRAP<br />MAXORD    =         2<br />CHGTOL    =         1.000D-14<br />TRTOL     =         7.000D+00<br />LVLTIM    =         2<br />MU        =         0.500<br />ITL3      =         4<br />ITL4      =         10<br />ITL5      =         5000<br />MISCELLANEOUS -<br />LIMPTS    =         1000<br />LIMTIM    =         2<br />CPTIME    =         100000000<br />NUMDGT    =         4<br />TNOM      =         27.000<br />DEFL      =         1.000D-04<br />DEFW      =         1.000D-04<br />DEFAD     =         0.000D+00<br />DEFAS     =         0.000D+00<br />
************************************************************ 
MOSFET MODEL PARAMETERS&#160;&#160;TEMPERATURE = 27.000 DEG C<br />          MODEL1    MODEL3<br />TYPE      PMOS      NMOS<br />LEVEL     2.000     2.000<br />VTO       -0.700    0.700<br />KP        1.50D-05  3.00D-05<br />GAMMA     0.400     0.200<br />LAMBDA    3.00D-02  2.00D-02<br />TOX       6.00D-07  6.00D-07<br />XQC       0.500     0.500<br />**** OPTION SUMMARY TEMPERATURE = 27.000 DEG C<br />DC ANALYSIS -<br />GMIN      =         1.000D-12<br />RELTOL    =         1.000D-03<br />ABSTOL    =         1.000D-12<br />VNTOL     =         1.000D-06<br />LVLCOD    =         1<br />ITL1      =         100<br />ITL2      =         50<br />PIVTOL    =         1.000D-13<br />PIVREL    =         1.000D-03<br />TRANSIENT ANALYSIS -<br />METHOD    =         TRAP<br />MAXORD    =         2<br />CHGTOL    =         1.000D-14<br />TRTOL     =         7.000D+00<br />LVLTIM    =         2<br />MU        =         0.500<br />ITL3      =         4<br />ITL4      =         10<br />ITL5      =         5000<br />MISCELLANEOUS -<br />LIMPTS    =         1000<br />LIMTIM    =         2<br />CPTIME    =         100000000<br />NUMDGT    =         4<br />TNOM      =         27.000<br />DEFL      =         1.000D-04<br />DEFW      =         1.000D-04<br />DEFAD     =         0.000D+00<br />DEFAS     =         0.000D+00<br />********************************************************<br />INITIAL TRANSIENT SOLUTION  TEMPERATURE = 27.000 DEG C<br />NODE VOLTAGE NODE VOLTAGE NODE VOLTAGE<br />(vdd!) 5.0000 (/OUT) 5.0000 (/IN) 0.0000<br />VOLTAGE SOURCE CURRENTS<br />NAME      CURRENT<br />VDD       -6.933D-12<br />VIN       0.000D+00<br />TOTAL POWER DISSIPATION 3.47D-11 WATTS<br />********************************************************<br />OPERATING POINT INFORMATION  TEMPERATURE = 27.000 DEG C<br />**** MOSFETS<br />          M/1       M/0<br />MODEL     MODEL1    MODEL3<br />ID        6.80E-12  1.93E-12<br />VGS       -5.000    0.000<br />VDS       0.000     5.000<br />VBS       0.000     0.000<br />JOB CONCLUDED<br />**** JOB STATISTICS SUMMARY  TEMPERATURE = 27.000 DEG C<br />NUNODS   NCNODS   NUMNOD   NUMEL    DIODES   BJTS     JFETS    MFETS<br />4        4        4        5        0        0        0        2<br />NUMTEM   ICVFLG   JTRFLG   JACFLG   INOISE   IDIST    NOGO<br />1        0        301      0        0        0        0<br />NSTOP    NTTBR    NTTAR    IFILL    IOPS     PERSPA<br />6.       13.      13.      0.       21.      63.889<br />NUMTTP   NUMRTP   NUMNIT   MAXMEM   MEMUSE   COPYKNT<br />71.      4.       170.     249984   1576     15052.<br />READIN    0.42<br />SETUP     0.05<br />TRCURV    0.00      0.<br />DCAN      0.18      13.<br />DCDCMP    0.067     2.<br />DCSOL     0.067<br />ACAN      0.00      0.<br />TRANAN    3.63      170.<br />OUTPUT    0.00<br />LOAD      3.067<br />CODGEN    0.000     1fs       0.<br />CODEXC    0.000<br />MACINS    0.000<br />OVERHEAD  0.07<br />TOTAL JOB TIME  4.35<br />********************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-918823"></a></pre>
<!-- [TOPIC_END] -->

<p>
<a name="pgfId-920547"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap1.html" id="prev" title="Introduction">Introduction</a></em></b><b><em><a href="chap3.html" id="nex" title="HSPICE Circuit Simulation Interface">HSPICE Circuit Simulation Inte ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160;⠀ </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>