
<html><head><title>Express Pcells</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2023-09-14" />
<meta name="CreateTime" content="1694697783" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to create parameterized cells using SKILL or the Virtuoso parameterized cell software." />
<meta name="DocTitle" content="Virtuoso Parameterized Cell Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Express Pcells" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-4.0.0" />
<meta name="Keyword" content="pcellref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2023-09-14" />
<meta name="ModifiedTime" content="1694697783" />
<meta name="NextFile" content="AppA.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="debugskillPcells.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="IC23.1" />
<meta name="RightsManagement" content="Copyright 2023 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Parameterized Cell Reference -- Express Pcells" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="IC23.1" />
<meta name="SpaceKey" content="pcellrefIC231" />
<meta name="webflare-version" content="2.5" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" />


  <script>/*<![CDATA[*/
 document.addEventListener("DOMContentLoaded", function(event) {  document.querySelectorAll("img").forEach((img, index) => {
if (img.hasAttribute("usemap")){return;}else{img.classList.add("cursorclass");} img.addEventListener("click", (e) => {if(img.hasAttribute("usemap")){            img.setAttribute("style","cursor:none;");return;};document.querySelector("#cad_image_modal").classList.add("opac");document.querySelector("#cad_image_modal_center").innerHTML = `<img style="position:absolute;top:0;bottom:0;left:0;right:0;margin: auto;max-height:95%;"  src="${e.target.src}">`;});});});
/*]]>*/</script> 




 <style>/*<![CDATA[*/
.cursorclass{cursor:pointer;}#cad_image_modal{position:fixed;left:0;top:0;width:100%;background:#00000099;overflow:hidden;height:0;opacity:0;transition: height 0ms 1s, opacity 1s 0ms;}#cad_image_modal.opac{height: 100%;opacity: 1;transition: height 0ms 0ms, opacity 1s 0ms;}#cad_image_modal span{position:fixed;right:10px;top:10px;cursor:pointer;color:#fff;}
/*]]>*/</style> 
</head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="pcellrefTOC.html">Contents</a></li><li><a class="prev" href="debugskillPcells.html" title="Debugging SKILL Pcells">Debugging SKILL Pcells</a></li><li style="float: right;"><a class="viewPrint" href="pcellref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="AppA.html" title="Graphical Pcells Form Descriptions">Graphical Pcells Form Descript ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Parameterized Cell Reference<br />Product Version IC23.1, September 2023</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>8
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1014131"></a><hr />
Express Pcells<hr />
</h1>

<p>
<a id="pgfId-1035921"></a>This chapter covers the following topics:</p>
<ul><li>
<a id="pgfId-1039354"></a><a href="expressPcells.html#47585">Overview of Express Pcells</a></li><li>
<a id="pgfId-1040376"></a><a href="expressPcells.html#22586">Express Pcell Plug-In for Non-Virtuoso and Third Party Applications</a></li><li>
<a id="pgfId-1039362"></a><a href="expressPcells.html#39279">Requirements for Using the Express Pcell Feature</a><ul><li>
<a id="pgfId-1040381"></a><a href="expressPcells.html#59476">Virtuoso Design Environment Application</a></li><li>
<a id="pgfId-1040386"></a><a href="expressPcells.html#19378">Non-Virtuoso Cadence Application</a></li><li>
<a id="pgfId-1040391"></a><a href="expressPcells.html#92807">Third Party Application</a></li></ul></li><li>
<a id="pgfId-1039422"></a><a href="expressPcells.html#95012">Use Model of Express Pcell Management</a><ul><li>
<a id="pgfId-1040398"></a><a href="expressPcells.html#48825">Inside the Virtuoso Design Environment</a></li><li>
<a id="pgfId-1040403"></a><a href="expressPcells.html#13497">Outside the Virtuoso Design Environment</a></li></ul></li><li>
<a id="pgfId-1035929"></a><a href="expressPcells.html#68658">Managing the Express Pcell Cache</a><ul><li>
<a id="pgfId-1035938"></a><a href="expressPcells.html#61879">Using Environment Variables</a></li><li>
<a id="pgfId-1035961"></a><a href="expressPcells.html#93193">Using the Express Pcell Manager GUI in a Virtuoso Session</a></li><li>
<a id="pgfId-1062176"></a><a href="expressPcells.html#85838">Maintaining the PDK Version in the Express Pcell Cache</a></li><li>
<a id="pgfId-1065773"></a><a href="expressPcells.html#47103">Enabling Express Pcells for Specific Libraries</a></li><li>
<a id="pgfId-1040408"></a><a href="expressPcells.html#34743">Installing the Express Pcell Plug-In for Non-Virtuoso or Third Party Applications</a></li></ul></li><li>
<a id="pgfId-1050935"></a><a href="expressPcells.html#77476">Cache Merge Utility</a></li><li>
<a id="pgfId-1070772"></a><a href="expressPcells.html#12622">Environment Variable to Control Express Pcell Proliferation Message</a></li><li>
<a id="pgfId-1073494"></a><a href="expressPcells.html#31334">Exclude Specified Pcells from the Express Pcell Save or Read Operation</a></li></ul>


















<h2>
<a id="pgfId-1035919"></a><a id="47585"></a>Overview of Express Pcells</h2>

<p>
<a id="pgfId-1035940"></a>Traditional SKILL Pcell submasters, once evaluated, reside in memory and are not saved to disk (see <a href="skillPcells.html#90981">Creating SKILL Parameterized Cells</a> for more information). This means that the Pcells must be evaluated every time a design is opened, which can become a performance bottleneck in designs that contain a large number of complex Pcell instances.</p>
<p>
<a id="pgfId-1037160"></a>The Express Pcell feature, which is available in the Virtuoso environment, maintains a cache of pre-evaluated Pcells on disk, meaning that Pcell code does not need to be evaluated every time a design is opened. This offers a significant performance boost not only for designs that contain a large number of Pcell instances, but also for designs with modest numbers of instances of complex Pcells involving computationally intensive SKILL code.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077007"></a>Express Pcell does supports both layout and schematic (and symbol) Pcells. For more information, contact Contact Cadence Customer Support.</div>

<h2>
<a id="pgfId-1039406"></a><a id="22586"></a>Express Pcell Plug-In for Non-Virtuoso and Third Party Applications</h2>

<p>
<a id="pgfId-1042245"></a>Pcells in the Virtuoso design environment are predominantly written using SKILL and are evaluated using a SKILL Pcell evaluator that is not available outside the Virtuoso design environment. This means that these SKILL Pcells cannot easily be read or used outside the Virtuoso design environment. Non-Virtuoso Cadence applications and third-party applications rely on other alternatives for SKILL Pcell evaluation. This alternative data flow channel between the applications and OpenAccess can be time-consuming and not entirely seamless. </p>
<p>
<a id="pgfId-1040292"></a>The Express Pcell feature is available on OpenAccess as a SKILL Pcell plug-in (<code>*.so</code> and <code>*.plg</code> files). The plug-in leverages the interoperability offered by OpenAccess to allow non-Virtuoso Cadence and third party applications to access Express Pcell generated data saved on OpenAccess without having to translate it. The plug-in enables these applications to access the pre-evaluated Pcell submasters resulting in seamless read-interoperability of SKILL Pcells. The plug-in also provides some limited write-interoperability, so that you can edit the container of Pcell instances. For example, third party applications (such as a router or a verification tool) can open a Virtuoso-generated OpenAccess design safely and add markers or perform routing in them directly.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041371"></a>All Express Pcell data is backward compatible. So, for example, IC6.1.8 can read any pre-existing cached data generated using an earlier version of the Express Pcell engine. However, the cached Express Pcell data generated using IC6.1.8 cannot be read by a previous version of the software or plug-in.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076881"></a>Express Pcell plug-in does not support schematic (and symbol) Pcells.</div>

<h2>
<a id="pgfId-1040278"></a><a id="39279"></a>Requirem<a id="expresspcellfeature"></a>ents for Using the Express Pcell Feature</h2>
<h3>
<a id="pgfId-1039407"></a><a id="59476"></a>Virtuoso Design Environment Application</h3>

<p>
<a id="pgfId-1040344"></a>To use the Express Pcell feature in the Virtuoso design environment, you require:</p>
<ul><li>
<a id="pgfId-1053572"></a>At least OpenAccess version OA 22.04.001</li><li>
<a id="pgfId-1053559"></a>Cadence Design Framework II (License Number 111)</li><li>
<a id="pgfId-1053565"></a>The <a href="expressPcells.html#60812"><code>CDS_ENABLE_EXP_PCELL</code></a> variable to be set to <code>true</code>. </li></ul>


<p>
<a id="pgfId-1050992"></a>If the required license is not available or cannot be checked out, the Express Pcell feature is disabled for that particular Virtuoso session.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042290"></a>If the SKILL code associated with a Pcell supermaster evaluation function creates or initializes some global data that is to be used elsewhere within the same Virtuoso session, the use of Express Pcells in the same session might result in some unexpected behavior. This is because the associated SKILL code is not executed in the presence of the Express Pcell cache. An example of such a scenario is the creation or initialization of a global variable in some Pcell evaluation function and the subsequent use of that global variable in its corresponding Pcell abutment function. Consequently, when using the Express Pcell feature in a Virtuoso session, take care to organize the evaluation code of your Pcells to avoid the use of global variables. Alternatively, avoid the creation or initialization of global variables outside the Pcell evaluation code when using the Express Pcell feature in a Virtuoso session.</div>

<h3>
<a id="pgfId-1039746"></a><a id="19378"></a>Non-Virtuoso Cadence Application</h3>

<p>
<a id="pgfId-1039747"></a>A non-Virtuoso Cadence application checks out the VLS L license. </p>

<h3>
<a id="pgfId-1039566"></a><a id="92807"></a>Third Party Application</h3>

<p>
<a id="pgfId-1039535"></a>Third party applications check out the VLS L license. The following files are required for the successful use of the plug-in by any third party application:</p>
<ul><li>
<a id="pgfId-1039543"></a><code>cdsSkillPcell.plg</code> file</li><li>
<a id="pgfId-1039553"></a><code>libcdsSkillPcell.so</code> file<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1053636"></a>Any third party applications intending to load or use the Express Pcell feature must be compatible with the generated <code>.so</code> libraries in the Virtuoso release in question.</div></li></ul>


<p>
<a id="pgfId-1040255"></a>For information about how to install the plug-in, see <a href="expressPcells.html#34743">Installing the Express Pcell Plug-In for Non-Virtuoso or Third Party Applications</a>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1044174"></a>
The Express Pcell plug-in library, <code>libcdsSkillPcell.so</code> is compiled against <code>libstlport.so</code>. This can lead to drop-in compatibility issues if used with an OpenAccess application compiled against <code>libcstd.so</code>. To avoid such issues while using the plug-in&#8217;s shared library with a non-DFII OpenAccess application, both the plug-in&#8217;s shared library and the application must be compiled against the same C++ library, <code>libstlport.so</code> or <code>libCstd.so</code>. The following additional 64bit plug-in library version is also available for non-DFII OpenAccess applications compiled with the standard C++ library (<code>libcstd.so</code>):

<code>cdsSkillPcell/lib/64bit/libcdsSkillPcell_nonSTLport.so</code> 

These plug-in libraries are available in the Express Pcell Plugin Kit. To use these libraries, you must set up the environment by changing the soft link in either <code>tools/lib</code> or <code>tools/lib/64bit</code> to the corresponding non-stlport library available in <code>tools/cdsSkillPcell/lib</code>. If you do not have permission to change the link in <em>&lt;install_dir&gt;</em><code>/tools/lib</code>, you can create a soft link for <code>libcdsSkillPcell.so ==&gt; </code><em>&lt;install_dir&gt;</em><code>/tools/cdsSkillPcell/lib/libcdsSkillPcell_nonSTLport.so</code> in a separate directory and specify that directory in the <code>LD_LIBRARY_PATH</code> to be read by the non-DFII OpenAccess application.</div>
<h2>
<a id="pgfId-1039434"></a><a id="95012"></a>Use Model of Express Pcell Management</h2>

<p>
<a id="pgfId-1039435"></a>This section explains how applications both inside and outside the Virtuoso design environment use the Express Pcell cache.</p>

<h3>
<a id="pgfId-1039438"></a><a id="48825"></a>Inside the Virtuoso Design Environment</h3>

<p>
<a id="pgfId-1038693"></a>The following figure shows how Virtuoso design environment applications use the Express Pcell cache.</p>

<p>
<a id="pgfId-1035587"></a></p>
<div class="webflare-div-image">
<img width="538" height="383" src="images/expressPcells-3.gif" /></div>

<p>
<a id="pgfId-1035590"></a>When you open a cellview containing a Pcell instance for the first time, a Pcell submaster is created in memory by the SKILL Pcell evaluator.</p>
<p>
<a id="pgfId-1057887"></a>When requested by the OpenAccess Pcell evaluator to populate the submaster of a Pcell instance, the Virtuoso SKILL Pcell evaluator sends a request to the Express Pcell framework, which in turn checks for the existence of the requested submaster in the cache. If the submaster exists, it is read from the cache. If it does not exist, it is created by the usual SKILL Pcell evaluation process in the Virtuoso design environment.</p>
<p>
<a id="pgfId-1057890"></a>You can save the evaluated submasters using the <em>File &#8211; Save</em> command (see <em><a href="AppB.html#autoSave">Auto Save</a></em>). This generates a cache of the Pcell submasters in the specified Express Pcell directory (<a href="expressPcells.html#19261"><code>CDS_EXP_PCELL_DIR</code></a>).</p>
<p>
<a id="pgfId-1066231"></a>You can also cache the Pcell submasters that are available in memory by clicking <em><a href="AppB.html#saveCache">Save Cache</a></em> in the Express Pcell Manager form.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039978"></a>If a Pcell supermaster is subsequently updated on disk, the Save/Update operation on the cache (through <em>File &#8211; Save</em> in the design or by using the Express Pcell Manager form) refreshes the cache of the corresponding submasters on disk.</div>

<h3>
<a id="pgfId-1039221"></a><a id="13497"></a>Outside the Virtuoso Design Environment</h3>

<p>
<a id="pgfId-1039222"></a>The Express Pcell plug-in provides read access to the cache data to non-Virtuoso Cadence applications as well as third party applications on OpenAccess. In this way, these applications can also access the submasters already evaluated by Virtuoso design environment applications and stored in the cache.</p>

<p>
<a id="pgfId-1039209"></a></p>
<div class="webflare-div-image">
<img width="544" height="298" src="images/expressPcells-4.gif" /></div>

<p>
<a id="pgfId-1039369"></a>This model provides seamless read interoperability of SKILL Pcells to non-Virtuoso Cadence and third party applications.</p>

<h2>
<a id="pgfId-1035949"></a><a id="managePcell"></a><a id="68658"></a><a id="40373"></a><a id="mngpcell"></a>Ma<a id="XPcellPopUpHelp"></a>naging the Express Pcell Cache</h2>

<p>
<a id="pgfId-1039445"></a>By default, intermediate Express Pcell files are stored in a <code>.expressPcells</code> directory, which is created inside the current working directory. This directory maintains a cache of pre-evaluated Pcells on the disk. This means that the Pcell code does not need to be evaluated every time a design is opened. This offers a significant performance boost not only for designs that contain a large number of Pcell instances but also for designs with modest numbers of instances of complex Pcells involving computationally intensive SKILL code.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1050414"></a>
Advanced node and mature node caches are compatible. However, IC6.1.6 and Advanced Node will not provide any backward portability for static Virtuoso. Therefore, cache generated using IC6.1.5 will not open in IC6.1.6 or Advanced Node. However, IC6.1.6 and Advanced Node plug-in will be able to read the IC6.1.5 generated cache, and provide backward compatibility. When a IC6.1.5 generated cache is encountered in IC6.1.6 or Advanced Node, Virtuoso Express Pcell will be disabled and the error message will be displayed.</div>
<h3>
<a id="pgfId-1035731"></a><a id="61879"></a>Using Environment Variables</h3>

<p>
<a id="pgfId-1035884"></a>Use the following shell environment variables to manage the Express Pcell cache. These variables are read during Virtuoso startup and must therefore be set before you launch the application.</p>
<ul><li>
<a id="pgfId-1041268"></a><code>CDS_ENABLE_EXP_PCELL</code><a id="60812"></a><br />
<a id="pgfId-1039527"></a>Controls the caching of evaluated SKILL Pcells. The default value of this variable in a Virtuoso session is different from its default value when used with a non-Virtuoso or third party application.<br />
<a id="pgfId-1040092"></a><strong>In a Virtuoso session</strong><br />
<a id="pgfId-1040105"></a>By default, this variable is set to <code>false</code> in the Virtuoso environment, which means that SKILL Pcells are evaluated every time a design is loaded in a Virtuoso session. To use the Express Pcell feature, set this variable to <code>true</code> before starting the session.<br />
<a id="pgfId-1040106"></a><strong>In a non-Virtuoso session</strong><br />
<a id="pgfId-1040107"></a>The default value of this variable is <code>true</code> when the Express Pcell plug-in is used with a non-Virtuoso or third party application. Assuming that the plug-in files (<code>.plg</code> and <code>.so</code>) are correctly installed (see <a href="expressPcells.html#34743">Installing the Express Pcell Plug-In for Non-Virtuoso or Third Party Applications</a>), available Pcell submasters are automatically read from the cache during an OpenAccess Pcell evaluator call. You can change this default behavior by setting the variable to <code>false</code> before starting the non-Virtuoso or third party application.
</li><li>
<a id="pgfId-1039463"></a><code>CDS_EXP_PCELL_DIR</code><a id="19261"></a><br />
<a id="pgfId-1040963"></a>Specifies the directory to be used for caching Pcells. You can specify either an absolute path or a path relative to your current working directory.<br />
<a id="pgfId-1041265"></a>Using this environment variable allows multiple users or Virtuoso sessions to point to the same Express Pcell directory for concurrent read/write access. This helps in maintaining a single central Express Pcell cache for a team of layout designers working on a single design project, thereby avoiding duplicate or inconsistent cached Express Pcell data in any private directories. In addition, it ensures the availability of the complete cache at a single location and therefore avoids the need to regenerate the entire Express Pcell cache for the entire chip or block.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041273"></a>The recommended umask value is 022, which masks out write permission for other users and ensures that only the directory owner has permission to add new files. However, if the Express Pcell cache directory is to be used by multiple users one at a time or is being accessed concurrently in a multi-user shared cache scenario, then it is recommended to use a unmask setting of 002, which means the entire group has permission to write to the directory.</div></li><li>
<a id="pgfId-1067157"></a><code>CDS_EXP_PCELL_MISMATCHED_PDK_POPUP</code> <br />
<a id="pgfId-1067171"></a>Controls the display of a pop-up window when <code>xPcell_Version_PDK</code> does not match the version found in the existing cache. When this environment variable is set to <code>true</code>, a pop-up window opens informing you about the version mismatch.</li><li>
<a id="pgfId-1040654"></a><code>CDS_EXP_PCELL_RDONLY</code><a id="cdsEnableExpPcellRdonly"></a><br />
<a id="pgfId-1055109"></a>Controls the ability to save, clear, and update cached Pcell data. <br />
<a id="pgfId-1059273"></a>If set to <code>true</code>, the cached Pcell data can be read but not updated. <br />
<a id="pgfId-1059276"></a>If set to <code>false</code> (the default), and you have write permission for the cache directory, you can update the cache data as desired. If you do not have write permission, you will see a warning message and the cache data remains available for reading.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041344"></a>You are not expected to manually update or delete the files in the Express Pcell directory. If a Pcell data file is explicitly deleted from the Express Pcell directory (for example, by using the <code>rm</code> command in a terminal window), then the lost contents of this file will not be generated automatically while saving the cache. However, in this case, the lost contents will be regenerated using the Update Cache feature. Therefore, it is always recommended to delete or update the files in the Express Pcell directory using the Express Pcell Manager (Clear Cache/Save/Update).</div></li><li>
<a id="pgfId-1050492"></a><code>CDS_EXP_PCELL_NO_MULTIUSER</code><br />
<a id="pgfId-1035878"></a>Disables the multi-user support feature of the Express Pcell cache. It is recommended that you set this variable on systems using the Andrew File System (AFS), because the Express Pcell infrastructure does not provide multi-user support on AFS. </li><li>
<a id="pgfId-1057047"></a><code>CDS_XPCELL_LIB_EXCLUSION</code><br />
<a id="pgfId-1060669"></a>Excludes from Pcell cache operations those PDK libraries that do not have the <code>xPcell_Enable_</code><span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span> variable defined. By default, such libraries are automatically included to maintain backward compatibility. See <a href="expressPcells.html#47103">Enabling Express Pcells for Specific Libraries</a> for more information.</li><li>
<a id="pgfId-1057069"></a><code>CDS_XPCELL_LIB_FILTER_FILE</code><br />
<a id="pgfId-1057090"></a>Specifies a user-defined library filter file that lets you flexibly override the <code>xPcell_Enable_</code><span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span> variable settings in the <code>libInit.il</code> file for a given library. This gives you full control over which libraries are included in Pcell cache operations and which are excluded. See <a href="expressPcells.html#53385">User Control to Override the Inclusion and Exclusion of Libraries</a> for more information.</li></ul>























<h3>
<a id="pgfId-1050478"></a><a id="93193"></a>Using the Express Pcell Manager GUI in a Virtuoso Session</h3>

<p>
<a id="pgfId-1035877"></a>You can manage the Pcell cache using the Express Pcell Manager graphical user interface. </p>

<ol><li>
<a id="pgfId-1039583"></a>From the layout window menu bar, select <em>Tools &#8211; Express Pcell Manager</em>.<br />
<a id="pgfId-1039591"></a>The <em><a href="AppB.html#44786">Express Pcell Manager</a><em></em> </em>window is displayed.<br />
<a id="pgfId-1040578"></a><div class="webflare-div-image">
<img width="635" height="481" src="images/expressPcells-6.gif" /></div>
<a id="pgfId-1040800"></a><em><a href="AppB.html#expPcellDir">Express Pcells directory</a></em> is a read-only field showing the Pcell cache directory. <br />
<a id="pgfId-1056320"></a>You can specify a a different location for storing the Pcell cache using the <a href="expressPcells.html#19261"><code>CDS_EXP_PCELL_DIR</code></a> variable.<br />
<a id="pgfId-1059536"></a>However, a new directory will be created if the current working directory is moved or deleted by the user in mid session. <br />
<a id="pgfId-1059557"></a>If the cache directory is not writable, the cache is not saved and an appropriate message is displayed. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1040811"></a>When the cache is disabled, all indexes are properly cleared.</div></li><li>
<a id="pgfId-1055737"></a>Check the <em><a href="AppB.html#enableExpPcell">Enable Express Pcells</a></em> box to enable the Express Pcell feature. <br />
<a id="pgfId-1055808"></a>Deselect the option to revert to conventional SKILL Pcell evaluation.<br />
<a id="pgfId-1055819"></a>The default setting controlled by the <a href="expressPcells.html#60812"><code>CDS_ENABLE_EXP_PCELL</code></a> variable. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1040158"></a>The values of the <code>CDS_EXP_PCELL_DIR</code> and <code>CDS_ENABLE_EXP_PCELL</code> variables are read during the Virtuoso session startup.</div></li><li>
<a id="pgfId-1039624"></a>Check the <em><a href="AppB.html#autoSave">Auto Save</a></em><em> </em>box to automatically save any updated Pcell variants when the design is saved.<br />
<a id="pgfId-1055960"></a>If you deselect this option, you will be prompted to save any updated Pcell variants each time you save the design.</li><li>
<a id="pgfId-1045952"></a>Use the right mouse button in the <em>Express Pcells</em> pane to perform the following operations on selected libraries or cellviews: <ul><li>
<a id="pgfId-1056120"></a><em><a href="AppB.html#ignoreTimestamp">Ignore Timestamp</a></em></li><li>
<a id="pgfId-1056125"></a><em><a href="AppB.html#updateCache">Update Cache</a></em></li><li>
<a id="pgfId-1056127"></a><em><a href="AppB.html#clearCache">Clear Cache</a></em></li></ul></li></ol>



























<p>
<a id="pgfId-1045956"></a><strong>Notes:</strong></p>
<ol><li>
<a id="pgfId-1045957"></a>Cached Pcell data is updated even when referenced data, such as an attached technology library, is updated. However, such an update may not necessarily update the supermaster&#8217;s timestamp. In such situations, you are advised to refresh the cache data on the disk by using the Express Pcell Manager.</li><li>
<a id="pgfId-1040417"></a>You might need to save the design even if no changes are made to the design to allow the cached data to be updated on disk in the <code>.expressPcells</code> directory.</li><li>
<a id="pgfId-1040418"></a>Opening just the top-level layout (Display Options <em>Stop Level</em> set to <code>0</code>) for the first time does not evaluate Pcells in the hierarchy. Therefore, no cache data is created for them.</li></ol>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042807"></a>The <code>.xpcCache</code> directory is automatically created with write permission inside the <code>.expressPcells</code> directory. Any user trying to read the cache should also have write permission in the <code>.xpcCache</code> directory.</div>

<h3>
<a id="pgfId-1060987"></a><a id="85838"></a>Maintaining the <a id="xPcellMaintainPDKVersion"></a>PDK Version in the Express Pcell Cache</h3>

<p>
<a id="pgfId-1062222"></a>The Express Pcell cache is PDK version-aware and can notify users if the Pcells currently in the cache are out of date or not. This lets you keep the cache current whenever the PDK version is updated during a particular design cycle.</p>
<p>
<a id="pgfId-1062575"></a>To use this feature, the CAD engineer or PDK developer must define the following library version SKILL variable in the <code>libInit.il</code> of the PDK in question:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1062742"></a>    xPcell_Version_<code><em>PDK</em></code> = &quot;<code><em>version</em></code>&quot;</pre>

<p>
<a id="pgfId-1062777"></a>Where <span class="webflare-courier-new" style="white-space:pre"><em>PDK</em></span> is the name of the PDK in question and <span class="webflare-courier-new" style="white-space:pre"><em>version</em></span> is any unique string value used to identify the version. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1062930"></a>    xPcell_Version_gpdk045 = &quot;3.0&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1062947"></a>    xPcell_Version_gpdk028 = &quot;2.0a&quot;</pre>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1062967"></a>
The CAD engineer or PDK developer must ensure that the library version SKILL variable is updated for each new PDK release, otherwise Virtuoso will be unable to correctly recognize different versions.</div>

<p>
<a id="pgfId-1061011"></a>The table below shows the behavior of each cache operation when <code>xPcell_Version_</code><span class="webflare-courier-new" style="white-space:pre"><em>PDK</em></span> does not match the version found in the existing cache.</p>
<table class="webflareTable" id="#id1061289">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1063321">
<a id="pgfId-1063321"></a>Operation</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1063323">
<a id="pgfId-1063323"></a>Behavior</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063339"></a>Read cache</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063341"></a>Cache not read (Pcell will be evaluated)<br />CIW warning to update cache</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063343"></a>dbSavePcellCache()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063345"></a>Cache not saved<br />CIW warning to update cache</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063325"></a>dbSavePcellCacheForCV()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063327"></a>Cache not saved<br />CIW warning to update cache</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063330"></a>dbSavePcellCacheForCVOnly()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063553"></a>Cache not saved<br />CIW warning to update cache</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063334"></a>dbUpdatePcellCache()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063336"></a>Cache updated</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063427"></a>dbClearPcellCache()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1063429"></a>Cache cleared</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1066777"></a>The <code>CDS_EXP_PCELL_MISMATCHED_PDK_POPUP</code> environment variable controls the display of a pop-up window when <code>xPcell_Version_PDK</code> does not match the version found in the existing cache. When this environment variable is set to <code>true</code>, the following pop-up window opens informing you the mismatch between the version of the library and the version of Express Pcell stored in the cache.</p>

<p>
<a id="pgfId-1068820"></a></p>
<div class="webflare-div-image">
<img width="668" height="179" src="images/expressPcells-7.gif" /></div>

<p>
<a id="pgfId-1066914"></a>Select <em>Do not show this message again</em> to disable the pop-up window for the entire Virtuoso session, and close the window to proceed. </p>
<b>Note:</b><br />
<a id="pgfId-1068812"></a>
<ul><li>
<a id="pgfId-1063598"></a>When there is a version mismatch, one warning is generated for each PDK, not for each individual submaster.</li><li>
<a id="pgfId-1063594"></a>If the <code>xPcell_Version_</code><span class="webflare-courier-new" style="white-space:pre"><em>PDK</em></span> variable is not defined for a PDK, the default is taken as &quot; &quot; (empty string).</li></ul>


<h3>
<a id="pgfId-1059845"></a><a id="47103"></a>Enabling Express <a id="xPcellEnableCacheByLib"></a>Pcells for Specific Libraries</h3>

<p>
<a id="pgfId-1064017"></a>The Express Pcell framework lets you specify which libraries are included/excluded for cache operations.</p>
<p>
<a id="pgfId-1064722"></a>This allows you to disable cache operations for dynamic reference libraries containing Pcells that are edited and optimized regularly but for which supermasters are not recompiled. Excluding such libraries from cache operations means that Pcells from these libraries are evaluated every time a design is opened, ensuring that the latest version of the Pcell is always used in the design in question.</p>
<p>
<a id="pgfId-1059851"></a>To use this feature, the CAD engineer or PDK developer must define the following library inclusion SKILL variable in the <code>libInit.il</code> of the PDK in question:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1059853"></a>    xPcell_Enable_<code><em>libName</em></code> = t | nil</pre>

<p>
<a id="pgfId-1059855"></a>Where:</p>
<table class="webflareTable" id="#id1063959">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064984"></a><span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064986"></a>The library name.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1059959"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1059961"></a>The library is included for cache operations.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1059963"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1059965"></a>The library is excluded from cache operations.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1059967"></a><span class="webflare-courier-new" style="white-space:pre"><em>&lt;undefined&gt;</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1059969"></a>The library is included for cache operations.</p>

<p>
<a id="pgfId-1059857"></a>This ensures that the default behavior is not disrupted for libraries that do not have the SKILL variable set. Such libraries continue to be included in Express Pcell cache operations by default.</p>

</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1059863"></a>
To reverse this behavior and exclude libraries that do not have the SKILL variable set from Pcell cache operations by default, set the following shell environment variable before you launch Virtuoso:
<code>setenv CDS_XPCELL_LIB_EXCLUSION
</code>When set, libraries for which the SKILL variable is undefined are <em>excluded</em> by default.</div>

<p>
<a id="pgfId-1065096"></a>The table below shows the behavior of cache operations when <code>xPcell_Enable_</code><span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span><code> = nil</code> for a library.</p>
<table class="webflareTable" id="#id1065225">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1065227">
<a id="pgfId-1065227"></a>Operation</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1065229">
<a id="pgfId-1065229"></a>Behavior</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065231"></a>Read cache</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065233"></a>Cache not read (Pcell will be evaluated)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065235"></a>dbSavePcellCache()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065237"></a>Cache not saved</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065239"></a>dbSavePcellCacheForCV()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065241"></a>Cache not saved</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065243"></a>dbSavePcellCacheForCVOnly()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065245"></a>Cache not saved</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065247"></a>dbUpdatePcellCache()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065249"></a>Cache updated</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065251"></a>dbClearPcellCache()</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1065253"></a>Cache cleared</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1059874"></a><a id="53385"></a>User Control to Override the Inclusion and Exclusion of Libraries</h4>

<p>
<a id="pgfId-1059876"></a>You can override the value of the <code>xPcell_Enable_</code><span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span> variable for individual libraries by specifying a user-defined library filter file before you launch Virtuoso:</p>
<p>
<a id="pgfId-1059878"></a><code>setenv CDS_XPCELL_LIB_FILTER_FILE &quot;</code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span><code>&quot;</code></p>
<p>
<a id="pgfId-1059880"></a>Where<span class="webflare-courier-new" style="white-space:pre"><em> filename</em></span> refers to a simple ASCII file of the following format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1059882"></a>    ;libName&#160;&#160;&#160;&#160;    value
    gpdk045&#160;&#160;&#160;&#160;     t
    ref_RC      nil
    ref_L       nil&#160;&#160;&#160;&#160;</pre>

<p>
<a id="pgfId-1059887"></a>Only the libraries defined in the list are impacted. Where there is a conflict, the value specified in the user-defined filter file takes precedence.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1059889"></a>
You must set the shell environment variable before invoking Virtuoso to obtain your required behavior.</div>
<h3>
<a id="pgfId-1040135"></a><a id="34743"></a>Installing the Express Pcell Plug-In for Non-Virtuoso or Third Party Applications</h3>

<p>
<a id="pgfId-1040136"></a>The <code>cdsSkillPcell.plg</code> and <code>libcdsSkillPcell.so</code> files required for the installation of the plug-in on OpenAccess, are at the following locations:</p>
<ul><li>
<a id="pgfId-1040648"></a><code>cdsSkillPcell.plg</code> file: Description file of the plug-in as required by OpenAccess<br />
<a id="pgfId-1040649"></a><strong>Location:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>&lt;install_dir&gt;</em></span><em>/</em><code>tools.</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;platform&gt;</em></span><em>/</em><code>c</code>dsSkillPcell/plugin/cdsSkillPcell.plg<br />
<a id="pgfId-1040229"></a>For Virtuoso and Innovus, the OpenAccess installation contains the <code>cdsSkillPcell.plg</code> file in the <span class="webflare-courier-new" style="white-space:pre"><em>&lt;install_dir&gt;</em></span><code>/share/oa/data/plugins</code> directory.</li><li>
<a id="pgfId-1040161"></a><code>libcdsSkillPcell.so</code> file: Shared library<br />
<a id="pgfId-1042100"></a><strong>Location:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>&lt;install_dir&gt;</em></span><em>/</em><code>tools.</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;platform&gt;</em></span><em>/</em><code>cdsSkillPcell/lib/libcdsSkillPcell.so</code></li></ul>




<p>
<a id="pgfId-1042102"></a>For the successful use of the plug-in by any third party application, it is important to ensure the following:</p>
<ul><li>
<a id="pgfId-1040272"></a>Availability of <code>cdsSkillPcell.plg</code> in the <span class="webflare-courier-new" style="white-space:pre"><em>&lt;OA_Installation&gt;</em></span><em>/</em><code>data/plugins</code> directory</li><li>
<a id="pgfId-1040273"></a>Inclusion of <code>libcdsSkillPcell.so</code> in the library search path, such as <code>$LD_LIBRARY_PATH</code>, of the respective operating system</li><li>
<a id="pgfId-1040746"></a>Inclusion of the path of <code>cdslmd</code> in <code>$PATH</code> (<code>cdslmd</code> exists in the <span class="webflare-courier-new" style="white-space:pre"><em>&lt;install_dir&gt;</em></span><em>/</em><code>tools/bin</code> directory)</li><li>
<a id="pgfId-1042109"></a>Express Pcell Plugin (<code>libcdsSkillPcell.so</code>) has a dependency on <code>libcdsCommon_sh.so</code> and <code>libcls_sh.so</code> shared libraries. These libraries are available in the cdsCommon kit or can be copied from the <span class="webflare-courier-new" style="white-space:pre"><em>&lt;cadence_installation_hierarchy&gt;</em></span><code>/tools/lib</code> directory. These libraries must be present in the library search path (<code>LD_LIBRARY_PATH/LIBPATH</code>), which is visible to the application using the plug-in. You can also add <span class="webflare-courier-new" style="white-space:pre"><em>&lt;cadence_installation_hierarchy&gt;</em></span><code>/tools/lib</code> in their library search path to achieve this.</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042047"></a>Some third party applications do not honor the external library search path <code>(LD_LIBRARY_PATH/LIBPATH)</code> because they define their own library search path internally. In such cases, you can copy the desired <code>libcdsCommon_sh.so</code> and <code>libcls_sh.so</code> shared libraries in the <span class="webflare-courier-new" style="white-space:pre"><em>&lt;OA_HOME_Installation&gt;</em></span><code>/lib/</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;platform_port&gt;</em></span><code>/opt</code> directory. This ensures the smooth working of third party applications with the Express Pcell functionality.</div>

<h2>
<a id="pgfId-1042902"></a><a id="77476"></a>Cache Me<a id="cachemerge"></a>rge Utility</h2>

<p>
<a id="pgfId-1044824"></a>The cache merge utility collects and merges the contents of multiple Pcell caches located in different directories into a single Pcell cache. This is useful when members of a project team working on the same set of PDKs and reference libraries work from multiple project sites. In such a scenario, this utility can be used to consolidate submasters stored at various locations into a single destination cache directory. This eliminates repetition of submaster data, thereby reducing the disk space used and the Pcell read time for individual team members.</p>
<p>
<a id="pgfId-1045617"></a>The <code>cds.lib</code> file must contain entries for all of the reference libraries used by all the caches that are to be merged. However, where two or more caches are using the same reference library, you must ensure that the reference libraries are synchronized.</p>

<h3>
<a id="pgfId-1044844"></a>Preventing Data Inconsistencies</h3>

<p>
<a id="pgfId-1045433"></a>Data inconsistencies can arise in the following cases:</p>
<ul><li>
<a id="pgfId-1045434"></a>The timestamps stored for a supermaster are different in different locations.

In this case, the cache merge utility does not merge the submasters of that supermaster and issues an error message stating that the data across multiple locations or directories is inconsistent and needs to be regenerated at each location by using the correct supermaster or PDK version.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045436"></a>You can use the Express Pcell Manager to regenerate caches.</div></li><li>
<a id="pgfId-1045476"></a>The timestamps stored for a supermaster are the same, but different PDK versions are used across locations.

In this case, the cache merge utility cannot determine if different PDK versions are used. Therefore, you must ensure that you use the cache merge utility only for those projects that use the same PDK version across locations. You can also develop your own utilities or processes based on your data setup to track any such inconsistency.<br /><div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1051387"></a>
Do not share the xPcell cache between different PDK versions. If you want to share the xPcell cache between different PDK versions, recompile/regenerate all the affected supermasters.</div></li></ul>




<h3>
<a id="pgfId-1044404"></a>xpc<a id="xpcmerge"></a>merge Command Line Utility</h3>

<p>
<a id="pgfId-1044564"></a>Use the <code>xpcmerge</code> command to merge the contents of multiple caches to a specified destination cache. If the destination Pcell cache contains any data, by default the merged data is appended to the destination cache data. You can choose to delete any existing data stored in the destination Pcell cache before writing the merged data to the new cache.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1058053"></a>This utility requires a <code>cds.lib</code> specifying the paths of PDKs and libraries. If the utility detects a PDK version mismatch for a Pcell, the corresponding supermasters and submasters are removed from the merged cache. If a PDK mismatch is detected for a library, no merge happens for that library and a warning message is issued.</div>

<h4>
<a id="pgfId-1043496"></a>Arguments</h4>
<table class="webflareTable" id="#id1045098">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1045100"></a><code>-dest </code><span class="webflare-courier-new" style="white-space:pre"><em>xPcellDir</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066282"></a>     </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066284"></a>Specifies the name of the destination Pcell cache.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1045104"></a><code>-src </code><span class="webflare-courier-new" style="white-space:pre"><em>xPcellDir1</em></span><code> [ </code><span class="webflare-courier-new" style="white-space:pre"><em>xPcellDir2 xPcellDirN</em></span><code> ... ]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056886"></a>     </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1045106"></a>Specifies the names of multiple source Pcell caches.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1045108"></a><code>-log </code><span class="webflare-courier-new" style="white-space:pre"><em>logFileName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066309"></a>     </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066311"></a>Specifies a relative or absolute path to a log file. See <a href="expressPcells.html#27357">Sample Log File Format</a> for details.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1045112"></a><code>-noDestMerge</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066335"></a>     </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1066337"></a>Deletes any existing data in the destination Pcell cache before the merged data is written to the destination Pcell cache.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1043694"></a>Example 1</h4>
<a id="pgfId-1043713"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
xpcmerge -dest /hm/user1/.expressPcell -src /hm/user2/.expressPcell</pre>

<p>
<a id="pgfId-1044679"></a>Appends the contents of the source Express Pcell cache <code>/hm/user2/.expressPcell</code> to the destination Express Pcell cache <code>/hm/user1/.expressPcell</code>. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045670"></a>In this example, if you use the <code>-noDestMerge</code> option, then the <code>xpcmerge</code> command will exit and an error message will be displayed.</div>

<h4>
<a id="pgfId-1044680"></a>Example 2</h4>
<a id="pgfId-1043787"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
xpcmerge -dest /hm/user1/.expressPcell -src /hm/user2/.expressPcell ../india/.expressPcell -noDestMerge -log /hm/admin1/logs/cacheMerge.log</pre>

<p>
<a id="pgfId-1045003"></a>Merges the contents of the two source Pcell caches, <code>/hm/user2/.expressPcell</code> and <code>../india/.expressPcell</code>. Because the <code>-noDestMerge</code> option is specified, the contents of the destination directory, <code>/hm/user1/.expressPcell</code>, are deleted before the merged content is written to the destination directory. </p>
<p>
<a id="pgfId-1045004"></a>In addition, the <code>/hm/admin1/logs/cacheMerge.log</code> file is created and the following information is written to it.</p>
<ul><li>
<a id="pgfId-1045041"></a>Arguments passed to the cache merge utility</li><li>
<a id="pgfId-1045062"></a>Information about the supermasters and submasters</li><li>
<a id="pgfId-1045071"></a>Appropriate error and warning messages if the merge operation did not run successfully</li><li>
<a id="pgfId-1045080"></a>Merge completion status</li></ul>




<h3>
<a id="pgfId-1043072"></a><a id="27357"></a>Sample Log File Format</h3>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068931"></a></pre>
<div class="webflare-div-image">
<img width="646" height="444" src="images/expressPcells-9.gif" /></div>
<h3>
<a id="pgfId-1068935"></a><a id="12622"></a>Environment Variable to Control Express Pcell Proliferation Message</h3>

<p>
<a id="pgfId-1070741"></a>When Express Pcell is not enabled and your design activity involves a large number of Pcells, you will see the following Express Pcell Proliferation message.</p>

<p>
<a id="pgfId-1069673"></a></p>
<div class="webflare-div-image">
<img width="668" height="170" src="images/expressPcells-10.gif" /></div>

<p>
<a id="pgfId-1070795"></a>Selecting the <em>Do not show this message again</em> check box sets the value of the <code>disableProliferationMsg</code> environment variable to <code>t</code> in the .cdsenv file and prevents this message box from being displayed during further Virtuoso sessions.</p>
<p>
<a id="pgfId-1070797"></a>You can also define the following environment variable in the .cdsenv file:</p>

<a id="pgfId-1070798"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
xpcell disableProliferationMsg boolean { t | nil }</pre>

<p>
<a id="pgfId-1070800"></a>This environment variable lets you specify whether this message box should be displayed. The default is <code>nil</code>, which means that the message box is displayed. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070802"></a>It is recommended to set this environment variable in .cdsenv file only. You cannot use the <code>envSetVal</code> command in CIW to change the value of this environment variable.</div>

<h3>
<a id="pgfId-1071274"></a><a id="31334"></a>Exclude Specified <a id="excludePcell"></a>Pcells from the Express Pcell Save or Read Operation</h3>

<p>
<a id="pgfId-1071310"></a>You can use the following methods to exclude specified Pcells from the Express Pcell cache during the save or read operation:</p>
<ul><li>
<a id="pgfId-1071311"></a><strong>Specify Property String</strong><br />
<a id="pgfId-1073612"></a>Add a string property in the Pcell master as part of the Pcell code. <br />
<a id="pgfId-1072197"></a><strong>Example</strong><pre class="webflare-pre-block webflare-courier-new" id="#id1072198">
<a id="pgfId-1072198"></a>procedure( myPcellCreate( libName cellName viewName)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072199">
<a id="pgfId-1072199"></a>pcDefinePCell(</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072200">
<a id="pgfId-1072200"></a>        list(ddGetObj(libName) cellName viewName)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072201">
<a id="pgfId-1072201"></a>        (</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072202">
<a id="pgfId-1072202"></a>            (length &quot;int&quot; 6)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072203">
<a id="pgfId-1072203"></a>            </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072204">
<a id="pgfId-1072204"></a>        )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072205">
<a id="pgfId-1072205"></a>        let((cv)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072206">
<a id="pgfId-1072206"></a>            cv = pcCellView</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072207">
<a id="pgfId-1072207"></a>            dbCreateRect(cv list(&quot;M1&quot; &quot;drawing&quot;) list(0:0 length:2))</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072208">
<a id="pgfId-1072208"></a>            ; Add &quot;xPcellExcluded&quot; string property in layout/layout.oa</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072209">
<a id="pgfId-1072209"></a>            dbReplaceProp(cv &quot;xPcellExcluded&quot; &quot;string&quot; &quot;This Pcell is excluded from Express Pcell operation.&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072210">
<a id="pgfId-1072210"></a>    ) ;let</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072211">
<a id="pgfId-1072211"></a>);</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1072212">
<a id="pgfId-1072212"></a>)</pre>
<a id="pgfId-1071319"></a>Here, <code>xPcellExcluded</code> is a property of type <code>string</code>. It is used to exclude the specified Pcells from cache operations. The value of this string property does not matter.</li><li>
<a id="pgfId-1075622"></a><strong>Define cell exclusion SKILL list</strong> <br />
<a id="pgfId-1076137"></a>Define the cell exclusion SKILL variable <code>xPcell_Excluded_</code><span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span> which is used to specify the list of Pcells in the <code>libInit.il</code> of the respective library.<br />
<a id="pgfId-1076138"></a>Here <span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span> is the name of the library for which cells must be excluded.<br />
<a id="pgfId-1075759"></a>Lets consider a library <code>testLib</code>. You can exclude cells or views by defining the list in the following formats.<ul><li>
<a id="pgfId-1072107"></a><strong>Specify Cells</strong><br />
<a id="pgfId-1073809"></a>Define a list of cell names to be excluded. When you use this method, all cellviews corresponding to the specified cells are excluded from the Express Pcell operation. <br />
<a id="pgfId-1071884"></a><code>xPcell_Excluded_testLib = &#39;(</code><span class="webflare-courier-new" style="white-space:pre"><em>t_cellNames</em></span><code>)</code><br />
<a id="pgfId-1071328"></a>For example, <code>xPcell_Excluded_testLib = &#39;(&quot;cell1&quot; &quot;cell2&quot; &quot;cells3&quot;)</code><br />
<a id="pgfId-1071328"></a>In this example, all cellviews corresponding to the cells <code>cell1</code>, <code>cell2</code>, and <code>cell2</code> are excluded from <code>testLib/cell1</code>, <code>testLib/cell2</code> and <code>testLib/cell3</code>.</li><li>
<a id="pgfId-1073821"></a><strong>Specify Cellviews</strong><br />
<a id="pgfId-1071332"></a>Define a list of cells to exclude all its cellviews. Additionally, define a list of cellviews for the specific cells to be excluded.<br />
<a id="pgfId-1072471"></a><code>xPcell_Excluded_testLib = &#39;(&#39;(</code><span class="webflare-courier-new" style="white-space:pre"><em>t_cellNames</em></span><code>) | &#39;(</code><span class="webflare-courier-new" style="white-space:pre"><em>t_cellNames t_viewNames</em></span><code>))</code><br />
<a id="pgfId-1072465"></a>For example, <pre class="webflare-pre-block webflare-courier-new" id="#id1071333">
<a id="pgfId-1071333"></a>xPcell_Excluded_testLib = &#39;((&quot;cell1&quot;) (&quot;cell2&quot; &quot;layout1&quot;) (&quot;cell2&quot; &quot;layout2&quot;) (&quot;cell3&quot; &quot;layout1&quot;))</pre>
<a id="pgfId-1071334"></a>In this example, following cellviews will be excluded:<ul><li>
<a id="pgfId-1071335"></a>All cellviews in <code>testLib/cell1.</code></li><li>
<a id="pgfId-1071336"></a>Cellviews <code>testLib/cell2/layout1</code>, <code>testLib/cell2/layout2</code>, and <code>testLib/cell3/layout1</code>.</li></ul></li><li>
<a id="pgfId-1073842"></a><strong>Specify cellviews to be excluded for the specified cells</strong><br />
<a id="pgfId-1072806"></a>Define a list of cell names to exclude all related cellviews. Additionally, specify the specific views that should be excluded for the specified cells. <br />
<a id="pgfId-1072779"></a><code>xPcell_Excluded_testLib = &#39;(&#39;(</code><span class="webflare-courier-new" style="white-space:pre"><em>t_cellNames</em></span><code> ) | &#39;(</code><span class="webflare-courier-new" style="white-space:pre"><em>t_cellNames</em></span><code> &#39;(</code><span class="webflare-courier-new" style="white-space:pre"><em>t_viewNames</em></span><code>)))</code><br />
<a id="pgfId-1073865"></a>For example, <pre class="webflare-pre-block webflare-courier-new" id="#id1071339">
<a id="pgfId-1071339"></a>xPcell_Excluded_testLib = &#39;((&quot;cell1&quot;) (&quot;cell2&quot; (&quot;layout1&quot; &quot;layout2&quot;)) (&quot;cell3&quot; (&quot;layout1&quot;)))</pre>
<a id="pgfId-1073019"></a>In this example, following cellviews will be excluded:<ul><li>
<a id="pgfId-1071341"></a>All cellview of <code>testLib/cell1</code></li><li>
<a id="pgfId-1073057"></a>Cellviews <code>testLib/cell2/layout1</code> and <code>testLib/cell2/layout2</code></li><li>
<a id="pgfId-1071343"></a>Cellview <code>testLib/cell3/layout1</code></li></ul><br />
<a id="pgfId-1073184"></a>You can use any of the list formats as per your requirement.</li></ul></li></ul>





















































<p>
<a id="pgfId-1073568"></a>While specifying Pcell masters to be excluded during save and read operations, you can use both property string and cell exclusion SKILL list methods. In this case, Pcells masters specified by both methods are excluded. </p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="debugskillPcells.html" id="prev" title="Debugging SKILL Pcells">Debugging SKILL Pcells</a></em></b><b><em><a href="AppA.html" id="nex" title="Graphical Pcells Form Descriptions">Graphical Pcells Form Descript ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2023, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
 

 <div id="cad_image_modal" style="background-color: rgba(0, 0, 0, 0.6);"><center id="cad_image_modal_center">&#160; </center><span style="margin-right:50px;margin-top:100px;font-weight:bold;font-size:20px;background:#e5e5e5;border:1px solid #e5e5e5;border-radius:25px;height:30px;width:20px;padding-left:6px;padding-top:2px;color: black;" onclick="document.querySelector('#cad_image_modal').classList.remove('opac');">X</span></div> 

</body></html>